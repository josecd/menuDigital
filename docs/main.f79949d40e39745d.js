(self.webpackChunkmenuDigital=self.webpackChunkmenuDigital||[]).push([[179],{6304:(wt,ke,V)=>{"use strict";V.d(ke,{Dh:()=>Be,GT:()=>he,cc:()=>Fe,hO:()=>We,on:()=>q,pX:()=>me,xv:()=>we});var l=V(5879),oe=V(120),j=V(2793);wt=V.hmd(wt);const se=["ngOnDestroy"],me=(Le,Ct,Et,_e={})=>new Proxy(Le,{get:(Te,de)=>Et.runOutsideAngular(()=>{var Ae;if(Le[de])return!(null===(Ae=_e?.spy)||void 0===Ae)&&Ae.get&&_e.spy.get(de,Le[de]),Le[de];if(se.indexOf(de)>-1)return()=>{};const je=Ct.toPromise().then(fe=>{const ne=fe&&fe[de];return"function"==typeof ne?ne.bind(fe):ne&&ne.then?ne.then(qe=>Et.run(()=>qe)):Et.run(()=>ne)});return new Proxy(()=>{},{get:(fe,ne)=>je[ne],apply:(fe,ne,qe)=>je.then(tt=>{var hn;const Vn=tt&&tt(...qe);return!(null===(hn=_e?.spy)||void 0===hn)&&hn.apply&&_e.spy.apply(de,qe,Vn),Vn})})})}),he=(Le,Ct)=>{Ct.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(_e=>{Object.defineProperty(Le.prototype,_e,Object.getOwnPropertyDescriptor(Et.prototype||Et,_e))})})};class ue{constructor(Ct){return Ct}}const Be=new l.OlP("angularfire2.app.options"),we=new l.OlP("angularfire2.app.name");function q(Le,Ct,Et){const Te="object"==typeof Et&&Et||{};Te.name=Te.name||"string"==typeof Et&&Et||"[DEFAULT]";const Ae=oe.Z.apps.filter(je=>je&&je.name===Te.name)[0]||Ct.runOutsideAngular(()=>oe.Z.initializeApp(Le,Te));try{JSON.stringify(Le)!==JSON.stringify(Ae.options)&&K("error",`${Ae.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(Ae)}const K=(Le,...Ct)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Le](...Ct)},z={provide:ue,useFactory:q,deps:[Be,l.R0b,[new l.FiY,we]]};let We=(()=>{class Le{constructor(Et){oe.Z.registerVersion("angularfire",j.q4.full,"core"),oe.Z.registerVersion("angularfire",j.q4.full,"app-compat"),oe.Z.registerVersion("angular",l.q4F.full,Et.toString())}static initializeApp(Et,_e){return{ngModule:Le,providers:[{provide:Be,useValue:Et},{provide:we,useValue:_e}]}}}return Le.\u0275fac=function(Et){return new(Et||Le)(l.LFG(l.Lbi))},Le.\u0275mod=l.oAB({type:Le}),Le.\u0275inj=l.cJS({providers:[z]}),Le})();function Fe(Le,Ct,Et,_e,Te){const[,de,Ae]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Le)||[];if(de)return function rt(Le,Ct){try{return Le.toString()===Ct.toString()}catch{return Le===Ct}}(Te,Ae)||(Ye("error",`${Ct} was already initialized on the ${Et} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:Te,was:Ae})),de;{const je=_e();return globalThis.\u0275AngularfireInstanceCache.push([Le,je,Te]),je}}const Ue=!!wt.hot,Ye=(Le,...Ct)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Le](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(wt,ke,V)=>{"use strict";V.d(ke,{q4:()=>ko,iC:()=>vh,fc:()=>iu,HU:()=>_h,vb:()=>rl,JM:()=>_c});var l=V(5879),oe=V(4097),j=V(5861),se=V(4303),me=V(9058),he=V(4537),ue=V(7879);const Be=(E,k)=>k.some(P=>E instanceof P);let we,q;const We=new WeakMap,Fe=new WeakMap,rt=new WeakMap,Ue=new WeakMap,Ye=new WeakMap;let Et={get(E,k,P){if(E instanceof IDBTransaction){if("done"===k)return Fe.get(E);if("objectStoreNames"===k)return E.objectStoreNames||rt.get(E);if("store"===k)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Ae(E[k])},set:(E,k,P)=>(E[k]=P,!0),has:(E,k)=>E instanceof IDBTransaction&&("done"===k||"store"===k)||k in E};function de(E){return"function"==typeof E?function Te(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...k){return E.apply(je(this),k),Ae(We.get(this))}:function(...k){return Ae(E.apply(je(this),k))}:function(k,...P){const U=E.call(je(this),k,...P);return rt.set(U,k.sort?k.sort():[k]),Ae(U)}}(E):(E instanceof IDBTransaction&&function Ct(E){if(Fe.has(E))return;const k=new Promise((P,U)=>{const ee=()=>{E.removeEventListener("complete",ce),E.removeEventListener("error",Ce),E.removeEventListener("abort",Ce)},ce=()=>{P(),ee()},Ce=()=>{U(E.error||new DOMException("AbortError","AbortError")),ee()};E.addEventListener("complete",ce),E.addEventListener("error",Ce),E.addEventListener("abort",Ce)});Fe.set(E,k)}(E),Be(E,function K(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Et):E)}function Ae(E){if(E instanceof IDBRequest)return function Le(E){const k=new Promise((P,U)=>{const ee=()=>{E.removeEventListener("success",ce),E.removeEventListener("error",Ce)},ce=()=>{P(Ae(E.result)),ee()},Ce=()=>{U(E.error),ee()};E.addEventListener("success",ce),E.addEventListener("error",Ce)});return k.then(P=>{P instanceof IDBCursor&&We.set(P,E)}).catch(()=>{}),Ye.set(k,E),k}(E);if(Ue.has(E))return Ue.get(E);const k=de(E);return k!==E&&(Ue.set(E,k),Ye.set(k,E)),k}const je=E=>Ye.get(E),qe=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],hn=new Map;function Vn(E,k){if(!(E instanceof IDBDatabase)||k in E||"string"!=typeof k)return;if(hn.get(k))return hn.get(k);const P=k.replace(/FromIndex$/,""),U=k!==P,ee=tt.includes(P);if(!(P in(U?IDBIndex:IDBObjectStore).prototype)||!ee&&!qe.includes(P))return;const ce=function(){var Ce=(0,j.Z)(function*(ct,...it){const It=this.transaction(ct,ee?"readwrite":"readonly");let Zt=It.store;return U&&(Zt=Zt.index(it.shift())),(yield Promise.all([Zt[P](...it),ee&&It.done]))[0]});return function(it){return Ce.apply(this,arguments)}}();return hn.set(k,ce),ce}!function _e(E){Et=E(Et)}(E=>({...E,get:(k,P,U)=>Vn(k,P)||E.get(k,P,U),has:(k,P)=>!!Vn(k,P)||E.has(k,P)}));const Nn="@firebase/installations",Yn="0.6.4",$n=1e4,_i=`w:${Yn}`,pe="FIS_v2",be="https://firebaseinstallations.googleapis.com/v1",xe=36e5,ot=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(E){return E instanceof me.ZR&&E.code.includes("request-failed")}function Fn({projectId:E}){return`${be}/projects/${E}/installations`}function St(E){return{token:E.token,requestStatus:2,expiresIn:Un(E.expiresIn),creationTime:Date.now()}}function pn(E,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,j.Z)(function*(E,k){const U=(yield k.json()).error;return ot.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Rn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ai(E){return qt.apply(this,arguments)}function qt(){return(qt=(0,j.Z)(function*(E){const k=yield E();return k.status>=500&&k.status<600?E():k})).apply(this,arguments)}function Un(E){return Number(E.replace("s","000"))}function Zn(){return(Zn=(0,j.Z)(function*({appConfig:E,heartbeatServiceProvider:k},{fid:P}){const U=Fn(E),ee=Rn(E),ce=k.getImmediate({optional:!0});if(ce){const It=yield ce.getHeartbeatsHeader();It&&ee.append("x-firebase-client",It)}const ct={method:"POST",headers:ee,body:JSON.stringify({fid:P,authVersion:pe,appId:E.appId,sdkVersion:_i})},it=yield ai(()=>fetch(U,ct));if(it.ok){const It=yield it.json();return{fid:It.fid||P,registrationStatus:2,refreshToken:It.refreshToken,authToken:St(It.authToken)}}throw yield pn("Create Installation",it)})).apply(this,arguments)}function Qi(E){return new Promise(k=>{setTimeout(k,E)})}const on=/^[cdef][\w-]{21}$/,xt="";function At(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const P=function Ft(E){return function ao(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return on.test(P)?P:xt}catch{return xt}}function Wt(E){return`${E.appName}!${E.appId}`}const sn=new Map;function li(E,k){const P=Wt(E);bo(P,k),function fn(E,k){const P=function mn(){return!Vi&&"BroadcastChannel"in self&&(Vi=new BroadcastChannel("[Firebase] FID Change"),Vi.onmessage=E=>{bo(E.data.key,E.data.fid)}),Vi}();P&&P.postMessage({key:E,fid:k}),function kr(){0===sn.size&&Vi&&(Vi.close(),Vi=null)}()}(P,k)}function bo(E,k){const P=sn.get(E);if(P)for(const U of P)U(k)}let Vi=null;const co="firebase-installations-database",Vo=1,Xi="firebase-installations-store";let Ji=null;function Se(){return Ji||(Ji=function fe(E,k,{blocked:P,upgrade:U,blocking:ee,terminated:ce}={}){const Ce=indexedDB.open(E,k),ct=Ae(Ce);return U&&Ce.addEventListener("upgradeneeded",it=>{U(Ae(Ce.result),it.oldVersion,it.newVersion,Ae(Ce.transaction))}),P&&Ce.addEventListener("blocked",()=>P()),ct.then(it=>{ce&&it.addEventListener("close",()=>ce()),ee&&it.addEventListener("versionchange",()=>ee())}).catch(()=>{}),ct}(co,Vo,{upgrade:(E,k)=>{0===k&&E.createObjectStore(Xi)}})),Ji}function J(E,k){return De.apply(this,arguments)}function De(){return(De=(0,j.Z)(function*(E,k){const P=Wt(E),ee=(yield Se()).transaction(Xi,"readwrite"),ce=ee.objectStore(Xi),Ce=yield ce.get(P);return yield ce.put(k,P),yield ee.done,(!Ce||Ce.fid!==k.fid)&&li(E,k.fid),k})).apply(this,arguments)}function et(E){return at.apply(this,arguments)}function at(){return(at=(0,j.Z)(function*(E){const k=Wt(E),U=(yield Se()).transaction(Xi,"readwrite");yield U.objectStore(Xi).delete(k),yield U.done})).apply(this,arguments)}function Tt(E,k){return En.apply(this,arguments)}function En(){return(En=(0,j.Z)(function*(E,k){const P=Wt(E),ee=(yield Se()).transaction(Xi,"readwrite"),ce=ee.objectStore(Xi),Ce=yield ce.get(P),ct=k(Ce);return void 0===ct?yield ce.delete(P):yield ce.put(ct,P),yield ee.done,ct&&(!Ce||Ce.fid!==ct.fid)&&li(E,ct.fid),ct})).apply(this,arguments)}function Z(E){return Y.apply(this,arguments)}function Y(){return Y=(0,j.Z)(function*(E){let k;const P=yield Tt(E.appConfig,U=>{const ee=function ie(E){return Yt(E||{fid:At(),registrationStatus:0})}(U),ce=function Pe(E,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(ot.create("app-offline"))};const P={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},U=function ye(E,k){return ut.apply(this,arguments)}(E,P);return{installationEntry:P,registrationPromise:U}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:Gt(E)}:{installationEntry:k}}(E,ee);return k=ce.registrationPromise,ce.installationEntry});return P.fid===xt?{installationEntry:yield k}:{installationEntry:P,registrationPromise:k}}),Y.apply(this,arguments)}function ut(){return ut=(0,j.Z)(function*(E,k){try{const P=yield function Gn(E,k){return Zn.apply(this,arguments)}(E,k);return J(E.appConfig,P)}catch(P){throw nt(P)&&409===P.customData.serverCode?yield et(E.appConfig):yield J(E.appConfig,{fid:k.fid,registrationStatus:0}),P}}),ut.apply(this,arguments)}function Gt(E){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,j.Z)(function*(E){let k=yield er(E.appConfig);for(;1===k.registrationStatus;)yield Qi(100),k=yield er(E.appConfig);if(0===k.registrationStatus){const{installationEntry:P,registrationPromise:U}=yield Z(E);return U||P}return k})).apply(this,arguments)}function er(E){return Tt(E,k=>{if(!k)throw ot.create("installation-not-found");return Yt(k)})}function Yt(E){return function vi(E){return 1===E.registrationStatus&&E.registrationTime+$n<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Ui(){return(Ui=(0,j.Z)(function*({appConfig:E,heartbeatServiceProvider:k},P){const U=function us(E,{fid:k}){return`${Fn(E)}/${k}/authTokens:generate`}(E,P),ee=function An(E,{refreshToken:k}){const P=Rn(E);return P.append("Authorization",function ur(E){return`${pe} ${E}`}(k)),P}(E,P),ce=k.getImmediate({optional:!0});if(ce){const It=yield ce.getHeartbeatsHeader();It&&ee.append("x-firebase-client",It)}const ct={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:_i,appId:E.appId}})},it=yield ai(()=>fetch(U,ct));if(it.ok)return St(yield it.json());throw yield pn("Generate Auth Token",it)})).apply(this,arguments)}function ya(E){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,j.Z)(function*(E,k=!1){let P;const U=yield Tt(E.appConfig,ce=>{if(!lo(ce))throw ot.create("not-registered");const Ce=ce.authToken;if(!k&&function Ii(E){return 2===E.requestStatus&&!function $a(E){const k=Date.now();return k<E.creationTime||E.creationTime+E.expiresIn<k+xe}(E)}(Ce))return ce;if(1===Ce.requestStatus)return P=function wo(E,k){return hs.apply(this,arguments)}(E,k),ce;{if(!navigator.onLine)throw ot.create("app-offline");const ct=function kd(E){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:k})}(ce);return P=function hr(E,k){return cn.apply(this,arguments)}(E,ct),ct}});return P?yield P:U.authToken}),Tl.apply(this,arguments)}function hs(){return(hs=(0,j.Z)(function*(E,k){let P=yield Vr(E.appConfig);for(;1===P.authToken.requestStatus;)yield Qi(100),P=yield Vr(E.appConfig);const U=P.authToken;return 0===U.requestStatus?ya(E,k):U})).apply(this,arguments)}function Vr(E){return Tt(E,k=>{if(!lo(k))throw ot.create("not-registered");return function xo(E){return 1===E.requestStatus&&E.requestTime+$n<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function cn(){return cn=(0,j.Z)(function*(E,k){try{const P=yield function kt(E,k){return Ui.apply(this,arguments)}(E,k),U=Object.assign(Object.assign({},k),{authToken:P});return yield J(E.appConfig,U),P}catch(P){if(!nt(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const U=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield J(E.appConfig,U)}else yield et(E.appConfig);throw P}}),cn.apply(this,arguments)}function lo(E){return void 0!==E&&2===E.registrationStatus}function ba(){return(ba=(0,j.Z)(function*(E){const k=E,{installationEntry:P,registrationPromise:U}=yield Z(k);return U?U.catch(console.error):ya(k).catch(console.error),P.fid})).apply(this,arguments)}function wa(){return wa=(0,j.Z)(function*(E,k=!1){const P=E;return yield function Fc(E){return Wr.apply(this,arguments)}(P),(yield ya(P,k)).token}),wa.apply(this,arguments)}function Wr(){return(Wr=(0,j.Z)(function*(E){const{registrationPromise:k}=yield Z(E);k&&(yield k)})).apply(this,arguments)}function ms(E){return ot.create("missing-app-config-values",{valueName:E})}const Lc="installations",If=E=>{const k=E.getProvider("app").getImmediate(),P=function Mr(E){if(!E||!E.options)throw ms("App Configuration");if(!E.name)throw ms("App Name");const k=["projectId","apiKey","appId"];for(const P of k)if(!E.options[P])throw ms(P);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(k);return{app:k,appConfig:P,heartbeatServiceProvider:(0,se._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Ls=E=>{const k=E.getProvider("app").getImmediate(),P=(0,se._getProvider)(k,Lc).getImmediate();return{getId:()=>function Fs(E){return ba.apply(this,arguments)}(P),getToken:ee=>function kl(E){return wa.apply(this,arguments)}(P,ee)}};(function Bs(){(0,se._registerComponent)(new he.wA(Lc,If,"PUBLIC")),(0,se._registerComponent)(new he.wA("installations-internal",Ls,"PRIVATE"))})(),(0,se.registerVersion)(Nn,Yn),(0,se.registerVersion)(Nn,Yn,"esm2017");const Vs="@firebase/remote-config",tr=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pt{constructor(k,P,U,ee){this.client=k,this.storage=P,this.storageCache=U,this.logger=ee}isCachedDataFresh(k,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-P,ee=U<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${ee}.`),ee}fetch(k){var P=this;return(0,j.Z)(function*(){const[U,ee]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(ee&&P.isCachedDataFresh(k.cacheMaxAgeMillis,U))return ee;k.eTag=ee&&ee.eTag;const ce=yield P.client.fetch(k),Ce=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Ce.push(P.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Ce),ce})()}}function Dn(E=navigator){return E.languages&&E.languages[0]||E.language}class pr{constructor(k,P,U,ee,ce,Ce){this.firebaseInstallations=k,this.sdkVersion=P,this.namespace=U,this.projectId=ee,this.apiKey=ce,this.appId=Ce}fetch(k){var P=this;return(0,j.Z)(function*(){const[U,ee]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},it={sdk_version:P.sdkVersion,app_instance_id:U,app_instance_id_token:ee,app_id:P.appId,language_code:Dn()},It={method:"POST",headers:ct,body:JSON.stringify(it)},Zt=fetch(Ce,It),zt=new Promise((or,Ds)=>{k.signal.addEventListener(()=>{const Jr=new Error("The operation was aborted.");Jr.name="AbortError",Ds(Jr)})});let ki;try{yield Promise.race([Zt,zt]),ki=yield Zt}catch(or){let Ds="fetch-client-network";throw"AbortError"===or?.name&&(Ds="fetch-timeout"),tr.create(Ds,{originalErrorMessage:or?.message})}let Pi=ki.status;const ra=ki.headers.get("ETag")||void 0;let Ai,oa;if(200===ki.status){let or;try{or=yield ki.json()}catch(Ds){throw tr.create("fetch-client-parse",{originalErrorMessage:Ds?.message})}Ai=or.entries,oa=or.state}if("INSTANCE_STATE_UNSPECIFIED"===oa?Pi=500:"NO_CHANGE"===oa?Pi=304:("NO_TEMPLATE"===oa||"EMPTY_CONFIG"===oa)&&(Ai={}),304!==Pi&&200!==Pi)throw tr.create("fetch-status",{httpStatus:Pi});return{status:Pi,eTag:ra,config:Ai}})()}}class Ya{constructor(k,P){this.client=k,this.storage=P}fetch(k){var P=this;return(0,j.Z)(function*(){const U=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(k,U)})()}attemptFetch(k,{throttleEndTimeMillis:P,backoffCount:U}){var ee=this;return(0,j.Z)(function*(){yield function _s(E,k){return new Promise((P,U)=>{const ee=Math.max(k-Date.now(),0),ce=setTimeout(P,ee);E.addEventListener(()=>{clearTimeout(ce),U(tr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,P);try{const ce=yield ee.client.fetch(k);return yield ee.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function ui(E){if(!(E instanceof me.ZR&&E.customData))return!1;const k=Number(E.customData.httpStatus);return 429===k||500===k||503===k||504===k}(ce))throw ce;const Ce={throttleEndTimeMillis:Date.now()+(0,me.$s)(U),backoffCount:U+1};return yield ee.storage.setThrottleMetadata(Ce),ee.attemptFetch(k,Ce)}})()}}class Us{constructor(k,P,U,ee,ce){this.app=k,this._client=P,this._storageCache=U,this._storage=ee,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mt(E,k){const P=E.target.error||void 0;return tr.create(k,{originalErrorMessage:P&&P?.message})}const Hi="app_namespace_store";class Pl{constructor(k,P,U,ee=function Qn(){return new Promise((E,k)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=U=>{k(Mt(U,"storage-open"))},P.onsuccess=U=>{E(U.target.result)},P.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Hi,{keyPath:"compositeKey"})}}catch(P){k(tr.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=k,this.appName=P,this.namespace=U,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var P=this;return(0,j.Z)(function*(){const U=yield P.openDbPromise;return new Promise((ee,ce)=>{const ct=U.transaction([Hi],"readonly").objectStore(Hi),it=P.createCompositeKey(k);try{const It=ct.get(it);It.onerror=Zt=>{ce(Mt(Zt,"storage-get"))},It.onsuccess=Zt=>{const zt=Zt.target.result;ee(zt?zt.value:void 0)}}catch(It){ce(tr.create("storage-get",{originalErrorMessage:It?.message}))}})})()}set(k,P){var U=this;return(0,j.Z)(function*(){const ee=yield U.openDbPromise;return new Promise((ce,Ce)=>{const it=ee.transaction([Hi],"readwrite").objectStore(Hi),It=U.createCompositeKey(k);try{const Zt=it.put({compositeKey:It,value:P});Zt.onerror=zt=>{Ce(Mt(zt,"storage-set"))},Zt.onsuccess=()=>{ce()}}catch(Zt){Ce(tr.create("storage-set",{originalErrorMessage:Zt?.message}))}})})()}delete(k){var P=this;return(0,j.Z)(function*(){const U=yield P.openDbPromise;return new Promise((ee,ce)=>{const ct=U.transaction([Hi],"readwrite").objectStore(Hi),it=P.createCompositeKey(k);try{const It=ct.delete(it);It.onerror=Zt=>{ce(Mt(Zt,"storage-delete"))},It.onsuccess=()=>{ee()}}catch(It){ce(tr.create("storage-delete",{originalErrorMessage:It?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Hs{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,j.Z)(function*(){const P=k.storage.getLastFetchStatus(),U=k.storage.getLastSuccessfulFetchTimestampMillis(),ee=k.storage.getActiveConfig(),ce=yield P;ce&&(k.lastFetchStatus=ce);const Ce=yield U;Ce&&(k.lastSuccessfulFetchTimestampMillis=Ce);const ct=yield ee;ct&&(k.activeConfig=ct)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function vs(){return gr.apply(this,arguments)}function gr(){return(gr=(0,j.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function Ri(){(0,se._registerComponent)(new he.wA("remote-config",function E(k,{instanceIdentifier:P}){const U=k.getProvider("app").getImmediate(),ee=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tr.create("registration-window");if(!(0,me.hl)())throw tr.create("indexed-db-unavailable");const{projectId:ce,apiKey:Ce,appId:ct}=U.options;if(!ce)throw tr.create("registration-project-id");if(!Ce)throw tr.create("registration-api-key");if(!ct)throw tr.create("registration-app-id");const it=new Pl(ct,U.name,P=P||"firebase"),It=new Hs(it),Zt=new ue.Yd(Vs);Zt.logLevel=ue.in.ERROR;const zt=new pr(ee,se.SDK_VERSION,P,ce,Ce,ct),ki=new Ya(zt,it),Pi=new Pt(ki,it,It,Zt),ra=new Us(U,Pi,It,it,Zt);return function fr(E){const k=(0,me.m9)(E);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(ra),ra},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Vs,"0.4.4"),(0,se.registerVersion)(Vs,"0.4.4","esm2017")}();const Ea=(E,k)=>k.some(P=>E instanceof P);let ys,Kt;const jc=new WeakMap,bi=new WeakMap,bs=new WeakMap,Di=new WeakMap,Co=new WeakMap;let Si={get(E,k,P){if(E instanceof IDBTransaction){if("done"===k)return bi.get(E);if("objectStoreNames"===k)return E.objectStoreNames||bs.get(E);if("store"===k)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Rr(E[k])},set:(E,k,P)=>(E[k]=P,!0),has:(E,k)=>E instanceof IDBTransaction&&("done"===k||"store"===k)||k in E};function ws(E){return"function"==typeof E?function Za(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function js(){return Kt||(Kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...k){return E.apply(_r(this),k),Rr(jc.get(this))}:function(...k){return Rr(E.apply(_r(this),k))}:function(k,...P){const U=E.call(_r(this),k,...P);return bs.set(U,k.sort?k.sort():[k]),Rr(U)}}(E):(E instanceof IDBTransaction&&function nh(E){if(bi.has(E))return;const k=new Promise((P,U)=>{const ee=()=>{E.removeEventListener("complete",ce),E.removeEventListener("error",Ce),E.removeEventListener("abort",Ce)},ce=()=>{P(),ee()},Ce=()=>{U(E.error||new DOMException("AbortError","AbortError")),ee()};E.addEventListener("complete",ce),E.addEventListener("error",Ce),E.addEventListener("abort",Ce)});bi.set(E,k)}(E),Ea(E,function Df(){return ys||(ys=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Si):E)}function Rr(E){if(E instanceof IDBRequest)return function wi(E){const k=new Promise((P,U)=>{const ee=()=>{E.removeEventListener("success",ce),E.removeEventListener("error",Ce)},ce=()=>{P(Rr(E.result)),ee()},Ce=()=>{U(E.error),ee()};E.addEventListener("success",ce),E.addEventListener("error",Ce)});return k.then(P=>{P instanceof IDBCursor&&jc.set(P,E)}).catch(()=>{}),Co.set(k,E),k}(E);if(Di.has(E))return Di.get(E);const k=ws(E);return k!==E&&(Di.set(E,k),Co.set(k,E)),k}const _r=E=>Co.get(E);function zs(E,k,{blocked:P,upgrade:U,blocking:ee,terminated:ce}={}){const Ce=indexedDB.open(E,k),ct=Rr(Ce);return U&&Ce.addEventListener("upgradeneeded",it=>{U(Rr(Ce.result),it.oldVersion,it.newVersion,Rr(Ce.transaction))}),P&&Ce.addEventListener("blocked",()=>P()),ct.then(it=>{ce&&it.addEventListener("close",()=>ce()),ee&&it.addEventListener("versionchange",()=>ee())}).catch(()=>{}),ct}function $s(E,{blocked:k}={}){const P=indexedDB.deleteDatabase(E);return k&&P.addEventListener("blocked",()=>k()),Rr(P).then(()=>{})}const zc=["get","getKey","getAll","getAllKeys","count"],Ka=["put","add","delete","clear"],$c=new Map;function Nl(E,k){if(!(E instanceof IDBDatabase)||k in E||"string"!=typeof k)return;if($c.get(k))return $c.get(k);const P=k.replace(/FromIndex$/,""),U=k!==P,ee=Ka.includes(P);if(!(P in(U?IDBIndex:IDBObjectStore).prototype)||!ee&&!zc.includes(P))return;const ce=function(){var Ce=(0,j.Z)(function*(ct,...it){const It=this.transaction(ct,ee?"readwrite":"readonly");let Zt=It.store;return U&&(Zt=Zt.index(it.shift())),(yield Promise.all([Zt[P](...it),ee&&It.done]))[0]});return function(it){return Ce.apply(this,arguments)}}();return $c.set(k,ce),ce}!function ji(E){Si=E(Si)}(E=>({...E,get:(k,P,U)=>Nl(k,P)||E.get(k,P,U),has:(k,P)=>!!Nl(k,P)||E.has(k,P)}));const Rd="/firebase-messaging-sw.js",Gc="/firebase-cloud-messaging-push-scope",Fl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ih="https://fcmregistrations.googleapis.com/v1",Xn="google.c.a.c_id",Sf="google.c.a.c_l",rh="google.c.a.ts";var Pd=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Pd||{});function Eo(E){const k=new Uint8Array(E);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ll(E){const P=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(P),ee=new Uint8Array(U.length);for(let ce=0;ce<U.length;++ce)ee[ce]=U.charCodeAt(ce);return ee}const Gs="fcm_token_details_db",Qa=5,Xa="fcm_token_object_Store";function Ja(){return Ja=(0,j.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Gs))return null;let k=null;return(yield zs(Gs,Qa,{upgrade:(U=(0,j.Z)(function*(ee,ce,Ce,ct){var it;if(ce<2||!ee.objectStoreNames.contains(Xa))return;const It=ct.objectStore(Xa),Zt=yield It.index("fcmSenderId").get(E);if(yield It.clear(),Zt)if(2===ce){const zt=Zt;if(!zt.auth||!zt.p256dh||!zt.endpoint)return;k={token:zt.fcmToken,createTime:null!==(it=zt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:zt.auth,p256dh:zt.p256dh,endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:"string"==typeof zt.vapidKey?zt.vapidKey:Eo(zt.vapidKey)}}}else if(3===ce){const zt=Zt;k={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:Eo(zt.auth),p256dh:Eo(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:Eo(zt.vapidKey)}}}else if(4===ce){const zt=Zt;k={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:Eo(zt.auth),p256dh:Eo(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:Eo(zt.vapidKey)}}}}),function(ce,Ce,ct,it){return U.apply(this,arguments)})})).close(),yield $s(Gs),yield $s("fcm_vapid_details_db"),yield $s("undefined"),function qs(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:k}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var U}),Ja.apply(this,arguments)}const Hr="firebase-messaging-database",Nd=1,Zr="firebase-messaging-store";let Ti=null;function Ws(){return Ti||(Ti=zs(Hr,Nd,{upgrade:(E,k)=>{0===k&&E.createObjectStore(Zr)}})),Ti}function vr(E){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,j.Z)(function*(E){const k=Ia(E),U=yield(yield Ws()).transaction(Zr).objectStore(Zr).get(k);if(U)return U;{const ee=yield function pp(E){return Ja.apply(this,arguments)}(E.appConfig.senderId);if(ee)return yield Bl(E,ee),ee}}),Ys.apply(this,arguments)}function Bl(E,k){return ec.apply(this,arguments)}function ec(){return(ec=(0,j.Z)(function*(E,k){const P=Ia(E),ee=(yield Ws()).transaction(Zr,"readwrite");return yield ee.objectStore(Zr).put(k,P),yield ee.done,k})).apply(this,arguments)}function Zs(){return(Zs=(0,j.Z)(function*(E){const k=Ia(E),U=(yield Ws()).transaction(Zr,"readwrite");yield U.objectStore(Zr).delete(k),yield U.done})).apply(this,arguments)}function Ia({appConfig:E}){return E.appId}const Oi=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vl(E,k){return qc.apply(this,arguments)}function qc(){return(qc=(0,j.Z)(function*(E,k){const P=yield Ul(E),U=Tf(k),ee={method:"POST",headers:P,body:JSON.stringify(U)};let ce;try{ce=yield(yield fetch(ic(E.appConfig),ee)).json()}catch(Ce){throw Oi.create("token-subscribe-failed",{errorInfo:Ce?.toString()})}if(ce.error)throw Oi.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw Oi.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function nc(){return(nc=(0,j.Z)(function*(E,k){const P=yield Ul(E),U=Tf(k.subscriptionOptions),ee={method:"PATCH",headers:P,body:JSON.stringify(U)};let ce;try{ce=yield(yield fetch(`${ic(E.appConfig)}/${k.token}`,ee)).json()}catch(Ce){throw Oi.create("token-update-failed",{errorInfo:Ce?.toString()})}if(ce.error)throw Oi.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw Oi.create("token-update-no-token");return ce.token})).apply(this,arguments)}function Ks(E,k){return xs.apply(this,arguments)}function xs(){return(xs=(0,j.Z)(function*(E,k){const U={method:"DELETE",headers:yield Ul(E)};try{const ce=yield(yield fetch(`${ic(E.appConfig)}/${k}`,U)).json();if(ce.error)throw Oi.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(ee){throw Oi.create("token-unsubscribe-failed",{errorInfo:ee?.toString()})}})).apply(this,arguments)}function ic({projectId:E}){return`${ih}/projects/${E}/registrations`}function Ul(E){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,j.Z)(function*({appConfig:E,installations:k}){const P=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Tf({p256dh:E,auth:k,endpoint:P,vapidKey:U}){const ee={web:{endpoint:P,auth:k,p256dh:E}};return U!==Fl&&(ee.web.applicationPubKey=U),ee}const Bd=6048e5;function Hl(){return Hl=(0,j.Z)(function*(E){const k=yield function rc(E,k){return Zc.apply(this,arguments)}(E.swRegistration,E.vapidKey),P={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:k.endpoint,auth:Eo(k.getKey("auth")),p256dh:Eo(k.getKey("p256dh"))},U=yield vr(E.firebaseDependencies);if(U){if(function Ud(E,k){return k.vapidKey===E.vapidKey&&k.endpoint===E.endpoint&&k.auth===E.auth&&k.p256dh===E.p256dh}(U.subscriptionOptions,P))return Date.now()>=U.createTime+Bd?function oh(E,k){return Da.apply(this,arguments)}(E,{token:U.token,createTime:Date.now(),subscriptionOptions:P}):U.token;try{yield Ks(E.firebaseDependencies,U.token)}catch(ee){console.warn(ee)}return Sa(E.firebaseDependencies,P)}return Sa(E.firebaseDependencies,P)}),Hl.apply(this,arguments)}function Yc(){return Yc=(0,j.Z)(function*(E){const k=yield vr(E.firebaseDependencies);k&&(yield Ks(E.firebaseDependencies,k.token),yield function Fd(E){return Zs.apply(this,arguments)}(E.firebaseDependencies));const P=yield E.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()}),Yc.apply(this,arguments)}function Da(){return Da=(0,j.Z)(function*(E,k){try{const P=yield function tc(E,k){return nc.apply(this,arguments)}(E.firebaseDependencies,k),U=Object.assign(Object.assign({},k),{token:P,createTime:Date.now()});return yield Bl(E.firebaseDependencies,U),P}catch(P){throw yield function Vd(E){return Yc.apply(this,arguments)}(E),P}}),Da.apply(this,arguments)}function Sa(E,k){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,j.Z)(function*(E,k){const U={token:yield Vl(E,k),createTime:Date.now(),subscriptionOptions:k};return yield Bl(E,U),U.token})).apply(this,arguments)}function Zc(){return(Zc=(0,j.Z)(function*(E,k){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ll(k)})})).apply(this,arguments)}function Kc(E){const k={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function oc(E,k){if(!k.notification)return;E.notification={};const P=k.notification.title;P&&(E.notification.title=P);const U=k.notification.body;U&&(E.notification.body=U);const ee=k.notification.image;ee&&(E.notification.image=ee);const ce=k.notification.icon;ce&&(E.notification.icon=ce)}(k,E),function Hd(E,k){k.data&&(E.data=k.data)}(k,E),function jl(E,k){var P,U,ee,ce,Ce;if(!(k.fcmOptions||null!==(P=k.notification)&&void 0!==P&&P.click_action))return;E.fcmOptions={};const ct=null!==(ee=null===(U=k.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==ee?ee:null===(ce=k.notification)||void 0===ce?void 0:ce.click_action;ct&&(E.fcmOptions.link=ct);const it=null===(Ce=k.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;it&&(E.fcmOptions.analyticsLabel=it)}(k,E),k}function zl(E,k){const P=[];for(let U=0;U<E.length;U++)P.push(E.charAt(U)),U<k.length&&P.push(k.charAt(U));return P.join("")}function Ta(E){return Oi.create("missing-app-config-values",{valueName:E})}zl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hi{constructor(k,P,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function Io(E){if(!E||!E.options)throw Ta("App Configuration Object");if(!E.name)throw Ta("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:P}=E;for(const U of k)if(!P[U])throw Ta(U);return{appName:E.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:ee,installations:P,analyticsProvider:U}}_delete(){return Promise.resolve()}}function sc(){return(sc=(0,j.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Rd,{scope:Gc}),E.swRegistration.update().catch(()=>{})}catch(k){throw Oi.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function Xs(){return(Xs=(0,j.Z)(function*(E,k){if(!k&&!E.swRegistration&&(yield function Qc(E){return sc.apply(this,arguments)}(E)),k||!E.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Oi.create("invalid-sw-registration");E.swRegistration=k}})).apply(this,arguments)}function Js(){return(Js=(0,j.Z)(function*(E,k){k?E.vapidKey=k:E.vapidKey||(E.vapidKey=Fl)})).apply(this,arguments)}function Cs(){return Cs=(0,j.Z)(function*(E,k){if(!navigator)throw Oi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Oi.create("permission-blocked");return yield function Do(E,k){return Js.apply(this,arguments)}(E,k?.vapidKey),yield function sh(E,k){return Xs.apply(this,arguments)}(E,k?.serviceWorkerRegistration),function kf(E){return Hl.apply(this,arguments)}(E)}),Cs.apply(this,arguments)}function S(){return(S=(0,j.Z)(function*(E,k,P){const U=function N(E){switch(E){case Pd.NOTIFICATION_CLICKED:return"notification_open";case Pd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:P[Xn],message_name:P[Sf],message_time:P[rh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ge(){return ge=(0,j.Z)(function*(E,k){const P=k.data;if(!P.isFirebaseMessaging)return;E.onMessageHandler&&P.messageType===Pd.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Kc(P)):E.onMessageHandler.next(Kc(P)));const U=P.data;(function Af(E){return"object"==typeof E&&!!E&&Xn in E})(U)&&"1"===U["google.c.a.e"]&&(yield function I(E,k,P){return S.apply(this,arguments)}(E,P.messageType,U))}),ge.apply(this,arguments)}const _t="@firebase/messaging",Xt=E=>{const k=new hi(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function W(E,k){return ge.apply(this,arguments)}(k,P)),k},ri=E=>{const k=E.getProvider("messaging").getImmediate();return{getToken:U=>function jd(E,k){return Cs.apply(this,arguments)}(k,U)}};function Go(){return yr.apply(this,arguments)}function yr(){return(yr=(0,j.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Es(){(0,se._registerComponent)(new he.wA("messaging",Xt,"PUBLIC")),(0,se._registerComponent)(new he.wA("messaging-internal",ri,"PRIVATE")),(0,se.registerVersion)(_t,"0.12.4"),(0,se.registerVersion)(_t,"0.12.4","esm2017")}();const oi="analytics",O_="firebase_id",Ut="origin",Mf=6e4,Rf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$d="https://www.googletagmanager.com/gtag/js",nr=new ue.Yd("@firebase/analytics"),br=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Is(E){if(!E.startsWith($d)){const k=br.create("invalid-gtag-resource",{gtagURL:E});return nr.warn(k.message),""}return E}function Gd(E){return Promise.all(E.map(k=>k.catch(P=>P)))}function Ve(){return(Ve=(0,j.Z)(function*(E,k,P,U,ee,ce){const Ce=U[ee];try{if(Ce)yield k[Ce];else{const it=(yield Gd(P)).find(It=>It.measurementId===ee);it&&(yield k[it.appId])}}catch(ct){nr.error(ct)}E("config",ee,ce)})).apply(this,arguments)}function qo(){return(qo=(0,j.Z)(function*(E,k,P,U,ee){try{let ce=[];if(ee&&ee.send_to){let Ce=ee.send_to;Array.isArray(Ce)||(Ce=[Ce]);const ct=yield Gd(P);for(const it of Ce){const It=ct.find(zt=>zt.measurementId===it),Zt=It&&k[It.appId];if(!Zt){ce=[];break}ce.push(Zt)}}0===ce.length&&(ce=Object.values(k)),yield Promise.all(ce),E("event",U,ee||{})}catch(ce){nr.error(ce)}})).apply(this,arguments)}const Jc=30,lh=new class ac{constructor(k={},P=1e3){this.throttleMetadata=k,this.intervalMillis=P}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,P){this.throttleMetadata[k]=P}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function yp(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function dh(){return(dh=(0,j.Z)(function*(E){var k;const{appId:P,apiKey:U}=E,ee={method:"GET",headers:yp(U)},ce=Rf.replace("{app-id}",P),Ce=yield fetch(ce,ee);if(200!==Ce.status&&304!==Ce.status){let ct="";try{const it=yield Ce.json();null!==(k=it.error)&&void 0!==k&&k.message&&(ct=it.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:ct})}return Ce.json()})).apply(this,arguments)}function uo(){return(uo=(0,j.Z)(function*(E,k=lh,P){const{appId:U,apiKey:ee,measurementId:ce}=E.options;if(!U)throw br.create("no-app-id");if(!ee){if(ce)return{measurementId:ce,appId:U};throw br.create("no-api-key")}const Ce=k.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new hh;return setTimeout((0,j.Z)(function*(){ct.abort()}),void 0!==P?P:Mf),Pf({appId:U,apiKey:ee,measurementId:ce},Ce,ct,k)})).apply(this,arguments)}function Pf(E,k,P){return cc.apply(this,arguments)}function cc(){return cc=(0,j.Z)(function*(E,{throttleEndTimeMillis:k,backoffCount:P},U,ee=lh){var ce;const{appId:Ce,measurementId:ct}=E;try{yield function Wo(E,k){return new Promise((P,U)=>{const ee=Math.max(k-Date.now(),0),ce=setTimeout(P,ee);E.addEventListener(()=>{clearTimeout(ce),U(br.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(U,k)}catch(it){if(ct)return nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:Ce,measurementId:ct};throw it}try{const it=yield function Hb(E){return dh.apply(this,arguments)}(E);return ee.deleteThrottleMetadata(Ce),it}catch(it){const It=it;if(!function uh(E){if(!(E instanceof me.ZR&&E.customData))return!1;const k=Number(E.customData.httpStatus);return 429===k||500===k||503===k||504===k}(It)){if(ee.deleteThrottleMetadata(Ce),ct)return nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${It?.message}]`),{appId:Ce,measurementId:ct};throw it}const Zt=503===Number(null===(ce=It?.customData)||void 0===ce?void 0:ce.httpStatus)?(0,me.$s)(P,ee.intervalMillis,Jc):(0,me.$s)(P,ee.intervalMillis),zt={throttleEndTimeMillis:Date.now()+Zt,backoffCount:P+1};return ee.setThrottleMetadata(Ce,zt),nr.debug(`Calling attemptFetch again in ${Zt} millis`),Pf(E,zt,U,ee)}}),cc.apply(this,arguments)}class hh{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let Kd,wr;function Qd(){return(Qd=(0,j.Z)(function*(E,k,P,U,ee){if(ee&&ee.global)E("event",P,U);else{const ce=yield k;E("event",P,Object.assign(Object.assign({},U),{send_to:ce}))}})).apply(this,arguments)}function ea(){return(ea=(0,j.Z)(function*(){if(!(0,me.hl)())return nr.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(E){return nr.warn(br.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Aa(){return Aa=(0,j.Z)(function*(E,k,P,U,ee,ce,Ce){var ct;const it=function Qr(E){return uo.apply(this,arguments)}(E);it.then(Pi=>{P[Pi.measurementId]=Pi.appId,E.options.measurementId&&Pi.measurementId!==E.options.measurementId&&nr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Pi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pi=>nr.error(Pi)),k.push(it);const It=function xr(){return ea.apply(this,arguments)}().then(Pi=>{if(Pi)return U.getId()}),[Zt,zt]=yield Promise.all([it,It]);(function Zd(E){const k=window.document.getElementsByTagName("script");for(const P of Object.values(k))if(P.src&&P.src.includes($d)&&P.src.includes(E))return P;return null})(ce)||function Wd(E,k){const P=function qd(E,k){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(E,k)),P}("firebase-js-sdk-policy",{createScriptURL:Is}),U=document.createElement("script"),ee=`${$d}?l=${E}&id=${k}`;U.src=P?P?.createScriptURL(ee):ee,U.async=!0,document.head.appendChild(U)}(ce,Zt.measurementId),wr&&(ee("consent","default",wr),function Jd(E){wr=E}(void 0)),ee("js",new Date);const ki=null!==(ct=Ce?.config)&&void 0!==ct?ct:{};return ki[Ut]="firebase",ki.update=!0,null!=zt&&(ki[O_]=zt),ee("config",Zt.measurementId,ki),Kd&&(ee("set",Kd),function $l(E){Kd=E}(void 0)),Zt.measurementId}),Aa.apply(this,arguments)}class Yo{constructor(k){this.app=k}_delete(){return delete ht[this.app.options.appId],Promise.resolve()}}let ht={},Bf=[];const fh={};let Zo,Ln,dc="dataLayer",el=!1;function tl(E,k,P){!function eu(){const E=[];if((0,me.ru)()&&E.push("This is a browser extension environment."),(0,me.zI)()||E.push("Cookies are not available."),E.length>0){const k=E.map((U,ee)=>`(${ee+1}) ${U}`).join(" "),P=br.create("invalid-analytics-context",{errorInfo:k});nr.warn(P.message)}}();const U=E.options.appId;if(!U)throw br.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw br.create("no-api-key");nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ht[U])throw br.create("already-exists",{id:U});if(!el){!function P_(E){let k=[];Array.isArray(window[E])?k=window[E]:window[E]=k}(dc);const{wrappedGtag:ce,gtagCore:Ce}=function ir(E,k,P,U,ee){let ce=function(...Ce){window[U].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ce=window[ee]),window[ee]=function Yd(E,k,P,U){function ce(){return ce=(0,j.Z)(function*(Ce,...ct){try{if("event"===Ce){const[it,It]=ct;yield function _n(E,k,P,U,ee){return qo.apply(this,arguments)}(E,k,P,it,It)}else if("config"===Ce){const[it,It]=ct;yield function ch(E,k,P,U,ee,ce){return Ve.apply(this,arguments)}(E,k,P,U,it,It)}else if("consent"===Ce){const[it]=ct;E("consent","update",it)}else if("get"===Ce){const[it,It,Zt]=ct;E("get",it,It,Zt)}else if("set"===Ce){const[it]=ct;E("set",it)}else E(Ce,...ct)}catch(it){nr.error(it)}}),ce.apply(this,arguments)}return function ee(Ce){return ce.apply(this,arguments)}}(ce,E,k,P),{gtagCore:ce,wrappedGtag:window[ee]}}(ht,Bf,fh,dc,"gtag");Ln=ce,Zo=Ce,el=!0}return ht[U]=function Jn(E,k,P,U,ee,ce,Ce){return Aa.apply(this,arguments)}(E,Bf,fh,k,Zo,dc,P),new Yo(E)}function hc(){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,j.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const mc="@firebase/analytics";!function mi(){(0,se._registerComponent)(new he.wA(oi,(k,{options:P})=>tl(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,se._registerComponent)(new he.wA("analytics-internal",function E(k){try{const P=k.getProvider(oi).getImmediate();return{logEvent:(U,ee,ce)=>function zi(E,k,P,U){E=(0,me.m9)(E),function N_(E,k,P,U,ee){return Qd.apply(this,arguments)}(Ln,ht[E.app.options.appId],k,P,U).catch(ee=>nr.error(ee))}(P,U,ee,ce)}}catch(P){throw br.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,se.registerVersion)(mc,"0.10.0"),(0,se.registerVersion)(mc,"0.10.0","esm2017")}();var ei=V(1954),Bn=V(2631);const Gl=new class rr extends Bn.v{}(class Or extends ei.o{constructor(k,P){super(k,P),this.scheduler=k,this.work=P}schedule(k,P=0){return P>0?super.schedule(k,P):(this.delay=P,this.state=k,this.scheduler.flush(this),this)}execute(k,P){return P>0||this.closed?super.execute(k,P):this._execute(k,P)}requestAsyncId(k,P,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(k,P,U):(k.flush(this),0)}});var ph=V(6321),Cr=V(9397),na=V(3093),ti=V(5137);const ko=new l.GfV("7.6.1"),ql="__angularfire_symbol__analyticsIsSupportedValue",fo="__angularfire_symbol__analyticsIsSupported",pc="__angularfire_symbol__remoteConfigIsSupportedValue",nu="__angularfire_symbol__remoteConfigIsSupported",Oa="__angularfire_symbol__messagingIsSupportedValue",Pa="__angularfire_symbol__messagingIsSupported";function _c(E,k,P){if(k){if(1===k.length)return k[0];const ce=k.filter(Ce=>Ce.app===P);if(1===ce.length)return ce[0]}return P.container.getProvider(E).getImmediate({optional:!0})}globalThis[fo]||(globalThis[fo]=hc().then(E=>globalThis[ql]=E).catch(()=>globalThis[ql]=!1)),globalThis[Pa]||(globalThis[Pa]=Go().then(E=>globalThis[Oa]=E).catch(()=>globalThis[Oa]=!1)),globalThis[nu]||(globalThis[nu]=vs().then(E=>globalThis[pc]=E).catch(()=>globalThis[pc]=!1));const rl=(E,k)=>{const P=k?[k]:(0,oe.C6)(),U=[];return P.forEach(ee=>{ee.container.getProvider(E).instances.forEach(Ce=>{U.includes(Ce)||U.push(Ce)})}),U};function ia(){}class gh{constructor(k,P=Gl){this.zone=k,this.delegate=P}now(){return this.delegate.now()}schedule(k,P,U){const ee=this.zone;return this.delegate.schedule(function(Ce){ee.runGuarded(()=>{k.apply(this,[Ce])})},P,U)}}class Xr{constructor(k){this.zone=k,this.task=null}call(k,P){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)),P.pipe((0,Cr.b)({next:U,complete:U,error:U})).subscribe(k).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _h=(()=>{class E{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new gh(Zone.current)),this.insideAngular=P.run(()=>new gh(Zone.current,ph.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(P){return new(P||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function xi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function iu(E){return E.pipe((0,na.Q)(xi().outsideAngular))}function vh(E){return xi(),function ru(E){return function(P){return(P=P.lift(new Xr(E.ngZone))).pipe((0,ti.R)(E.outsideAngular),(0,na.Q)(E.insideAngular))}}(xi())(E)}},9058:(wt,ke,V)=>{"use strict";V.d(ke,{$s:()=>et,BH:()=>de,DV:()=>Un,Dv:()=>bo,G6:()=>_i,GJ:()=>ai,L:()=>we,LL:()=>Ne,Pz:()=>Te,Sg:()=>Ae,UG:()=>ne,UI:()=>Gn,US:()=>he,Wj:()=>mn,Wl:()=>St,Yr:()=>$n,ZB:()=>z,ZR:()=>Re,aH:()=>_e,b$:()=>hn,cI:()=>Fn,dS:()=>co,eu:()=>be,g5:()=>j,gK:()=>fn,gQ:()=>Ft,h$:()=>Be,hl:()=>pe,hu:()=>oe,jU:()=>qe,lb:()=>kr,m9:()=>En,ne:()=>Wt,p$:()=>K,pd:()=>At,r3:()=>qt,ru:()=>tt,tV:()=>q,uI:()=>fe,ug:()=>Vo,vZ:()=>Zn,w1:()=>Nn,w9:()=>An,xO:()=>on,xb:()=>ur,z$:()=>je,zI:()=>xe,zd:()=>xt});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},oe=function(Z,Y){if(!Z)throw j(Y)},j=function(Z){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Z)},se=function(Z){const Y=[];let ie=0;for(let Pe=0;Pe<Z.length;Pe++){let ye=Z.charCodeAt(Pe);ye<128?Y[ie++]=ye:ye<2048?(Y[ie++]=ye>>6|192,Y[ie++]=63&ye|128):55296==(64512&ye)&&Pe+1<Z.length&&56320==(64512&Z.charCodeAt(Pe+1))?(ye=65536+((1023&ye)<<10)+(1023&Z.charCodeAt(++Pe)),Y[ie++]=ye>>18|240,Y[ie++]=ye>>12&63|128,Y[ie++]=ye>>6&63|128,Y[ie++]=63&ye|128):(Y[ie++]=ye>>12|224,Y[ie++]=ye>>6&63|128,Y[ie++]=63&ye|128)}return Y},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,Y){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[];for(let ye=0;ye<Z.length;ye+=3){const ut=Z[ye],Gt=ye+1<Z.length,Vt=Gt?Z[ye+1]:0,er=ye+2<Z.length,Yt=er?Z[ye+2]:0;let Ui=(15&Vt)<<2|Yt>>6,us=63&Yt;er||(us=64,Gt||(Ui=64)),Pe.push(ie[ut>>2],ie[(3&ut)<<4|Vt>>4],ie[Ui],ie[us])}return Pe.join("")},encodeString(Z,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(Z):this.encodeByteArray(se(Z),Y)},decodeString(Z,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(Z):function(Z){const Y=[];let ie=0,Pe=0;for(;ie<Z.length;){const ye=Z[ie++];if(ye<128)Y[Pe++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const ut=Z[ie++];Y[Pe++]=String.fromCharCode((31&ye)<<6|63&ut)}else if(ye>239&&ye<365){const er=((7&ye)<<18|(63&Z[ie++])<<12|(63&Z[ie++])<<6|63&Z[ie++])-65536;Y[Pe++]=String.fromCharCode(55296+(er>>10)),Y[Pe++]=String.fromCharCode(56320+(1023&er))}else{const ut=Z[ie++],Gt=Z[ie++];Y[Pe++]=String.fromCharCode((15&ye)<<12|(63&ut)<<6|63&Gt)}}return Y.join("")}(this.decodeStringToByteArray(Z,Y))},decodeStringToByteArray(Z,Y){this.init_();const ie=Y?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[];for(let ye=0;ye<Z.length;){const ut=ie[Z.charAt(ye++)],Vt=ye<Z.length?ie[Z.charAt(ye)]:0;++ye;const Yt=ye<Z.length?ie[Z.charAt(ye)]:64;++ye;const kt=ye<Z.length?ie[Z.charAt(ye)]:64;if(++ye,null==ut||null==Vt||null==Yt||null==kt)throw new ue;Pe.push(ut<<2|Vt>>4),64!==Yt&&(Pe.push(Vt<<4&240|Yt>>2),64!==kt&&Pe.push(Yt<<6&192|kt))}return Pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(Z){const Y=se(Z);return he.encodeByteArray(Y,!0)},we=function(Z){return Be(Z).replace(/\./g,"")},q=function(Z){try{return he.decodeString(Z,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function K(Z){return z(void 0,Z)}function z(Z,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return Y}for(const ie in Y)!Y.hasOwnProperty(ie)||!We(ie)||(Z[ie]=z(Z[ie],Y[ie]));return Z}function We(Z){return"__proto__"!==Z}const Le=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=Z&&q(Z[1]);return Y&&JSON.parse(Y)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},_e=()=>{var Z;return null===(Z=Le())||void 0===Z?void 0:Z.config},Te=Z=>{var Y;return null===(Y=Le())||void 0===Y?void 0:Y[`_${Z}`]};class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,ie)=>{this.resolve=Y,this.reject=ie})}wrapCallback(Y){return(ie,Pe)=>{ie?this.reject(ie):this.resolve(Pe),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(ie):Y(ie,Pe))}}}function Ae(Z,Y){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pe=Y||"demo-project",ye=Z.iat||0,ut=Z.sub||Z.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${Pe}`,aud:Pe,iat:ye,exp:ye+3600,auth_time:ye,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Gt)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ne(){var Z;const Y=null===(Z=Le())||void 0===Z?void 0:Z.forceEnvironment;if("node"===Y)return!0;if("browser"===Y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function tt(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nn(){const Z=je();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function $n(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function _i(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){try{return"object"==typeof indexedDB}catch{return!1}}function be(){return new Promise((Z,Y)=>{try{let ie=!0;const Pe="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(Pe);ye.onsuccess=()=>{ye.result.close(),ie||self.indexedDB.deleteDatabase(Pe),Z(!0)},ye.onupgradeneeded=()=>{ie=!1},ye.onerror=()=>{var ut;Y((null===(ut=ye.error)||void 0===ut?void 0:ut.message)||"")}}catch(ie){Y(ie)}})}function xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Re extends Error{constructor(Y,ie,Pe){super(ie),this.code=Y,this.customData=Pe,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(Y,ie,Pe){this.service=Y,this.serviceName=ie,this.errors=Pe}create(Y,...ie){const Pe=ie[0]||{},ye=`${this.service}/${Y}`,ut=this.errors[Y],Gt=ut?function ot(Z,Y){return Z.replace(nt,(ie,Pe)=>{const ye=Y[Pe];return null!=ye?String(ye):`<${Pe}?>`})}(ut,Pe):"Error";return new Re(ye,`${this.serviceName}: ${Gt} (${ye}).`,Pe)}}const nt=/\{\$([^}]+)}/g;function Fn(Z){return JSON.parse(Z)}function St(Z){return JSON.stringify(Z)}const pn=function(Z){let Y={},ie={},Pe={},ye="";try{const ut=Z.split(".");Y=Fn(q(ut[0])||""),ie=Fn(q(ut[1])||""),ye=ut[2],Pe=ie.d||{},delete ie.d}catch{}return{header:Y,claims:ie,data:Pe,signature:ye}},An=function(Z){const ie=pn(Z).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},ai=function(Z){const Y=pn(Z).claims;return"object"==typeof Y&&!0===Y.admin};function qt(Z,Y){return Object.prototype.hasOwnProperty.call(Z,Y)}function Un(Z,Y){if(Object.prototype.hasOwnProperty.call(Z,Y))return Z[Y]}function ur(Z){for(const Y in Z)if(Object.prototype.hasOwnProperty.call(Z,Y))return!1;return!0}function Gn(Z,Y,ie){const Pe={};for(const ye in Z)Object.prototype.hasOwnProperty.call(Z,ye)&&(Pe[ye]=Y.call(ie,Z[ye],ye,Z));return Pe}function Zn(Z,Y){if(Z===Y)return!0;const ie=Object.keys(Z),Pe=Object.keys(Y);for(const ye of ie){if(!Pe.includes(ye))return!1;const ut=Z[ye],Gt=Y[ye];if(Qi(ut)&&Qi(Gt)){if(!Zn(ut,Gt))return!1}else if(ut!==Gt)return!1}for(const ye of Pe)if(!ie.includes(ye))return!1;return!0}function Qi(Z){return null!==Z&&"object"==typeof Z}function on(Z){const Y=[];for(const[ie,Pe]of Object.entries(Z))Array.isArray(Pe)?Pe.forEach(ye=>{Y.push(encodeURIComponent(ie)+"="+encodeURIComponent(ye))}):Y.push(encodeURIComponent(ie)+"="+encodeURIComponent(Pe));return Y.length?"&"+Y.join("&"):""}function xt(Z){const Y={};return Z.replace(/^\?/,"").split("&").forEach(Pe=>{if(Pe){const[ye,ut]=Pe.split("=");Y[decodeURIComponent(ye)]=decodeURIComponent(ut)}}),Y}function At(Z){const Y=Z.indexOf("?");if(!Y)return"";const ie=Z.indexOf("#",Y);return Z.substring(Y,ie>0?ie:void 0)}class Ft{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,ie){ie||(ie=0);const Pe=this.W_;if("string"==typeof Y)for(let kt=0;kt<16;kt++)Pe[kt]=Y.charCodeAt(ie)<<24|Y.charCodeAt(ie+1)<<16|Y.charCodeAt(ie+2)<<8|Y.charCodeAt(ie+3),ie+=4;else for(let kt=0;kt<16;kt++)Pe[kt]=Y[ie]<<24|Y[ie+1]<<16|Y[ie+2]<<8|Y[ie+3],ie+=4;for(let kt=16;kt<80;kt++){const Ui=Pe[kt-3]^Pe[kt-8]^Pe[kt-14]^Pe[kt-16];Pe[kt]=4294967295&(Ui<<1|Ui>>>31)}let Yt,vi,ye=this.chain_[0],ut=this.chain_[1],Gt=this.chain_[2],Vt=this.chain_[3],er=this.chain_[4];for(let kt=0;kt<80;kt++){kt<40?kt<20?(Yt=Vt^ut&(Gt^Vt),vi=1518500249):(Yt=ut^Gt^Vt,vi=1859775393):kt<60?(Yt=ut&Gt|Vt&(ut|Gt),vi=2400959708):(Yt=ut^Gt^Vt,vi=3395469782);const Ui=(ye<<5|ye>>>27)+Yt+er+vi+Pe[kt]&4294967295;er=Vt,Vt=Gt,Gt=4294967295&(ut<<30|ut>>>2),ut=ye,ye=Ui}this.chain_[0]=this.chain_[0]+ye&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+Gt&4294967295,this.chain_[3]=this.chain_[3]+Vt&4294967295,this.chain_[4]=this.chain_[4]+er&4294967295}update(Y,ie){if(null==Y)return;void 0===ie&&(ie=Y.length);const Pe=ie-this.blockSize;let ye=0;const ut=this.buf_;let Gt=this.inbuf_;for(;ye<ie;){if(0===Gt)for(;ye<=Pe;)this.compress_(Y,ye),ye+=this.blockSize;if("string"==typeof Y){for(;ye<ie;)if(ut[Gt]=Y.charCodeAt(ye),++Gt,++ye,Gt===this.blockSize){this.compress_(ut),Gt=0;break}}else for(;ye<ie;)if(ut[Gt]=Y[ye],++Gt,++ye,Gt===this.blockSize){this.compress_(ut),Gt=0;break}}this.inbuf_=Gt,this.total_+=ie}digest(){const Y=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ye=this.blockSize-1;ye>=56;ye--)this.buf_[ye]=255&ie,ie/=256;this.compress_(this.buf_);let Pe=0;for(let ye=0;ye<5;ye++)for(let ut=24;ut>=0;ut-=8)Y[Pe]=this.chain_[ye]>>ut&255,++Pe;return Y}}function Wt(Z,Y){const ie=new sn(Z,Y);return ie.subscribe.bind(ie)}class sn{constructor(Y,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{Y(this)}).catch(Pe=>{this.error(Pe)})}next(Y){this.forEachObserver(ie=>{ie.next(Y)})}error(Y){this.forEachObserver(ie=>{ie.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,ie,Pe){let ye;if(void 0===Y&&void 0===ie&&void 0===Pe)throw new Error("Missing Observer.");ye=function bn(Z,Y){if("object"!=typeof Z||null===Z)return!1;for(const ie of Y)if(ie in Z&&"function"==typeof Z[ie])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:ie,complete:Pe},void 0===ye.next&&(ye.next=wn),void 0===ye.error&&(ye.error=wn),void 0===ye.complete&&(ye.complete=wn);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch{}}),this.observers.push(ye),ut}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,Y)}sendOne(Y,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{ie(this.observers[Y])}catch(Pe){typeof console<"u"&&console.error&&console.error(Pe)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}const bo=function(Z,Y,ie,Pe){let ye;if(Pe<Y?ye="at least "+Y:Pe>ie&&(ye=0===ie?"none":"no more than "+ie),ye)throw new Error(Z+" failed: Was called with "+Pe+(1===Pe?" argument.":" arguments.")+" Expects "+ye+".")};function fn(Z,Y){return`${Z} failed: ${Y} argument `}function mn(Z,Y,ie,Pe){if((!Pe||ie)&&"function"!=typeof ie)throw new Error(fn(Z,Y)+"must be a valid function.")}function kr(Z,Y,ie,Pe){if((!Pe||ie)&&("object"!=typeof ie||null===ie))throw new Error(fn(Z,Y)+"must be a valid context object.")}const co=function(Z){const Y=[];let ie=0;for(let Pe=0;Pe<Z.length;Pe++){let ye=Z.charCodeAt(Pe);if(ye>=55296&&ye<=56319){const ut=ye-55296;Pe++,oe(Pe<Z.length,"Surrogate pair missing trail surrogate."),ye=65536+(ut<<10)+(Z.charCodeAt(Pe)-56320)}ye<128?Y[ie++]=ye:ye<2048?(Y[ie++]=ye>>6|192,Y[ie++]=63&ye|128):ye<65536?(Y[ie++]=ye>>12|224,Y[ie++]=ye>>6&63|128,Y[ie++]=63&ye|128):(Y[ie++]=ye>>18|240,Y[ie++]=ye>>12&63|128,Y[ie++]=ye>>6&63|128,Y[ie++]=63&ye|128)}return Y},Vo=function(Z){let Y=0;for(let ie=0;ie<Z.length;ie++){const Pe=Z.charCodeAt(ie);Pe<128?Y++:Pe<2048?Y+=2:Pe>=55296&&Pe<=56319?(Y+=4,ie++):Y+=3}return Y},Ji=1e3,Se=2,J=144e5,De=.5;function et(Z,Y=Ji,ie=Se){const Pe=Y*Math.pow(ie,Z),ye=Math.round(De*Pe*(Math.random()-.5)*2);return Math.min(J,Pe+ye)}function En(Z){return Z&&Z._delegate?Z._delegate:Z}},450:(wt,ke,V)=>{"use strict";var l=V(5879);let oe=null;function j(){return oe}class me{}const he=new l.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(we)},providedIn:"platform"})}return n})();const Be=new l.OlP("Location Initialized");let we=(()=>{class n extends ue{constructor(){super(),this._doc=(0,l.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(e){const i=j().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=j().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function q(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function K(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function z(n){return n&&"?"!==n[0]?"?"+n:n}let We=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(rt)},providedIn:"root"})}return n})();const Fe=new l.OlP("appBaseHref");let rt=(()=>{class n extends We{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return q(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+z(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+z(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+z(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(ue),l.LFG(Fe,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ue=(()=>{class n extends We{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=q(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+z(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+z(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(ue),l.LFG(Fe,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),Ye=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function _e(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(K(Et(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+z(i))}normalize(e){return n.stripTrailingSlash(function Ct(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Et(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+z(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+z(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=z;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=K;static#i=this.\u0275fac=function(i){return new(i||n)(l.LFG(We))};static#r=this.\u0275prov=l.Yz7({token:n,factory:function(){return function Le(){return new Ye((0,l.LFG)(We))}()},providedIn:"root"})}return n})();function Et(n){return n.replace(/\/index.html$/,"")}const ba=/\s+/,kl=[];let wa=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=kl,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(ba):kl}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(ba):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(ba).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class fs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ga=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new fs(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),Al(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Al(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Al(n,t){n.context.$implicit=t.item}let Ar=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Ef,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){eh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){eh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Ef{constructor(){this.$implicit=null,this.ngIf=null}}function eh(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}let qa=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]})}return n})();class Vc{createSubscription(t,e){return(0,l.rg0)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,l.rg0)(()=>t.unsubscribe())}}class tr{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Rl=new tr,Uc=new Vc;let xa=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,l.QGY)(e))return Rl;if((0,l.F4k)(e))return Uc;throw function Ur(n,t){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO,16))};static#t=this.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})(),gn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const Ho="browser";function jo(n){return"server"===n}let Ri=(()=>{class n{static#e=this.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new zo((0,l.LFG)(he),window)})}return n})();class zo{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function $o(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ud extends me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kc extends Ud{static makeCurrent(){!function se(n){oe||(oe=n)}(new Kc)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Hd(){return oc=oc||document.querySelector("base"),oc?oc.getAttribute("href"):null}();return null==e?null:function Af(n){jl=jl||document.createElement("a"),jl.setAttribute("href",n);const t=jl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){oc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Fs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let jl,oc=null,Io=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ta=new l.OlP("EventManagerPlugins");let hi=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ta),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class Qc{constructor(t){this._doc=t}}const sc="ng-app-id";let sh=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jo(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${sc}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(sc),o;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(sc,this.appId),c}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,c=o.get(i)?.elements;c?c.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Do=/%COMP%/g,S=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ge(n,t){return t.map(e=>e.replace(Do,n))}let _t=(()=>{class n{constructor(e,i,r,o,c,h,m,v=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=h,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=jo(h),this.defaultRenderer=new dn(e,c,m,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l.ifc.ShadowDom&&(i={...i,encapsulation:l.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof gp?r.applyToHost(e):r instanceof yr&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const c=this.doc,h=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,T=this.platformIsServer;switch(i.encapsulation){case l.ifc.Emulated:o=new gp(m,v,i,this.appId,w,c,h,T);break;case l.ifc.ShadowDom:return new Go(m,v,e,i,c,h,this.nonce,T);default:o=new yr(m,v,i,w,c,h,T)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(hi),l.LFG(sh),l.LFG(l.AFp),l.LFG(S),l.LFG(he),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class dn{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Xs[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Es(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Es(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new l.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Xs[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Xs[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=j().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Es(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Go extends dn{constructor(t,e,i,r,o,c,h,m){super(t,o,c,m),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=ge(r.id,r.styles);for(const w of v){const T=document.createElement("style");h&&T.setAttribute("nonce",h),T.textContent=w,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yr extends dn{constructor(t,e,i,r,o,c,h,m){super(t,o,c,h),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=m?ge(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gp extends yr{constructor(t,e,i,r,o,c,h,m){const v=r+"-"+i.id;super(t,e,i,o,c,h,m,v),this.contentAttr=function N(n){return"_ngcontent-%COMP%".replace(Do,n)}(v),this.hostAttr=function W(n){return"_nghost-%COMP%".replace(Do,n)}(v)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Xc=(()=>{class n extends Qc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const _p=["alt","control","meta","shift"],Kr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ah=(()=>{class n extends Qc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),_p.forEach(v=>{const w=i.indexOf(v);w>-1&&(i.splice(w,1),c+=v+".")}),c+=o,0!=i.length||0===o.length)return null;const m={};return m.domEventName=r,m.fullKey=c,m}static matchEventFullKeyCode(e,i){let r=Kr[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_p.forEach(c=>{c!==r&&(0,vp[c])(e)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const nr=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Ho},{provide:l.g9A,useValue:function Ut(){Kc.makeCurrent()},multi:!0},{provide:he,useFactory:function Rf(){return(0,l.RDi)(document),document},deps:[]}]),Of=new l.OlP(""),br=[{provide:l.rWj,useClass:class zl{addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new l.vHH(5103,!1);return o},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(m){c=c||m,o--,0==o&&i(c)};r.forEach(m=>{m.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?j().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Is=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Mf(){return new l.qLn},deps:[]},{provide:Ta,useClass:Xc,multi:!0,deps:[he,l.R0b,l.Lbi]},{provide:Ta,useClass:ah,multi:!0,deps:[he]},_t,sh,hi,{provide:l.FYo,useExisting:_t},{provide:class gr{},useClass:Io,deps:[]},[]];let Gd=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Of,12))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[...Is,...br],imports:[gn,l.hGG]})}return n})(),Ve=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function ch(){return new Ve((0,l.LFG)(he))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Wo=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):l.LFG(hh),r},providedIn:"root"})}return n})(),hh=(()=>{class n extends Wo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new l.vHH(5200,!1);case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new l.vHH(5201,!1);default:throw new l.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function uh(n){return new hh(n.get(he))}(l.LFG(l.zs3)),r},providedIn:"root"})}return n})();var fi=V(5592),ho=V(4674);var Hn=V(2459),pt=V(2096),wr=V(5619);const{isArray:Jd}=Array,{getPrototypeOf:$l,prototype:xr,keys:ea}=Object;function Jn(n){if(1===n.length){const t=n[0];if(Jd(t))return{args:t,keys:null};if(function Aa(n){return n&&"object"==typeof n&&$l(n)===xr}(t)){const e=ea(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Yo=V(2737),ht=V(7398);const{isArray:Bf}=Array;function dc(n){return(0,ht.U)(t=>function fh(n,t){return Bf(t)?n(...t):n(t)}(n,t))}var So=V(9940);function Zo(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Ln=V(8251),el=V(7103);function Ma(...n){const t=(0,So.yG)(n),e=(0,So.jO)(n),{args:i,keys:r}=Jn(n);if(0===i.length)return(0,Hn.D)([],t);const o=new fi.y(function eu(n,t,e=Yo.y){return i=>{tl(t,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let m=0;m<r;m++)tl(t,()=>{const v=(0,Hn.D)(n[m],t);let w=!1;v.subscribe((0,Ln.x)(i,T=>{o[m]=T,w||(w=!0,h--),h||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>Zo(r,c):Yo.y));return e?o.pipe(dc(e)):o}function tl(n,t,e){n?(0,el.f)(e,n,t):t()}const uc=(0,V(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hc=V(7537);function To(...n){return function Ra(){return(0,hc.J)(1)}()((0,Hn.D)(n,(0,So.yG)(n)))}var fc=V(4829);function mh(n){return new fi.y(t=>{(0,fc.Xf)(n()).subscribe(t)})}var tu=V(8407);function nl(n,t){const e=(0,ho.m)(n)?n:()=>n,i=r=>r.error(e());return new fi.y(t?r=>t.schedule(i,0,r):i)}var ta=V(6232),Ko=V(7394),zi=V(9360);function Vf(){return(0,zi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Ln.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class mc extends fi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,zi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ko.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ln.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ko.w0.EMPTY)}return t}refCount(){return Vf()(this)}}var Ht=V(8645),mi=V(4664);function ei(n){return n<=0?()=>ta.E:(0,zi.e)((t,e)=>{let i=0;t.subscribe((0,Ln.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Or(...n){const t=(0,So.yG)(n);return(0,zi.e)((e,i)=>{(t?To(n,e,t):To(n,e)).subscribe(i)})}function Bn(n,t){return(0,zi.e)((e,i)=>{let r=0;e.subscribe((0,Ln.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var rr=V(1631);function Gl(n){return(0,zi.e)((t,e)=>{let i=!1;t.subscribe((0,Ln.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Uf(n=ph){return(0,zi.e)((t,e)=>{let i=!1;t.subscribe((0,Ln.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ph(){return new uc}function Cr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bn((r,o)=>n(r,o,i)):Yo.y,ei(1),e?Gl(t):Uf(()=>new uc))}function na(n,t){return(0,ho.m)(t)?(0,rr.z)(n,t,1):(0,rr.z)(n,1)}var ti=V(9397);function ko(n){return(0,zi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Ln.x)(e,void 0,void 0,c=>{o=(0,fc.Xf)(n(c,ko(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function fo(n,t){return(0,zi.e)(function ql(n,t,e,i,r){return(o,c)=>{let h=e,m=t,v=0;o.subscribe((0,Ln.x)(c,w=>{const T=v++;m=h?n(m,w,T):(h=!0,w),i&&c.next(m)},r&&(()=>{h&&c.next(m),c.complete()})))}}(n,t,arguments.length>=2,!0))}function pc(n){return n<=0?()=>ta.E:(0,zi.e)((t,e)=>{let i=[];t.subscribe((0,Ln.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Oa(n){return(0,ht.U)(()=>n)}function Pa(n){return(0,zi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var il=V(2420);function Cn(n){return(0,zi.e)((t,e)=>{(0,fc.Xf)(n).subscribe((0,Ln.x)(e,()=>e.complete(),il.Z)),!e.closed&&t.subscribe(e)})}const Jt="primary",gc=Symbol("RouteTitle");class _c{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function rl(n){return new _c(n)}function ia(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Xr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!_h(n[r],t[r]))return!1;return!0}function _h(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function xi(n){return n.length>0?n[n.length-1]:null}function Qo(n){return function lc(n){return!!n&&(n instanceof fi.y||(0,ho.m)(n.lift)&&(0,ho.m)(n.subscribe))}(n)?n:(0,l.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):(0,pt.of)(n)}const Na={exact:function ru(n,t,e){if(!Ce(n.segments,t.segments)||!k(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ru(n.children[i],t.children[i],e))return!1;return!0},subset:sl},iu={exact:function vh(n,t){return Xr(n,t)},subset:function ol(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>_h(n[e],t[e]))},ignored:()=>!0};function xp(n,t,e){return Na[e.paths](n.root,t.root,e.matrixParams)&&iu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function sl(n,t,e){return E(n,t,t.segments,e)}function E(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ce(r,e)||t.hasChildren()||!k(r,e,i))}if(n.segments.length===e.length){if(!Ce(n.segments,e)||!k(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!sl(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ce(n.segments,r)&&k(n.segments,r,i)&&n.children[Jt])&&E(n.children[Jt],t,o,i)}}function k(n,t,e){return t.every((i,r)=>iu[e](n[r].parameters,i.parameters))}class P{constructor(t=new U([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rl(this.queryParams)),this._queryParamMap}toString(){return Zt.serialize(this)}}class U{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zt(this)}}class ee{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=rl(this.parameters)),this._parameterMap}toString(){return Jr(this)}}function Ce(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let it=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return new It},providedIn:"root"})}return n})();class It{parse(t){const e=new ou(t);return new P(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ki(t.root,!0)}`,i=function F_(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ra(e)}=${ra(r)}`).join("&"):`${ra(e)}=${ra(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Ai(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Zt=new It;function zt(n){return n.segments.map(t=>Jr(t)).join("/")}function ki(n,t){if(!n.hasChildren())return zt(n);if(t){const e=n.children[Jt]?ki(n.children[Jt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Jt&&i.push(`${r}:${ki(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function ct(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Jt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Jt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Jt?[ki(n.children[Jt],!1)]:[`${r}:${ki(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${zt(n)}/${e[0]}`:`${zt(n)}/(${e.join("//")})`}}function Pi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ra(n){return Pi(n).replace(/%3B/gi,";")}function oa(n){return Pi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function or(n){return decodeURIComponent(n)}function Ds(n){return or(n.replace(/\+/g,"%20"))}function Jr(n){return`${oa(n.path)}${function al(n){return Object.keys(n).map(t=>`;${oa(t)}=${oa(n[t])}`).join("")}(n.parameters)}`}const Cp=/^[^\/()?;#]+/;function vc(n){const t=n.match(Cp);return t?t[0]:""}const L_=/^[^\/()?;=#]+/,B_=/^[^=?&#]+/,Xo=/^[^&#]+/;class ou{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new U([],{}):new U([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Jt]=new U(t,e)),i}parseSegment(){const t=vc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new ee(or(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Ep(n){const t=n.match(L_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=vc(this.remaining);r&&(i=r,this.capture(i))}t[or(e)]=or(i)}parseQueryParam(t){const e=function jb(n){const t=n.match(B_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function Ip(n){const t=n.match(Xo);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Ds(e),o=Ds(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=vc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Jt);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Jt]:new U([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function zb(n){return n.segments.length>0?new U([],{[Jt]:n}):n}function Dp(n){const t={};for(const i of Object.keys(n.children)){const o=Dp(n.children[i]);if(i===Jt&&0===o.segments.length&&o.hasChildren())for(const[c,h]of Object.entries(o.children))t[c]=h;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function V_(n){if(1===n.numberOfChildren&&n.children[Jt]){const t=n.children[Jt];return new U(n.segments.concat(t.segments),t.children)}return n}(new U(n.segments,t))}function Wl(n){return n instanceof P}function cl(n){let t;const r=zb(function e(o){const c={};for(const m of o.children){const v=e(m);c[m.outlet]=v}const h=new U(o.url,c);return o===n&&(t=h),h}(n.root));return t??r}function U_(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return su(r,r,r,e,i);const o=function $b(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Object.entries(o.outlets).forEach(([m,v])=>{h[m]="string"==typeof v?v.split("/"):v}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new yh(e,t,i)}(t);if(o.toRoot())return su(r,r,new U([],{}),e,i);const c=function Gb(n,t,e){if(n.isAbsolute)return new bc(t,!0,0);if(!e)return new bc(t,!1,NaN);if(null===e.parent)return new bc(e,!0,0);const i=Hf(n.commands[0])?0:1;return function H_(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new bc(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),h=c.processChildren?au(c.segmentGroup,c.index,o.commands):wh(c.segmentGroup,c.index,o.commands);return su(r,c.segmentGroup,h,e,i)}function Hf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function yc(n){return"object"==typeof n&&null!=n&&n.outlets}function su(n,t,e,i,r){let c,o={};i&&Object.entries(i).forEach(([m,v])=>{o[m]=Array.isArray(v)?v.map(w=>`${w}`):`${v}`}),c=n===t?e:jf(n,t,e);const h=zb(Dp(c));return new P(h,o,r)}function jf(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:jf(o,t,e)}),new U(n.segments,i)}class yh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Hf(i[0]))throw new l.vHH(4003,!1);const r=i.find(yc);if(r&&r!==xi(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bc{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function wh(n,t,e){if(n||(n=new U([],{})),0===n.segments.length&&n.hasChildren())return au(n,t,e);const i=function qb(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],h=e[i];if(yc(h))break;const m=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!zf(m,v,c))return o;i+=2}else{if(!zf(m,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new U(n.segments.slice(0,i.pathIndex),{});return o.children[Jt]=new U(n.segments.slice(i.pathIndex),n.children),au(o,0,r)}return i.match&&0===r.length?new U(n.segments,{}):i.match&&!n.hasChildren()?Sp(n,t,e):i.match?au(n,0,r):Sp(n,t,e)}function au(n,t,e){if(0===e.length)return new U(n.segments,{});{const i=function bh(n){return yc(n[0])?n[0].outlets:{[Jt]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Jt)&&n.children[Jt]&&1===n.numberOfChildren&&0===n.children[Jt].segments.length){const o=au(n.children[Jt],t,e);return new U(n.segments,o.children)}return Object.entries(i).forEach(([o,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[o]=wh(n.children[o],t,c))}),Object.entries(n.children).forEach(([o,c])=>{void 0===i[o]&&(r[o]=c)}),new U(n.segments,r)}}function Sp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(yc(o)){const m=cu(o.outlets);return new U(i,m)}if(0===r&&Hf(e[0])){i.push(new ee(n.segments[t].path,Yl(e[0]))),r++;continue}const c=yc(o)?o.outlets[Jt]:`${o}`,h=r<e.length-1?e[r+1]:null;c&&h&&Hf(h)?(i.push(new ee(c,Yl(h))),r+=2):(i.push(new ee(c,{})),r++)}return new U(i,{})}function cu(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Sp(new U([],{}),0,i))}),t}function Yl(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function zf(n,t,e){return n==e.path&&Xr(t,e.parameters)}const $f="imperative";class sa{constructor(t,e){this.id=t,this.url=e}}class lu extends sa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wc extends sa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xh extends sa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class du extends sa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Zl extends sa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ch extends sa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j_ extends sa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wb extends sa{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tp extends sa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yE extends sa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bE{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yb{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eh{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kp{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zb{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kb{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ih{}class $_{constructor(t){this.url=t}}class Qb{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uu,this.attachRef=null}}let uu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Qb,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ap{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Gf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return hu(t,this._root).map(e=>e.value)}}function Gf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Gf(n,e);if(i)return i}return null}function hu(n,t){if(n===t.value)return[t];for(const e of t.children){const i=hu(n,e);if(i.length)return i.unshift(t),i}return[]}class Ao{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mo extends Ap{constructor(t,e){super(t),this.snapshot=e,Mp(this,t)}toString(){return this.snapshot.toString()}}function Ql(n,t){const e=function Xl(n,t){const c=new ed([],{},{},"",{},Jt,t,null,{});return new mu("",new Ao(c,[]))}(0,t),i=new wr.X([new ee("",{})]),r=new wr.X({}),o=new wr.X({}),c=new wr.X({}),h=new wr.X(""),m=new Jl(i,r,c,h,o,Jt,t,e.root);return m.snapshot=e.root,new mo(new Ao(m,[]),e)}class Jl{constructor(t,e,i,r,o,c,h,m){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=c,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,ht.U)(v=>v[gc]))??(0,pt.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(t=>rl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(t=>rl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function fu(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ed{get title(){return this.data?.[gc]}constructor(t,e,i,r,o,c,h,m,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mu extends Ap{constructor(t,e){super(e),this.url=t,Mp(this,e)}toString(){return xc(this._root)}}function Mp(n,t){t.value._routerState=n,t.children.forEach(e=>Mp(n,e))}function xc(n){const t=n.children.length>0?` { ${n.children.map(xc).join(", ")} } `:"";return`${n.value}${t}`}function qf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Xr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Xr(t.params,e.params)||n.paramsSubject.next(e.params),function gh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Xr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Xr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Wf(n,t){const e=Xr(n.params,t.params)&&function ce(n,t){return Ce(n,t)&&n.every((e,i)=>Xr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Wf(n.parent,t.parent))}let pu=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(uu),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Sh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=e;const r=this.location,c=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new Xb(e,h,r.injector);this.activated=r.createComponent(c,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return n})();class Xb{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Jl?this.route:t===uu?this.childContexts:this.parent.get(t,e)}}const Sh=new l.OlP("");let po=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Ma([i.queryParams,i.params,i.data]).pipe((0,mi.w)(([o,c,h],m)=>(h={...o,...c,...h},0===m?(0,pt.of)(h):Promise.resolve(h)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const c=(0,l.qFp)(i.component);if(c)for(const{templateName:h}of c.inputs)e.activatedComponentRef.setInput(h,o[h]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function td(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Jb(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return td(n,i,r);return td(n,i)})}(n,t,e);return new Ao(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(h=>td(n,h)),c}}const i=function Ni(n){return new Jl(new wr.X(n.url),new wr.X(n.params),new wr.X(n.queryParams),new wr.X(n.fragment),new wr.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>td(n,o));return new Ao(i,r)}}const Cc="ngNavigationCancelingError";function Zf(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Wl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Th(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Th(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Cc]=!0,i.cancellationCode=t,e&&(i.url=e),i}function ll(n){return n&&n[Cc]}let Rp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(i,r){1&i&&l._UZ(0,"router-outlet")},dependencies:[pu],encapsulation:2})}return n})();function Q(n){const t=n.children&&n.children.map(Q),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Jt&&(e.component=Rp),e}function ae(n){return n.outlet||Jt}function Qe(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ci{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),qf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Kl(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Kl(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Kl(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Kl(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Zb(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Eh(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(qf(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),qf(h.route.value),this.activateChildRoutes(t,null,c.children)}else{const h=Qe(r.snapshot);c.attachRef=null,c.route=r,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Jo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class dl{constructor(t,e){this.component=t,this.route=e}}function nd(n,t,e){const i=n._root;return hl(i,t?t._root:null,e,[i.value])}function ul(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:i}function hl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Kl(t);return n.children.forEach(c=>{(function _u(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const m=function q_(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ce(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ce(n.url,t.url)||!Xr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wf(n,t)||!Xr(n.queryParams,t.queryParams);default:return!Wf(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Jo(i)):(o.data=c.data,o._resolvedData=c._resolvedData),hl(n,t,o.component?h?h.children:null:e,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new dl(h.outlet.component,c))}else c&&vu(t,h,r),r.canActivateChecks.push(new Jo(i)),hl(n,null,o.component?h?h.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Object.entries(o).forEach(([c,h])=>vu(h,e.getContext(c),r)),r}function vu(n,t,e){const i=Kl(n),r=n.value;Object.entries(i).forEach(([o,c])=>{vu(c,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new dl(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function id(n){return"function"==typeof n}function CE(n){return n instanceof uc||"EmptyError"===n?.name}const Kf=Symbol("INITIAL_VALUE");function kh(){return(0,mi.w)(n=>Ma(n.map(t=>t.pipe(ei(1),Or(Kf)))).pipe((0,ht.U)(t=>{for(const e of t)if(!0!==e){if(e===Kf)return Kf;if(!1===e||e instanceof P)return e}return!0}),Bn(t=>t!==Kf),ei(1)))}function iw(n){return(0,tu.z)((0,ti.b)(t=>{if(Wl(t))throw Zf(0,t)}),(0,ht.U)(t=>!0===t))}class Pp{constructor(t){this.segmentGroup=t||null}}class Np{constructor(t){this.urlTree=t}}function fl(n){return nl(new Pp(n))}function ow(n){return nl(new Np(n))}class TE{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new l.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,pt.of)(i);if(r.numberOfChildren>1||!r.children[Jt])return nl(new l.vHH(4e3,!1));r=r.children[Jt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new P(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);i[r]=e[h]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return Object.entries(e.children).forEach(([h,m])=>{c[h]=this.createSegmentGroup(t,m,i,r)}),new U(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const Fp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lp(n,t,e,i,r){const o=aw(n,t,e);return o.matched?(i=function G_(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function rw(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,pt.of)(!0);const o=r.map(c=>{const h=ul(c,n);return Qo(function nw(n){return n&&id(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))});return(0,pt.of)(o).pipe(kh(),iw())}(i,t,e).pipe((0,ht.U)(c=>!0===c?o:{...Fp}))):(0,pt.of)(o)}function aw(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Fp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||ia)(e,n,t);if(!r)return{...Fp};const o={};Object.entries(r.posParams??{}).forEach(([h,m])=>{o[h]=m.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function cw(n,t,e,i){return e.length>0&&function oM(n,t,e){return e.some(i=>Bp(n,t,i)&&ae(i)!==Jt)}(n,e,i)?{segmentGroup:new U(t,rM(i,new U(e,n.children))),slicedSegments:[]}:0===e.length&&function kE(n,t,e){return e.some(i=>Bp(n,t,i))}(n,e,i)?{segmentGroup:new U(n.segments,iM(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new U(n.segments,n.children),slicedSegments:e}}function iM(n,t,e,i,r){const o={};for(const c of i)if(Bp(n,e,c)&&!r[ae(c)]){const h=new U([],{});o[ae(c)]=h}return{...r,...o}}function rM(n,t){const e={};e[Jt]=t;for(const i of n)if(""===i.path&&ae(i)!==Jt){const r=new U([],{});e[ae(i)]=r}return e}function Bp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class sM{constructor(t,e,i,r,o,c,h){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=c,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new TE(this.urlSerializer,this.urlTree)}noMatchError(t){return new l.vHH(4002,!1)}recognize(){const t=cw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Jt).pipe(ko(e=>{if(e instanceof Np)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Pp?this.noMatchError(e):e}),(0,ht.U)(e=>{const i=new ed([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),r=new Ao(i,e),o=new mu("",r),c=function vE(n,t,e=null,i=null){return U_(cl(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(o._root),{state:o,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Jt).pipe(ko(i=>{throw i instanceof Pp?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=Dh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Hn.D)(r).pipe(na(o=>{const c=i.children[o],h=function Ge(n,t){const e=n.filter(i=>ae(i)===t);return e.push(...n.filter(i=>ae(i)!==t)),e}(e,o);return this.processSegmentGroup(t,h,c,o)}),fo((o,c)=>(o.push(...c),o)),Gl(null),function nu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bn((r,o)=>n(r,o,i)):Yo.y,pc(1),e?Gl(t):Uf(()=>new uc))}(),(0,rr.z)(o=>{if(null===o)return fl(i);const c=AE(o);return function aM(n){n.sort((t,e)=>t.value.outlet===Jt?-1:e.value.outlet===Jt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),(0,pt.of)(c)}))}processSegment(t,e,i,r,o,c){return(0,Hn.D)(e).pipe(na(h=>this.processSegmentAgainstRoute(h._injector??t,e,h,i,r,o,c).pipe(ko(m=>{if(m instanceof Pp)return(0,pt.of)(null);throw m}))),Cr(h=>!!h),ko(h=>{if(CE(h))return function lw(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?(0,pt.of)([]):fl(i);throw h}))}processSegmentAgainstRoute(t,e,i,r,o,c,h){return function X_(n,t,e,i){return!!(ae(n)===i||i!==Jt&&Bp(t,e,n))&&("**"===n.path||aw(t,n,e).matched)}(i,r,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,c,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,c):fl(r):fl(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ow(o):this.applyRedirects.lineralizeSegments(i,o).pipe((0,rr.z)(c=>{const h=new U(c,{});return this.processSegment(t,e,h,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:w}=aw(e,r,o);if(!h)return fl(e);const T=this.applyRedirects.applyRedirectCommands(m,r.redirectTo,w);return r.redirectTo.startsWith("/")?ow(T):this.applyRedirects.lineralizeSegments(r,T).pipe((0,rr.z)(O=>this.processSegment(t,i,e,O.concat(v),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,c){let h;if("**"===i.path){const m=r.length>0?xi(r).parameters:{},v=new ed(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RE(i),ae(i),i.component??i._loadedComponent??null,i,Mh(i));h=(0,pt.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),e.children={}}else h=Lp(e,i,r,t).pipe((0,ht.U)(({matched:m,consumedSegments:v,remainingSegments:w,parameters:T})=>m?{snapshot:new ed(v,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RE(i),ae(i),i.component??i._loadedComponent??null,i,Mh(i)),consumedSegments:v,remainingSegments:w}:null));return h.pipe((0,mi.w)(m=>null===m?fl(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,mi.w)(({routes:v})=>{const w=i._loadedInjector??t,{snapshot:T,consumedSegments:O,remainingSegments:B}=m,{segmentGroup:G,slicedSegments:X}=cw(e,O,B,v);if(0===X.length&&G.hasChildren())return this.processChildren(w,v,G).pipe((0,ht.U)(He=>null===He?null:[new Ao(T,He)]));if(0===v.length&&0===X.length)return(0,pt.of)([new Ao(T,[])]);const re=ae(i)===o;return this.processSegment(w,v,G,X,re?Jt:o,!0).pipe((0,ht.U)(He=>[new Ao(T,He)]))}))))}getChildConfig(t,e,i){return e.children?(0,pt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,pt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function SE(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,pt.of)(!0);const o=r.map(c=>{const h=ul(c,n);return Qo(function tw(n){return n&&id(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))});return(0,pt.of)(o).pipe(kh(),iw())}(t,e,i).pipe((0,rr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ti.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Q_(n){return nl(Th(!1,3))}())):(0,pt.of)({routes:[],injector:t})}}function VB(n){const t=n.value.routeConfig;return t&&""===t.path}function AE(n){const t=[],e=new Set;for(const i of n){if(!VB(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=AE(i.children);t.push(new Ao(i.value,r))}return t.filter(i=>!e.has(i))}function RE(n){return n.data||{}}function Mh(n){return n.resolve||{}}function FE(n){return"string"==typeof n.title||null===n.title}function uw(n){return(0,mi.w)(t=>{const e=n(t);return e?(0,Hn.D)(e).pipe((0,ht.U)(()=>t)):(0,pt.of)(t)})}const Xf=new l.OlP("ROUTES");let hw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,pt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Qo(e.loadComponent()).pipe((0,ht.U)(Oh),(0,ti.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Pa(()=>{this.componentLoaders.delete(e)})),r=new mc(i,()=>new Ht.x).pipe(Vf());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,pt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function cM(n,t,e,i){return Qo(n.loadChildren()).pipe((0,ht.U)(Oh),(0,rr.z)(r=>r instanceof l.YKP||Array.isArray(r)?(0,pt.of)(r):(0,Hn.D)(t.compileModuleAsync(r))),(0,ht.U)(r=>{i&&i(n);let o,c,h=!1;return Array.isArray(r)?(c=r,!0):(o=r.create(e).injector,c=o.get(Xf,[],{optional:!0,self:!0}).flat()),{routes:c.map(Q),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Pa(()=>{this.childrenLoaders.delete(i)})),c=new mc(o,()=>new Ht.x).pipe(Vf());return this.childrenLoaders.set(i,c),c}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Oh(n){return function rd(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ev=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ht.x,this.transitionAbortSubject=new Ht.x,this.configLoader=(0,l.f3M)(hw),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(it),this.rootContexts=(0,l.f3M)(uu),this.inputBindingEnabled=null!==(0,l.f3M)(Sh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new bE(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new z_(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new wr.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$f,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bn(o=>0!==o.id),(0,ht.U)(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),(0,mi.w)(o=>{this.currentTransition=o;let c=!1,h=!1;return(0,pt.of)(o).pipe((0,ti.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mi.w)(m=>{const v=m.currentBrowserUrl.toString(),w=!e.navigated||m.extractedUrl.toString()!==v||v!==m.currentUrlTree.toString();if(!w&&"reload"!==(m.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const O="";return this.events.next(new du(m.id,this.urlSerializer.serialize(m.rawUrl),O,0)),m.resolve(null),ta.E}if(e.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,pt.of)(m).pipe((0,mi.w)(O=>{const B=this.transitions?.getValue();return this.events.next(new lu(O.id,this.urlSerializer.serialize(O.extractedUrl),O.source,O.restoredState)),B!==this.transitions?.getValue()?ta.E:Promise.resolve(O)}),function J_(n,t,e,i,r,o){return(0,rr.z)(c=>function Qf(n,t,e,i,r,o,c="emptyOnly"){return new sM(n,t,e,i,r,c,o).recognize()}(n,t,e,i,c.extractedUrl,r,o).pipe((0,ht.U)(({state:h,tree:m})=>({...c,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,ti.b)(O=>{o.targetSnapshot=O.targetSnapshot,o.urlAfterRedirects=O.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects};const B=new Ch(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(B)}));if(w&&e.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:O,extractedUrl:B,source:G,restoredState:X,extras:re}=m,He=new lu(O,this.urlSerializer.serialize(B),G,X);this.events.next(He);const Je=Ql(0,this.rootComponentType).snapshot;return this.currentTransition=o={...m,targetSnapshot:Je,urlAfterRedirects:B,extras:{...re,skipLocationChange:!1,replaceUrl:!1}},(0,pt.of)(o)}{const O="";return this.events.next(new du(m.id,this.urlSerializer.serialize(m.extractedUrl),O,1)),m.resolve(null),ta.E}}),(0,ti.b)(m=>{const v=new j_(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),(0,ht.U)(m=>(this.currentTransition=o={...m,guards:nd(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},o)),function Ah(n,t){return(0,rr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?(0,pt.of)({...e,guardsResult:!0}):function EE(n,t,e,i){return(0,Hn.D)(n).pipe((0,rr.z)(r=>function DE(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,pt.of)(!0);const c=o.map(h=>{const m=Qe(t)??r,v=ul(h,m);return Qo(function Z_(n){return n&&id(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):m.runInContext(()=>v(n,t,e,i))).pipe(Cr())});return(0,pt.of)(c).pipe(kh())}(r.component,r.route,e,t,i)),Cr(r=>!0!==r,!0))}(c,i,r,n).pipe((0,rr.z)(h=>h&&function W_(n){return"boolean"==typeof n}(h)?function IE(n,t,e,i){return(0,Hn.D)(t).pipe(na(r=>To(function BB(n,t){return null!==n&&t&&t(new Yb(n)),(0,pt.of)(!0)}(r.route.parent,i),function tM(n,t){return null!==n&&t&&t(new kp(n)),(0,pt.of)(!0)}(r.route,i),function nM(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function gu(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>mh(()=>{const h=c.guards.map(m=>{const v=Qe(c.node)??e,w=ul(m,v);return Qo(function Y_(n){return n&&id(n.canActivateChild)}(w)?w.canActivateChild(i,n):v.runInContext(()=>w(i,n))).pipe(Cr())});return(0,pt.of)(h).pipe(kh())}));return(0,pt.of)(o).pipe(kh())}(n,r.path,e),function K_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,pt.of)(!0);const r=i.map(o=>mh(()=>{const c=Qe(t)??e,h=ul(o,c);return Qo(function Op(n){return n&&id(n.canActivate)}(h)?h.canActivate(t,n):c.runInContext(()=>h(t,n))).pipe(Cr())}));return(0,pt.of)(r).pipe(kh())}(n,r.route,e))),Cr(r=>!0!==r,!0))}(i,o,n,t):(0,pt.of)(h)),(0,ht.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,m=>this.events.next(m)),(0,ti.b)(m=>{if(o.guardsResult=m.guardsResult,Wl(m.guardsResult))throw Zf(0,m.guardsResult);const v=new Wb(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),Bn(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),uw(m=>{if(m.guards.canActivateChecks.length)return(0,pt.of)(m).pipe((0,ti.b)(v=>{const w=new Tp(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}),(0,mi.w)(v=>{let w=!1;return(0,pt.of)(v).pipe(function dw(n,t){return(0,rr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,pt.of)(e);let o=0;return(0,Hn.D)(r).pipe(na(c=>function OE(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!FE(r)&&(o[gc]=r.title),function PE(n,t,e,i){const r=function NE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,pt.of)({});const o={};return(0,Hn.D)(r).pipe((0,rr.z)(c=>function Rh(n,t,e,i){const r=Qe(t)??i,o=ul(n,r);return Qo(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[c],t,e,i).pipe(Cr(),(0,ti.b)(h=>{o[c]=h}))),pc(1),Oa(o),ko(c=>CE(c)?ta.E:nl(c)))}(o,n,t,i).pipe((0,ht.U)(c=>(n._resolvedData=c,n.data=Dh(n,e).resolve,r&&FE(r)&&(n.data[gc]=r.title),null)))}(c.route,i,n,t)),(0,ti.b)(()=>o++),pc(1),(0,rr.z)(c=>o===r.length?(0,pt.of)(e):ta.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,ti.b)({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(v,"",2)}}))}),(0,ti.b)(v=>{const w=new yE(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}))}),uw(m=>{const v=w=>{const T=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,ti.b)(O=>{w.component=O}),(0,ht.U)(()=>{})));for(const O of w.children)T.push(...v(O));return T};return Ma(v(m.targetSnapshot.root)).pipe(Gl(),ei(1))}),uw(()=>this.afterPreactivation()),(0,ht.U)(m=>{const v=function Yf(n,t,e){const i=td(n,t._root,e?e._root:void 0);return new mo(i,t)}(e.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=o={...m,targetRouterState:v},o}),(0,ti.b)(()=>{this.events.next(new Ih)}),((n,t,e,i)=>(0,ht.U)(r=>(new Ci(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),ei(1),(0,ti.b)({next:m=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),e.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{c=!0}}),Cn(this.transitionAbortSubject.pipe((0,ti.b)(m=>{throw m}))),Pa(()=>{c||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ko(m=>{if(h=!0,ll(m))this.events.next(new xh(o.id,this.urlSerializer.serialize(o.extractedUrl),m.message,m.cancellationCode)),function eo(n){return ll(n)&&Wl(n.url)}(m)?this.events.next(new $_(m.url)):o.resolve(!1);else{this.events.next(new Zl(o.id,this.urlSerializer.serialize(o.extractedUrl),m,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(m))}catch(v){o.reject(v)}}return ta.E}))}))}cancelNavigationTransition(e,i,r){const o=new xh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LE(n){return n!==$f}let BE=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Jt);return i}getResolvedTitleForRoute(e){return e.data[gc]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(lM)},providedIn:"root"})}return n})(),lM=(()=>{class n extends BE{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ve))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(VE)},providedIn:"root"})}return n})();class uM{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let VE=(()=>{class n extends uM{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const tv=new l.OlP("",{providedIn:"root",factory:()=>({})});let hM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(fM)},providedIn:"root"})}return n})(),fM=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Vp||{});function Up(n,t){n.events.pipe(Bn(e=>e instanceof wc||e instanceof xh||e instanceof Zl||e instanceof du),(0,ht.U)(e=>e instanceof wc||e instanceof du?Vp.COMPLETE:e instanceof xh&&(0===e.code||1===e.code)?Vp.REDIRECTING:Vp.FAILED),Bn(e=>e!==Vp.REDIRECTING),ei(1)).subscribe(()=>{t()})}function od(n){throw n}function Hp(n,t,e){return t.parse("/")}const UE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let aa=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Ht.x,this.options=(0,l.f3M)(tv,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||od,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Hp,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(hM),this.routeReuseStrategy=(0,l.f3M)(dM),this.titleStrategy=(0,l.f3M)(BE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(Xf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(ev),this.urlSerializer=(0,l.f3M)(it),this.location=(0,l.f3M)(Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(Sh,{optional:!0}),this.eventsSubscription=new Ko.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new P,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ql(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(mM(i)&&this._events.next(i));if(i instanceof lu)LE(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof du)this.rawUrlTree=r.rawUrl;else if(i instanceof Ch){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof Ih)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof xh)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof $_){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||LE(r.source)};this.scheduleNavigation(o,$f,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Zl&&this.restoreHistory(r,!0),i instanceof wc&&(this.navigated=!0),mM(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$f,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(e);this.scheduleNavigation(h,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Q),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:m}=i,v=m?this.currentUrlTree.fragment:c;let T,w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...o};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}null!==w&&(w=this.removeEmptyProps(w));try{T=cl(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),T=this.currentUrlTree.root}return U_(T,e,w,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Wl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,$f,null,i)}navigate(e,i={skipLocationChange:!1}){return function UB(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...UE}:!1===i?{...HE}:i,Wl(e))return xp(this.currentUrlTree,e,r);const o=this.parseUrl(e);return xp(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let h,m,v;c?(h=c.resolve,m=c.reject,v=c.promise):v=new Promise((T,O)=>{h=T,m=O});const w=this.pendingTasks.add();return Up(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(T=>Promise.reject(T))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",c)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mM(n){return!(n instanceof Ih||n instanceof $_)}let fw=(()=>{class n{constructor(e,i,r,o,c,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new Ht.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(v=>{v instanceof wc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(aa),l.Y36(Jl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(We))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&l.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&i&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return n})(),nv=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,c){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof wc&&this.update()})}ngAfterContentInit(){(0,pt.of)(this.links.changes,(0,pt.of)(null)).pipe((0,hc.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Hn.D)(e).pipe((0,hc.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function mw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(aa),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(fw,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&l.Suo(o,fw,5),2&i){let c;l.iGM(c=l.CRH())&&(r.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]})}return n})();class pM{}let _M=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(e=>e instanceof wc),na(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,h=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,Hn.D)(r).pipe((0,hc.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,pt.of)(null);const o=r.pipe((0,rr.z)(c=>null===c?(0,pt.of)(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,Hn.D)([o,c]).pipe((0,hc.J)())}return o})}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(aa),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(pM),l.LFG(hw))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pw=new l.OlP("");let jE=(()=>{class n{constructor(e,i,r,o,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof lu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof du&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Kb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function Fa(n,t){return{\u0275kind:n,\u0275providers:t}}function GE(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const i=n.get(aa),r=n.get(qE);1===n.get(iv)&&i.initialNavigation(),n.get(YE,null,l.XFs.Optional)?.setUpPreloading(),n.get(pw,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const qE=new l.OlP("",{factory:()=>new Ht.x}),iv=new l.OlP("",{providedIn:"root",factory:()=>1}),YE=new l.OlP("");function yM(n){return Fa(0,[{provide:YE,useExisting:_M},{provide:pM,useExisting:n}])}const em=new l.OlP("ROUTER_FORROOT_GUARD"),ZE=[Ye,{provide:it,useClass:It},aa,uu,{provide:Jl,useFactory:function gw(n){return n.routerState.root},deps:[aa]},hw,[]];function KE(){return new l.PXZ("Router",aa)}let rv=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[ZE,[],{provide:Xf,multi:!0,useValue:e},{provide:em,useFactory:JE,deps:[[aa,new l.FiY,new l.tp0]]},{provide:tv,useValue:i||{}},i?.useHash?{provide:We,useClass:Ue}:{provide:We,useClass:rt},{provide:pw,useFactory:()=>{const n=(0,l.f3M)(Ri),t=(0,l.f3M)(l.R0b),e=(0,l.f3M)(tv),i=(0,l.f3M)(ev),r=(0,l.f3M)(it);return e.scrollOffset&&n.setOffset(e.scrollOffset),new jE(r,i,n,t,e)}},i?.preloadingStrategy?yM(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:KE},i?.initialNavigation?ov(i):[],i?.bindToComponentInputs?Fa(8,[po,{provide:Sh,useExisting:po}]).\u0275providers:[],[{provide:xM,useFactory:GE},{provide:l.tb,multi:!0,useExisting:xM}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Xf,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(em,8))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();function JE(n){return"guarded"}function ov(n){return["disabled"===n.initialNavigation?Fa(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(aa);return()=>{t.setUpLocationChangeListener()}}},{provide:iv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fa(2,[{provide:iv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(Be,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(aa),o=t.get(qE);Up(r,()=>{i(!0)}),t.get(ev).afterPreactivation=()=>(i(!0),o.closed?(0,pt.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const xM=new l.OlP("");function tn(n){return null!=n&&"false"!=`${n}`}function Ss(n,t=0){return function IM(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function nm(n){return Array.isArray(n)?n:[n]}function $i(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Mo(n){return n instanceof l.SBq?n.nativeElement:n}function sv(n){return Bn((t,e)=>n<=e)}var im=V(6321);function zp(n,t=im.z){return(0,zi.e)((e,i)=>{let r=null,o=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function m(){const v=c+n,w=t.now();if(w<v)return r=this.schedule(void 0,v-w),void i.add(r);h()}e.subscribe((0,Ln.x)(i,v=>{o=v,c=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}let av;try{av=typeof Intl<"u"&&Intl.v8BreakIterator}catch{av=!1}let om,sm,am,yw,Ei=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Md(n){return n===Ho}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!av)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ph(n){return function DM(){if(null==om&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>om=!0}))}finally{om=om||!1}return om}()?n:!!n.capture}function iI(){if(null==am){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return am=!1,am;if("scrollBehavior"in document.documentElement.style)am=!0;else{const n=Element.prototype.scrollTo;am=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return am}function $p(){if("object"!=typeof document||!document)return 0;if(null==sm){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),sm=0,0===n.scrollLeft&&(n.scrollLeft=1,sm=0===n.scrollLeft?1:2),n.remove()}return sm}function yu(n){return n.composedPath?n.composedPath()[0]:n.target}function Gp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Nh=new Set;let sd,bw=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):lv}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function qp(n,t){if(!Nh.has(n))try{sd||(sd=document.createElement("style"),t&&(sd.nonce=t),sd.setAttribute("type","text/css"),document.head.appendChild(sd)),sd.sheet&&(sd.sheet.insertRule(`@media ${n} {body{ }}`,0),Nh.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ei),l.LFG(l.Ojb,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lv(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Fh=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ht.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return dv(nm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Ma(dv(nm(e)).map(c=>this._registerQuery(c).observable));return o=To(o.pipe(ei(1)),o.pipe(sv(1),zp(0))),o.pipe((0,ht.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:m,query:v})=>{h.matches=h.matches||m,h.breakpoints[v]=m}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new fi.y(c=>{const h=m=>this._zone.run(()=>c.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Or(i),(0,ht.U)(({matches:c})=>({query:e,matches:c})),Cn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(bw),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dv(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var uv=V(4552);class ZB extends Ht.x{constructor(t=1/0,e=1/0,i=uv.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let h=0;for(let m=1;m<i.length&&i[m]<=c;m+=2)h=m;h&&i.splice(0,h+1)}}}var Wp=V(3020);function Lh(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Wp.B)({connector:()=>new ZB(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function xu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Jp=V(3997);let vv=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cR=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Mo(e);return new fi.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ht.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(vv))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gI=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=tn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ss(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(zp(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(cR),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),Pw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[vv]})}return n})();class uR{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ht.x,this._typeaheadSubscription=Ko.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ht.x,this.change=new Ht.x,t instanceof l.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ti.b)(e=>this._pressedLetters.push(e)),zp(t),Bn(()=>this._pressedLetters.length>0),(0,ht.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,c=i[o];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(o<c?o:c-1,-1);break}return;default:return void((r||xu(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class eg extends uR{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let yI=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function mR(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function fR(n){try{return n.frameElement}catch{return null}}(function pl(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===xI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=xI(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function vR(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function yR(n){return!function pR(n){return function Fw(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function bI(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function gR(n){return function _R(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||wI(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ei))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wI(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function xI(n){if(!wI(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Lw{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ei(1)).subscribe(t)}}let bR=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Lw(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(yI),l.LFG(l.R0b),l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EI(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function yv(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const II=new l.OlP("cdk-input-modality-detector-options"),DI={ignoreKeys:[18,17,224,91,16]},Cu=Ph({passive:!0,capture:!0});let cd=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new wr.X(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yu(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(EI(c)?"keyboard":"mouse"),this._mostRecentTarget=yu(c))},this._onTouchstart=c=>{yv(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yu(c))},this._options={...DI,...o},this.modalityDetected=this._modality.pipe(sv(1)),this.modalityChanged=this.modalityDetected.pipe((0,Jp.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Cu),r.addEventListener("mousedown",this._onMousedown,Cu),r.addEventListener("touchstart",this._onTouchstart,Cu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Cu),document.removeEventListener("mousedown",this._onMousedown,Cu),document.removeEventListener("touchstart",this._onTouchstart,Cu))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ei),l.LFG(l.R0b),l.LFG(he),l.LFG(II,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bv=new l.OlP("cdk-focus-monitor-default-options"),Eu=Ph({passive:!0,capture:!0});let Vh=(()=>{class n{constructor(e,i,r,o,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ht.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=yu(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Mo(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,pt.of)();const o=function YB(n){if(function WB(){if(null==yw){const n=typeof document<"u"?document.head:null;yw=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yw}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new Ht.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Mo(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Mo(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=yu(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Eu),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Eu)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Eu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Eu),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.R0b),l.LFG(Ei),l.LFG(cd),l.LFG(he,8),l.LFG(bv,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const DR="cdk-high-contrast-black-on-white",TI="cdk-high-contrast-white-on-black",wv="cdk-high-contrast-active";let Hw=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(Fh).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(wv,DR,TI),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(wv,DR):2===i&&e.add(wv,TI)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ei),l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SR=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Hw))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Pw]})}return n})();const TR=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function kI(){return(0,l.f3M)(he)}}),AI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Iu=(()=>{class n{constructor(e){this.value="ltr",this.change=new l.vpe,e&&(this.value=function tg(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?AI.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(TR,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const MR=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function jw(){return!0}});let In=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Gp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Hw),l.LFG(MR,8),l.LFG(he))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[dm,dm]})}return n})();function zw(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=tn(t)}constructor(...t){super(...t),this._disabled=!1}}}function ng(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function $w(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=tn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Gw(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ss(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}let um=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ca=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,In]})}return n})();class Ww{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Uh=Ph({passive:!0,capture:!0});class fm{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=yu(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const c=o.get(i);c?c.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Uh)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Uh)))}}const Hh={enterDuration:225,exitDuration:150},jh=Ph({passive:!0,capture:!0}),zh=["mousedown","touchstart"],$h=["mouseup","mouseleave","touchend","touchcancel"];class gl{static#e=this._eventManager=new fm;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Mo(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Hh,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function pm(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,m=e-r.top,v=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-c+"px",w.style.top=m-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(w);const T=window.getComputedStyle(w),B=T.transitionDuration,G="none"===T.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,X=new Ww(this,w,i,G);w.style.transform="scale3d(1, 1, 1)",X.state=0,i.persistent||(this._mostRecentTransientRipple=X);let re=null;return!G&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const He=()=>this._finishRippleTransition(X),Je=()=>this._destroyRipple(X);w.addEventListener("transitionend",He),w.addEventListener("transitioncancel",Je),re={onTransitionEnd:He,onTransitionCancel:Je}}),this._activeRipples.set(X,re),(G||!v)&&this._finishRippleTransition(X),X}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Hh,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Mo(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,zh.forEach(i=>{gl._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$h.forEach(e=>{this._triggerElement.addEventListener(e,this,jh)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=EI(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!yv(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(zh.forEach(e=>gl._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&$h.forEach(e=>t.removeEventListener(e,this,jh)))}}const Su=new l.OlP("mat-ripple-global-options");let Yw=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new gl(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Ei),l.Y36(Su,8),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),gm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,In]})}return n})(),Zw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In]})}return n})(),UR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[gm,gn,In,Zw]})}return n})();const LI={capture:!0},BI=["focus","click","mouseenter","touchstart"],Kw="mat-ripple-loader-uninitialized",ig="mat-ripple-loader-class-name",_m="mat-ripple-loader-centered",vm="mat-ripple-loader-disabled";let rg=(()=>{class n{constructor(){this._document=(0,l.f3M)(he,{optional:!0}),this._animationMode=(0,l.f3M)(l.QbO,{optional:!0}),this._globalRippleOptions=(0,l.f3M)(Su,{optional:!0}),this._platform=(0,l.f3M)(Ei),this._ngZone=(0,l.f3M)(l.R0b),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${Kw}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of BI)this._document?.addEventListener(e,this._onInteraction,LI)})}ngOnDestroy(){for(const e of BI)this._document?.removeEventListener(e,this._onInteraction,LI)}configureRipple(e,i){e.setAttribute(Kw,""),(i.className||!e.hasAttribute(ig))&&e.setAttribute(ig,i.className||""),i.centered&&e.setAttribute(_m,""),i.disabled&&e.setAttribute(vm,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(vm,""):e.removeAttribute(vm)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(ig)),e.append(i);const r=new Yw(new l.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(_m),r.disabled=e.hasAttribute(vm),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(Kw),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const VI=["*",[["mat-toolbar-row"]]],og=["*","mat-toolbar-row"],UI=ng(class{constructor(n){this._elementRef=n}});let HR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),sg=(()=>{class n extends UI{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Ei),l.Y36(he))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&l.Suo(o,HR,5),2&i){let c;l.iGM(c=l.CRH())&&(r._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&l.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:og,decls:2,vars:0,template:function(i,r){1&i&&(l.F$t(VI),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),jR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,In]})}return n})();const zR=["mat-button",""],HI=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Cv=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],tU=["mat-fab",""],Xw=["mat-icon-button",""],$R=["*"],jI=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],zI=ng(zw($w(class{constructor(n){this._elementRef=n}})));let Iv=(()=>{class n extends zI{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=tn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=tn(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,l.f3M)(Vh),this._rippleLoader=(0,l.f3M)(rg),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const c=e.nativeElement.classList;for(const h of jI)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(m=>{c.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275dir=l.lG2({type:n,features:[l.qOj]})}return n})(),$I=(()=>{class n extends Iv{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Ei),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:zR,ngContentSelectors:Cv,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(l.F$t(HI),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&i&&l.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const Jw=new l.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:qI});function qI(){return{color:"accent"}}const ag=qI();let t0=(()=>{class n extends Iv{get extended(){return this._extended}set extended(e){this._extended=tn(e)}constructor(e,i,r,o,c){super(e,i,r,o),this._options=c,this._isFab=!0,this._options=this._options||ag,this.color=this.defaultColor=this._options.color||ag.color}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Ei),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(Jw,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(i,r){2&i&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[l.qOj],attrs:tU,ngContentSelectors:Cv,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(l.F$t(HI),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&i&&l.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),WI=(()=>{class n extends Iv{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Ei),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Xw,ngContentSelectors:$R,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),cg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,gm,In]})}return n})();var r0=V(4266);const YI=["addListener","removeListener"],YR=["addEventListener","removeEventListener"],ZR=["on","off"];function ym(n,t,e,i){if((0,ho.m)(e)&&(i=e,e=void 0),i)return ym(n,t,e).pipe(dc(i));const[r,o]=function s0(n){return(0,ho.m)(n.addEventListener)&&(0,ho.m)(n.removeEventListener)}(n)?YR.map(c=>h=>n[c](t,h,e)):function ZI(n){return(0,ho.m)(n.addListener)&&(0,ho.m)(n.removeListener)}(n)?YI.map(Dv(n,t)):function o0(n){return(0,ho.m)(n.on)&&(0,ho.m)(n.off)}(n)?ZR.map(Dv(n,t)):[];if(!r&&(0,r0.z)(n))return(0,rr.z)(c=>ym(c,t,e))((0,fc.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new fi.y(c=>{const h=(...m)=>c.next(1<m.length?m:m[0]);return r(h),()=>o(h)})}function Dv(n,t){return e=>i=>n[e](t,i)}var KI=V(1954);const bm={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=bm;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Ko.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=bm;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=bm;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var a0=V(2631);new class XI extends a0.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class QI extends KI.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=bm.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(bm.cancelAnimationFrame(e),t._scheduled=void 0)}});let Sv,JI=1;const wm={};function c0(n){return n in wm&&(delete wm[n],!0)}const eD={setImmediate(n){const t=JI++;return wm[t]=!0,Sv||(Sv=Promise.resolve()),Sv.then(()=>c0(t)&&n()),t},clearImmediate(n){c0(n)}},{setImmediate:tD,clearImmediate:nD}=eD,lg={setImmediate(...n){const{delegate:t}=lg;return(t?.setImmediate||tD)(...n)},clearImmediate(n){const{delegate:t}=lg;return(t?.clearImmediate||nD)(n)},delegate:void 0},xm=new class rD extends a0.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class iD extends KI.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=lg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(lg.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var e1=V(671);function Tu(n=0,t,e=im.P){let i=-1;return null!=t&&((0,e1.K)(t)?e=t:i=t),new fi.y(r=>{let o=function l0(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Tv(n,t=im.z){return function JR(n){return(0,zi.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,e.next(v)}c&&e.complete()},m=()=>{o=null,c&&e.complete()};t.subscribe((0,Ln.x)(e,v=>{i=!0,r=v,o||(0,fc.Xf)(n(v)).subscribe(o=(0,Ln.x)(e,h,m))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Tu(n,t))}let kv=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ht.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new fi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Tv(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,pt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Bn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Mo(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ym(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.R0b),l.LFG(Ei),l.LFG(he,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gi=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Ht.x,this._elementScrolled=new fi.y(c=>this.ngZone.runOutsideAngular(()=>ym(this.elementRef.nativeElement,"scroll").pipe(Cn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=$p()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==$p()?e.left=e.right:1==$p()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;iI()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==$p()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==$p()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(kv),l.Y36(l.R0b),l.Y36(Iu,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),Av=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ht.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Tv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ei),l.LFG(l.R0b),l.LFG(he,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})(),Mv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[dm,qh,dm,qh]})}return n})();var Ec=V(3019);class Rv{}class d0{}const to="*";function la(n,t){return{type:7,name:n,definitions:t,options:{}}}function jr(n,t=null){return{type:4,styles:t,timings:n}}function Ba(n,t=null){return{type:2,steps:n,options:t}}function nn(n){return{type:6,styles:n,offset:null}}function Er(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ir(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class hg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class u0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Nv=["*"],lD=["content"];function dD(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r._onBackdropClicked())}),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Fv(n,t){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const s1=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],uD=["mat-drawer","mat-drawer-content","*"];function hD(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r._onBackdropClicked())}),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function fD(n,t){1&n&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const a1=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],c1=["mat-sidenav","mat-sidenav-content","*"],fg={transformDrawer:la("transform",[Er("open, open-instant",nn({transform:"none",visibility:"visible"})),Er("void",nn({"box-shadow":"none",visibility:"hidden"})),Ir("void => open-instant",jr("0ms")),Ir("void <=> open, open-instant => void",jr("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},mD=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function pD(){return!1}}),Lv=new l.OlP("MAT_DRAWER_CONTAINER");let mg=(()=>{class n extends Gi{constructor(e,i,r,o,c){super(r,o,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>p0)),l.Y36(l.SBq),l.Y36(kv),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&l.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[l._Bn([{provide:Gi,useExisting:n}]),l.qOj],ngContentSelectors:Nv,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0})}return n})(),m0=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=tn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=tn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(tn(e))}constructor(e,i,r,o,c,h,m,v){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=c,this._interactivityChecker=h,this._doc=m,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ht.x,this._animationEnd=new Ht.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(Bn(w=>w),(0,ht.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Bn(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),Oa(void 0)),this._closedStream=this.openedChange.pipe(Bn(w=>!w),(0,ht.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Bn(w=>w.fromState!==w.toState&&"void"===w.toState),Oa(void 0)),this._destroyed=new Ht.x,this.onPositionChanged=new l.vpe,this._modeChanged=new Ht.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ym(this._elementRef.nativeElement,"keydown").pipe(Bn(w=>27===w.keyCode&&!this.disableClose&&!xu(w)),Cn(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe((0,Jp.x)((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{const{fromState:T,toState:O}=w;(0===O.indexOf("open")&&"void"===T||"void"===O&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(ei(1)).subscribe(c=>o(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(bR),l.Y36(Vh),l.Y36(Ei),l.Y36(l.R0b),l.Y36(yI),l.Y36(he,8),l.Y36(Lv,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&l.Gf(lD,5),2&i){let o;l.iGM(o=l.CRH())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&l.WFA("@transform.start",function(c){return r._animationStarted.next(c)})("@transform.done",function(c){return r._animationEnd.next(c)}),2&i&&(l.uIk("align",null),l.d8E("@transform",r._animationState),l.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Nv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[Gi],encapsulation:2,data:{animation:[fg.transformDrawer]},changeDetection:0})}return n})(),p0=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=tn(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=null==e?null:tn(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,c,h=!1,m){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new Ht.x,this._doCheckSubject=new Ht.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ht.x,e&&e.change.pipe(Cn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Cn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe(Or(this._allDrawers),Cn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Or(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(zp(10),Cn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Bn(i=>i.fromState!==i.toState),Cn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Cn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Cn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ei(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Cn((0,Ec.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return null!=e&&e.opened}_drawerHasBackdrop(e){return null==this._backdropOverride?!!e&&"side"!==e.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Iu,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(Av),l.Y36(mD),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(l.Suo(o,mg,5),l.Suo(o,m0,5)),2&i){let c;l.iGM(c=l.CRH())&&(r._content=c.first),l.iGM(c=l.CRH())&&(r._allDrawers=c)}},viewQuery:function(i,r){if(1&i&&l.Gf(mg,5),2&i){let o;l.iGM(o=l.CRH())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:Lv,useExisting:n}])],ngContentSelectors:uD,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(l.F$t(s1),l.YNc(0,dD,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Fv,2,0,"mat-drawer-content",1)),2&i&&(l.Q6J("ngIf",r.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!r._content))},dependencies:[Ar,mg],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),Bv=(()=>{class n extends mg{constructor(e,i,r,o,c){super(e,i,r,o,c)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>_D)),l.Y36(l.SBq),l.Y36(kv),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&l.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[l._Bn([{provide:Gi,useExisting:n}]),l.qOj],ngContentSelectors:Nv,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0})}return n})(),gD=(()=>{class n extends m0{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=tn(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ss(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ss(e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(l.uIk("align",null),l.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:Nv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[Gi],encapsulation:2,data:{animation:[fg.transformDrawer]},changeDetection:0})}return n})(),_D=(()=>{class n extends p0{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(l.Suo(o,Bv,5),l.Suo(o,gD,5)),2&i){let c;l.iGM(c=l.CRH())&&(r._content=c.first),l.iGM(c=l.CRH())&&(r._allDrawers=c)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:Lv,useExisting:n}]),l.qOj],ngContentSelectors:c1,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(l.F$t(a1),l.YNc(0,hD,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,fD,2,0,"mat-sidenav-content",1)),2&i&&(l.Q6J("ngIf",r.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!r._content))},dependencies:[Ar,Bv],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),d1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[gn,In,qh,qh,In]})}return n})();class g0{}class ud{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ud?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ud;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ud?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class u1{encodeKey(t){return yD(t)}encodeValue(t){return yD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const f1=/%(\d[a-f0-9])/gi,m1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yD(n){return encodeURIComponent(n).replace(f1,(t,e)=>m1[e]??t)}function Vv(n){return`${n}`}class ku{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new u1,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function h1(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],m=e.get(c)||[];m.push(h),e.set(c,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Vv):[Vv(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ku({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Vv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Vv(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class p1{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function v0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function y0(n){return typeof Blob<"u"&&n instanceof Blob}function b0(n){return typeof FormData<"u"&&n instanceof FormData}class Cm{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function g1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ud),this.context||(this.context=new p1),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+c}}else this.params=new ku,this.urlWithParams=e}serializeBody(){return null===this.body?null:v0(this.body)||y0(this.body)||b0(this.body)||function bD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ku?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b0(this.body)?null:y0(this.body)?this.body.type||null:v0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ku?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,v=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((T,O)=>T.set(O,t.setHeaders[O]),m)),t.setParams&&(v=Object.keys(t.setParams).reduce((T,O)=>T.set(O,t.setParams[O]),v)),new Cm(e,i,o,{params:v,headers:m,context:w,reportProgress:h,responseType:r,withCredentials:c})}}var Uv=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Uv||{});class wD{constructor(t,e=200,i="OK"){this.headers=t.headers||new ud,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Em extends wD{constructor(t={}){super(t),this.type=Uv.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Em({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function pg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hd=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Cm)o=e;else{let m,v;m=r.headers instanceof ud?r.headers:new ud(r.headers),r.params&&(v=r.params instanceof ku?r.params:new ku({fromObject:r.params})),o=new Cm(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=(0,pt.of)(o).pipe(na(m=>this.handler.handle(m)));if(e instanceof Cm||"events"===r.observe)return c;const h=c.pipe(Bn(m=>m instanceof Em));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,ht.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ku).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,pg(r,i))}post(e,i,r={}){return this.request("POST",e,pg(r,i))}put(e,i,r={}){return this.request("PUT",e,pg(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(g0))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const yg=["*"];let zv;function bg(n){return function L1(){if(void 0===zv&&(zv=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(zv=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return zv}()?.createHTML(n)||n}function OD(n){return Error(`Unable to find icon with the name "${n}"`)}function PD(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function S0(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Yh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let $v=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Yh(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const c=this._sanitizer.sanitize(l.q3G.HTML,r);if(!c)throw S0(r);const h=bg(c);return this._addSvgIconConfig(e,i,new Yh("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Yh(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(l.q3G.HTML,i);if(!o)throw S0(i);const c=bg(o);return this._addSvgIconSetConfig(e,new Yh("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw PD(e);const r=this._cachedIconsByUrl.get(i);return r?(0,pt.of)(xg(r)):this._loadSvgIconFromConfig(new Yh(e,null)).pipe((0,ti.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,ht.U)(o=>xg(o)))}getNamedSvgIcon(e,i=""){const r=ND(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):nl(OD(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,pt.of)(xg(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ht.U)(i=>xg(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,pt.of)(r):function vD(...n){const t=(0,So.jO)(n),{args:e,keys:i}=Jn(n),r=new fi.y(o=>{const{length:c}=e;if(!c)return void o.complete();const h=new Array(c);let m=c,v=c;for(let w=0;w<c;w++){let T=!1;(0,fc.Xf)(e[w]).subscribe((0,Ln.x)(o,O=>{T||(T=!0,v--),h[w]=O},()=>m--,void 0,()=>{(!m||!T)&&(v||o.next(i?Zo(i,h):h),o.complete())}))}});return t?r.pipe(dc(t)):r}(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(ko(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),(0,pt.of)(null)})))).pipe((0,ht.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw OD(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(c,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ti.b)(i=>e.svgText=i),(0,ht.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,pt.of)(null):this._fetchIcon(e).pipe((0,ti.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(bg("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(bg("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:c,value:h}=r[o];"id"!==c&&i.setAttribute(c,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function RU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!c)throw PD(i);const h=this._inProgressUrlFetches.get(c);if(h)return h;const m=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,ht.U)(v=>bg(v)),Pa(()=>this._inProgressUrlFetches.delete(c)),(0,Wp.B)());return this._inProgressUrlFetches.set(c,m),m}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(ND(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return FD(o)?new Yh(o.url,null,o.options):new Yh(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(hd,8),l.LFG(Wo),l.LFG(he,8),l.LFG(l.qLn))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xg(n){return n.cloneNode(!0)}function ND(n,t){return n+":"+t}function FD(n){return!(!n.url||!n.options)}const B1=ng(class{constructor(n){this._elementRef=n}}),LD=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),V1=new l.OlP("mat-icon-location",{providedIn:"root",factory:function T0(){const n=(0,l.f3M)(he),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),BD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],VD=BD.map(n=>`[${n}]`).join(", "),UD=/^url\(['"]?#(.*?)['"]?\)$/;let HD=(()=>{class n extends B1{get inline(){return this._inline}set inline(e){this._inline=tn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,c,h){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ko.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(VD),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)BD.forEach(c=>{const h=i[o],m=h.getAttribute(c),v=m?m.match(UD):null;if(v){let w=r.get(h);w||(w=[],r.set(h,w)),w.push({name:c,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ei(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36($v),l.$8M("aria-hidden"),l.Y36(V1),l.Y36(l.qLn),l.Y36(LD,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(l.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),l.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:yg,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),U1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,In]})}return n})(),H1=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=tn(e)}get inset(){return this._inset}set inset(e){this._inset=tn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(l.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),Gv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,In]})}return n})();const ua=new l.OlP("NgValueAccessor"),yy=["*"],sx='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',Ag=["unscopedContent"],OO=["text"],eH=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],tH=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],AS=new l.OlP("ListOption");let MS=(()=>{class n{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),RS=(()=>{class n{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),qO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),OS=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(AS,8))};static#t=this.\u0275dir=l.lG2({type:n,hostVars:4,hostBindings:function(i,r){2&i&&l.ekj("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),WO=(()=>{class n extends OS{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[l.qOj]})}return n})(),YO=(()=>{class n extends OS{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[l.qOj]})}return n})();const ZO=new l.OlP("MAT_LIST_CONFIG");let pd=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,l.f3M)(ZO,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=tn(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=tn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,hostVars:1,hostBindings:function(i,r){2&i&&l.uIk("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),Rg=(()=>{class n{set lines(e){this._explicitLines=Ss(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=tn(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=tn(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,o,c,h){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Ko.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=c||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===h,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new gl(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Ec.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(pd,8),l.Y36(Ei),l.Y36(Su,8),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,contentQueries:function(i,r,o){if(1&i&&(l.Suo(o,WO,4),l.Suo(o,YO,4)),2&i){let c;l.iGM(c=l.CRH())&&(r._avatars=c),l.iGM(c=l.CRH())&&(r._icons=c)}},hostVars:4,hostBindings:function(i,r){2&i&&(l.uIk("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),l.ekj("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),PS=(()=>{class n extends pd{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[l._Bn([{provide:pd,useExisting:n}]),l.qOj],ngContentSelectors:yy,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},styles:[sx],encapsulation:2,changeDetection:0})}return n})(),QO=(()=>{class n extends Rg{get activated(){return this._activated}set activated(e){this._activated=tn(e)}constructor(e,i,r,o,c,h){super(e,i,r,o,c,h),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(pd,8),l.Y36(Ei),l.Y36(Su,8),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(1&i&&(l.Suo(o,RS,5),l.Suo(o,MS,5),l.Suo(o,qO,5)),2&i){let c;l.iGM(c=l.CRH())&&(r._lines=c),l.iGM(c=l.CRH())&&(r._titles=c),l.iGM(c=l.CRH())&&(r._meta=c)}},viewQuery:function(i,r){if(1&i&&(l.Gf(Ag,5),l.Gf(OO,5)),2&i){let o;l.iGM(o=l.CRH())&&(r._unscopedContent=o.first),l.iGM(o=l.CRH())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,r){2&i&&(l.uIk("aria-current",r._getAriaCurrent()),l.ekj("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:tH,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,r){1&i&&(l.F$t(eH),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.Hsn(3,2),l.TgZ(4,"span",1,2),l.NdJ("cdkObserveContent",function(){return r._updateItemLines(!0)}),l.Hsn(6,3),l.qZA()(),l.Hsn(7,4),l.Hsn(8,5),l._UZ(9,"div",3))},dependencies:[gI],encapsulation:2,changeDetection:0})}return n})(),FS=(()=>{class n extends pd{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[l._Bn([{provide:pd,useExisting:n}]),l.qOj],ngContentSelectors:yy,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},styles:[sx],encapsulation:2,changeDetection:0})}return n})(),LS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Pw,gn,In,gm,Zw,Gv]})}return n})();function lx(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(e),l.oxw();const r=l.MAs(2);return l.KtG(r.toggle())}),l.TgZ(1,"mat-icon",7),l._uU(2,"menu"),l.qZA()()}}const dx=function(){return["/categoria/lista"]};let eP=(()=>{class n{constructor(){this.breakpointObserver=(0,l.f3M)(Fh),this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,ht.U)(e=>e.matches),Lh())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-navigation"]],decls:18,vars:15,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","",3,"routerLink","routerLinkActive"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(i,r){1&i&&(l.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),l.ALo(3,"async"),l.ALo(4,"async"),l.ALo(5,"async"),l.TgZ(6,"mat-toolbar"),l._uU(7,"Menu"),l.qZA(),l.TgZ(8,"mat-nav-list")(9,"a",3),l._uU(10,"Categorias"),l.qZA()()(),l.TgZ(11,"mat-sidenav-content")(12,"mat-toolbar",4),l.YNc(13,lx,3,0,"button",5),l.ALo(14,"async"),l.TgZ(15,"span"),l._uU(16,"menuDigital"),l.qZA()(),l._UZ(17,"router-outlet"),l.qZA()()),2&i&&(l.xp6(1),l.Q6J("mode",l.lcZ(4,8,r.isHandset$)?"over":"side")("opened",!1===l.lcZ(5,10,r.isHandset$)),l.uIk("role",l.lcZ(3,6,r.isHandset$)?"dialog":"navigation"),l.xp6(8),l.Q6J("routerLink",l.DdM(14,dx))("routerLinkActive","active-link"),l.xp6(4),l.Q6J("ngIf",l.lcZ(14,12,r.isHandset$)))},dependencies:[Ar,pu,fw,nv,sg,WI,gD,_D,Bv,HD,FS,QO,xa],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.active-link[_ngcontent-%COMP%]{background-color:gray}"]})}return n})();var qn=V(2793);function wy(){return(0,zi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Ln.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var ft,zr=V(6304),BS=(V(8977),V(3399)),Me=V(5861),gd=V(7592),Dc=V(4537),ha=V(7879),H=V(9058),VS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_l={},xy=xy||{},rn=VS||self;function Cy(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Am(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Nu="closure_uid_"+(1e9*Math.random()>>>0),Ey=0;function HS(n,t,e){return n.call.apply(n.bind,arguments)}function jS(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ro(n,t,e){return(Ro=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HS:jS).apply(null,arguments)}function Iy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function _o(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return t.prototype[r].apply(i,c)}}function _d(){this.s=this.s,this.o=this.o}_d.prototype.s=!1,_d.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function US(n){Object.prototype.hasOwnProperty.call(n,Nu)&&n[Nu]||(n[Nu]=++Ey)}(this)},_d.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zS=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function $S(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function nP(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Cy(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function rs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}rs.prototype.h=function(){this.defaultPrevented=!0};var GS=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rn.addEventListener("test",()=>{},t),rn.removeEventListener("test",()=>{},t)}catch{}return n}();function Og(n){return/^[\s\xa0]*$/.test(n)}function Dy(){var n=rn.navigator;return n&&(n=n.userAgent)?n:""}function vl(n){return-1!=Dy().indexOf(n)}function qS(n){return qS[" "](n),n}qS[" "]=function(){};var Sy,n,cH=vl("Opera"),Pg=vl("Trident")||vl("MSIE"),iP=vl("Edge"),ux=iP||Pg,Ng=vl("Gecko")&&!(-1!=Dy().toLowerCase().indexOf("webkit")&&!vl("Edge"))&&!(vl("Trident")||vl("MSIE"))&&!vl("Edge"),rP=-1!=Dy().toLowerCase().indexOf("webkit")&&!vl("Edge");function WS(){var n=rn.document;return n?n.documentMode:void 0}e:{var vd="",Ty=(n=Dy(),Ng?/rv:([^\);]+)(\)|;)/.exec(n):iP?/Edge\/([\d\.]+)/.exec(n):Pg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rP?/WebKit\/(\S+)/.exec(n):cH?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ty&&(vd=Ty?Ty[1]:""),Pg){var Fg=WS();if(null!=Fg&&Fg>parseFloat(vd)){Sy=String(Fg);break e}}Sy=vd}var hx=rn.document&&Pg&&(WS()||parseInt(Sy,10))||void 0;function tf(n,t){if(rs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Ng){e:{try{qS(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ky[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tf.$.h.call(this)}}_o(tf,rs);var ky={2:"touch",3:"pen",4:"mouse"};tf.prototype.h=function(){tf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ay="closure_listenable_"+(1e6*Math.random()|0),lH=0;function dH(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++lH,this.fa=this.ia=!1}function Bg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function fx(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function ZS(n){const t={};for(const e in n)t[e]=n[e];return t}const KS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mx(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<KS.length;o++)e=KS[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Vg(n){this.src=n,this.g={},this.h=0}function My(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=zS(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Bg(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function px(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}Vg.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=px(n,t,i,r);return-1<c?(t=n[c],e||(t.ia=!1)):((t=new dH(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var gx="closure_lm_"+(1e6*Math.random()|0),Ry={};function Oy(n,t,e,i,r){if(i&&i.once)return Py(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Oy(n,t[o],e,i,r);return null}return e=bx(e),n&&n[Ay]?n.O(t,e,Am(i)?!!i.capture:!!i,r):sP(n,t,e,!1,i,r)}function sP(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=Am(r)?!!r.capture:!!r,h=vx(n);if(h||(n[gx]=h=new Vg(n)),(e=h.add(t,e,i,c,o)).proxy)return e;if(i=function QS(){const t=uH;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)GS||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(aP(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Py(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Py(n,t[o],e,i,r);return null}return e=bx(e),n&&n[Ay]?n.P(t,e,Am(i)?!!i.capture:!!i,r):sP(n,t,e,!0,i,r)}function XS(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)XS(n,t[o],e,i,r);else i=Am(i)?!!i.capture:!!i,e=bx(e),n&&n[Ay]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=px(o=n.g[t],e,i,r))&&(Bg(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=vx(n))&&(t=n.g[t.toString()],n=-1,t&&(n=px(t,e,i,r)),(e=-1<n?t[n]:null)&&_x(e))}function _x(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Ay])My(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(aP(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=vx(t))?(My(e,n),0==e.h&&(e.src=null,t[gx]=null)):Bg(n)}}}function aP(n){return n in Ry?Ry[n]:Ry[n]="on"+n}function uH(n,t){if(n.fa)n=!0;else{t=new tf(t,this);var e=n.listener,i=n.la||n.src;n.ia&&_x(n),n=e.call(i,t)}return n}function vx(n){return(n=n[gx])instanceof Vg?n:null}var yx="__closure_events_fn_"+(1e9*Math.random()>>>0);function bx(n){return"function"==typeof n?n:(n[yx]||(n[yx]=function(t){return n.handleEvent(t)}),n[yx])}function io(){_d.call(this),this.i=new Vg(this),this.S=this,this.J=null}function ro(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new rs(t,n);else if(t instanceof rs)t.target=t.target||n;else{var r=t;mx(t=new rs(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=Ug(c,i,!0,t)&&r}if(r=Ug(c=t.g=n,i,!0,t)&&r,r=Ug(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Ug(c=t.g=e[o],i,!1,t)&&r}function Ug(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.fa&&c.capture==e){var h=c.listener,m=c.la||c.src;c.ia&&My(n.i,c),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}_o(io,_d),io.prototype[Ay]=!0,io.prototype.removeEventListener=function(n,t,e,i){XS(this,n,t,e,i)},io.prototype.N=function(){if(io.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Bg(e[i]);delete n.g[t],n.h--}}this.J=null},io.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},io.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var wx=rn.JSON.stringify;function eT(){var n=Cx;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var tT=new class JS{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new xx,n=>n.reset());class xx{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function nT(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function iT(n){rn.setTimeout(()=>{throw n},0)}let Hg,Fu=!1,Cx=new class hH{constructor(){this.h=this.g=null}add(t,e){const i=tT.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},rT=()=>{const n=rn.Promise.resolve(void 0);Hg=()=>{n.then(oT)}};var oT=()=>{for(var n;n=eT();){try{n.h.call(n.g)}catch(e){iT(e)}var t=tT;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Fu=!1};function jg(n,t){io.call(this),this.h=n||1,this.g=t||rn,this.j=Ro(this.qb,this),this.l=Date.now()}function sT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ex(n,t,e){if("function"==typeof n)e&&(n=Ro(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ro(n.handleEvent,n)}return 2147483647<Number(t)?-1:rn.setTimeout(n,t||0)}function cP(n){n.g=Ex(()=>{n.g=null,n.i&&(n.i=!1,cP(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}_o(jg,io),(ft=jg.prototype).ga=!1,ft.T=null,ft.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ro(this,"tick"),this.ga&&(sT(this),this.start()))}},ft.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.N=function(){jg.$.N.call(this),sT(this),delete this.g};class lP extends _d{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:cP(this)}N(){super.N(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ny(n){_d.call(this),this.h=n,this.g={}}_o(Ny,_d);var dP=[];function aT(n,t,e,i){Array.isArray(e)||(e&&(dP[0]=e.toString()),e=dP);for(var r=0;r<e.length;r++){var o=Oy(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function cT(n){fx(n.g,function(t,e){this.g.hasOwnProperty(e)&&_x(t)},n),n.g={}}function Ix(){this.g=!0}function zg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function uP(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return wx(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Ny.prototype.N=function(){Ny.$.N.call(this),cT(this)},Ny.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ix.prototype.Ea=function(){this.g=!1},Ix.prototype.info=function(){};var Mm={},hP=null;function Dx(){return hP=hP||new io}function fP(n){rs.call(this,Mm.Ta,n)}function Fy(n){const t=Dx();ro(t,new fP(t))}function lT(n,t){rs.call(this,Mm.STAT_EVENT,n),this.stat=t}function Ts(n){const t=Dx();ro(t,new lT(t,n))}function s(n,t){rs.call(this,Mm.Ua,n),this.size=t}function a(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){n()},t)}Mm.Ta="serverreachability",_o(fP,rs),Mm.STAT_EVENT="statevent",_o(lT,rs),Mm.Ua="timingevent",_o(s,rs);var d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},u={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function f(){}function y(){}f.prototype.h=null;var F,C={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function D(){rs.call(this,"d")}function R(){rs.call(this,"c")}function $(){}function te(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Ny(this),this.P=Oe,this.V=new jg(n=ux?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}_o(D,rs),_o(R,rs),_o($,f),$.prototype.g=function(){return new XMLHttpRequest},$.prototype.i=function(){return{}},F=new $;var Oe=45e3,Ze={},dt={};function Rt(n,t,e){n.L=1,n.v=hT(sf(t)),n.s=e,n.S=!0,ze(n,null)}function ze(n,t){n.G=Date.now(),oo(n),n.A=sf(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),xH(e.i,"t",i),n.C=0,e=n.l.J,n.h=new le,n.g=qH(n.l,e?t:null,!n.s),0<n.O&&(n.M=new lP(Ro(n.Pa,n,n.g),n.O)),aT(n.U,n.g,"readystatechange",n.nb),t=n.I?ZS(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Fy(),function fH(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var w=v[0];v=v[1];var T=w.split("_");c=2<=T.length&&"type"==T[1]?c+(w+"=")+v+"&":c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Qt(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function vn(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=si(n,e),r==dt){4==t&&(n.o=4,Ts(14),i=!1),zg(n.j,n.m,null,"[Incomplete Response]");break}if(r==Ze){n.o=4,Ts(15),zg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}zg(n.j,n.m,r,null),Sx(n,r)}Qt(n)&&r!=dt&&r!=Ze&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ts(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),bP(t),t.M=!0,Ts(11))):(zg(n.j,n.m,e,"[Invalid Chunked Response]"),rf(n),nf(n))}function si(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?dt:(e=Number(t.substring(e,i)),isNaN(e)?Ze:(i+=1)+e>t.length?dt:(t=t.slice(i,i+e),n.C=i+e,t))}function oo(n){n.Y=Date.now()+n.P,yl(n,n.P)}function yl(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=a(Ro(n.lb,n),t)}function yd(n){n.B&&(rn.clearTimeout(n.B),n.B=null)}function nf(n){0==n.l.H||n.J||jH(n.l,n)}function rf(n){yd(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,sT(n.V),cT(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function Sx(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||mP(e.i,n)))if(!n.K&&mP(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;vT(e),gT(e)}yP(e),Ts(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=a(Ro(e.ib,e),6e3));if(1>=IH(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Gg(e,11)}else if((n.K||e.g==n)&&vT(e),!Og(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.V=v[0],v=v[1],2==e.H)if("c"==v[0]){e.K=v[1],e.pa=v[2];const w=v[3];null!=w&&(e.ra=w,e.l.info("VER="+e.ra));const T=v[4];null!=T&&(e.Ga=T,e.l.info("SVER="+e.Ga));const O=v[5];null!=O&&"number"==typeof O&&0<O&&(e.L=i=1.5*O,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var o=i.i;o.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(pP(o,o.h),o.h=null))}if(i.F){const X=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(i.Da=X,qi(i.I,i.F,X))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var c=n;if((i=e).wa=GH(i,i.J?i.pa:null,i.Y),c.K){DH(i.i,c);var h=c,m=i.L;m&&h.setTimeout(m),h.B&&(yd(h),oo(h)),i.g=c}else UH(i);0<e.j.length&&_T(e)}else"stop"!=v[0]&&"close"!=v[0]||Gg(e,7);else 3==e.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Gg(e,7):vP(e):"noop"!=v[0]&&e.h&&e.h.Aa(v),e.A=0)}Fy()}catch{}}function gH(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Cy(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function wq(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Cy(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function bq(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Cy(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(ft=te.prototype).setTimeout=function(n){this.P=n},ft.nb=function(n){n=n.target;const t=this.M;t&&3==Lu(n)?t.l():this.Pa(n)},ft.Pa=function(n){try{if(n==this.g)e:{const w=Lu(this.g);var t=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||ux||this.g&&(this.h.h||this.g.ja()||PH(this.g)))){this.J||4!=w||7==t||Fy(),yd(this);var e=this.g.da();this.ca=e;t:if(Qt(this)){var i=PH(this.g);n="";var r=i.length,o=4==Lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rf(this),nf(this);var c="";break t}this.h.i=new rn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==e,function mH(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,w,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Og(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Ts(12),rf(this),nf(this);break e}zg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sx(this,e)}this.S?(vn(this,w,c),ux&&this.i&&3==w&&(aT(this.U,this.V,"tick",this.mb),this.V.start())):(zg(this.j,this.m,c,null),Sx(this,c)),4==w&&rf(this),this.i&&!this.J&&(4==w?jH(this.l,this):(this.i=!1,oo(this)))}else(function Vq(n){const t={};n=(n.g&&2<=Lu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Og(n[i]))continue;var e=nT(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function oP(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Ts(12)):(this.o=0,Ts(13)),rf(this),nf(this)}}}catch{}},ft.mb=function(){if(this.g){var n=Lu(this.g),t=this.g.ja();this.C<t.length&&(yd(this),vn(this,n,t),this.i&&4!=n&&oo(this))}},ft.cancel=function(){this.J=!0,rf(this)},ft.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function pH(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Fy(),Ts(17)),rf(this),this.o=2,nf(this)):yl(this,this.Y-n)};var _H=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $g(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $g){this.h=n.h,dT(this,n.j),this.s=n.s,this.g=n.g,uT(this,n.m),this.l=n.l;var t=n.i,e=new Ax;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),vH(this,e),this.o=n.o}else n&&(t=String(n).match(_H))?(this.h=!1,dT(this,t[1]||"",!0),this.s=Tx(t[2]||""),this.g=Tx(t[3]||"",!0),uT(this,t[4]),this.l=Tx(t[5]||"",!0),vH(this,t[6]||"",!0),this.o=Tx(t[7]||"")):(this.h=!1,this.i=new Ax(null,this.h))}function sf(n){return new $g(n)}function dT(n,t,e){n.j=e?Tx(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function uT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function vH(n,t,e){t instanceof Ax?(n.i=t,function Tq(n,t){t&&!n.j&&(Rm(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(bH(this,i),xH(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=kx(t,Dq)),n.i=new Ax(t,n.h))}function qi(n,t,e){n.i.set(t,e)}function hT(n){return qi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Tx(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kx(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Cq),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Cq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$g.prototype.toString=function(){var n=[],t=this.j;t&&n.push(kx(t,yH,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(kx(t,yH,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(kx(e,"/"==e.charAt(0)?Iq:Eq,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",kx(e,Sq)),n.join("")};var yH=/[#\/\?@]/g,Eq=/[#\?:]/g,Iq=/[#\?]/g,Dq=/[#\?@]/g,Sq=/#/g;function Ax(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Rm(n){n.g||(n.g=new Map,n.h=0,n.i&&function xq(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function bH(n,t){Rm(n),t=Ly(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function wH(n,t){return Rm(n),t=Ly(n,t),n.g.has(t)}function xH(n,t,e){bH(n,t),0<e.length&&(n.i=null,n.g.set(Ly(n,t),$S(e)),n.h+=e.length)}function Ly(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function CH(n){this.l=n||Aq,n=rn.PerformanceNavigationTiming?0<(n=rn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rn.g&&rn.g.Ka&&rn.g.Ka()&&rn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Ax.prototype).add=function(n,t){Rm(this),this.i=null,n=Ly(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ft.forEach=function(n,t){Rm(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ft.ta=function(){Rm(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},ft.Z=function(n){Rm(this);let t=[];if("string"==typeof n)wH(this,n)&&(t=t.concat(this.g.get(Ly(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ft.set=function(n,t){return Rm(this),this.i=null,wH(this,n=Ly(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ft.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var Aq=10;function EH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function IH(n){return n.h?1:n.g?n.g.size:0}function mP(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function pP(n,t){n.g?n.g.add(t):n.h=t}function DH(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function SH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return $S(n.i)}CH.prototype.cancel=function(){if(this.i=SH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Mq=class{stringify(n){return rn.JSON.stringify(n,void 0)}parse(n){return rn.JSON.parse(n,void 0)}};function Rq(){this.g=new Mq}function Oq(n,t,e){const i=e||"";try{gH(n,function(r,o){let c=r;Am(r)&&(c=wx(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function fT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Mx(n){this.l=n.fc||null,this.j=n.ob||!1}function mT(n,t){io.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=gP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_o(Mx,f),Mx.prototype.g=function(){return new mT(this.l,this.j)},Mx.prototype.i=function(n){return function(){return n}}({}),_o(mT,io);var gP=0;function TH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Rx(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ox(n)}function Ox(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=mT.prototype).open=function(n,t){if(this.readyState!=gP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ox(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||rn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rx(this)),this.readyState=gP},ft.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ox(this)),this.g&&(this.readyState=3,Ox(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ft.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Rx(this):Ox(this),3==this.readyState&&TH(this)}},ft.Za=function(n){this.g&&(this.response=this.responseText=n,Rx(this))},ft.Ya=function(n){this.g&&(this.response=n,Rx(this))},ft.ka=function(){this.g&&Rx(this)},ft.setRequestHeader=function(n,t){this.v.append(n,t)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(mT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Nq=rn.JSON.parse;function Pr(n){io.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kH,this.L=this.M=!1}_o(Pr,io);var kH="",Fq=/^https?$/i,Lq=["POST","PUT"];function AH(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,MH(n),pT(n)}function MH(n){n.F||(n.F=!0,ro(n,"complete"),ro(n,"error"))}function RH(n){if(n.h&&typeof xy<"u"&&(!n.C[1]||4!=Lu(n)||2!=n.da()))if(n.v&&4==Lu(n))Ex(n.La,0,n);else if(ro(n,"readystatechange"),4==Lu(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===c){var r=String(n.I).match(_H)[1]||null;!r&&rn.self&&rn.self.location&&(r=rn.self.location.protocol.slice(0,-1)),i=!Fq.test(r?r.toLowerCase():"")}e=i}if(e)ro(n,"complete"),ro(n,"success");else{n.m=6;try{var o=2<Lu(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",MH(n)}}finally{pT(n)}}}function pT(n,t){if(n.g){OH(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||ro(n,"ready");try{e.onreadystatechange=i}catch{}}}function OH(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(rn.clearTimeout(n.A),n.A=null)}function Lu(n){return n.g?n.g.readyState:0}function PH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case kH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function NH(n){let t="";return fx(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function _P(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=NH(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):qi(n,t,e))}function Px(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function FH(n){this.Ga=0,this.j=[],this.l=new Ix,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Px("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Px("baseRetryDelayMs",5e3,n),this.hb=Px("retryDelaySeedMs",1e4,n),this.eb=Px("forwardChannelMaxRetries",2,n),this.xa=Px("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new CH(n&&n.concurrentRequestLimit),this.Ja=new Rq,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vP(n){if(LH(n),3==n.H){var t=n.W++,e=sf(n.I);if(qi(e,"SID",n.K),qi(e,"RID",t),qi(e,"TYPE","terminate"),Nx(n,e),(t=new te(n,n.l,t)).L=2,t.v=hT(sf(e)),e=!1,rn.navigator&&rn.navigator.sendBeacon)try{e=rn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&rn.Image&&((new Image).src=t.v,e=!0),e||(t.g=qH(t.l,null),t.g.ha(t.v)),t.G=Date.now(),oo(t)}$H(n)}function gT(n){n.g&&(bP(n),n.g.cancel(),n.g=null)}function LH(n){gT(n),n.u&&(rn.clearTimeout(n.u),n.u=null),vT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rn.clearTimeout(n.m),n.m=null)}function _T(n){if(!EH(n.i)&&!n.m){n.m=!0;var t=n.Na;Hg||rT(),Fu||(Hg(),Fu=!0),Cx.add(t,n),n.C=0}}function BH(n,t){var e;e=t?t.m:n.W++;const i=sf(n.I);qi(i,"SID",n.K),qi(i,"RID",e),qi(i,"AID",n.V),Nx(n,i),n.o&&n.s&&_P(i,n.o,n.s),e=new te(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=VH(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),pP(n.i,e),Rt(e,i,t)}function Nx(n,t){n.na&&fx(n.na,function(e,i){qi(t,i,e)}),n.h&&gH({},function(e,i){qi(t,i,e)})}function VH(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Ro(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let m=0;m<e;m++){let v=r[m].g;const w=r[m].map;if(v-=o,0>v)o=Math.max(0,r[m].g-100),h=!1;else try{Oq(w,c,"req"+v+"_")}catch{i&&i(w)}}if(h){i=c.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function UH(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Hg||rT(),Fu||(Hg(),Fu=!0),Cx.add(t,n),n.A=0}}function yP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=a(Ro(n.Ma,n),zH(n,n.A)),n.A++,0))}function bP(n){null!=n.B&&(rn.clearTimeout(n.B),n.B=null)}function HH(n){n.g=new te(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=sf(n.wa);qi(t,"RID","rpc"),qi(t,"SID",n.K),qi(t,"AID",n.V),qi(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&qi(t,"TO",n.qa),qi(t,"TYPE","xmlhttp"),Nx(n,t),n.o&&n.s&&_P(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=hT(sf(t)),e.s=null,e.S=!0,ze(e,n)}function vT(n){null!=n.v&&(rn.clearTimeout(n.v),n.v=null)}function jH(n,t){var e=null;if(n.g==t){vT(n),bP(n),n.g=null;var i=2}else{if(!mP(n.i,t))return;e=t.F,DH(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;ro(i=Dx(),new s(i,e)),_T(n)}else UH(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function Uq(n,t){return!(IH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=a(Ro(n.Na,n,t),zH(n,n.C)),n.C++,0)))}(n,t)||2==i&&yP(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Gg(n,5);break;case 4:Gg(n,10);break;case 3:Gg(n,6);break;default:Gg(n,2)}}function zH(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Gg(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Ro(n.pb,n);e||(e=new $g("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||dT(e,"https"),hT(e)),function Pq(n,t){const e=new Ix;if(rn.Image){const i=new Image;i.onload=Iy(fT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Iy(fT,e,i,"TestLoadImage: error",!1,t),i.onabort=Iy(fT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Iy(fT,e,i,"TestLoadImage: timeout",!1,t),rn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ts(2);n.H=0,n.h&&n.h.za(t),$H(n),LH(n)}function $H(n){if(n.H=0,n.ma=[],n.h){const t=SH(n.i);(0!=t.length||0!=n.j.length)&&(nP(n.ma,t),nP(n.ma,n.j),n.i.i.length=0,$S(n.j),n.j.length=0),n.h.ya()}}function GH(n,t,e){var i=e instanceof $g?sf(e):new $g(e);if(""!=i.g)t&&(i.g=t+"."+i.g),uT(i,i.m);else{var r=rn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new $g(null);i&&dT(o,i),t&&(o.g=t),r&&uT(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&qi(i,e,t),qi(i,"VER",n.ra),Nx(n,i),i}function qH(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Pr(e&&n.Ha&&!n.va?new Mx({ob:!0}):n.va)).Oa(n.J),t}function WH(){}function yT(){if(Pg&&!(10<=Number(hx)))throw Error("Environmental error: no available transport.")}function Sc(n,t){io.call(this),this.g=new FH(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Og(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Og(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new By(this)}function YH(n){D.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function ZH(){R.call(this),this.status=1}function By(n){this.g=n}function bd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wP(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],c=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;c=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(c<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(t=e+((c=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=o+((c=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function pi(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(ft=Pr.prototype).Oa=function(n){this.M=n},ft.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():F.g(),this.C=function g(n){return n.h||(n.h=n.i())}(this.u?this.u:F),this.g.onreadystatechange=Ro(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void AH(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=rn.FormData&&n instanceof rn.FormData,!(0<=zS(Lq,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of e)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OH(this),0<this.B&&((this.L=function Bq(n){return Pg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ro(this.ua,this)):this.A=Ex(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){AH(this,o)}},ft.ua=function(){typeof xy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ro(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ro(this,"complete"),ro(this,"abort"),pT(this))},ft.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pT(this,!0)),Pr.$.N.call(this)},ft.La=function(){this.s||(this.G||this.v||this.l?RH(this):this.kb())},ft.kb=function(){RH(this)},ft.isActive=function(){return!!this.g},ft.da=function(){try{return 2<Lu(this)?this.g.status:-1}catch{return-1}},ft.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Nq(t)}},ft.Ia=function(){return this.m},ft.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=FH.prototype).ra=8,ft.H=1,ft.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new te(this,this.l,n);let o=this.s;if(this.U&&(o?(o=ZS(o),mx(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=VH(this,r,t),qi(e=sf(this.I),"RID",n),qi(e,"CVER",22),this.F&&qi(e,"X-HTTP-Session-Id",this.F),Nx(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(NH(o)))+"&"+t:this.o&&_P(e,this.o,o)),pP(this.i,r),this.bb&&qi(e,"TYPE","init"),this.P?(qi(e,"$req",t),qi(e,"SID","null"),r.aa=!0,Rt(r,e,null)):Rt(r,e,t),this.H=2}}else 3==this.H&&(n?BH(this,n):0==this.j.length||EH(this.i)||BH(this))},ft.Ma=function(){if(this.u=null,HH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=a(Ro(this.jb,this),n)}},ft.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ts(10),gT(this),HH(this))},ft.ib=function(){null!=this.v&&(this.v=null,gT(this),yP(this),Ts(19))},ft.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ts(2)):(this.l.info("Failed to ping google.com"),Ts(1))},ft.isActive=function(){return!!this.h&&this.h.isActive(this)},(ft=WH.prototype).Ba=function(){},ft.Aa=function(){},ft.za=function(){},ft.ya=function(){},ft.isActive=function(){return!0},ft.Va=function(){},yT.prototype.g=function(n,t){return new Sc(n,t)},_o(Sc,io),Sc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Ts(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=GH(n,null,n.Y),_T(n)},Sc.prototype.close=function(){vP(this.g)},Sc.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=wx(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&_T(t)},Sc.prototype.N=function(){this.g.h=null,delete this.j,vP(this.g),delete this.g,Sc.$.N.call(this)},_o(YH,D),_o(ZH,R),_o(By,WH),By.prototype.Ba=function(){ro(this.g,"a")},By.prototype.Aa=function(n){ro(this.g,new YH(n))},By.prototype.za=function(n){ro(this.g,new ZH)},By.prototype.ya=function(){ro(this.g,"b")},_o(bd,function Hq(){this.blockSize=-1}),bd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bd.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)wP(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){wP(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){wP(this,i),r=0;break}}this.h=r,this.i+=t},bd.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var jq={};function xP(n){return-128<=n&&128>n?function aH(n,t){var e=jq;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new pi([0|t],0>t?-1:0)}):new pi([0|n],0>n?-1:0)}function Bu(n){if(isNaN(n)||!isFinite(n))return Vy;if(0>n)return os(Bu(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=CP;return new pi(t,0)}var CP=4294967296,Vy=xP(0),EP=xP(1),QH=xP(16777216);function af(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function bl(n){return-1==n.h}function os(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new pi(e,~n.h).add(EP)}function bT(n,t){return n.add(os(t))}function wT(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Fx(n,t){this.g=n,this.h=t}function xT(n,t){if(af(t))throw Error("division by zero");if(af(n))return new Fx(Vy,Vy);if(bl(n))return t=xT(os(n),t),new Fx(os(t.g),os(t.h));if(bl(t))return t=xT(n,os(t)),new Fx(os(t.g),t.h);if(30<n.g.length){if(bl(n)||bl(t))throw Error("slowDivide_ only works with positive integers.");for(var e=EP,i=t;0>=i.X(n);)e=XH(e),i=XH(i);var r=Uy(e,1),o=Uy(i,1);for(i=Uy(i,2),e=Uy(e,2);!af(i);){var c=o.add(i);0>=c.X(n)&&(r=r.add(e),o=c),i=Uy(i,1),e=Uy(e,1)}return t=bT(n,r.R(t)),new Fx(r,t)}for(r=Vy;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),c=(o=Bu(e)).R(t);bl(c)||0<c.X(n);)c=(o=Bu(e-=i)).R(t);af(o)&&(o=EP),r=r.add(o),n=bT(n,c)}return new Fx(r,n)}function XH(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new pi(e,n.h)}function Uy(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new pi(r,n.h)}(ft=pi.prototype).ea=function(){if(bl(this))return-os(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:CP+i)*t,t*=CP}return n},ft.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(af(this))return"0";if(bl(this))return"-"+os(this).toString(n);for(var t=Bu(Math.pow(n,6)),e=this,i="";;){var r=xT(e,t).g,o=((0<(e=bT(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(af(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ft.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ft.X=function(n){return bl(n=bT(this,n))?-1:af(n)?0:1},ft.abs=function(){return bl(this)?os(this):this},ft.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),c=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=c>>>16,e[r]=(c&=65535)<<16|(o&=65535)}return new pi(e,-2147483648&e[e.length-1]?-1:0)},ft.R=function(n){if(af(this)||af(n))return Vy;if(bl(this))return bl(n)?os(this).R(os(n)):os(os(this).R(n));if(bl(n))return os(this.R(os(n)));if(0>this.X(QH)&&0>n.X(QH))return Bu(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,c=65535&this.D(i),h=n.D(r)>>>16,m=65535&n.D(r);e[2*i+2*r]+=c*m,wT(e,2*i+2*r),e[2*i+2*r+1]+=o*m,wT(e,2*i+2*r+1),e[2*i+2*r+1]+=c*h,wT(e,2*i+2*r+1),e[2*i+2*r+2]+=o*h,wT(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new pi(e,0)},ft.gb=function(n){return xT(this,n).h},ft.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new pi(e,this.h&n.h)},ft.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new pi(e,this.h|n.h)},ft.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new pi(e,this.h^n.h)},yT.prototype.createWebChannel=yT.prototype.g,Sc.prototype.send=Sc.prototype.u,Sc.prototype.open=Sc.prototype.m,Sc.prototype.close=Sc.prototype.close,d.NO_ERROR=0,d.TIMEOUT=8,d.HTTP_ERROR=6,u.COMPLETE="complete",y.EventType=C,C.OPEN="a",C.CLOSE="b",C.ERROR="c",C.MESSAGE="d",io.prototype.listen=io.prototype.O,Pr.prototype.listenOnce=Pr.prototype.P,Pr.prototype.getLastError=Pr.prototype.Sa,Pr.prototype.getLastErrorCode=Pr.prototype.Ia,Pr.prototype.getStatus=Pr.prototype.da,Pr.prototype.getResponseJson=Pr.prototype.Wa,Pr.prototype.getResponseText=Pr.prototype.ja,Pr.prototype.send=Pr.prototype.ha,Pr.prototype.setWithCredentials=Pr.prototype.Oa,bd.prototype.digest=bd.prototype.l,bd.prototype.reset=bd.prototype.reset,bd.prototype.update=bd.prototype.j,pi.prototype.add=pi.prototype.add,pi.prototype.multiply=pi.prototype.R,pi.prototype.modulo=pi.prototype.gb,pi.prototype.compare=pi.prototype.X,pi.prototype.toNumber=pi.prototype.ea,pi.prototype.toString=pi.prototype.toString,pi.prototype.getBits=pi.prototype.D,pi.fromNumber=Bu,pi.fromString=function KH(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return os(KH(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Bu(Math.pow(t,8)),i=Vy,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+o),t);8>o?(o=Bu(Math.pow(t,o)),i=i.R(o).add(Bu(c))):i=(i=i.R(e)).add(Bu(c))}return i};var zq=_l.createWebChannelTransport=function(){return new yT},$q=_l.getStatEventTarget=function(){return Dx()},IP=_l.ErrorCode=d,Gq=_l.EventType=u,qq=_l.Event=Mm,JH=_l.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wq=_l.FetchXmlHttpFactory=Mx,CT=_l.WebChannel=y,Yq=_l.XhrIo=Pr,Zq=_l.Md5=bd,Hy=_l.Integer=pi;const e3="@firebase/firestore";class Oo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Oo.UNAUTHENTICATED=new Oo(null),Oo.GOOGLE_CREDENTIALS=new Oo("google-credentials-uid"),Oo.FIRST_PARTY=new Oo("first-party-uid"),Oo.MOCK_USER=new Oo("mock-user");let jy="9.23.0";const Om=new ha.Yd("@firebase/firestore");function DP(){return Om.logLevel}function Ke(n,...t){if(Om.logLevel<=ha.in.DEBUG){const e=t.map(SP);Om.debug(`Firestore (${jy}): ${n}`,...e)}}function $r(n,...t){if(Om.logLevel<=ha.in.ERROR){const e=t.map(SP);Om.error(`Firestore (${jy}): ${n}`,...e)}}function wl(n,...t){if(Om.logLevel<=ha.in.WARN){const e=t.map(SP);Om.warn(`Firestore (${jy}): ${n}`,...e)}}function SP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const t=`FIRESTORE (${jy}) INTERNAL ASSERTION FAILED: `+n;throw $r(t),new Error(t)}function Nt(n,t){n||Dt()}function gt(n,t){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends H.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class t3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Oo.UNAUTHENTICATED))}shutdown(){}}class Jq{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class eW{constructor(t){this.t=t,this.currentUser=Oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let c=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vo,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=c;t.enqueueRetryable((0,Me.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},m=v=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vo)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Nt("string"==typeof i.accessToken),new t3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Nt(null===t||"string"==typeof t),new Oo(t)}}class tW{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Oo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nW{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new tW(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Oo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iW{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,Ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Nt("string"==typeof e.token),this.T=e.token,new n3(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rW(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class r3{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=rW(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function an(n,t){return n<t?-1:n>t?1:0}function zy(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function o3(n){return n+"\0"}class sr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $e(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $e(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $e(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $e(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return sr.fromMillis(Date.now())}static fromDate(t){return sr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new sr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?an(this.nanoseconds,t.nanoseconds):an(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new sr(0,0))}static max(){return new Lt(new sr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lx{constructor(t,e,i){void 0===e?e=0:e>t.length&&Dt(),void 0===i?i=t.length-e:i>t.length-e&&Dt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Lx.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Lx?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class jn extends Lx{construct(t,e,i){return new jn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new $e(Ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new jn(e)}static emptyPath(){return new jn([])}}const oW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends Lx{construct(t,e,i){return new Nr(t,e,i)}static isValidIdentifier(t){return oW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new $e(Ee.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new $e(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new $e(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new $e(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Nr(e)}static emptyPath(){return new Nr([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(jn.fromString(t))}static fromName(t){return new mt(jn.fromString(t).popFirst(5))}static empty(){return new mt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===jn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return jn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new jn(t.slice()))}}class ET{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function TP(n){return n.fields.find(t=>2===t.kind)}function qg(n){return n.fields.filter(t=>2!==t.kind)}ET.UNKNOWN_ID=-1;class IT{constructor(t,e){this.fieldPath=t,this.kind=e}}class Bx{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Bx(0,Tc.min())}}function s3(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Lt.fromTimestamp(1e9===i?new sr(e+1,0):new sr(e,i));return new Tc(r,mt.empty(),t)}function a3(n){return new Tc(n.readTime,n.key,-1)}class Tc{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Tc(Lt.min(),mt.empty(),-1)}static max(){return new Tc(Lt.max(),mt.empty(),-1)}}function kP(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=mt.comparator(n.documentKey,t.documentKey),0!==e?e:an(n.largestBatchId,t.largestBatchId))}const c3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Pm(n){return AP.apply(this,arguments)}function AP(){return AP=(0,Me.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==c3)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),AP.apply(this,arguments)}class ve{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ve((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ve?e:ve.resolve(e)}catch(e){return ve.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ve.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ve.reject(e)}static resolve(t){return new ve((e,i)=>{e(t)})}static reject(t){return new ve((e,i)=>{i(t)})}static waitFor(t){return new ve((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},m=>i(m))}),c=!0,o===r&&e()})}static or(t){let e=ve.resolve(!1);for(const i of t)e=e.next(r=>r?ve.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ve((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let m=0;m<o;m++){const v=m;e(t[v]).next(w=>{c[v]=w,++h,h===o&&i(c)},w=>r(w))}})}static doWhile(t,e){return new ve((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class DT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new vo,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new Vx(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=MP(i.target.error);this.v.reject(new Vx(t,r))}}static open(t,e,i,r){try{return new DT(e,t.transaction(r,i))}catch(o){throw new Vx(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Ke("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new lW(e)}}class wd{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===wd.S((0,H.z$)())&&$r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ke("SimpleDb","Removing database:",t),Wg(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,H.hl)())return!1;if(wd.C())return!0;const t=(0,H.z$)(),e=wd.S(t),i=0<e&&e<10,r=wd.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,Me.Z)(function*(){return e.db||(Ke("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new Vx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new $e(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new $e(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Vx(t,h))},o.onupgradeneeded=c=>{Ke("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.V.O(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Me.Z)(function*(){const c="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.$(t);const m=DT.open(o.db,t,c?"readonly":"readwrite",i),v=r(m).next(w=>(m.P(),w)).catch(w=>(m.abort(w),ve.reject(w))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,w="FirebaseError"!==v.name&&h<3;if(Ke("SimpleDb","Transaction failed with error:",v.message,"Retrying:",w),o.close(),!w)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cW{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Wg(this.L.delete())}}class Vx extends $e{constructor(t,e){super(Ee.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Nm(n){return"IndexedDbTransactionError"===n.name}class lW{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ke("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Wg(i)}add(t){return Ke("SimpleDb","ADD",this.store.name,t,t),Wg(this.store.add(t))}get(t){return Wg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ke("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ke("SimpleDb","DELETE",this.store.name,t),Wg(this.store.delete(t))}count(){return Ke("SimpleDb","COUNT",this.store.name),Wg(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ve((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ve((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(t,e){Ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,c,h)=>h.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ve((i,r)=>{e.onerror=o=>{const c=MP(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}W(t,e){const i=[];return new ve((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const m=new cW(h),v=e(h.primaryKey,h.value,m);if(v instanceof ve){const w=v.catch(T=>(m.done(),ve.reject(T)));i.push(w)}m.isDone?r():null===m.K?h.continue():h.continue(m.K)}}).next(()=>ve.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Wg(n){return new ve((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=MP(i.target.error);e(r)}})}let d3=!1;function MP(n){const t=wd.S((0,H.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return d3||(d3=!0,setTimeout(()=>{throw i},0)),i}}return n}class dW{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Ke("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Me.Z)(function*(){e.task=null;try{Ke("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Nm(i)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Pm(i)}yield e.et(6e4)}))}}class uW{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,Me.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return ve.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Ke("IndexBackiller",`Processing collection: ${c}`),this.it(t,c,r).next(h=>{r-=h,i.add(c)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.rt(r,o)).next(h=>(Ke("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>c.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const c=a3(o);kP(c,i)>0&&(i=c)}),new Tc(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let kc=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Ux(n){return null==n}function Hx(n){return 0===n&&1/n==-1/0}function u3(n){return"number"==typeof n&&Number.isInteger(n)&&!Hx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ks(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=h3(t)),t=hW(n.get(e),t);return h3(t)}function hW(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function h3(n){return n+"\x01\x01"}function Vu(n){const t=n.length;if(Nt(t>=2),2===t)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),jn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&Dt(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:Dt()}o=c+2}return new jn(i)}const f3=["userId","batchId"];function ST(n,t){return[n,ks(t)]}function m3(n,t,e){return[n,ks(t),e]}const fW={},mW=["prefixPath","collectionGroup","readTime","documentId"],pW=["prefixPath","collectionGroup","documentId"],gW=["collectionGroup","readTime","prefixPath","documentId"],_W=["canonicalId","targetId"],vW=["targetId","path"],yW=["path","targetId"],bW=["collectionId","parent"],wW=["indexId","uid"],xW=["uid","sequenceNumber"],CW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EW=["indexId","uid","orderedDocumentKey"],IW=["userId","collectionPath","documentId"],DW=["userId","collectionPath","largestBatchId"],SW=["userId","collectionGroup","largestBatchId"],p3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],TW=[...p3,"documentOverlays"],g3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_3=g3,kW=[..._3,"indexConfiguration","indexState","indexEntries"];class RP extends l3{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Po(n,t){const e=gt(n);return wd.M(e.ht,t)}function v3(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function y3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Fi{constructor(t,e){this.comparator=t,this.root=e||ss.EMPTY}insert(t,e){return new Fi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(t){return new Fi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ss.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new TT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new TT(this.root,t,this.comparator,!1)}getReverseIterator(){return new TT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new TT(this.root,t,this.comparator,!0)}}class TT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ss{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ss.RED,this.left=r??ss.EMPTY,this.right=o??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ss(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ss.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const t=this.left.check();if(t!==this.right.check())throw Dt();return t+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1,ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ss(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(t){this.comparator=t,this.data=new Fi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new b3(this.data.getIterator())}getIteratorFrom(t){return new b3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Wi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Wi(this.comparator);return e.data=t,e}}class b3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $y(n){return n.hasNext()?n.getNext():void 0}class Ua{constructor(t){this.fields=t,t.sort(Nr.comparator)}static empty(){return new Ua([])}unionWith(t){let e=new Wi(Nr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ua(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zy(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class w3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yo{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new w3("Invalid base64 string: "+r):r}}(t);return new yo(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new yo(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return an(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yo.EMPTY_BYTE_STRING=new yo("");const MW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lm(n){if(Nt(!!n),"string"==typeof n){let t=0;const e=MW.exec(n);if(Nt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fr(n.seconds),nanos:Fr(n.nanos)}}function Fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function cf(n){return"string"==typeof n?yo.fromBase64String(n):yo.fromUint8Array(n)}function kT(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function AT(n){const t=n.mapValue.fields.__previous_value__;return kT(t)?AT(t):t}function jx(n){const t=Lm(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(t.seconds,t.nanos)}class RW{constructor(t,e,i,r,o,c,h,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=v}}class Bm{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Bm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Bm&&t.projectId===this.projectId&&t.database===this.database}}const Vm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},MT={nullValue:"NULL_VALUE"};function Um(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kT(n)?4:I3(n)?9007199254740991:10:Dt()}function Uu(n,t){if(n===t)return!0;const e=Um(n);if(e!==Um(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return jx(n).isEqual(jx(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Lm(i.timestampValue),c=Lm(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,cf(n.bytesValue).isEqual(cf(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Fr(i.geoPointValue.latitude)===Fr(r.geoPointValue.latitude)&&Fr(i.geoPointValue.longitude)===Fr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Fr(i.integerValue)===Fr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Fr(i.doubleValue),c=Fr(r.doubleValue);return o===c?Hx(o)===Hx(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return zy(n.arrayValue.values||[],t.arrayValue.values||[],Uu);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(v3(o)!==v3(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Uu(o[h],c[h])))return!1;return!0}(n,t);default:return Dt()}var r}function zx(n,t){return void 0!==(n.values||[]).find(e=>Uu(e,t))}function Hm(n,t){if(n===t)return 0;const e=Um(n),i=Um(t);if(e!==i)return an(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return an(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=Fr(r.integerValue||r.doubleValue),h=Fr(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return x3(n.timestampValue,t.timestampValue);case 4:return x3(jx(n),jx(t));case 5:return an(n.stringValue,t.stringValue);case 6:return function(r,o){const c=cf(r),h=cf(o);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let m=0;m<c.length&&m<h.length;m++){const v=an(c[m],h[m]);if(0!==v)return v}return an(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=an(Fr(r.latitude),Fr(o.latitude));return 0!==c?c:an(Fr(r.longitude),Fr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let m=0;m<c.length&&m<h.length;++m){const v=Hm(c[m],h[m]);if(v)return v}return an(c.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Vm.mapValue&&o===Vm.mapValue)return 0;if(r===Vm.mapValue)return 1;if(o===Vm.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),m=o.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let w=0;w<h.length&&w<v.length;++w){const T=an(h[w],v[w]);if(0!==T)return T;const O=Hm(c[h[w]],m[v[w]]);if(0!==O)return O}return an(h.length,v.length)}(n.mapValue,t.mapValue);default:throw Dt()}}function x3(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return an(n,t);const e=Lm(n),i=Lm(t),r=an(e.seconds,i.seconds);return 0!==r?r:an(e.nanos,i.nanos)}function Gy(n){return OP(n)}function OP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Lm(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?cf(n.bytesValue).toBase64():"referenceValue"in n?mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=OP(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${OP(i.fields[h])}`;return o+"}"}(n.mapValue):Dt();var t}function Yg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function PP(n){return!!n&&"integerValue"in n}function $x(n){return!!n&&"arrayValue"in n}function C3(n){return!!n&&"nullValue"in n}function E3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function OT(n){return!!n&&"mapValue"in n}function Gx(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Fm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Gx(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Gx(n.arrayValue.values[e]);return t}return Object.assign({},n)}function I3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function OW(n){return"nullValue"in n?MT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Yg(Bm.empty(),mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Dt()}function PW(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Yg(Bm.empty(),mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vm:Dt()}function D3(n,t){const e=Hm(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function S3(n,t){const e=Hm(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class as{constructor(t){this.value=t}static empty(){return new as({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!OT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gx(e)}setAll(t){let e=Nr.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Gx(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());OT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Uu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];OT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Fm(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new as(Gx(this.value))}}function T3(n){const t=[];return Fm(n.fields,(e,i)=>{const r=new Nr([e]);if(OT(i)){const o=T3(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Ua(t)}class Yi{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new Yi(t,0,Lt.min(),Lt.min(),Lt.min(),as.empty(),0)}static newFoundDocument(t,e,i,r){return new Yi(t,1,e,Lt.min(),i,r,0)}static newNoDocument(t,e){return new Yi(t,2,e,Lt.min(),Lt.min(),as.empty(),0)}static newUnknownDocument(t,e){return new Yi(t,3,e,Lt.min(),Lt.min(),as.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jm{constructor(t,e){this.position=t,this.inclusive=e}}function k3(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?mt.comparator(mt.fromName(c.referenceValue),e.key):Hm(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function A3(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Uu(n.position[e],t.position[e]))return!1;return!0}class qy{constructor(t,e="asc"){this.field=t,this.dir=e}}function NW(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class M3{}class On extends M3{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new FW(t,e,i):"array-contains"===e?new VW(t,i):"in"===e?new L3(t,i):"not-in"===e?new UW(t,i):"array-contains-any"===e?new HW(t,i):new On(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new LW(t,i):new BW(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Hm(e,this.value)):null!==e&&Um(this.value)===Um(e)&&this.matchesComparison(Hm(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gi extends M3{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new gi(t,e)}matches(t){return Wy(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Wy(n){return"and"===n.op}function NP(n){return"or"===n.op}function FP(n){return R3(n)&&Wy(n)}function R3(n){for(const t of n.filters)if(t instanceof gi)return!1;return!0}function LP(n){if(n instanceof On)return n.field.canonicalString()+n.op.toString()+Gy(n.value);if(FP(n))return n.filters.map(t=>LP(t)).join(",");{const t=n.filters.map(e=>LP(e)).join(",");return`${n.op}(${t})`}}function O3(n,t){return n instanceof On?(e=n,(i=t)instanceof On&&e.op===i.op&&e.field.isEqual(i.field)&&Uu(e.value,i.value)):n instanceof gi?function(e,i){return i instanceof gi&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,c)=>r&&O3(o,i.filters[c]),!0)}(n,t):void Dt();var e,i}function P3(n,t){const e=n.filters.concat(t);return gi.create(e,n.op)}function N3(n){return n instanceof On?`${(t=n).field.canonicalString()} ${t.op} ${Gy(t.value)}`:n instanceof gi?function(t){return t.op.toString()+" {"+t.getFilters().map(N3).join(" ,")+"}"}(n):"Filter";var t}class FW extends On{constructor(t,e,i){super(t,e,i),this.key=mt.fromName(i.referenceValue)}matches(t){const e=mt.comparator(t.key,this.key);return this.matchesComparison(e)}}class LW extends On{constructor(t,e){super(t,"in",e),this.keys=F3(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class BW extends On{constructor(t,e){super(t,"not-in",e),this.keys=F3(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function F3(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>mt.fromName(i.referenceValue))}class VW extends On{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return $x(e)&&zx(e.arrayValue,this.value)}}class L3 extends On{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&zx(this.value.arrayValue,e)}}class UW extends On{constructor(t,e){super(t,"not-in",e)}matches(t){if(zx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!zx(this.value.arrayValue,e)}}class HW extends On{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!$x(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>zx(this.value.arrayValue,i))}}class jW{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.dt=null}}function BP(n,t=null,e=[],i=[],r=null,o=null,c=null){return new jW(n,t,e,i,r,o,c)}function Zg(n){const t=gt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>LP(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ux(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Gy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Gy(i)).join(",")),t.dt=e}return t.dt}function qx(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!NW(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!O3(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!A3(n.startAt,t.startAt)&&A3(n.endAt,t.endAt)}function PT(n){return mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function NT(n,t){return n.filters.filter(e=>e instanceof On&&e.field.isEqual(t))}function B3(n,t,e){let i=MT,r=!0;for(const o of NT(n,t)){let c=MT,h=!0;switch(o.op){case"<":case"<=":c=OW(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=MT}D3({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];D3({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function V3(n,t,e){let i=Vm,r=!0;for(const o of NT(n,t)){let c=Vm,h=!0;switch(o.op){case">=":case">":c=PW(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Vm}S3({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];S3({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class lf{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function U3(n,t,e,i,r,o,c,h){return new lf(n,t,e,i,r,o,c,h)}function Yy(n){return new lf(n)}function H3(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function VP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function FT(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function UP(n){return null!==n.collectionGroup}function Kg(n){const t=gt(n);if(null===t.wt){t.wt=[];const e=FT(t),i=VP(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new qy(e)),t.wt.push(new qy(Nr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new qy(Nr.keyField(),o))}}}return t.wt}function fa(n){const t=gt(n);if(!t._t)if("F"===t.limitType)t._t=BP(t.path,t.collectionGroup,Kg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Kg(t))e.push(new qy(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new jm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jm(t.startAt.position,t.startAt.inclusive):null;t._t=BP(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function HP(n,t){t.getFirstInequalityField(),FT(n);const e=n.filters.concat([t]);return new lf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function LT(n,t,e){return new lf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Wx(n,t){return qx(fa(n),fa(t))&&n.limitType===t.limitType}function j3(n){return`${Zg(fa(n))}|lt:${n.limitType}`}function jP(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>N3(i)).join(", ")}]`),Ux(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Gy(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Gy(i)).join(",")),`Target(${e})`}(fa(n))}; limitType=${n.limitType})`}function Yx(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):mt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Kg(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const h=k3(r,o,c);return r.inclusive?h<=0:h<0}(e.startAt,Kg(e),i)||e.endAt&&!function(r,o,c){const h=k3(r,o,c);return r.inclusive?h>=0:h>0}(e.endAt,Kg(e),i)));var e,i}function z3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $3(n){return(t,e)=>{let i=!1;for(const r of Kg(n)){const o=zW(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function zW(n,t,e){const i=n.field.isKeyField()?mt.comparator(t.key,e.key):function(r,o,c){const h=o.data.field(r),m=c.data.field(r);return null!==h&&null!==m?Hm(h,m):Dt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Dt()}}class df{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Fm(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return y3(this.inner)}size(){return this.innerSize}}const $W=new Fi(mt.comparator);function Ha(){return $W}const G3=new Fi(mt.comparator);function Zx(...n){let t=G3;for(const e of n)t=t.insert(e.key,e);return t}function q3(n){let t=G3;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Hu(){return Kx()}function W3(){return Kx()}function Kx(){return new df(n=>n.toString(),(n,t)=>n.isEqual(t))}const GW=new Fi(mt.comparator),qW=new Wi(mt.comparator);function xn(...n){let t=qW;for(const e of n)t=t.add(e);return t}const WW=new Wi(an);function zP(){return WW}function Y3(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hx(t)?"-0":t}}function Z3(n){return{integerValue:""+n}}function K3(n,t){return u3(t)?Z3(t):Y3(n,t)}class BT{constructor(){this._=void 0}}function YW(n,t,e){return n instanceof Zy?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&kT(r)&&(r=AT(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Qg?X3(n,t):n instanceof Xg?J3(n,t):function(i,r){const o=Q3(i,r),c=ej(o)+ej(i.gt);return PP(o)&&PP(i.gt)?Z3(c):Y3(i.serializer,c)}(n,t)}function ZW(n,t,e){return n instanceof Qg?X3(n,t):n instanceof Xg?J3(n,t):e}function Q3(n,t){return n instanceof Ky?PP(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Zy extends BT{}class Qg extends BT{constructor(t){super(),this.elements=t}}function X3(n,t){const e=tj(t);for(const i of n.elements)e.some(r=>Uu(r,i))||e.push(i);return{arrayValue:{values:e}}}class Xg extends BT{constructor(t){super(),this.elements=t}}function J3(n,t){let e=tj(t);for(const i of n.elements)e=e.filter(r=>!Uu(r,i));return{arrayValue:{values:e}}}class Ky extends BT{constructor(t,e){super(),this.serializer=t,this.gt=e}}function ej(n){return Fr(n.integerValue||n.doubleValue)}function tj(n){return $x(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qx{constructor(t,e){this.field=t,this.transform=e}}class QW{constructor(t,e){this.version=t,this.transformResults=e}}class ar{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function VT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class UT{}function nj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Xy(n.key,ar.none()):new Qy(n.key,n.data,ar.none());{const e=n.data,i=as.empty();let r=new Wi(Nr.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new uf(n.key,i,new Ua(r.toArray()),ar.none())}}function XW(n,t,e){n instanceof Qy?function(i,r,o){const c=i.value.clone(),h=oj(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof uf?function(i,r,o){if(!VT(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=oj(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(rj(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Xx(n,t,e,i){return n instanceof Qy?function(r,o,c,h){if(!VT(r.precondition,o))return c;const m=r.value.clone(),v=sj(r.fieldTransforms,h,o);return m.setAll(v),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof uf?function(r,o,c,h){if(!VT(r.precondition,o))return c;const m=sj(r.fieldTransforms,h,o),v=o.data;return v.setAll(rj(r)),v.setAll(m),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):(c=e,VT(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function JW(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Q3(i.transform,r||null);null!=o&&(null===e&&(e=as.empty()),e.set(i.field,o))}return e||null}function ij(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&zy(e,i,(r,o)=>function KW(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Qg&&i instanceof Qg||e instanceof Xg&&i instanceof Xg?zy(e.elements,i.elements,Uu):e instanceof Ky&&i instanceof Ky?Uu(e.gt,i.gt):e instanceof Zy&&i instanceof Zy);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Qy extends UT{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class uf extends UT{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rj(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function oj(n,t,e){const i=new Map;Nt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,ZW(c,h,e[r]))}return i}function sj(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,YW(o,c,t))}return i}class Xy extends UT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $P extends UT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&XW(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Xx(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Xx(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=W3();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const m=nj(c,h);null!==m&&i.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),xn())}isEqual(t){return this.batchId===t.batchId&&zy(this.mutations,t.mutations,(e,i)=>ij(e,i))&&zy(this.baseMutations,t.baseMutations,(e,i)=>ij(e,i))}}class qP{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Nt(t.mutations.length===i.length);let r=GW;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new qP(t,e,i,r)}}class WP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class t9{constructor(t,e){this.count=t,this.unchangedNames=e}}var so,zn;function aj(n){switch(n){default:return Dt();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function cj(n){if(void 0===n)return $r("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case so.OK:return Ee.OK;case so.CANCELLED:return Ee.CANCELLED;case so.UNKNOWN:return Ee.UNKNOWN;case so.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case so.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case so.INTERNAL:return Ee.INTERNAL;case so.UNAVAILABLE:return Ee.UNAVAILABLE;case so.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case so.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case so.NOT_FOUND:return Ee.NOT_FOUND;case so.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case so.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case so.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case so.ABORTED:return Ee.ABORTED;case so.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case so.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case so.DATA_LOSS:return Ee.DATA_LOSS;default:return Dt()}}(zn=so||(so={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";class YP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return HT}static getOrCreateInstance(){return null===HT&&(HT=new YP),HT}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let HT=null;function lj(){return new TextEncoder}const n9=new Hy([4294967295,4294967295],0);function dj(n){const t=lj().encode(n),e=new Zq;return e.update(t),new Uint8Array(e.digest())}function uj(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Hy([e,i],0),new Hy([r,o],0)]}class ZP{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Jx(`Invalid padding: ${e}`);if(i<0)throw new Jx(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Jx(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Jx(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Hy.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(Hy.fromNumber(i)));return 1===r.compare(n9)&&(r=new Hy([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=dj(t),[i,r]=uj(e);for(let o=0;o<this.hashCount;o++){const c=this.Et(i,r,o);if(!this.At(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new ZP(o,r,e);return i.forEach(h=>c.insert(h)),c}insert(t){if(0===this.It)return;const e=dj(t),[i,r]=uj(e);for(let o=0;o<this.hashCount;o++){const c=this.Et(i,r,o);this.Rt(c)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Jx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eC{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,tC.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new eC(Lt.min(),r,new Fi(an),Ha(),xn())}}class tC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new tC(i,e,xn(),xn(),xn())}}class jT{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class hj{constructor(t,e){this.targetId=t,this.Vt=e}}class fj{constructor(t,e,i=yo.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class mj{constructor(){this.St=0,this.Dt=gj(),this.Ct=yo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=xn(),e=xn(),i=xn();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Dt()}}),new tC(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=gj()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class i9{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Ha(),this.zt=pj(),this.Wt=new Fi(an)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:Dt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const c=o.target;if(PT(c))if(0===r){const h=new mt(c.path);this.Yt(i,h,Yi.newNoDocument(h,Lt.min()))}else Nt(1===r);else{const h=this.ie(i);if(h!==r){const m=this.re(t,h);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=YP.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(v,w,T){var O,B,G,X,re,He;const Je={localCacheCount:w,existenceFilterCount:T.count},Xe=T.unchangedNames;return Xe&&(Je.bloomFilter={applied:0===v,hashCount:null!==(O=Xe?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(X=null===(G=null===(B=Xe?.bits)||void 0===B?void 0:B.bitmap)||void 0===G?void 0:G.length)&&void 0!==X?X:0,padding:null!==(He=null===(re=Xe?.bits)||void 0===re?void 0:re.padding)&&void 0!==He?He:0}),Je}(m,h,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=i;let m,v;try{m=cf(o).toUint8Array()}catch(w){if(w instanceof w3)return wl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{v=new ZP(m,c,h)}catch(w){return wl(w instanceof Jx?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===v.It?1:r!==e-this.oe(t.targetId,v)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.vt(h)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,c)=>{const h=this.se(c);if(h){if(o.current&&PT(h.target)){const m=new mt(h.target.path);null!==this.jt.get(m)||this.ae(c,m)||this.Yt(c,m,Yi.newNoDocument(m,t))}o.Mt&&(e.set(c,o.Ot()),o.Ft())}});let i=xn();this.zt.forEach((o,c)=>{let h=!0;c.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.jt.forEach((o,c)=>c.setReadTime(t));const r=new eC(t,e,this.Wt,this.jt,i);return this.jt=Ha(),this.zt=pj(),this.Wt=new Fi(an),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new mj,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Wi(an),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Ke("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new mj),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function pj(){return new Fi(mt.comparator)}function gj(){return new Fi(mt.comparator)}const r9={asc:"ASCENDING",desc:"DESCENDING"},o9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s9={and:"AND",or:"OR"};class a9{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function KP(n,t){return n.useProto3Json||Ux(t)?t:{value:t}}function Jy(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _j(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function c9(n,t){return Jy(n,t.toTimestamp())}function Gr(n){return Nt(!!n),Lt.fromTimestamp(function(t){const e=Lm(t);return new sr(e.seconds,e.nanos)}(n))}function QP(n,t){return(e=n,new jn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function vj(n){const t=jn.fromString(n);return Nt(Sj(t)),t}function nC(n,t){return QP(n.databaseId,t.path)}function ju(n,t){const e=vj(t);if(e.get(1)!==n.databaseId.projectId)throw new $e(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new $e(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new mt(bj(e))}function XP(n,t){return QP(n.databaseId,t)}function yj(n){const t=vj(n);return 4===t.length?jn.emptyPath():bj(t)}function iC(n){return new jn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bj(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wj(n,t,e){return{name:nC(n,t),fields:e.value.mapValue.fields}}function xj(n,t,e){const i=ju(n,t.name),r=Gr(t.updateTime),o=t.createTime?Gr(t.createTime):Lt.min(),c=new as({mapValue:{fields:t.fields}}),h=Yi.newFoundDocument(i,r,o,c);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function rC(n,t){let e;if(t instanceof Qy)e={update:wj(n,t.key,t.value)};else if(t instanceof Xy)e={delete:nC(n,t.key)};else if(t instanceof uf)e={update:wj(n,t.key,t.data),updateMask:g9(t.fieldMask)};else{if(!(t instanceof $P))return Dt();e={verify:nC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Zy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ky)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw Dt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:c9(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Dt()),e;var r}function JP(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ar.updateTime(Gr(r.updateTime)):void 0!==r.exists?ar.exists(r.exists):ar.none():ar.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(Nt("REQUEST_TIME"===c.setToServerValue),h=new Zy):"appendMissingElements"in c?h=new Qg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Xg(c.removeAllFromArray.values||[]):"increment"in c?h=new Ky(o,c.increment):Dt();const m=Nr.fromServerFormat(c.fieldPath);return new Qx(m,h)}(n,r)):[];var r;if(t.update){const r=ju(n,t.update.name),o=new as({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Ua((t.updateMask.fieldPaths||[]).map(v=>Nr.fromServerFormat(v)));return new uf(r,o,c,e,i)}return new Qy(r,o,e,i)}if(t.delete){const r=ju(n,t.delete);return new Xy(r,e)}if(t.verify){const r=ju(n,t.verify);return new $P(r,e)}return Dt()}function Cj(n,t){return{documents:[XP(n,t.path)]}}function eN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=XP(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=XP(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return Dj(gi.create(m,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(m){if(0!==m.length)return m.map(v=>{return{field:zm((w=v).field),direction:f9(w.dir)};var w})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=KP(n,t.limit);var h,m;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function Ej(n){let t=yj(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Nt(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let o=[];e.where&&(o=function(w){const T=Ij(w);return T instanceof gi&&FP(T)?T.getFilters():[T]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(w=>{return new qy(eb((T=w).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;e.limit&&(h=function(w){let T;return T="object"==typeof w?w.value:w,Ux(T)?null:T}(e.limit));let m=null;var w;e.startAt&&(m=new jm((w=e.startAt).values||[],!!w.before));let v=null;return e.endAt&&(v=function(w){return new jm(w.values||[],!w.before)}(e.endAt)),U3(t,r,c,o,h,"F",m,v)}function Ij(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=eb(t.unaryFilter.field);return On.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=eb(t.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=eb(t.unaryFilter.field);return On.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eb(t.unaryFilter.field);return On.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(n):void 0!==n.fieldFilter?On.create(eb((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return gi.create(t.compositeFilter.filters.map(e=>Ij(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Dt()}}(t.compositeFilter.op))}(n):Dt();var t}function f9(n){return r9[n]}function m9(n){return o9[n]}function p9(n){return s9[n]}function zm(n){return{fieldPath:n.canonicalString()}}function eb(n){return Nr.fromServerFormat(n.fieldPath)}function Dj(n){return n instanceof On?function(t){if("=="===t.op){if(E3(t.value))return{unaryFilter:{field:zm(t.field),op:"IS_NAN"}};if(C3(t.value))return{unaryFilter:{field:zm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(E3(t.value))return{unaryFilter:{field:zm(t.field),op:"IS_NOT_NAN"}};if(C3(t.value))return{unaryFilter:{field:zm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zm(t.field),op:m9(t.op),value:t.value}}}(n):n instanceof gi?function(t){const e=t.getFilters().map(i=>Dj(i));return 1===e.length?e[0]:{compositeFilter:{op:p9(t.op),filters:e}}}(n):Dt()}function g9(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Sj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class hf{constructor(t,e,i,r,o=Lt.min(),c=Lt.min(),h=yo.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(t){return new hf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Tj{constructor(t){this.fe=t}}function kj(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:zT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:nC(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Jy(r,o.version.toTimestamp()),createTime:Jy(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Jg(t.version)};else{if(!t.isUnknownDocument())return Dt();i.unknownDocument={path:e.path.toArray(),version:Jg(t.version)}}var r,o;return i}function zT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Jg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function e_(n){const t=new sr(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function t_(n,t){const e=(t.baseMutations||[]).map(o=>JP(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>JP(n.fe,o)),r=sr.fromMillis(t.localWriteTimeMs);return new GP(t.batchId,r,e,i)}function oC(n){const t=e_(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?e_(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var r;return void 0!==n.query.documents?(Nt(1===(r=n.query).documents.length),i=fa(Yy(yj(r.documents[0])))):i=fa(Ej(n.query)),new hf(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,yo.fromBase64String(n.resumeToken))}function Aj(n,t){const e=Jg(t.snapshotVersion),i=Jg(t.lastLimboFreeSnapshotVersion);let r;r=PT(t.target)?Cj(n.fe,t.target):eN(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zg(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function tN(n){const t=Ej({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?LT(t,t.limit,"L"):t}function nN(n,t){return new WP(t.largestBatchId,JP(n.fe,t.overlayMutation))}function Mj(n,t){const e=t.path.lastSegment();return[n,ks(t.path.popLast()),e]}function Rj(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Jg(i.readTime),documentKey:ks(i.documentKey.path),largestBatchId:i.largestBatchId}}class v9{getBundleMetadata(t,e){return Oj(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:e_(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return Oj(t).put({bundleId:(i=e).id,createTime:Jg(Gr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Pj(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:tN(r.bundledQuery),readTime:e_(r.readTime)};var r})}saveNamedQuery(t,e){return Pj(t).put({name:(i=e).name,readTime:Jg(Gr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Oj(n){return Po(n,"bundles")}function Pj(n){return Po(n,"namedQueries")}class $T{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new $T(t,e.uid||"")}getOverlay(t,e){return sC(t).get(Mj(this.userId,e)).next(i=>i?nN(this.serializer,i):null)}getOverlays(t,e){const i=Hu();return ve.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const h=new WP(e,c);r.push(this.we(t,h))}),ve.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(ks(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(sC(t).J("collectionPathOverlayIndex",h))}),ve.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Hu(),o=ks(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return sC(t).j("collectionPathOverlayIndex",c).next(h=>{for(const m of h){const v=nN(this.serializer,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Hu();let c;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return sC(t).X({index:"collectionGroupOverlayIndex",range:h},(m,v,w)=>{const T=nN(this.serializer,v);o.size()<r||T.largestBatchId===c?(o.set(T.getKey(),T),c=T.largestBatchId):w.done()}).next(()=>o)}we(t,e){return sC(t).put(function(i,r,o){const[c,h,m]=Mj(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:rC(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function sC(n){return Po(n,"documentOverlays")}class n_{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Fr(t.integerValue));else if("doubleValue"in t){const i=Fr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Hx(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(cf(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?I3(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):Dt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),mt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function y9(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Nj(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=y9(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}n_.Ve=new n_;class b9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=Nj(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=Nj(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class w9{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class x9{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class aC{constructor(){this.je=new b9,this.ze=new w9(this.je),this.We=new x9(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class i_{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new i_(this.indexId,this.documentKey,this.arrayValue,i)}}function $m(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Fj(n.arrayValue,t.arrayValue),0!==e?e:(e=Fj(n.directionalValue,t.directionalValue),0!==e?e:mt.comparator(n.documentKey,t.documentKey)))}function Fj(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class C9{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Nt(t.collectionGroup===this.collectionId);const e=TP(t);if(void 0!==e&&!this.en(e))return!1;const i=qg(t);let r=new Set,o=0,c=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[o];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++o}for(;o<i.length;++o)if(c>=this.Ye.length||!this.sn(this.Ye[c++],i[o]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Lj(n){var t,e;if(Nt(n instanceof On||n instanceof gi),n instanceof On){if(n instanceof L3){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>On.create(n.field,"==",o)))||[];return gi.create(r,"or")}return n}const i=n.filters.map(r=>Lj(r));return gi.create(i,n.op)}function E9(n){if(0===n.getFilters().length)return[];const t=oN(Lj(n));return Nt(Bj(t)),iN(t)||rN(t)?[t]:t.getFilters()}function iN(n){return n instanceof On}function rN(n){return n instanceof gi&&FP(n)}function Bj(n){return iN(n)||rN(n)||function(t){if(t instanceof gi&&NP(t)){for(const e of t.getFilters())if(!iN(e)&&!rN(e))return!1;return!0}return!1}(n)}function oN(n){if(Nt(n instanceof On||n instanceof gi),n instanceof On)return n;if(1===n.filters.length)return oN(n.filters[0]);const t=n.filters.map(i=>oN(i));let e=gi.create(t,n.op);return e=GT(e),Bj(e)?e:(Nt(e instanceof gi),Nt(Wy(e)),Nt(e.filters.length>1),e.filters.reduce((i,r)=>sN(i,r)))}function sN(n,t){let e;return Nt(n instanceof On||n instanceof gi),Nt(t instanceof On||t instanceof gi),e=n instanceof On?t instanceof On?gi.create([n,t],"and"):Vj(n,t):t instanceof On?Vj(t,n):function(i,r){if(Nt(i.filters.length>0&&r.filters.length>0),Wy(i)&&Wy(r))return P3(i,r.getFilters());const o=NP(i)?i:r,c=NP(i)?r:i,h=o.filters.map(m=>sN(m,c));return gi.create(h,"or")}(n,t),GT(e)}function Vj(n,t){if(Wy(t))return P3(t,n.getFilters());{const e=t.filters.map(i=>sN(n,i));return gi.create(e,"or")}}function GT(n){if(Nt(n instanceof On||n instanceof gi),n instanceof On)return n;const t=n.getFilters();if(1===t.length)return GT(t[0]);if(R3(n))return n;const e=t.map(r=>GT(r)),i=[];return e.forEach(r=>{r instanceof On?i.push(r):r instanceof gi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:gi.create(i,n.op)}class I9{constructor(){this.rn=new aN}addToCollectionParentIndex(t,e){return this.rn.add(e),ve.resolve()}getCollectionParents(t,e){return ve.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ve.resolve()}deleteFieldIndex(t,e){return ve.resolve()}getDocumentsMatchingTarget(t,e){return ve.resolve(null)}getIndexType(t,e){return ve.resolve(0)}getFieldIndexes(t,e){return ve.resolve([])}getNextCollectionGroupToUpdate(t){return ve.resolve(null)}getMinOffset(t,e){return ve.resolve(Tc.min())}getMinOffsetFromCollectionGroup(t,e){return ve.resolve(Tc.min())}updateCollectionGroup(t,e,i){return ve.resolve()}updateIndexEntries(t,e){return ve.resolve()}}class aN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Wi(jn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Wi(jn.comparator)).toArray()}}const qT=new Uint8Array(0);class D9{constructor(t,e){this.user=t,this.databaseId=e,this.on=new aN,this.un=new df(i=>Zg(i),(i,r)=>qx(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:ks(r)};return Uj(t).put(o)}return ve.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[o3(e),""],!1,!0);return Uj(t).j(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(Vu(c.parent))}return i})}addFieldIndex(t,e){const i=WT(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const c=lC(t);return o.next(h=>{c.put(Rj(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=WT(t),r=lC(t),o=cC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=cC(t);let r=!0;const o=new Map;return ve.forEach(this.cn(e),c=>this.an(t,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=xn();const h=[];return ve.forEach(o,(m,v)=>{var w;Ke("IndexedDbIndexManager",`Using index ${w=m,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${Zg(e)}`);const T=function(Xe,st){const Bt=TP(st);if(void 0===Bt)return null;for(const jt of NT(Xe,Bt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(v,m),O=function(Xe,st){const Bt=new Map;for(const jt of qg(st))for(const Mn of NT(Xe,jt.fieldPath))switch(Mn.op){case"==":case"in":Bt.set(jt.fieldPath.canonicalString(),Mn.value);break;case"not-in":case"!=":return Bt.set(jt.fieldPath.canonicalString(),Mn.value),Array.from(Bt.values())}return null}(v,m),B=function(Xe,st){const Bt=[];let jt=!0;for(const Mn of qg(st)){const dr=0===Mn.kind?B3(Xe,Mn.fieldPath,Xe.startAt):V3(Xe,Mn.fieldPath,Xe.startAt);Bt.push(dr.value),jt&&(jt=dr.inclusive)}return new jm(Bt,jt)}(v,m),G=function(Xe,st){const Bt=[];let jt=!0;for(const Mn of qg(st)){const dr=0===Mn.kind?V3(Xe,Mn.fieldPath,Xe.endAt):B3(Xe,Mn.fieldPath,Xe.endAt);Bt.push(dr.value),jt&&(jt=dr.inclusive)}return new jm(Bt,jt)}(v,m),X=this.hn(m,v,B),re=this.hn(m,v,G),He=this.ln(m,v,O),Je=this.fn(m.indexId,T,X,B.inclusive,re,G.inclusive,He);return ve.forEach(Je,Xe=>i.H(Xe,e.limit).next(st=>{st.forEach(Bt=>{const jt=mt.fromSegments(Bt.documentKey);c.has(jt)||(c=c.add(jt),h.push(jt))})}))}).next(()=>h)}return ve.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:E9(gi.create(t.filters,"and")).map(i=>BP(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,c,h){const m=(null!=e?e.length:1)*Math.max(i.length,o.length),v=m/(null!=e?e.length:1),w=[];for(let T=0;T<m;++T){const O=e?this.dn(e[T/v]):qT,B=this.wn(t,O,i[T%v],r),G=this._n(t,O,o[T%v],c),X=h.map(re=>this.wn(t,O,re,!0));w.push(...this.createRange(B,G,X))}return w}wn(t,e,i,r){const o=new i_(t,mt.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new i_(t,mt.empty(),e,i);return r?o.Je():o}an(t,e){const i=new C9(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const h of o)i.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(t,e){let i=2;const r=this.cn(e);return ve.forEach(r,o=>this.an(t,o).next(c=>{c?0!==i&&c.fields.length<function(h){let m=new Wi(Nr.comparator),v=!1;for(const w of h.filters)for(const T of w.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?v=!0:m=m.add(T.field));for(const w of h.orderBy)w.field.isKeyField()||(m=m.add(w.field));return m.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new aC;for(const r of qg(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.He(r.kind);n_.Ve._e(o,c)}return i.Qe()}dn(t){const e=new aC;return n_.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new aC;return n_.Ve._e(Yg(this.databaseId,e),i.He(function(r){const o=qg(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new aC);let o=0;for(const c of qg(t)){const h=i[o++];for(const m of r)if(this.yn(e,c.fieldPath)&&$x(h))r=this.pn(r,c,h);else{const v=m.He(c.kind);n_.Ve._e(h,v)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const m=new aC;m.seed(h.Qe()),n_.Ve._e(c,m.He(e.kind)),o.push(m)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof On&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=WT(t),r=lC(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const c=[];return ve.forEach(o,h=>r.get([h.indexId,this.uid]).next(m=>{c.push(function(v,w){const T=w?new Bx(w.sequenceNumber,new Tc(e_(w.readTime),new mt(Vu(w.documentKey)),w.largestBatchId)):Bx.empty(),O=v.fields.map(([B,G])=>new IT(Nr.fromServerFormat(B),G));return new ET(v.indexId,v.collectionGroup,O,T)}(h,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:an(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=WT(t),o=lC(t);return this.Tn(t).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ve.forEach(h,m=>o.put(Rj(m.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return ve.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?ve.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ve.forEach(h,m=>this.En(t,r,m).next(v=>{const w=this.An(o,m);return v.isEqual(w)?ve.resolve():this.vn(t,o,m,v,w)}))))})}Rn(t,e,i,r){return cC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return cC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=cC(t);let o=new Wi($m);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(c,h)=>{o=o.add(new i_(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}An(t,e){let i=new Wi($m);const r=this.mn(e,t);if(null==r)return i;const o=TP(e);if(null!=o){const c=t.data.field(o.fieldPath);if($x(c))for(const h of c.arrayValue.values||[])i=i.add(new i_(e.indexId,t.key,this.dn(h),r))}else i=i.add(new i_(e.indexId,t.key,qT,r));return i}vn(t,e,i,r,o){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(h,m,v,w,T){const O=h.getIterator(),B=m.getIterator();let G=$y(O),X=$y(B);for(;G||X;){let re=!1,He=!1;if(G&&X){const Je=v(G,X);Je<0?He=!0:Je>0&&(re=!0)}else null!=G?He=!0:re=!0;re?(w(X),X=$y(B)):He?(T(G),G=$y(O)):(G=$y(O),X=$y(B))}}(r,o,$m,h=>{c.push(this.Rn(t,e,i,h))},h=>{c.push(this.Pn(t,e,i,h))}),ve.waitFor(c)}Tn(t){let e=1;return lC(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,h)=>$m(c,h)).filter((c,h,m)=>!h||0!==$m(c,m[h-1]));const r=[];r.push(t);for(const c of i){const h=$m(c,t),m=$m(c,e);if(0===h)r[0]=t.Je();else if(h>0&&m<0)r.push(c),r.push(c.Je());else if(m>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,qT,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,qT,[]]))}return o}bn(t,e){return $m(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Hj)}getMinOffset(t,e){return ve.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||Dt())).next(Hj)}}function Uj(n){return Po(n,"collectionParents")}function cC(n){return Po(n,"indexEntries")}function WT(n){return Po(n,"indexConfiguration")}function lC(n){return Po(n,"indexState")}function Hj(n){Nt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;kP(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Tc(t.readTime,t.documentKey,e)}const jj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class As{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new As(t,As.DEFAULT_COLLECTION_PERCENTILE,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zj(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let h=0;const m=i.X({range:c},(w,T,O)=>(h++,O.delete()));o.push(m.next(()=>{Nt(1===h)}));const v=[];for(const w of e.mutations){const T=m3(t,w.key.path,e.batchId);o.push(r.delete(T)),v.push(w.key)}return ve.waitFor(o).next(()=>v)}function YT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Dt();t=n.noDocument}return JSON.stringify(t).length}As.DEFAULT_COLLECTION_PERCENTILE=10,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,As.DEFAULT=new As(41943040,As.DEFAULT_COLLECTION_PERCENTILE,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),As.DISABLED=new As(-1,0,0);class ZT{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Nt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new ZT(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gm(t).X({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=tb(t),c=Gm(t);return c.add({}).next(h=>{Nt("number"==typeof h);const m=new GP(h,e,i,r),v=function(O,B,G){const X=G.baseMutations.map(He=>rC(O.fe,He)),re=G.mutations.map(He=>rC(O.fe,He));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:X,mutations:re}}(this.serializer,this.userId,m),w=[];let T=new Wi((O,B)=>an(O.canonicalString(),B.canonicalString()));for(const O of r){const B=m3(this.userId,O.key.path,h);T=T.add(O.key.path.popLast()),w.push(c.put(v)),w.push(o.put(B,fW))}return T.forEach(O=>{w.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),ve.waitFor(w).next(()=>m)})}lookupMutationBatch(t,e){return Gm(t).get(e).next(i=>i?(Nt(i.userId===this.userId),t_(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ve.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Gm(t).X({index:"userMutationsIndex",range:r},(c,h,m)=>{h.userId===this.userId&&(Nt(h.batchId>=i),o=t_(this.serializer,h)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Gm(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gm(t).j("userMutationsIndex",e).next(i=>i.map(r=>t_(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=ST(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return tb(t).X({range:r},(c,h,m)=>{const[v,w,T]=c,O=Vu(w);if(v===this.userId&&e.path.isEqual(O))return Gm(t).get(T).next(B=>{if(!B)throw Dt();Nt(B.userId===this.userId),o.push(t_(this.serializer,B))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Wi(an);const r=[];return e.forEach(o=>{const c=ST(this.userId,o.path),h=IDBKeyRange.lowerBound(c),m=tb(t).X({range:h},(v,w,T)=>{const[O,B,G]=v,X=Vu(B);O===this.userId&&o.path.isEqual(X)?i=i.add(G):T.done()});r.push(m)}),ve.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=ST(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new Wi(an);return tb(t).X({range:c},(m,v,w)=>{const[T,O,B]=m,G=Vu(O);T===this.userId&&i.isPrefixOf(G)?G.length===r&&(h=h.add(B)):w.done()}).next(()=>this.Dn(t,h))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Gm(t).get(o).next(c=>{if(null===c)throw Dt();Nt(c.userId===this.userId),i.push(t_(this.serializer,c))}))}),ve.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return zj(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ve.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ve.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return tb(t).X({range:i},(o,c,h)=>{if(o[0]===this.userId){const m=Vu(o[1]);r.push(m)}else h.done()}).next(()=>{Nt(0===r.length)})})}containsKey(t,e){return $j(t,this.userId,e)}xn(t){return Gj(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $j(n,t,e){const i=ST(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return tb(n).X({range:o,Y:!0},(h,m,v)=>{const[w,T,O]=h;w===t&&T===r&&(c=!0),v.done()}).next(()=>c)}function Gm(n){return Po(n,"mutations")}function tb(n){return Po(n,"documentMutations")}function Gj(n){return Po(n,"mutationQueues")}class r_{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new r_(0)}static Mn(){return new r_(-1)}}class S9{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new r_(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Lt.fromTimestamp(new sr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>nb(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Nt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return nb(t).X((c,h)=>{const m=oC(h);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(t,m)))}).next(()=>ve.waitFor(o)).next(()=>r)}forEachTarget(t,e){return nb(t).X((i,r)=>{const o=oC(r);e(o)})}$n(t){return qj(t).get("targetGlobalKey").next(e=>(Nt(null!==e),e))}On(t,e){return qj(t).put("targetGlobalKey",e)}Fn(t,e){return nb(t).put(Aj(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Zg(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return nb(t).X({range:r,index:"queryTargetsIndex"},(c,h,m)=>{const v=oC(h);qx(e,v.target)&&(o=v,m.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=qm(t);return e.forEach(c=>{const h=ks(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,c))}),ve.waitFor(r)}removeMatchingKeys(t,e,i){const r=qm(t);return ve.forEach(e,o=>{const c=ks(o.path);return ve.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=qm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=qm(t);let o=xn();return r.X({range:i,Y:!0},(c,h,m)=>{const v=Vu(c[1]),w=new mt(v);o=o.add(w)}).next(()=>o)}containsKey(t,e){const i=ks(e.path),r=IDBKeyRange.bound([i],[o3(i)],!1,!0);let o=0;return qm(t).X({index:"documentTargetsIndex",Y:!0,range:r},([c,h],m,v)=>{0!==c&&(o++,v.done())}).next(()=>o>0)}le(t,e){return nb(t).get(e).next(i=>i?oC(i):null)}}function nb(n){return Po(n,"targets")}function qj(n){return Po(n,"targetGlobal")}function qm(n){return Po(n,"targetDocuments")}function Wj([n,t],[e,i]){const r=an(n,e);return 0===r?an(t,i):r}class T9{constructor(t){this.Ln=t,this.buffer=new Wi(Wj),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Wj(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Yj{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Me.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Nm(i)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pm(i)}yield e.Qn(3e5)}))}}class k9{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ve.resolve(kc.ct);const i=new T9(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(jj)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jj):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,c,h,m,v;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(t,r))).next(T=>(i=T,h=Date.now(),this.removeTargets(t,i,e))).next(T=>(o=T,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(v=Date.now(),DP()<=ha.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(m-h)+`ms\n\tRemoved ${T} documents in `+(v-m)+`ms\nTotal Duration: ${v-w}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:T})))}}class A9{constructor(t,e){this.db=t,this.garbageCollector=function Zj(n,t){return new k9(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return KT(t,i)}removeReference(t,e,i){return KT(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return KT(t,e)}Xn(t,e){return function(i,r){let o=!1;return Gj(i).Z(c=>$j(i,c,r).next(h=>(h&&(o=!0),ve.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(c,h)=>{if(h<=e){const m=this.Xn(t,c).next(v=>{if(!v)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Lt.min()),qm(t).delete([0,ks(c.path)])))});r.push(m)}}).next(()=>ve.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return KT(t,e)}Yn(t,e){const i=qm(t);let r,o=kc.ct;return i.X({index:"documentTargetsIndex"},([c,h],{path:m,sequenceNumber:v})=>{0===c?(o!==kc.ct&&e(new mt(Vu(r)),o),o=v,r=m):o=kc.ct}).next(()=>{o!==kc.ct&&e(new mt(Vu(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function KT(n,t){return qm(n).put((i=n.currentSequenceNumber,{targetId:0,path:ks(t.path),sequenceNumber:i}));var i}class Kj{constructor(){this.changes=new df(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ve.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class M9{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return o_(t).put(i)}removeEntry(t,e,i){return o_(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],zT(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Yi.newInvalidDocument(e);return o_(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(dC(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:Yi.newInvalidDocument(e)};return o_(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(dC(e))},(r,o)=>{i={document:this.ts(e,o),size:YT(o)}}).next(()=>i)}getEntries(t,e){let i=Ha();return this.ns(t,e,(r,o)=>{const c=this.ts(r,o);i=i.insert(r,c)}).next(()=>i)}ss(t,e){let i=Ha(),r=new Fi(mt.comparator);return this.ns(t,e,(o,c)=>{const h=this.ts(o,c);i=i.insert(o,h),r=r.insert(o,YT(c))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ve.resolve();let r=new Wi(ez);e.forEach(m=>r=r.add(m));const o=IDBKeyRange.bound(dC(r.first()),dC(r.last())),c=r.getIterator();let h=c.getNext();return o_(t).X({index:"documentKeyIndex",range:o},(m,v,w)=>{const T=mt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&ez(h,T)<0;)i(h,null),h=c.getNext();h&&h.isEqual(T)&&(i(h,v),h=c.hasNext()?c.getNext():null),h?w.G(dC(h)):w.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),zT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return o_(t).j(IDBKeyRange.bound(c,h,!0)).next(m=>{let v=Ha();for(const w of m){const T=this.ts(mt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);T.isFoundDocument()&&(Yx(e,T)||r.has(T.key))&&(v=v.insert(T.key,T))}return v})}getAllFromCollectionGroup(t,e,i,r){let o=Ha();const c=Jj(e,i),h=Jj(e,Tc.max());return o_(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(m,v,w)=>{const T=this.ts(mt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(T.key,T),o.size===r&&w.done()}).next(()=>o)}newChangeBuffer(t){return new R9(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Xj(t).get("remoteDocumentGlobalKey").next(e=>(Nt(!!e),e))}Zn(t,e){return Xj(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function _9(n,t){let e;if(t.document)e=xj(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=mt.fromSegments(t.noDocument.path),r=e_(t.noDocument.readTime);e=Yi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dt();{const i=mt.fromSegments(t.unknownDocument.path),r=e_(t.unknownDocument.version);e=Yi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new sr(i[0],i[1]);return Lt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return Yi.newInvalidDocument(t)}}function Qj(n){return new M9(n)}class R9 extends Kj{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new df(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Wi((o,c)=>an(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.us.get(o);if(e.push(this.os.removeEntry(t,o,h.readTime)),c.isValidDocument()){const m=kj(this.os.serializer,c);r=r.add(o.path.popLast());const v=YT(m);i+=v-h.size,e.push(this.os.addEntry(t,o,m))}else if(i-=h.size,this.trackRemovals){const m=kj(this.os.serializer,c.convertToNoDocument(Lt.min()));e.push(this.os.addEntry(t,o,m))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),ve.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,c)=>{this.us.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function Xj(n){return Po(n,"remoteDocumentGlobal")}function o_(n){return Po(n,"remoteDocumentsV14")}function dC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Jj(n,t){const e=t.documentKey.path.toArray();return[n,zT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function ez(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=an(e[o],i[o]),r)return r;return r=an(e.length,i.length),r||(r=an(e[e.length-2],i[i.length-2]),r||an(e[e.length-1],i[i.length-1]))}class O9{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class tz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Xx(i.mutation,r,Ua.empty(),sr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,xn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=xn()){const r=Hu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=Zx();return o.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Hu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,xn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=Ha();const c=Kx(),h=Kx();return e.forEach((m,v)=>{const w=i.get(v.key);r.has(v.key)&&(void 0===w||w.mutation instanceof uf)?o=o.insert(v.key,v):void 0!==w?(c.set(v.key,w.mutation.getFieldMask()),Xx(w.mutation,v,w.mutation.getFieldMask(),sr.now())):c.set(v.key,Ua.empty())}),this.recalculateAndSaveOverlays(t,o).next(m=>(m.forEach((v,w)=>c.set(v,w)),e.forEach((v,w)=>{var T;return h.set(v,new O9(w,null!==(T=c.get(v))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Kx();let r=new Fi((c,h)=>c-h),o=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(m=>{const v=e.get(m);if(null===v)return;let w=i.get(m)||Ua.empty();w=h.applyToLocalView(v,w),i.set(m,w);const T=(r.get(h.batchId)||xn()).add(m);r=r.insert(h.batchId,T)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,w=m.value,T=W3();w.forEach(O=>{if(!o.has(O)){const B=nj(e.get(O),i.get(O));null!==B&&T.set(O,B),o=o.add(O)}}),c.push(this.documentOverlayCache.saveOverlays(t,v,T))}return ve.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return mt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):UP(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ve.resolve(Hu());let h=-1,m=o;return c.next(v=>ve.forEach(v,(w,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),o.get(w)?ve.resolve():this.remoteDocumentCache.getEntry(t,w).next(O=>{m=m.insert(w,O)}))).next(()=>this.populateOverlays(t,v,o)).next(()=>this.computeViews(t,m,v,xn())).next(w=>({batchId:h,changes:q3(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new mt(e)).next(i=>{let r=Zx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Zx();return this.indexManager.getCollectionParents(t,r).next(c=>ve.forEach(c,h=>{const m=(v=e,w=h.child(r),new lf(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,w;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(v=>{v.forEach((w,T)=>{o=o.insert(w,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((h,m)=>{const v=m.getKey();null===o.get(v)&&(o=o.insert(v,Yi.newInvalidDocument(v)))});let c=Zx();return o.forEach((h,m)=>{const v=r.get(h);void 0!==v&&Xx(v.mutation,m,Ua.empty(),sr.now()),Yx(e,m)&&(c=c.insert(h,m))}),c})}}class P9{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ve.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Gr(i.createTime)}),ve.resolve()}getNamedQuery(t,e){return ve.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:tN(i.bundledQuery),readTime:Gr(i.readTime)}),ve.resolve();var i}}class N9{constructor(){this.overlays=new Fi(mt.comparator),this.ls=new Map}getOverlay(t,e){return ve.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Hu();return ve.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),ve.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),ve.resolve()}getOverlaysForCollection(t,e,i){const r=Hu(),o=e.length+1,c=new mt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ve.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Fi((v,w)=>v-w);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let w=o.get(v.largestBatchId);null===w&&(w=Hu(),o=o.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const h=Hu(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,w)=>h.set(v,w)),!(h.size()>=r)););return ve.resolve(h)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new WP(e,i));let o=this.ls.get(e);void 0===o&&(o=xn(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class cN{constructor(){this.fs=new Wi(No.ds),this.ws=new Wi(No._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new No(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new No(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new mt(new jn([])),i=new No(e,t),r=new No(e,t+1),o=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),o.push(c.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new mt(new jn([])),i=new No(e,t),r=new No(e,t+1);let o=xn();return this.ws.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new No(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class No{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return mt.comparator(t.key,e.key)||an(t.As,e.As)}static _s(t,e){return an(t.As,e.As)||mt.comparator(t.key,e.key)}}class F9{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Wi(No.ds)}checkEmpty(t){return ve.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const c=new GP(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Rs=this.Rs.add(new No(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ve.resolve(c)}lookupMutationBatch(t,e){return ve.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new No(e,0),r=new No(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],c=>{const h=this.Ps(c.As);o.push(h)}),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Wi(an);return e.forEach(r=>{const o=new No(r,0),c=new No(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],h=>{i=i.add(h.As)})}),ve.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;mt.isDocumentKey(o)||(o=o.child(""));const c=new No(new mt(o),0);let h=new Wi(an);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m.As)),!0)},c),ve.resolve(this.Vs(h))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Nt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ve.forEach(e.mutations,r=>{const o=new No(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new No(e,0),r=this.Rs.firstAfterOrEqual(i);return ve.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ve.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class L9{constructor(t){this.Ds=t,this.docs=new Fi(mt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ve.resolve(i?i.document.mutableCopy():Yi.newInvalidDocument(e))}getEntries(t,e){let i=Ha();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Yi.newInvalidDocument(r))}),ve.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ha();const c=e.path,h=new mt(c.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||kP(a3(w),i)<=0||(r.has(w.key)||Yx(e,w))&&(o=o.insert(w.key,w.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Dt()}Cs(t,e){return ve.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new B9(this)}getSize(t){return ve.resolve(this.size)}}class B9 extends Kj{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ve.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class V9{constructor(t){this.persistence=t,this.xs=new df(e=>Zg(e),qx),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new cN,this.targetCount=0,this.Ms=r_.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ve.resolve()}getLastRemoteSnapshotVersion(t){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ve.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ve.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new r_(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ve.resolve()}updateTargetData(t,e){return this.Fn(e),ve.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ve.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.xs.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ve.waitFor(o).next(()=>r)}getTargetCount(t){return ve.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ve.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ve.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ve.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ve.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ve.resolve(i)}containsKey(t,e){return ve.resolve(this.ks.containsKey(e))}}class lN{constructor(t,e){this.$s={},this.overlays={},this.Os=new kc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new V9(this),this.indexManager=new I9,this.remoteDocumentCache=new L9(i=>this.referenceDelegate.Ls(i)),this.serializer=new Tj(e),this.qs=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new N9,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new F9(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Ke("MemoryPersistence","Starting transaction:",t);const r=new U9(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return ve.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class U9 extends l3{constructor(t){super(),this.currentSequenceNumber=t}}class QT{constructor(t){this.persistence=t,this.Qs=new cN,this.js=null}static zs(t){return new QT(t)}get Ws(){if(this.js)return this.js;throw Dt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ve.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ve.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ve.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Ws,i=>{const r=mt.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,Lt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ve.or([()=>ve.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class H9{constructor(t){this.serializer=t}O(t,e,i,r){const o=new DT("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f3,{unique:!0}),h.createObjectStore("documentMutations"),nz(t),function(h){h.createObjectStore("remoteDocuments")}(t));let c=ve.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),nz(t)),c=c.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,m){return m.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f3,{unique:!0});const w=m.store("mutations"),T=v.map(O=>w.put(O));return ve.waitFor(T)})}(t,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(o))),i<8&&r>=8&&(c=c.next(()=>this.ti(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.ei(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:IW});m.createIndex("collectionPathOverlayIndex",DW,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",SW,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:mW});m.createIndex("documentKeyIndex",pW),m.createIndex("collectionGroupIndex",gW)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(t,o))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:wW}).createIndex("sequenceNumberIndex",xW,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:CW}).createIndex("documentKeyIndex",EW,{unique:!1})}(t))),c}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=YT(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ve.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(h=>ve.forEach(h,m=>{Nt(m.userId===o.userId);const v=t_(this.serializer,m);return zj(t,o.userId,v).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((c,h)=>{const m=new jn(c),v=[0,ks(m)];o.push(e.get(v).next(w=>w?ve.resolve():e.put({targetId:0,path:ks(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ve.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:bW});const i=e.store("collectionParents"),r=new aN,o=c=>{if(r.add(c)){const h=c.lastSegment(),m=c.popLast();return i.put({collectionId:h,parent:ks(m)})}};return e.store("remoteDocuments").X({Y:!0},(c,h)=>{const m=new jn(c);return o(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([c,h,m],v)=>{const w=Vu(h);return o(w.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=oC(r),c=Aj(this.serializer,o);return e.put(c)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,c)=>{const h=e.store("remoteDocumentsV14"),m=(v=c,v.document?new mt(jn.fromString(v.document.name).popFirst(5)):v.noDocument?mt.fromSegments(v.noDocument.path):v.unknownDocument?mt.fromSegments(v.unknownDocument.path):Dt()).path.toArray();var v;const w={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(w))}).next(()=>ve.waitFor(r))}si(t,e){const i=e.store("mutations"),r=Qj(this.serializer),o=new lN(QT.zs,this.serializer.fe);return i.j().next(c=>{const h=new Map;return c.forEach(m=>{var v;let w=null!==(v=h.get(m.userId))&&void 0!==v?v:xn();t_(this.serializer,m).keys().forEach(T=>w=w.add(T)),h.set(m.userId,w)}),ve.forEach(h,(m,v)=>{const w=new Oo(v),T=$T.de(this.serializer,w),O=o.getIndexManager(w),B=ZT.de(w,this.serializer,O,o.referenceDelegate);return new tz(r,B,T,O).recalculateAndSaveOverlaysForDocumentKeys(new RP(e,kc.ct),m).next()})})}}function nz(n){n.createObjectStore("targetDocuments",{keyPath:vW}).createIndex("documentTargetsIndex",yW,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_W,{unique:!0}),n.createObjectStore("targetGlobal")}const dN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uN{constructor(t,e,i,r,o,c,h,m,v,w,T=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=c,this.document=h,this.ri=v,this.oi=w,this.ui=T,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=O=>Promise.resolve(),!uN.D())throw new $e(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new A9(this,r),this.di=e+"main",this.serializer=new Tj(m),this.wi=new wd(this.di,this.ui,new H9(this.serializer)),this.Bs=new S9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qj(this.serializer),this.qs=new v9,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&$r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(Ee.FAILED_PRECONDITION,dN);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new kc(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,Me.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,Me.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,Me.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>JT(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Nm(t))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return uC(t).get("owner").next(e=>ve.resolve(this.Ri(e)))}Pi(t){return JT(t).delete(this.clientId)}bi(){var t=this;return(0,Me.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Po(i,"clientMetadata");return r.j().next(o=>{const c=t.Si(o,18e5),h=o.filter(m=>-1===c.indexOf(m));return ve.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ve.resolve(!0):uC(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new $e(Ee.FAILED_PRECONDITION,dN);return!1}}return!(!this.networkEnabled||!this.inForeground)||JT(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ke("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Me.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new RP(e,kc.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>JT(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return ZT.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new D9(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return $T.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Ke("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.ui)?kW:14===c?_3:13===c?g3:12===c?TW:11===c?p3:void Dt();var c;let h;return this.wi.runTransaction(t,r,o,m=>(h=new RP(m,this.Os?this.Os.next():kc.ct),"readwrite-primary"===e?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw $r(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new $e(Ee.FAILED_PRECONDITION,c3);return i(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(t){return uC(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new $e(Ee.FAILED_PRECONDITION,dN)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uC(t).put("owner",e)}static D(){return wd.D()}Ai(t){const e=uC(t);return e.get("owner").next(i=>this.Ri(i)?(Ke("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ve.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&($r(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,H.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Ke("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return $r("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){$r("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function uC(n){return Po(n,"owner")}function JT(n){return Po(n,"clientMetadata")}function hN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class fN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=xn(),r=xn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new fN(t,e.fromCache,i,r)}}class iz{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(H3(e))return ve.resolve(null);let i=fa(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=LT(e,null,"F"),i=fa(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=xn(...o);return this.Ui.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(m=>{const v=this.ji(e,h);return this.zi(e,v,c,m.readTime)?this.Ki(t,LT(e,null,"F")):this.Wi(t,v,e,m)}))})))}Gi(t,e,i,r){return H3(e)||r.isEqual(Lt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const c=this.ji(e,o);return this.zi(e,c,i,r)?this.Qi(t,e):(DP()<=ha.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jP(e)),this.Wi(t,c,e,s3(r,-1)))})}ji(t,e){let i=new Wi($3(t));return e.forEach((r,o)=>{Yx(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return DP()<=ha.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",jP(e)),this.Ui.getDocumentsMatchingQuery(t,e,Tc.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class j9{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Fi(an),this.Yi=new df(o=>Zg(o),qx),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function rz(n,t,e,i){return new j9(n,t,e,i)}function oz(n,t){return mN.apply(this,arguments)}function mN(){return mN=(0,Me.Z)(function*(n,t){const e=gt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let m=xn();for(const v of r){c.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of o){h.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return e.localDocuments.getDocuments(i,m).next(v=>({er:v,removedBatchIds:c,addedBatchIds:h}))})})}),mN.apply(this,arguments)}function sz(n){const t=gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function az(n,t,e){let i=xn(),r=xn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Ha();return e.forEach((h,m)=>{const v=o.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(Lt.min())?(t.removeEntry(h,m.readTime),c=c.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m),c=c.insert(h,m)):Ke("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{nr:c,sr:r}})}function G9(n,t){const e=gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ib(n,t){const e=gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,ve.resolve(r)):e.Bs.allocateTargetId(i).next(c=>(r=new hf(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function rb(n,t,e){return pN.apply(this,arguments)}function pN(){return pN=(0,Me.Z)(function*(n,t,e){const i=gt(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Nm(c))throw c;Ke("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),pN.apply(this,arguments)}function ek(n,t,e){const i=gt(n);let r=Lt.min(),o=xn();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,m,v){const w=gt(h),T=w.Yi.get(v);return void 0!==T?ve.resolve(w.Ji.get(T)):w.Bs.getTargetData(m,v)}(i,c,fa(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,h.targetId).next(m=>{o=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,t,e?r:Lt.min(),e?o:xn())).next(h=>(dz(i,z3(t),h),{documents:h,ir:o})))}function cz(n,t){const e=gt(n),i=gt(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(c=>c?c.target:null))}function lz(n,t){const e=gt(n),i=e.Xi.get(t)||Lt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,s3(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(dz(e,t,r),r))}function dz(n,t,e){let i=n.Xi.get(t)||Lt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function gN(){return gN=(0,Me.Z)(function*(n,t,e,i){const r=gt(n);let o=xn(),c=Ha();for(const v of e){const w=t.rr(v.metadata.name);v.document&&(o=o.add(w));const T=t.ur(v);T.setReadTime(t.cr(v.metadata.readTime)),c=c.insert(w,T)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield ib(r,(v=i,fa(Yy(jn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>az(v,h,c).next(w=>(h.apply(v),w)).next(w=>r.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.Bs.addMatchingKeys(v,o,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,w.nr,w.sr)).next(()=>w.nr)))}),gN.apply(this,arguments)}function W9(n,t){return _N.apply(this,arguments)}function _N(){return _N=(0,Me.Z)(function*(n,t,e=xn()){const i=yield ib(n,fa(tN(t.bundledQuery))),r=gt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=Gr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(o,t);const h=i.withResumeToken(yo.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(o,h).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),_N.apply(this,arguments)}function uz(n,t){return`firestore_clients_${n}_${t}`}function hz(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function vN(n,t){return`firestore_targets_${n}_${t}`}class tk{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new $e(r.error.code,r.error.message))),c?new tk(t,e,r.state,o):($r("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class hC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new $e(i.error.code,i.error.message))),o?new hC(t,i.state,r):($r("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class nk{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=zP();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=u3(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new nk(t,o):($r("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class yN{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new yN(e.clientId,e.onlineState):($r("SharedClientState",`Failed to parse online state: ${t}`),null)}}class bN{constructor(){this.activeTargetIds=zP()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wN{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Fi(an),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=uz(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new bN),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Me.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(uz(t.persistenceKey,r));if(o){const c=nk.ar(r,o);c&&(t.gr=t.gr.insert(c.clientId,c))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(vN(this.persistenceKey,t));if(i){const r=hC.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(vN(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ke("SharedClientState","READ",t,e),e}setItem(t,e){Ke("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ke("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void $r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Me.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let c=kc.ct;if(null!=o)try{const h=JSON.parse(o);Nt("number"==typeof h),c=h}catch(h){$r("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==kc.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new tk(this.currentUser,t,e,i),o=hz(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=hz(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=vN(this.persistenceKey,t),o=new hC(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return nk.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return tk.ar(new Oo(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return hC.ar(r,e)}br(t){return yN.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,Me.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),c=[],h=[];return o.forEach(m=>{r.has(m)||c.push(m)}),r.forEach(m=>{o.has(m)||h.push(m)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=zP();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class fz{constructor(){this.Hr=new bN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new bN,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Y9{Yr(t){}shutdown(){}}class mz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ik=null;function xN(){return null===ik?ik=268435456+Math.round(2147483648*Math.random()):ik++,"0x"+ik.toString(16)}const Z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K9{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Ms="WebChannelConnection";class Q9 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const c=xN(),h=this.To(t,e);Ke("RestConnection",`Sending RPC '${t}' ${c}:`,h,i);const m={};return this.Eo(m,r,o),this.Ao(t,h,m,i).then(v=>(Ke("RestConnection",`Received RPC '${t}' ${c}: `,v),v),v=>{throw wl("RestConnection",`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}vo(t,e,i,r,o,c){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+jy,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${Z9[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=xN();return new Promise((c,h)=>{const m=new Yq;m.setWithCredentials(!0),m.listenOnce(Gq.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case IP.NO_ERROR:const w=m.getResponseJson();Ke(Ms,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(w)),c(w);break;case IP.TIMEOUT:Ke(Ms,`RPC '${t}' ${o} timed out`),h(new $e(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case IP.HTTP_ERROR:const T=m.getStatus();if(Ke(Ms,`RPC '${t}' ${o} failed with status:`,T,"response text:",m.getResponseText()),T>0){let O=m.getResponseJson();Array.isArray(O)&&(O=O[0]);const B=O?.error;if(B&&B.status&&B.message){const G=function(X){const re=X.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(re)>=0?re:Ee.UNKNOWN}(B.status);h(new $e(G,B.message))}else h(new $e(Ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new $e(Ee.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Ke(Ms,`RPC '${t}' ${o} completed.`)}});const v=JSON.stringify(r);Ke(Ms,`RPC '${t}' ${o} sending request:`,r),m.send(e,"POST",v,i,15)})}Ro(t,e,i){const r=xN(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=zq(),h=$q(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new Wq({})),this.Eo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const w=o.join("");Ke(Ms,`Creating RPC '${t}' stream ${r}: ${w}`,m);const T=c.createWebChannel(w,m);let O=!1,B=!1;const G=new K9({ro:re=>{B?Ke(Ms,`Not sending because RPC '${t}' stream ${r} is closed:`,re):(O||(Ke(Ms,`Opening RPC '${t}' stream ${r} transport.`),T.open(),O=!0),Ke(Ms,`RPC '${t}' stream ${r} sending:`,re),T.send(re))},oo:()=>T.close()}),X=(re,He,Je)=>{re.listen(He,Xe=>{try{Je(Xe)}catch(st){setTimeout(()=>{throw st},0)}})};return X(T,CT.EventType.OPEN,()=>{B||Ke(Ms,`RPC '${t}' stream ${r} transport opened.`)}),X(T,CT.EventType.CLOSE,()=>{B||(B=!0,Ke(Ms,`RPC '${t}' stream ${r} transport closed`),G.wo())}),X(T,CT.EventType.ERROR,re=>{B||(B=!0,wl(Ms,`RPC '${t}' stream ${r} transport errored:`,re),G.wo(new $e(Ee.UNAVAILABLE,"The operation could not be completed")))}),X(T,CT.EventType.MESSAGE,re=>{var He;if(!B){const Je=re.data[0];Nt(!!Je);const st=Je.error||(null===(He=Je[0])||void 0===He?void 0:He.error);if(st){Ke(Ms,`RPC '${t}' stream ${r} received error:`,st);const Bt=st.status;let jt=function(dr){const Ps=so[dr];if(void 0!==Ps)return cj(Ps)}(Bt),Mn=st.message;void 0===jt&&(jt=Ee.INTERNAL,Mn="Unknown error status: "+Bt+" with message "+st.message),B=!0,G.wo(new $e(jt,Mn)),T.close()}else Ke(Ms,`RPC '${t}' stream ${r} received:`,Je),G._o(Je)}}),X(h,qq.STAT_EVENT,re=>{re.stat===JH.PROXY?Ke(Ms,`RPC '${t}' stream ${r} detected buffering proxy`):re.stat===JH.NOPROXY&&Ke(Ms,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{G.fo()},0),G}}function pz(){return typeof window<"u"?window:null}function rk(){return typeof document<"u"?document:null}function fC(n){return new a9(n,!0)}class CN{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class gz{constructor(t,e,i,r,o,c,h,m){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new CN(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,Me.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,Me.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,Me.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===Ee.RESOURCE_EXHAUSTED?($r(e.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===Ee.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new $e(Ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,Me.Z)(function*(){t.state=0,t.start()}))}tu(t){return Ke("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X9 extends gz{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function d9(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Dt(),r=t.targetChange.targetIds||[],o=function(m,v){return m.useProto3Json?(Nt(void 0===v||"string"==typeof v),yo.fromBase64String(v||"")):(Nt(void 0===v||v instanceof Uint8Array),yo.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(m){const v=void 0===m.code?Ee.UNKNOWN:cj(m.code);return new $e(v,m.message||"")}(c);e=new fj(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=ju(n,i.document.name),o=Gr(i.document.updateTime),c=i.document.createTime?Gr(i.document.createTime):Lt.min(),h=new as({mapValue:{fields:i.document.fields}}),m=Yi.newFoundDocument(r,o,c,h);e=new jT(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const i=t.documentDelete,r=ju(n,i.document),o=i.readTime?Gr(i.readTime):Lt.min(),c=Yi.newNoDocument(r,o);e=new jT([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=ju(n,i.document);e=new jT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Dt();{const i=t.filter,{count:r=0,unchangedNames:o}=i,c=new t9(r,o);e=new hj(i.targetId,c)}}var m;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Lt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?Gr(o.readTime):Lt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=iC(this.serializer),e.addTarget=function(r,o){let c;const h=o.target;if(c=PT(h)?{documents:Cj(r,h)}:{query:eN(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=_j(r,o.resumeToken);const m=KP(r,o.expectedCount);null!==m&&(c.expectedCount=m)}else if(o.snapshotVersion.compareTo(Lt.min())>0){c.readTime=Jy(r,o.snapshotVersion.toTimestamp());const m=KP(r,o.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,t);const i=function h9(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=iC(this.serializer),e.removeTarget=t,this.Wo(e)}}class J9 extends gz{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Nt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function u9(n,t){return n&&n.length>0?(Nt(void 0!==t),n.map(e=>function(i,r){let o=Gr(i.updateTime?i.updateTime:r);return o.isEqual(Lt.min())&&(o=Gr(r)),new QW(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Gr(t.commitTime);return this.listener.cu(i,e)}return Nt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=iC(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>rC(this.serializer,i))};this.Wo(e)}}class e7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new $e(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $e(Ee.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.vo(t,e,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Ee.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class n7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?($r(e),this.mu=!1):Ke("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class r7{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{i.enqueueAndForget((0,Me.Z)(function*(){var m;Wm(c)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Me.Z)(function*(v){const w=gt(v);w.vu.add(4),yield ob(w),w.bu.set("Unknown"),w.vu.delete(4),yield mC(w)}),function(v){return m.apply(this,arguments)})(c))}))}),this.bu=new n7(i,r)}}function mC(n){return IN.apply(this,arguments)}function IN(){return IN=(0,Me.Z)(function*(n){if(Wm(n))for(const t of n.Ru)yield t(!0)}),IN.apply(this,arguments)}function ob(n){return DN.apply(this,arguments)}function DN(){return DN=(0,Me.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),DN.apply(this,arguments)}function ok(n,t){const e=gt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),kN(e)?TN(e):ab(e).Ko()&&SN(e,t))}function pC(n,t){const e=gt(n),i=ab(e);e.Au.delete(t),i.Ko()&&_z(e,t),0===e.Au.size&&(i.Ko()?i.jo():Wm(e)&&e.bu.set("Unknown"))}function SN(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ab(n).su(t)}function _z(n,t){n.Vu.qt(t),ab(n).iu(t)}function TN(n){n.Vu=new i9({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),ab(n).start(),n.bu.gu()}function kN(n){return Wm(n)&&!ab(n).Uo()&&n.Au.size>0}function Wm(n){return 0===gt(n).vu.size}function vz(n){n.Vu=void 0}function o7(n){return AN.apply(this,arguments)}function AN(){return AN=(0,Me.Z)(function*(n){n.Au.forEach((t,e)=>{SN(n,t)})}),AN.apply(this,arguments)}function s7(n,t){return MN.apply(this,arguments)}function MN(){return MN=(0,Me.Z)(function*(n,t){vz(n),kN(n)?(n.bu.Iu(t),TN(n)):n.bu.set("Unknown")}),MN.apply(this,arguments)}function a7(n,t,e){return RN.apply(this,arguments)}function RN(){return RN=(0,Me.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof fj&&2===t.state&&t.cause)try{yield(i=(0,Me.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield sk(n,i)}else if(t instanceof jT?n.Vu.Ht(t):t instanceof hj?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Lt.min()))try{const i=yield sz(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.Vu.ce(o);return c.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Au.get(m);v&&r.Au.set(m,v.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,m)=>{const v=r.Au.get(h);if(!v)return;r.Au.set(h,v.withResumeToken(yo.EMPTY_BYTE_STRING,v.snapshotVersion)),_z(r,h);const w=new hf(v.target,h,m,v.sequenceNumber);SN(r,w)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),yield sk(n,i)}var i}),RN.apply(this,arguments)}function sk(n,t,e){return ON.apply(this,arguments)}function ON(){return ON=(0,Me.Z)(function*(n,t,e){if(!Nm(t))throw t;n.vu.add(1),yield ob(n),n.bu.set("Offline"),e||(e=()=>sz(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield mC(n)}))}),ON.apply(this,arguments)}function yz(n,t){return t().catch(e=>sk(n,e,t))}function sb(n){return PN.apply(this,arguments)}function PN(){return PN=(0,Me.Z)(function*(n){const t=gt(n),e=Ym(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;c7(t);)try{const r=yield G9(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,l7(t,r)}catch(r){yield sk(t,r)}bz(t)&&wz(t)}),PN.apply(this,arguments)}function c7(n){return Wm(n)&&n.Eu.length<10}function l7(n,t){n.Eu.push(t);const e=Ym(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function bz(n){return Wm(n)&&!Ym(n).Uo()&&n.Eu.length>0}function wz(n){Ym(n).start()}function d7(n){return NN.apply(this,arguments)}function NN(){return NN=(0,Me.Z)(function*(n){Ym(n).hu()}),NN.apply(this,arguments)}function u7(n){return FN.apply(this,arguments)}function FN(){return FN=(0,Me.Z)(function*(n){const t=Ym(n);for(const e of n.Eu)t.uu(e.mutations)}),FN.apply(this,arguments)}function h7(n,t,e){return LN.apply(this,arguments)}function LN(){return LN=(0,Me.Z)(function*(n,t,e){const i=n.Eu.shift(),r=qP.from(i,t,e);yield yz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield sb(n)}),LN.apply(this,arguments)}function f7(n,t){return BN.apply(this,arguments)}function BN(){return BN=(0,Me.Z)(function*(n,t){var e;t&&Ym(n).ou&&(yield(e=(0,Me.Z)(function*(i,r){if(aj(o=r.code)&&o!==Ee.ABORTED){const c=i.Eu.shift();Ym(i).Qo(),yield yz(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield sb(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),bz(n)&&wz(n)}),BN.apply(this,arguments)}function xz(n,t){return VN.apply(this,arguments)}function VN(){return VN=(0,Me.Z)(function*(n,t){const e=gt(n);e.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=Wm(e);e.vu.add(3),yield ob(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield mC(e)}),VN.apply(this,arguments)}function UN(n,t){return HN.apply(this,arguments)}function HN(){return HN=(0,Me.Z)(function*(n,t){const e=gt(n);t?(e.vu.delete(2),yield mC(e)):t||(e.vu.add(2),yield ob(e),e.bu.set("Unknown"))}),HN.apply(this,arguments)}function ab(n){return n.Su||(n.Su=function(t,e,i){const r=gt(t);return r.fu(),new X9(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:o7.bind(null,n),ao:s7.bind(null,n),nu:a7.bind(null,n)}),n.Ru.push(function(){var t=(0,Me.Z)(function*(e){e?(n.Su.Qo(),kN(n)?TN(n):n.bu.set("Unknown")):(yield n.Su.stop(),vz(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Ym(n){return n.Du||(n.Du=function(t,e,i){const r=gt(t);return r.fu(),new J9(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:d7.bind(null,n),ao:f7.bind(null,n),au:u7.bind(null,n),cu:h7.bind(null,n)}),n.Ru.push(function(){var t=(0,Me.Z)(function*(e){e?(n.Du.Qo(),yield sb(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class jN{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new jN(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(Ee.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cb(n,t){if($r("AsyncQueue",`${t}: ${n}`),Nm(n))return new $e(Ee.UNAVAILABLE,`${t}: ${n}`);throw n}class lb{constructor(t){this.comparator=t?(e,i)=>t(e,i)||mt.comparator(e.key,i.key):(e,i)=>mt.comparator(e.key,i.key),this.keyedMap=Zx(),this.sortedSet=new Fi(this.comparator)}static emptySet(t){return new lb(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof lb)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new lb;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Cz{constructor(){this.Cu=new Fi(mt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):Dt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class db{constructor(t,e,i,r,o,c,h,m,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new db(t,e,lb.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wx(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class m7{constructor(){this.Nu=void 0,this.listeners=[]}}class p7{constructor(){this.queries=new df(t=>j3(t),Wx),this.onlineState="Unknown",this.ku=new Set}}function zN(n,t){return $N.apply(this,arguments)}function $N(){return $N=(0,Me.Z)(function*(n,t){const e=gt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new m7),r)try{o.Nu=yield e.onListen(i)}catch(c){const h=cb(c,`Initialization of query '${jP(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&WN(e)}),$N.apply(this,arguments)}function GN(n,t){return qN.apply(this,arguments)}function qN(){return qN=(0,Me.Z)(function*(n,t){const e=gt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),qN.apply(this,arguments)}function g7(n,t){const e=gt(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const h of c.listeners)h.$u(r)&&(i=!0);c.Nu=r}}i&&WN(e)}function _7(n,t,e){const i=gt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function WN(n){n.ku.forEach(t=>{t.next()})}class YN{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new db(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=db.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class v7{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class Ez{constructor(t){this.serializer=t}rr(t){return ju(this.serializer,t)}ur(t){return t.metadata.exists?xj(this.serializer,t.document,!1):Yi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Gr(t)}}class y7{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Iz(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=jn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new Ez(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const c of r.metadata.queries){const h=(e.get(c)||xn()).add(o);e.set(c,h)}}return e}complete(){var t=this;return(0,Me.Z)(function*(){const e=yield function q9(n,t,e,i){return gN.apply(this,arguments)}(t.localStore,new Ez(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield W9(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function Iz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Dz{constructor(t){this.key=t}}class Sz{constructor(t){this.key=t}}class Tz{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=xn(),this.mutatedKeys=xn(),this.tc=$3(t),this.ec=new lb(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new Cz,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,T)=>{const O=r.get(w),B=Yx(this.query,T)?T:null,G=!!O&&this.mutatedKeys.has(O.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let re=!1;O&&B?O.data.isEqual(B.data)?G!==X&&(i.track({type:3,doc:B}),re=!0):this.rc(O,B)||(i.track({type:2,doc:B}),re=!0,(m&&this.tc(B,m)>0||v&&this.tc(B,v)<0)&&(h=!0)):!O&&B?(i.track({type:0,doc:B}),re=!0):O&&!B&&(i.track({type:1,doc:O}),re=!0,(m||v)&&(h=!0)),re&&(B?(c=c.add(B),o=X?o.add(w):o.delete(w)):(c=c.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{ec:c,ic:i,zi:h,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((v,w)=>function(T,O){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return B(T)-B(O)}(v.type,w.type)||this.tc(v.doc,w.doc)),this.oc(i);const c=e?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==o.length||m?{snapshot:new db(this.query,t.ec,r,o,t.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Cz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=xn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new Sz(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new Dz(i))}),e}hc(t){this.Yu=t.ir,this.Zu=xn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return db.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class b7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class w7{constructor(t){this.key=t,this.fc=!1}}class x7{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new df(h=>j3(h),Wx),this._c=new Map,this.mc=new Set,this.gc=new Fi(mt.comparator),this.yc=new Map,this.Ic=new cN,this.Tc={},this.Ec=new Map,this.Ac=r_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function C7(n,t){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,Me.Z)(function*(n,t){const e=vF(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const c=yield ib(e.localStore,fa(t)),h=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield KN(e,t,i,"current"===h,c.resumeToken),e.isPrimaryClient&&ok(e.remoteStore,c)}return r}),ZN.apply(this,arguments)}function KN(n,t,e,i,r){return QN.apply(this,arguments)}function QN(){return QN=(0,Me.Z)(function*(n,t,e,i,r){n.Rc=(T,O,B)=>{return(G=(0,Me.Z)(function*(X,re,He,Je){let Xe=re.view.sc(He);Xe.zi&&(Xe=yield ek(X.localStore,re.query,!1).then(({documents:jt})=>re.view.sc(jt,Xe)));const st=Je&&Je.targetChanges.get(re.targetId),Bt=re.view.applyChanges(Xe,X.isPrimaryClient,st);return aF(X,re.targetId,Bt.cc),Bt.snapshot}),function(X,re,He,Je){return G.apply(this,arguments)})(n,T,O,B);var G};const o=yield ek(n.localStore,t,!0),c=new Tz(t,o.ir),h=c.sc(o.documents),m=tC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=c.applyChanges(h,n.isPrimaryClient,m);aF(n,e,v.cc);const w=new b7(t,e,c);return n.wc.set(t,w),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),v.snapshot}),QN.apply(this,arguments)}function E7(n,t){return XN.apply(this,arguments)}function XN(){return XN=(0,Me.Z)(function*(n,t){const e=gt(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!Wx(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rb(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),pC(e.remoteStore,i.targetId),ub(e,i.targetId)}).catch(Pm))):(ub(e,i.targetId),yield rb(e.localStore,i.targetId,!0))}),XN.apply(this,arguments)}function JN(){return JN=(0,Me.Z)(function*(n,t,e){const i=yF(n);try{const r=yield function(o,c){const h=gt(o),m=sr.now(),v=c.reduce((O,B)=>O.add(B.key),xn());let w,T;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let B=Ha(),G=xn();return h.Zi.getEntries(O,v).next(X=>{B=X,B.forEach((re,He)=>{He.isValidDocument()||(G=G.add(re))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,B)).next(X=>{w=X;const re=[];for(const He of c){const Je=JW(He,w.get(He.key).overlayedDocument);null!=Je&&re.push(new uf(He.key,Je,T3(Je.value.mapValue),ar.exists(!0)))}return h.mutationQueue.addMutationBatch(O,m,re,c)}).next(X=>{T=X;const re=X.applyToLocalDocumentSet(w,G);return h.documentOverlayCache.saveOverlays(O,X.batchId,re)})}).then(()=>({batchId:T.batchId,changes:q3(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let m=o.Tc[o.currentUser.toKey()];m||(m=new Fi(an)),m=m.insert(c,h),o.Tc[o.currentUser.toKey()]=m}(i,r.batchId,e),yield ff(i,r.changes),yield sb(i.remoteStore)}catch(r){const o=cb(r,"Failed to persist write");e.reject(o)}}),JN.apply(this,arguments)}function kz(n,t){return eF.apply(this,arguments)}function eF(){return eF=(0,Me.Z)(function*(n,t){const e=gt(n);try{const i=yield function $9(n,t){const e=gt(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const h=[];t.targetChanges.forEach((w,T)=>{const O=r.get(T);if(!O)return;h.push(e.Bs.removeMatchingKeys(o,w.removedDocuments,T).next(()=>e.Bs.addMatchingKeys(o,w.addedDocuments,T)));let B=O.withSequenceNumber(o.currentSequenceNumber);var G,X,re;null!==t.targetMismatches.get(T)?B=B.withResumeToken(yo.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,i)),r=r.insert(T,B),X=B,re=w,(0===(G=O).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&h.push(e.Bs.updateTargetData(o,B))});let m=Ha(),v=xn();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,w))}),h.push(az(o,c,t.documentUpdates).next(w=>{m=w.nr,v=w.sr})),!i.isEqual(Lt.min())){const w=e.Bs.getLastRemoteSnapshotVersion(o).next(T=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(w)}return ve.waitFor(h).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,m,v)).next(()=>m)}).then(o=>(e.Ji=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.yc.get(o);c&&(Nt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?Nt(c.fc):r.removedDocuments.size>0&&(Nt(c.fc),c.fc=!1))}),yield ff(e,i,t)}catch(i){yield Pm(i)}}),eF.apply(this,arguments)}function Az(n,t,e){const i=gt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,c)=>{const h=c.view.Mu(t);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=gt(o);h.onlineState=c;let m=!1;h.queries.forEach((v,w)=>{for(const T of w.listeners)T.Mu(c)&&(m=!0)}),m&&WN(h)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function D7(n,t,e){return tF.apply(this,arguments)}function tF(){return tF=(0,Me.Z)(function*(n,t,e){const i=gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let c=new Fi(mt.comparator);c=c.insert(o,Yi.newNoDocument(o,Lt.min()));const h=xn().add(o),m=new eC(Lt.min(),new Map,new Fi(an),c,h);yield kz(i,m),i.gc=i.gc.remove(o),i.yc.delete(t),cF(i)}else yield rb(i.localStore,t,!1).then(()=>ub(i,t,e)).catch(Pm)}),tF.apply(this,arguments)}function S7(n,t){return nF.apply(this,arguments)}function nF(){return nF=(0,Me.Z)(function*(n,t){const e=gt(n),i=t.batch.batchId;try{const r=yield function z9(n,t){const e=gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,m,v){const w=m.batch,T=w.keys();let O=ve.resolve();return T.forEach(B=>{O=O.next(()=>v.getEntry(h,B)).next(G=>{const X=m.docVersions.get(B);Nt(null!==X),G.version.compareTo(X)<0&&(w.applyToRemoteDocument(G,m),G.isValidDocument()&&(G.setReadTime(m.commitVersion),v.addEntry(G)))})}),O.next(()=>c.mutationQueue.removeMutationBatch(h,w))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=xn();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(h=h.add(c.batch.mutations[m].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);sF(e,i,null),oF(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ff(e,r)}catch(r){yield Pm(r)}}),nF.apply(this,arguments)}function T7(n,t,e){return iF.apply(this,arguments)}function iF(){return iF=(0,Me.Z)(function*(n,t,e){const i=gt(n);try{const r=yield function(o,c){const h=gt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,c).next(w=>(Nt(null!==w),v=w.keys(),h.mutationQueue.removeMutationBatch(m,w))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,t);sF(i,t,e),oF(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ff(i,r)}catch(r){yield Pm(r)}}),iF.apply(this,arguments)}function rF(){return rF=(0,Me.Z)(function*(n,t){const e=gt(n);Wm(e.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=gt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=cb(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),rF.apply(this,arguments)}function oF(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function sF(n,t,e){const i=gt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function ub(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||Mz(n,i)})}function Mz(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(pC(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),cF(n))}function aF(n,t,e){for(const i of e)i instanceof Dz?(n.Ic.addReference(i.key,t),A7(n,i)):i instanceof Sz?(Ke("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||Mz(n,i.key)):Dt()}function A7(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Ke("SyncEngine","New document in limbo: "+e),n.mc.add(i),cF(n))}function cF(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new mt(jn.fromString(t)),i=n.Ac.next();n.yc.set(i,new w7(e)),n.gc=n.gc.insert(e,i),ok(n.remoteStore,new hf(fa(Yy(e.path)),i,"TargetPurposeLimboResolution",kc.ct))}}function ff(n,t,e){return lF.apply(this,arguments)}function lF(){return lF=(0,Me.Z)(function*(n,t,e){const i=gt(n),r=[],o=[],c=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,m)=>{c.push(i.Rc(m,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const w=fN.Li(m.targetId,v);o.push(w)}}))}),yield Promise.all(c),i.dc.nu(r),yield(h=(0,Me.Z)(function*(m,v){const w=gt(m);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ve.forEach(v,O=>ve.forEach(O.Fi,B=>w.persistence.referenceDelegate.addReference(T,O.targetId,B)).next(()=>ve.forEach(O.Bi,B=>w.persistence.referenceDelegate.removeReference(T,O.targetId,B)))))}catch(T){if(!Nm(T))throw T;Ke("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const O=T.targetId;if(!T.fromCache){const B=w.Ji.get(O),X=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);w.Ji=w.Ji.insert(O,X)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,o))}),lF.apply(this,arguments)}function M7(n,t){return dF.apply(this,arguments)}function dF(){return dF=(0,Me.Z)(function*(n,t){const e=gt(n);if(!e.currentUser.isEqual(t)){Ke("SyncEngine","User change. New user:",t.toKey());const i=yield oz(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(c=>{c.forEach(h=>{h.reject(new $e(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ff(e,i.er)}var r}),dF.apply(this,arguments)}function R7(n,t){const e=gt(n),i=e.yc.get(t);if(i&&i.fc)return xn().add(i.key);{let r=xn();const o=e._c.get(t);if(!o)return r;for(const c of o){const h=e.wc.get(c);r=r.unionWith(h.view.nc)}return r}}function O7(n,t){return uF.apply(this,arguments)}function uF(){return uF=(0,Me.Z)(function*(n,t){const e=gt(n),i=yield ek(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&aF(e,t.targetId,r.cc),r}),uF.apply(this,arguments)}function P7(n,t){return hF.apply(this,arguments)}function hF(){return hF=(0,Me.Z)(function*(n,t){const e=gt(n);return lz(e.localStore,t).then(i=>ff(e,i))}),hF.apply(this,arguments)}function N7(n,t,e,i){return fF.apply(this,arguments)}function fF(){return fF=(0,Me.Z)(function*(n,t,e,i){const r=gt(n),o=yield function(c,h){const m=gt(c),v=gt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",w=>v.Sn(w,h).next(T=>T?m.localDocuments.getDocuments(w,T):ve.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield sb(r.remoteStore):"acknowledged"===e||"rejected"===e?(sF(r,t,i||null),oF(r,t),h=t,gt(gt(r.localStore).mutationQueue).Cn(h)):Dt(),yield ff(r,o)):Ke("SyncEngine","Cannot apply mutation batch with id: "+t)}),fF.apply(this,arguments)}function mF(){return mF=(0,Me.Z)(function*(n,t){const e=gt(n);if(vF(e),yF(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Rz(e,i.toArray());e.vc=!0,yield UN(e.remoteStore,!0);for(const o of r)ok(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(ub(e,c),rb(e.localStore,c,!0))),pC(e.remoteStore,c)}),yield r,yield Rz(e,i),function(o){const c=gt(o);c.yc.forEach((h,m)=>{pC(c.remoteStore,m)}),c.Ic.Ts(),c.yc=new Map,c.gc=new Fi(mt.comparator)}(e),e.vc=!1,yield UN(e.remoteStore,!1)}}),mF.apply(this,arguments)}function Rz(n,t,e){return pF.apply(this,arguments)}function pF(){return pF=(0,Me.Z)(function*(n,t,e){const i=gt(n),r=[],o=[];for(const c of t){let h;const m=i._c.get(c);if(m&&0!==m.length){h=yield ib(i.localStore,fa(m[0]));for(const v of m){const w=i.wc.get(v),T=yield O7(i,w);T.snapshot&&o.push(T.snapshot)}}else{const v=yield cz(i.localStore,c);h=yield ib(i.localStore,v),yield KN(i,Oz(v),c,!1,h.resumeToken)}r.push(h)}return i.dc.nu(o),r}),pF.apply(this,arguments)}function Oz(n){return U3(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function L7(n){const t=gt(n);return gt(gt(t.localStore).persistence).$i()}function B7(n,t,e,i){return gF.apply(this,arguments)}function gF(){return gF=(0,Me.Z)(function*(n,t,e,i){const r=gt(n);if(r.vc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield lz(r.localStore,z3(o[0])),h=eC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,yo.EMPTY_BYTE_STRING);yield ff(r,c,h);break}case"rejected":yield rb(r.localStore,t,!0),ub(r,t,i);break;default:Dt()}}),gF.apply(this,arguments)}function V7(n,t,e){return _F.apply(this,arguments)}function _F(){return _F=(0,Me.Z)(function*(n,t,e){const i=vF(n);if(i.vc){for(const r of t){if(i._c.has(r)){Ke("SyncEngine","Adding an already active target "+r);continue}const o=yield cz(i.localStore,r),c=yield ib(i.localStore,o);yield KN(i,Oz(o),c.targetId,!1,c.resumeToken),ok(i.remoteStore,c)}for(const r of e)i._c.has(r)&&(yield rb(i.localStore,r,!1).then(()=>{pC(i.remoteStore,r),ub(i,r)}).catch(Pm))}}),_F.apply(this,arguments)}function vF(n){const t=gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=kz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=R7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=D7.bind(null,t),t.dc.nu=g7.bind(null,t.eventManager),t.dc.Pc=_7.bind(null,t.eventManager),t}function yF(n){const t=gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=S7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=T7.bind(null,t),t}class gC{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Me.Z)(function*(){e.serializer=fC(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return rz(this.persistence,new iz,t.initialUser,this.serializer)}createPersistence(t){return new lN(QT.zs,this.serializer)}createSharedClientState(t){return new fz}terminate(){var t=this;return(0,Me.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class bF extends gC{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield yF(i.Vc.syncEngine),yield sb(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return rz(this.persistence,new iz,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Yj(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new uW(e,this.persistence);return new dW(t.asyncQueue,i)}createPersistence(t){const e=hN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?As.withCacheSize(this.cacheSizeBytes):As.DEFAULT;return new uN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,pz(),rk(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new fz}}class Pz extends bF{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof wN&&(i.sharedClientState.syncEngine={jr:N7.bind(null,r),zr:B7.bind(null,r),Wr:V7.bind(null,r),$i:L7.bind(null,r),Qr:P7.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,Me.Z)(function*(c){yield function F7(n,t){return mF.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=pz();if(!wN.D(e))throw new $e(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new wN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class hb{initialize(t,e){var i=this;return(0,Me.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Az(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=M7.bind(null,i.syncEngine),yield UN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new p7}createDatastore(t){const e=fC(t.databaseInfo.databaseId),i=new Q9(t.databaseInfo);return new e7(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>Az(this.syncEngine,h,0),c=mz.D()?new mz:new Y9,new r7(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,h,m,v){const w=new x7(i,r,o,c,h,m);return v&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Me.Z)(function*(e){const i=gt(e);Ke("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ob(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Nz(n,t=10240){let e=0;return{read:()=>(0,Me.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ak{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):$r("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class j7{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new vo,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,Me.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,Me.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,Me.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new v7(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,Me.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,Me.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,Me.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class z7{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new $e(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Me.Z)(function*(o,c){const h=gt(o),m=iC(h.serializer)+"/documents",v={documents:c.map(B=>nC(h.serializer,B))},w=yield h.vo("BatchGetDocuments",m,v,c.length),T=new Map;w.forEach(B=>{const G=function l9(n,t){return"found"in t?function(e,i){Nt(!!i.found);const r=ju(e,i.found.name),o=Gr(i.found.updateTime),c=i.found.createTime?Gr(i.found.createTime):Lt.min(),h=new as({mapValue:{fields:i.found.fields}});return Yi.newFoundDocument(r,o,c,h)}(n,t):"missing"in t?function(e,i){Nt(!!i.missing),Nt(!!i.readTime);const r=ju(e,i.missing),o=Gr(i.readTime);return Yi.newNoDocument(r,o)}(n,t):Dt()}(h.serializer,B);T.set(G.key.toString(),G)});const O=[];return c.forEach(B=>{const G=T.get(B.toString());Nt(!!G),O.push(G)}),O}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Xy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=mt.fromPath(r);t.mutations.push(new $P(o,t.precondition(o)))}),yield(i=(0,Me.Z)(function*(r,o){const c=gt(r),h=iC(c.serializer)+"/documents",m={writes:o.map(v=>rC(c.serializer,v))};yield c.Io("Commit",h,m)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Dt();e=Lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new $e(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Lt.min())?ar.exists(!1):ar.updateTime(e):ar.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new $e(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(e)}return ar.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class $7{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new CN(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,Me.Z)(function*(){const e=new z7(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!Ux(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!aj(e)}return!1}}class G7{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Oo.UNAUTHENTICATED,this.clientId=r3.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Me.Z)(function*(h){Ke("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,Me.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=cb(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function ck(n,t){return wF.apply(this,arguments)}function wF(){return wF=(0,Me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Me.Z)(function*(o){i.isEqual(o)||(yield oz(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),wF.apply(this,arguments)}function xF(n,t){return CF.apply(this,arguments)}function CF(){return CF=(0,Me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield EF(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>xz(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>xz(t.remoteStore,o)),n._onlineComponents=t}),CF.apply(this,arguments)}function Fz(n){return"FirebaseError"===n.name?n.code===Ee.FAILED_PRECONDITION||n.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function EF(n){return IF.apply(this,arguments)}function IF(){return IF=(0,Me.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ck(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!Fz(e))throw e;wl("Error using user provided cache. Falling back to memory cache: "+e),yield ck(n,new gC)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield ck(n,new gC);return n._offlineComponents}),IF.apply(this,arguments)}function lk(n){return DF.apply(this,arguments)}function DF(){return DF=(0,Me.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield xF(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield xF(n,new hb))),n._onlineComponents}),DF.apply(this,arguments)}function Lz(n){return EF(n).then(t=>t.persistence)}function dk(n){return EF(n).then(t=>t.localStore)}function Bz(n){return lk(n).then(t=>t.remoteStore)}function SF(n){return lk(n).then(t=>t.syncEngine)}function fb(n){return TF.apply(this,arguments)}function TF(){return TF=(0,Me.Z)(function*(n){const t=yield lk(n),e=t.eventManager;return e.onListen=C7.bind(null,t.syncEngine),e.onUnlisten=E7.bind(null,t.syncEngine),e}),TF.apply(this,arguments)}function Uz(n,t,e={}){const i=new vo;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,o,c,h,m){const v=new ak({next:T=>{o.enqueueAndForget(()=>GN(r,w));const O=T.docs.has(c);!O&&T.fromCache?m.reject(new $e(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&h&&"server"===h.source?m.reject(new $e(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new YN(Yy(c.path),v,{includeMetadataChanges:!0,Ku:!0});return zN(r,w)}(yield fb(n),n.asyncQueue,t,e,i)})),i.promise}function Hz(n,t,e={}){const i=new vo;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,o,c,h,m){const v=new ak({next:T=>{o.enqueueAndForget(()=>GN(r,w)),T.fromCache&&"server"===h.source?m.reject(new $e(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new YN(c,v,{includeMetadataChanges:!0,Ku:!0});return zN(r,w)}(yield fb(n),n.asyncQueue,t,e,i)})),i.promise}function jz(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const zz=new Map;function kF(n,t,e){if(!e)throw new $e(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $z(n,t,e,i){if(!0===t&&!0===i)throw new $e(Ee.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Gz(n){if(!mt.isDocumentKey(n))throw new $e(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qz(n){if(mt.isDocumentKey(n))throw new $e(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uk(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Dt()}function Pn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new $e(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=uk(n);throw new $e(Ee.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Wz(n,t){if(t<=0)throw new $e(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Yz{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new $e(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $e(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$z("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jz(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new $e(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $e(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $e(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _C{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new $e(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yz(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Xq;switch(e.type){case"firstParty":return new nW(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $e(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=zz.get(t);e&&(Ke("ComponentProvider","Removing Datastore"),zz.delete(t),e.terminate())}(this),Promise.resolve()}}class Zi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zi(this.firestore,t,this._key)}}class cs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new cs(this.firestore,t,this._query)}}class zu extends cs{constructor(t,e,i){super(t,e,Yy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zi(this.firestore,null,new mt(t))}withConverter(t){return new zu(this.firestore,t,this._path)}}function Kz(n,t,...e){if(n=(0,H.m9)(n),kF("collection","path",t),n instanceof _C){const i=jn.fromString(t,...e);return qz(i),new zu(n,null,i)}{if(!(n instanceof Zi||n instanceof zu))throw new $e(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jn.fromString(t,...e));return qz(i),new zu(n.firestore,null,i)}}function hk(n,t,...e){if(n=(0,H.m9)(n),1===arguments.length&&(t=r3.A()),kF("doc","path",t),n instanceof _C){const i=jn.fromString(t,...e);return Gz(i),new Zi(n,null,new mt(i))}{if(!(n instanceof Zi||n instanceof zu))throw new $e(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jn.fromString(t,...e));return Gz(i),new Zi(n.firestore,n instanceof zu?n.converter:null,new mt(i))}}function Qz(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),(n instanceof Zi||n instanceof zu)&&(t instanceof Zi||t instanceof zu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function AF(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),n instanceof cs&&t instanceof cs&&n.firestore===t.firestore&&Wx(n._query,t._query)&&n.converter===t.converter}class tY{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new CN(this,"async_queue_retry"),this.Xc=()=>{const e=rk();e&&Ke("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=rk();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=rk();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new vo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,Me.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Nm(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,$r("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=jN.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&Dt()}verifyOperationInProgress(){}sa(){var t=this;return(0,Me.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function MF(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class nY{constructor(){this._progressObserver={},this._taskCompletionResolver=new vo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ki extends _C{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new tY,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xz(this),this._firestoreClient.terminate()}}function qr(n){return n._firestoreClient||Xz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Xz(n){var t,e,i;const r=n._freezeSettings(),o=(h=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new RW(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,jz(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new G7(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function Jz(n,t,e){const i=new vo;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield ck(n,e),yield xF(n,t),i.resolve()}catch(r){const o=r;if(!Fz(o))throw o;wl("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function e4(n){if(n._initialized||n._terminated)throw new $e(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $u(yo.fromBase64String(t))}catch(e){throw new $e(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new $u(yo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class mf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new $e(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class s_{constructor(t){this._methodName=t}}class fk{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new $e(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $e(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return an(this._lat,t._lat)||an(this._long,t._long)}}const fY=/^__.*__$/;class mY{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new uf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Qy(t,this.data,e,this.fieldTransforms)}}class t4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new uf(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function n4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class mk{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new mk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return _k(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(n4(this.ca)&&fY.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class pY{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||fC(t)}ya(t,e,i,r=!1){return new mk({ca:t,methodName:e,ga:i,path:Nr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a_(n){const t=n._freezeSettings(),e=fC(n._databaseId);return new pY(n._databaseId,!!t.ignoreUndefinedProperties,e)}function pk(n,t,e,i,r,o={}){const c=n.ya(o.merge||o.mergeFields?2:0,t,e,r);NF("Data must be an object, but it was:",c,i);const h=s4(i,c);let m,v;if(o.merge)m=new Ua(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const w=[];for(const T of o.mergeFields){const O=bC(t,T,e);if(!c.contains(O))throw new $e(Ee.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);c4(w,O)||w.push(O)}m=new Ua(w),v=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,v=c.fieldTransforms;return new mY(new as(h),m,v)}class yC extends s_{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yC}}function r4(n,t,e){return new mk({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class RF extends s_{_toFieldTransform(t){return new Qx(t.path,new Zy)}isEqual(t){return t instanceof RF}}class gY extends s_{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=r4(this,t,!0),i=this.pa.map(o=>c_(o,e)),r=new Qg(i);return new Qx(t.path,r)}isEqual(t){return this===t}}class _Y extends s_{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=r4(this,t,!0),i=this.pa.map(o=>c_(o,e)),r=new Xg(i);return new Qx(t.path,r)}isEqual(t){return this===t}}class vY extends s_{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Ky(t.serializer,K3(t.serializer,this.Ia));return new Qx(t.path,e)}isEqual(t){return this===t}}function OF(n,t,e,i){const r=n.ya(1,t,e);NF("Data must be an object, but it was:",r,i);const o=[],c=as.empty();Fm(i,(m,v)=>{const w=gk(t,m,e);v=(0,H.m9)(v);const T=r.da(w);if(v instanceof yC)o.push(w);else{const O=c_(v,T);null!=O&&(o.push(w),c.set(w,O))}});const h=new Ua(o);return new t4(c,h,r.fieldTransforms)}function PF(n,t,e,i,r,o){const c=n.ya(1,t,e),h=[bC(t,i,e)],m=[r];if(o.length%2!=0)throw new $e(Ee.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)h.push(bC(t,o[O])),m.push(o[O+1]);const v=[],w=as.empty();for(let O=h.length-1;O>=0;--O)if(!c4(v,h[O])){const B=h[O];let G=m[O];G=(0,H.m9)(G);const X=c.da(B);if(G instanceof yC)v.push(B);else{const re=c_(G,X);null!=re&&(v.push(B),w.set(B,re))}}const T=new Ua(v);return new t4(w,T,c.fieldTransforms)}function o4(n,t,e,i=!1){return c_(e,n.ya(i?4:3,t))}function c_(n,t){if(a4(n=(0,H.m9)(n)))return NF("Unsupported field value:",t,n),s4(n,t);if(n instanceof s_)return function(e,i){if(!n4(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let h=c_(c,i.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,H.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return K3(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=sr.fromDate(e);return{timestampValue:Jy(i.serializer,r)}}if(e instanceof sr){const r=new sr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jy(i.serializer,r)}}if(e instanceof fk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $u)return{bytesValue:_j(i.serializer,e._byteString)};if(e instanceof Zi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:QP(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${uk(e)}`)}(n,t)}function s4(n,t){const e={};return y3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fm(n,(i,r)=>{const o=c_(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function a4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof fk||n instanceof $u||n instanceof Zi||n instanceof s_)}function NF(n,t,e){if(!a4(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=uk(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function bC(n,t,e){if((t=(0,H.m9)(t))instanceof mf)return t._internalPath;if("string"==typeof t)return gk(n,t);throw _k("Field path arguments must be of type string or ",n,!1,void 0,e)}const yY=new RegExp("[~\\*/\\[\\]]");function gk(n,t,e){if(t.search(yY)>=0)throw _k(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new mf(...t.split("."))._internalPath}catch{throw _k(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function _k(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${i}`),c&&(m+=` in document ${r}`),m+=")"),new $e(Ee.INVALID_ARGUMENT,h+n+m)}function c4(n,t){return n.some(e=>e.isEqual(t))}class wC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(vk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class bY extends wC{data(){return super.data()}}function vk(n,t){return"string"==typeof t?gk(n,t):t instanceof mf?t._internalPath:t._delegate._internalPath}function l4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FF{}class xC extends FF{}function Zm(n,t,...e){let i=[];t instanceof FF&&i.push(t),i=i.concat(e),function(r){const o=r.filter(h=>h instanceof mb).length,c=r.filter(h=>h instanceof CC).length;if(o>1||o>0&&c>0)throw new $e(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class CC extends xC{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new CC(t,e,i)}_apply(t){const e=this._parse(t);return f4(t._query,e),new cs(t.firestore,t.converter,HP(t._query,e))}_parse(t){const e=a_(t.firestore);return function(r,o,c,h,m,v,w){let T;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new $e(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){h4(w,v);const O=[];for(const B of w)O.push(u4(h,r,B));T={arrayValue:{values:O}}}else T=u4(h,r,w)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||h4(w,v),T=o4(c,"where",w,"in"===v||"not-in"===v);return On.create(m,v,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class mb extends FF{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new mb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:gi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const c=r.getFlattenedFilters();for(const h of c)f4(o,h),o=HP(o,h)}(t._query,e),new cs(t.firestore,t.converter,HP(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class LF extends xC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new LF(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new $e(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new $e(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new qy(r,o);return function(h,m){if(null===VP(h)){const v=FT(h);null!==v&&m4(0,v,m.field)}}(i,c),c}(t._query,this._field,this._direction);return new cs(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new lf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class yk extends xC{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new yk(t,e,i)}_apply(t){return new cs(t.firestore,t.converter,LT(t._query,this._limit,this._limitType))}}class bk extends xC{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new bk(t,e,i)}_apply(t){const e=d4(t,this.type,this._docOrFields,this._inclusive);return new cs(t.firestore,t.converter,(r=e,new lf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class wk extends xC{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new wk(t,e,i)}_apply(t){const e=d4(t,this.type,this._docOrFields,this._inclusive);return new cs(t.firestore,t.converter,(r=e,new lf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function d4(n,t,e,i){if(e[0]=(0,H.m9)(e[0]),e[0]instanceof wC)return function(r,o,c,h,m){if(!h)throw new $e(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const w of Kg(r))if(w.field.isKeyField())v.push(Yg(o,h.key));else{const T=h.data.field(w.field);if(kT(T))throw new $e(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const O=w.field.canonicalString();throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}v.push(T)}return new jm(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=a_(n.firestore);return function(o,c,h,m,v,w){const T=o.explicitOrderBy;if(v.length>T.length)throw new $e(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let B=0;B<v.length;B++){const G=v[B];if(T[B].field.isKeyField()){if("string"!=typeof G)throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof G}`);if(!UP(o)&&-1!==G.indexOf("/"))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${G}' contains a slash.`);const X=o.path.child(jn.fromString(G));if(!mt.isDocumentKey(X))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const re=new mt(X);O.push(Yg(c,re))}else{const X=o4(h,m,G);O.push(X)}}return new jm(O,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function u4(n,t,e){if("string"==typeof(e=(0,H.m9)(e))){if(""===e)throw new $e(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UP(t)&&-1!==e.indexOf("/"))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(jn.fromString(e));if(!mt.isDocumentKey(i))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yg(n,new mt(i))}if(e instanceof Zi)return Yg(n,e._key);throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uk(e)}.`)}function h4(n,t){if(!Array.isArray(n)||0===n.length)throw new $e(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function f4(n,t){if(t.isInequality()){const i=FT(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=VP(n);null!==o&&m4(0,r,o)}const e=function(i,r){for(const o of i)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new $e(Ee.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function m4(n,t,e){if(!e.isEqual(t))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class BF{convertValue(t,e="none"){switch(Um(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(cf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Dt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Fm(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new fk(Fr(t.latitude),Fr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=AT(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(jx(t));default:return null}}convertTimestamp(t){const e=Lm(t);return new sr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=jn.fromString(t);Nt(Sj(i));const r=new Bm(i.get(1),i.get(3)),o=new mt(i.popFirst(5));return r.isEqual(e)||$r(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function xk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class kY extends BF{constructor(t){super(),this.firestore=t}convertBytes(t){return new $u(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zi(this.firestore,null,e)}}class l_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pf extends wC{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new EC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(vk("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class EC extends pf{data(t={}){return super.data(t)}}class Km{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new l_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new EC(this._firestore,this._userDataWriter,i.key,i,new l_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $e(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new EC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new l_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new EC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new l_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==c.type&&(m=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),v=o.indexOf(c.doc.key)),{type:MY(c.type),doc:h,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function MY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function g4(n,t){return n instanceof pf&&t instanceof pf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Km&&t instanceof Km&&n._firestore===t._firestore&&AF(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Qm extends BF{constructor(t){super(),this.firestore=t}convertBytes(t){return new $u(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zi(this.firestore,null,e)}}function _4(n,t,e){n=Pn(n,Zi);const i=Pn(n.firestore,Ki),r=xk(n.converter,t,e);return pb(i,[pk(a_(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ar.none())])}function v4(n,t,e,...i){n=Pn(n,Zi);const r=Pn(n.firestore,Ki),o=a_(r);let c;return c="string"==typeof(t=(0,H.m9)(t))||t instanceof mf?PF(o,"updateDoc",n._key,t,e,i):OF(o,"updateDoc",n._key,t),pb(r,[c.toMutation(n._key,ar.exists(!0))])}function y4(n,...t){var e,i,r;n=(0,H.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||MF(t[c])||(o=t[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(MF(t[c])){const T=t[c];t[c]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let m,v,w;if(n instanceof Zi)v=Pn(n.firestore,Ki),w=Yy(n._key.path),m={next:T=>{t[c]&&t[c](VF(v,n,T))},error:t[c+1],complete:t[c+2]};else{const T=Pn(n,cs);v=Pn(T.firestore,Ki),w=T._query;const O=new Qm(v);m={next:B=>{t[c]&&t[c](new Km(v,O,T,B))},error:t[c+1],complete:t[c+2]},l4(n._query)}return function(T,O,B,G){const X=new ak(G),re=new YN(O,X,B);return T.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return zN(yield fb(T),re)})),()=>{X.Dc(),T.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return GN(yield fb(T),re)}))}}(qr(v),w,h,m)}function pb(n,t){return function(e,i){const r=new vo;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function I7(n,t,e){return JN.apply(this,arguments)}(yield SF(e),i,r)})),r.promise}(qr(n),t)}function VF(n,t,e){const i=e.docs.get(t._key),r=new Qm(n);return new pf(n,r,t._key,i,new l_(e.hasPendingWrites,e.fromCache),t.converter)}const ZY={maxAttempts:5};class b4{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=a_(t)}set(t,e,i){this._verifyNotCommitted();const r=Xm(t,this._firestore),o=xk(r.converter,e,i),c=pk(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ar.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Xm(t,this._firestore);let c;return c="string"==typeof(e=(0,H.m9)(e))||e instanceof mf?PF(this._dataReader,"WriteBatch.update",o._key,e,i,r):OF(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,ar.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Xm(t,this._firestore);return this._mutations=this._mutations.concat(new Xy(e._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xm(n,t){if((n=(0,H.m9)(n)).firestore!==t)throw new $e(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class KY extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=a_(t)}get(t){const e=Xm(t,this._firestore),i=new kY(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Dt();const o=r[0];if(o.isFoundDocument())return new wC(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new wC(this._firestore,i,e._key,null,e.converter);throw Dt()})}set(t,e,i){const r=Xm(t,this._firestore),o=xk(r.converter,e,i),c=pk(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=Xm(t,this._firestore);let c;return c="string"==typeof(e=(0,H.m9)(e))||e instanceof mf?PF(this._dataReader,"Transaction.update",o._key,e,i,r):OF(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Xm(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Xm(t,this._firestore),i=new Qm(this._firestore);return super.get(t).then(r=>new pf(this._firestore,i,e._key,r._document,new l_(!1,!1),e.converter))}}function UF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function x4(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function C4(){if(!function AW(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){jy=gd.SDK_VERSION,(0,gd._registerComponent)(new Dc.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),c=new Ki(new eW(e.getProvider("auth-internal")),new iW(e.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $e(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bm(h.options.projectId,m)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,gd.registerVersion)(e3,"3.13.0",n),(0,gd.registerVersion)(e3,"3.13.0","esm2017")}();class IC{constructor(t){this._delegate=t}static fromBase64String(t){return C4(),new IC($u.fromBase64String(t))}static fromUint8Array(t){return x4(),new IC($u.fromUint8Array(t))}toBase64(){return C4(),this._delegate.toBase64()}toUint8Array(){return x4(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function HF(n){return function oZ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class sZ{enableIndexedDbPersistence(t,e){return function rY(n,t){e4(n=Pn(n,Ki));const e=qr(n);if(e._uninitializedComponentsProvider)throw new $e(Ee.FAILED_PRECONDITION,"SDK cache is already specified.");wl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new hb;return Jz(e,r,new bF(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function oY(n){e4(n=Pn(n,Ki));const t=qr(n);if(t._uninitializedComponentsProvider)throw new $e(Ee.FAILED_PRECONDITION,"SDK cache is already specified.");wl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new hb;return Jz(t,i,new Pz(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function sY(n){if(n._initialized&&!n._terminated)throw new $e(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new vo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(e=(0,Me.Z)(function*(i){if(!wd.D())return Promise.resolve();const r=i+"main";yield wd.delete(r)}),function(i){return e.apply(this,arguments)})(hN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class E4{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Bm||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&wl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Zz(n,t,e,i={}){var r;const o=(n=Pn(n,_C))._getSettings(),c=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==c&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),i.mockUserToken){let h,m;if("string"==typeof i.mockUserToken)h=i.mockUserToken,m=Oo.MOCK_USER;else{h=(0,H.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new $e(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Oo(v)}n._authCredentials=new Jq(new t3(h,m))}}(this._delegate,t,e,i)}enableNetwork(){return function cY(n){return function q7(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const t=yield Lz(n),e=yield Bz(n);return t.setNetworkEnabled(!0),function(i){const r=gt(i);return r.vu.delete(0),mC(r)}(e)}))}(qr(n=Pn(n,Ki)))}(this._delegate)}disableNetwork(){return function lY(n){return function W7(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const t=yield Lz(n),e=yield Bz(n);return t.setNetworkEnabled(!1),(i=(0,Me.Z)(function*(r){const o=gt(r);o.vu.add(0),yield ob(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(qr(n=Pn(n,Ki)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,$z("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function aY(n){return function(t){const e=new vo;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function k7(n,t){return rF.apply(this,arguments)}(yield SF(t),e)})),e.promise}(qr(n=Pn(n,Ki)))}(this._delegate)}onSnapshotsInSync(t){return function UY(n,t){return function K7(n,t){const e=new ak(t);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield fb(n),r=e,gt(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield fb(n),r=e,void gt(i).ku.delete(r);var i,r}))}}(qr(n=Pn(n,Ki)),MF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new gb(this,Kz(this._delegate,t))}catch(e){throw ma(e,"collection()","Firestore.collection()")}}doc(t){try{return new xl(this,hk(this._delegate,t))}catch(e){throw ma(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new pa(this,function eY(n,t){if(n=Pn(n,_C),kF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new $e(Ee.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(n,null,(e=t,new lf(jn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ma(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function QY(n,t,e){n=Pn(n,Ki);const i=Object.assign(Object.assign({},ZY),e);return function(r){if(r.maxAttempts<1)throw new $e(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const h=new vo;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const m=yield function Vz(n){return lk(n).then(t=>t.datastore)}(r);new $7(r.asyncQueue,m,c,o,h).run()})),h.promise}(qr(n),r=>t(new KY(n,r)),i)}(this._delegate,e=>t(new I4(this,e)))}batch(){return qr(this._delegate),new D4(new b4(this._delegate,t=>pb(this._delegate,t)))}loadBundle(t){return function dY(n,t){const e=qr(n=Pn(n,Ki)),i=new nY;return function Q7(n,t,e,i){const r=function(o,c){let h;return h="string"==typeof o?lj().encode(o):o,m=function(m,v){if(m instanceof Uint8Array)return Nz(m,v);if(m instanceof ArrayBuffer)return Nz(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new j7(m,c);var m}(e,fC(t));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function U7(n,t,e){const i=gt(n);var r;(r=(0,Me.Z)(function*(o,c,h){try{const m=yield c.getMetadata();if(yield function(O,B){const G=gt(O),X=Gr(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",re=>G.qs.getBundleMetadata(re,B.id)).then(re=>!!re&&re.createTime.compareTo(X)>=0)}(o.localStore,m))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=m).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(Iz(m));const v=new y7(m,o.localStore,c.serializer);let w=yield c.bc();for(;w;){const O=yield v.zu(w);O&&h._updateProgress(O),w=yield c.bc()}const T=yield v.complete();return yield ff(o,T.Ju,void 0),yield function(O,B){const G=gt(O);return G.persistence.runTransaction("Save bundle","readwrite",X=>G.qs.saveBundleMetadata(X,B))}(o.localStore,m),h._completeWith(T.progress),Promise.resolve(T.Hu)}catch(m){return wl("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var O}),function(o,c,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield SF(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function uY(n,t){return function X7(n,t){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(e,i){const r=gt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield dk(n),t)}))}(qr(n=Pn(n,Ki)),t).then(e=>e?new cs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new pa(this,e):null)}}class Ck extends BF{constructor(t){super(),this.firestore=t}convertBytes(t){return new IC(new $u(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return xl.forKey(e,this.firestore,null)}}class I4{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ck(t)}get(t){const e=u_(t);return this._delegate.get(e).then(i=>new DC(this._firestore,new pf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=u_(t);return i?(UF("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=u_(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=u_(t);return this._delegate.delete(e),this}}class D4{constructor(t){this._delegate=t}set(t,e,i){const r=u_(t);return i?(UF("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=u_(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=u_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class d_{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new EC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new SC(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=d_.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new d_(t,new Ck(t),e),r.set(e,o)),o}}d_.INSTANCES=new WeakMap;class xl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ck(t)}static forPath(t,e,i){if(t.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new xl(e,new Zi(e._delegate,i,new mt(t)))}static forKey(t,e,i){return new xl(e,new Zi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new gb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new gb(this.firestore,Kz(this._delegate,t))}catch(e){throw ma(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,H.m9)(t))instanceof Zi&&Qz(this._delegate,t)}set(t,e){e=UF("DocumentReference.set",e);try{return e?_4(this._delegate,t,e):_4(this._delegate,t)}catch(i){throw ma(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?v4(this._delegate,t):v4(this._delegate,t,e,...i)}catch(r){throw ma(r,"updateDoc()","DocumentReference.update()")}}delete(){return function BY(n){return pb(Pn(n.firestore,Ki),[new Xy(n._key,ar.none())])}(this._delegate)}onSnapshot(...t){const e=S4(t),i=T4(t,r=>new DC(this.firestore,new pf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return y4(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function OY(n){n=Pn(n,Zi);const t=Pn(n.firestore,Ki),e=qr(t),i=new Qm(t);return function Y7(n,t){const e=new vo;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,o,c){try{const h=yield function(m,v){const w=gt(m);return w.persistence.runTransaction("read document","readonly",T=>w.localDocuments.getDocument(T,v))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new $e(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=cb(h,`Failed to get document '${o} from cache`);c.reject(m)}}),function(r,o,c){return i.apply(this,arguments)})(yield dk(n),t,e);var i})),e.promise}(e,n._key).then(r=>new pf(t,i,n._key,r,new l_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function PY(n){n=Pn(n,Zi);const t=Pn(n.firestore,Ki);return Uz(qr(t),n._key,{source:"server"}).then(e=>VF(t,n,e))}(this._delegate):function RY(n){n=Pn(n,Zi);const t=Pn(n.firestore,Ki);return Uz(qr(t),n._key).then(e=>VF(t,n,e))}(this._delegate),e.then(i=>new DC(this.firestore,new pf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new xl(this.firestore,this._delegate.withConverter(t?d_.getInstance(this.firestore,t):null))}}function ma(n,t,e){return n.message=n.message.replace(t,e),n}function S4(n){for(const t of n)if("object"==typeof t&&!HF(t))return t;return{}}function T4(n,t){var e,i;let r;return r=HF(n[0])?n[0]:HF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class DC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new xl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return g4(this._delegate,t._delegate)}}class SC extends DC{data(t){const e=this._delegate.data(t);return function Qq(n,t){n||Dt()}(void 0!==e),e}}class pa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ck(t)}where(t,e,i){try{return new pa(this.firestore,Zm(this._delegate,function wY(n,t,e){const i=t,r=vk("where",n);return CC._create(r,i,e)}(t,e,i)))}catch(r){throw ma(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new pa(this.firestore,Zm(this._delegate,function xY(n,t="asc"){const e=t,i=vk("orderBy",n);return LF._create(i,e)}(t,e)))}catch(i){throw ma(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new pa(this.firestore,Zm(this._delegate,function CY(n){return Wz("limit",n),yk._create("limit",n,"F")}(t)))}catch(e){throw ma(e,"limit()","Query.limit()")}}limitToLast(t){try{return new pa(this.firestore,Zm(this._delegate,function EY(n){return Wz("limitToLast",n),yk._create("limitToLast",n,"L")}(t)))}catch(e){throw ma(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new pa(this.firestore,Zm(this._delegate,function IY(...n){return bk._create("startAt",n,!0)}(...t)))}catch(e){throw ma(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new pa(this.firestore,Zm(this._delegate,function DY(...n){return bk._create("startAfter",n,!1)}(...t)))}catch(e){throw ma(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new pa(this.firestore,Zm(this._delegate,function SY(...n){return wk._create("endBefore",n,!1)}(...t)))}catch(e){throw ma(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new pa(this.firestore,Zm(this._delegate,function TY(...n){return wk._create("endAt",n,!0)}(...t)))}catch(e){throw ma(e,"endAt()","Query.endAt()")}}isEqual(t){return AF(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function FY(n){n=Pn(n,cs);const t=Pn(n.firestore,Ki),e=qr(t),i=new Qm(t);return function Z7(n,t){const e=new vo;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,o,c){try{const h=yield ek(r,o,!0),m=new Tz(o,h.ir),v=m.sc(h.documents),w=m.applyChanges(v,!1);c.resolve(w.snapshot)}catch(h){const m=cb(h,`Failed to execute query '${o} against cache`);c.reject(m)}}),function(r,o,c){return i.apply(this,arguments)})(yield dk(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Km(t,i,n,r))}(this._delegate):"server"===t?.source?function LY(n){n=Pn(n,cs);const t=Pn(n.firestore,Ki),e=qr(t),i=new Qm(t);return Hz(e,n._query,{source:"server"}).then(r=>new Km(t,i,n,r))}(this._delegate):function NY(n){n=Pn(n,cs);const t=Pn(n.firestore,Ki),e=qr(t),i=new Qm(t);return l4(n._query),Hz(e,n._query).then(r=>new Km(t,i,n,r))}(this._delegate),e.then(i=>new jF(this.firestore,new Km(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=S4(t),i=T4(t,r=>new jF(this.firestore,new Km(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return y4(this._delegate,e,i)}withConverter(t){return new pa(this.firestore,this._delegate.withConverter(t?d_.getInstance(this.firestore,t):null))}}class cZ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new SC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new pa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new SC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new cZ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new SC(this._firestore,i))})}isEqual(t){return g4(this._delegate,t._delegate)}}class gb extends pa{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new xl(this.firestore,t):null}doc(t){try{return new xl(this.firestore,void 0===t?hk(this._delegate):hk(this._delegate,t))}catch(e){throw ma(e,"doc()","CollectionReference.doc()")}}add(t){return function VY(n,t){const e=Pn(n.firestore,Ki),i=hk(n),r=xk(n.converter,t);return pb(e,[pk(a_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new xl(this.firestore,e))}isEqual(t){return Qz(this._delegate,t._delegate)}withConverter(t){return new gb(this.firestore,this._delegate.withConverter(t?d_.getInstance(this.firestore,t):null))}}function u_(n){return Pn(n,Zi)}class zF{constructor(...t){this._delegate=new mf(...t)}static documentId(){return new zF(Nr.keyField().canonicalString())}isEqual(t){return(t=(0,H.m9)(t))instanceof mf&&this._delegate._internalPath.isEqual(t._internalPath)}}class h_{constructor(t){this._delegate=t}static serverTimestamp(){const t=function JY(){return new RF("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new h_(t)}static delete(){const t=function XY(){return new yC("deleteField")}();return t._methodName="FieldValue.delete",new h_(t)}static arrayUnion(...t){const e=function eZ(...n){return new gY("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new h_(e)}static arrayRemove(...t){const e=function tZ(...n){return new _Y("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new h_(e)}static increment(t){const e=function nZ(n){return new vY("increment",n)}(t);return e._methodName="FieldValue.increment",new h_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const lZ={Firestore:E4,GeoPoint:fk,Timestamp:sr,Blob:IC,Transaction:I4,WriteBatch:D4,DocumentReference:xl,DocumentSnapshot:DC,Query:pa,QueryDocumentSnapshot:SC,QuerySnapshot:jF,CollectionReference:gb,FieldPath:zF,FieldValue:h_,setLogLevel:function aZ(n){!function Kq(n){Om.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function uZ(n){(function dZ(n,t){n.INTERNAL.registerComponent(new Dc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},lZ)))})(n,(t,e)=>new E4(t,e,new sZ)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(BS.Z);var Ek=V(3093);function k4(n,t){return(0,ho.m)(t)?(0,mi.w)(()=>n,t):(0,mi.w)(()=>n)}var $F=V(5137);V(4097);var Lr=V(4303);const qF=new Map,M4={activated:!1,tokenObservers:[]},gZ={initialized:!1,enabled:!1};function Br(n){return qF.get(n)||Object.assign({},M4)}function Dk(){return gZ}const WF="https://content-firebaseappcheck.googleapis.com/v1",bZ="exchangeDebugToken",R4={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xZ{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Me.Z)(function*(){e.stop();try{e.pending=new H.BH,yield function CZ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new H.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ls=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function YF(n){if(!Br(n).activated)throw ls.create("use-before-activation",{appName:n.name})}function kk(n,t){return KF.apply(this,arguments)}function KF(){return KF=(0,Me.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,h;try{c=yield fetch(n,o)}catch(T){throw ls.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==c.status)throw ls.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(T){throw ls.create("fetch-parse-error",{originalErrorMessage:T?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+v,issuedAtTimeMillis:w}}),KF.apply(this,arguments)}function O4(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${WF}/projects/${e}/apps/${i}:${bZ}?key=${r}`,body:{debug_token:t}}}const SZ="firebase-app-check-database",TZ=1,TC="firebase-app-check-store";let Ak=null;function QF(){return QF=(0,Me.Z)(function*(n,t){const i=(yield function N4(){return Ak||(Ak=new Promise((n,t)=>{try{const e=indexedDB.open(SZ,TZ);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ls.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(TC,{keyPath:"compositeKey"})}}catch(e){t(ls.create("storage-open",{originalErrorMessage:e?.message}))}}),Ak)}()).transaction(TC,"readwrite"),o=i.objectStore(TC).put({compositeKey:n,value:t});return new Promise((c,h)=>{o.onsuccess=m=>{c()},i.onerror=m=>{var v;h(ls.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),QF.apply(this,arguments)}const kC=new ha.Yd("@firebase/app-check");function e2(n,t){return(0,H.hl)()?function AZ(n,t){return function F4(n,t){return QF.apply(this,arguments)}(function B4(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{kC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function n2(){return Dk().enabled}function r2(){return o2.apply(this,arguments)}function o2(){return o2=(0,Me.Z)(function*(){const n=Dk();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),o2.apply(this,arguments)}const FZ={error:"UNKNOWN_ERROR"};function LZ(n){return H.US.encodeString(JSON.stringify(n),!1)}function Mk(n){return s2.apply(this,arguments)}function s2(){return s2=(0,Me.Z)(function*(n,t=!1){const e=n.app;YF(e);const i=Br(e);let o,r=i.token;if(r&&!_b(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(_b(m)?r=m:yield e2(e,void 0))}if(!t&&r&&_b(r))return{token:r.token};let h,c=!1;if(n2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=kk(O4(e,yield r2()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const m=yield i.exchangeTokenPromise;return yield e2(e,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Br(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?kC.warn(m.message):kC.error(m),o=m}return r?o?h=_b(r)?{token:r.token,internalError:o}:j4(o):(h={token:r.token},i.token=r,yield e2(e,r)):h=j4(o),c&&function H4(n,t){const e=Br(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,h),h}),s2.apply(this,arguments)}function a2(){return a2=(0,Me.Z)(function*(n){const t=n.app;YF(t);const{provider:e}=Br(t);if(n2()){const i=yield r2(),{token:r}=yield kk(O4(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),a2.apply(this,arguments)}function l2(n,t){const e=Br(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function U4(n){const{app:t}=n,e=Br(t);let i=e.tokenRefresher;i||(i=function BZ(n){const{app:t}=n;return new xZ((0,Me.Z)(function*(){let i;if(i=Br(t).token?yield Mk(n,!0):yield Mk(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Br(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},R4.RETRIAL_MIN_WAIT,R4.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function _b(n){return n.expireTimeMillis-Date.now()>0}function j4(n){return{token:LZ(FZ),error:n}}class VZ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Br(this.app);for(const e of t)l2(this.app,e.next);return Promise.resolve()}}const K4="app-check-internal";!function JZ(){(0,Lr._registerComponent)(new Dc.wA("app-check",n=>function UZ(n,t){return new VZ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(K4).initialize()})),(0,Lr._registerComponent)(new Dc.wA(K4,n=>function HZ(n){return{getToken:t=>Mk(n,t),getLimitedUseToken:()=>function V4(n){return a2.apply(this,arguments)}(n),addTokenListener:t=>function c2(n,t,e,i){const{app:r}=n,o=Br(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&_b(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),U4(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>U4(n))}(n,"INTERNAL",t),removeTokenListener:t=>l2(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lr.registerVersion)("@firebase/app-check","0.8.0")}();class AC{constructor(){return(0,qn.vb)("app-check")}}typeof window<"u"&&window;var Ok=V(120);const m2=new l.OlP("angularfire2.auth.use-emulator"),p2=new l.OlP("angularfire2.auth.settings"),g2=new l.OlP("angularfire2.auth.tenant-id"),_2=new l.OlP("angularfire2.auth.langugage-code"),v2=new l.OlP("angularfire2.auth.use-device-language"),y2=new l.OlP("angularfire.auth.persistence"),b2=(n,t,e,i,r,o,c,h)=>(0,zr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),c)for(const[v,w]of Object.entries(c))m.settings[v]=w;return h&&m.setPersistence(h),m},[e,i,r,o,c,h]);let Pk=(()=>{class n{constructor(e,i,r,o,c,h,m,v,w,T,O,B){const G=new Ht.x,X=(0,pt.of)(void 0).pipe((0,Ek.Q)(c.outsideAngular),(0,mi.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,8977)))),(0,ht.U)(()=>(0,zr.on)(e,o,i)),(0,ht.U)(re=>b2(re,o,h,v,w,T,m,O)),Lh({bufferSize:1,refCount:!1}));if(jo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pt.of)(null);else{X.pipe(Cr()).subscribe();const He=X.pipe((0,mi.w)(st=>st.getRedirectResult().then(Bt=>Bt,()=>null)),qn.iC,Lh({bufferSize:1,refCount:!1})),Je=X.pipe((0,mi.w)(st=>new fi.y(Bt=>({unsubscribe:o.runOutsideAngular(()=>st.onAuthStateChanged(jt=>Bt.next(jt),jt=>Bt.error(jt),()=>Bt.complete()))})))),Xe=X.pipe((0,mi.w)(st=>new fi.y(Bt=>({unsubscribe:o.runOutsideAngular(()=>st.onIdTokenChanged(jt=>Bt.next(jt),jt=>Bt.error(jt),()=>Bt.complete()))}))));this.authState=He.pipe(k4(Je),(0,$F.R)(c.outsideAngular),(0,Ek.Q)(c.insideAngular)),this.user=He.pipe(k4(Xe),(0,$F.R)(c.outsideAngular),(0,Ek.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,mi.w)(st=>st?(0,Hn.D)(st.getIdToken()):(0,pt.of)(null))),this.idTokenResult=this.user.pipe((0,mi.w)(st=>st?(0,Hn.D)(st.getIdTokenResult()):(0,pt.of)(null))),this.credential=(0,Ec.T)(He,G,this.authState.pipe(Bn(st=>!st))).pipe((0,ht.U)(st=>st?.user?st:null),(0,$F.R)(c.outsideAngular),(0,Ek.Q)(c.insideAngular))}return(0,zr.pX)(this,X,o,{spy:{apply:(re,He,Je)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&Je.then(Xe=>G.next(Xe))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zr.Dh),l.LFG(zr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qn.HU),l.LFG(m2,8),l.LFG(p2,8),l.LFG(g2,8),l.LFG(_2,8),l.LFG(v2,8),l.LFG(y2,8),l.LFG(AC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oK=(()=>{class n{constructor(){Ok.Z.registerVersion("angularfire",qn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Pk]}),n})();function X4(n,t){return function sK(n,t=im.z){return new fi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function w2(n,t){return X4(n,t).pipe((0,ht.U)(e=>({payload:e,type:"query"})))}function Nk(n,t){return w2(n,t).pipe(Or(void 0),wy(),(0,ht.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const m=r.find(w=>w.doc.ref.isEqual(c.ref)),v=e?.payload.docs.find(w=>w.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function J4(n,t,e){return Nk(n,e).pipe(fo((i,r)=>function cK(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function lK(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return x2(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return x2(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return x2(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),(0,Jp.x)(),(0,ht.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function x2(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function e6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class t6{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=Nk(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ht.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Or(void 0),wy(),Bn(([i,r])=>r.length>0||!i),(0,ht.U)(([i,r])=>r),qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(fo((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=e6(t);return J4(this.query,e,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(t={}){return w2(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),qn.iC)}get(t){return(0,Hn.D)(this.query.get(t)).pipe(qn.iC)}add(t){return this.ref.add(t)}doc(t){return new n6(this.ref.doc(t),this.afs)}}class n6{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=s6(i,e);return new t6(r,o,this.afs)}snapshotChanges(){return function aK(n,t){return X4(n,t).pipe(Or(void 0),wy(),(0,ht.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Hn.D)(this.ref.get(t)).pipe(qn.iC)}}class dK{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Nk(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Bn(e=>e.length>0),qn.iC):Nk(this.query,this.afs.schedulers.outsideAngular).pipe(qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(fo((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=e6(t);return J4(this.query,e,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(t={}){return w2(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),qn.iC)}get(t){return(0,Hn.D)(this.query.get(t)).pipe(qn.iC)}}const r6=new l.OlP("angularfire2.enableFirestorePersistence"),o6=new l.OlP("angularfire2.firestore.persistenceSettings"),uK=new l.OlP("angularfire2.firestore.settings"),hK=new l.OlP("angularfire2.firestore.use-emulator");function s6(n,t=(e=>e)){return{query:t(n),ref:n}}let C2=(()=>{class n{constructor(e,i,r,o,c,h,m,v,w,T,O,B,G,X,re,He,Je){this.schedulers=m;const Xe=(0,zr.on)(e,h,i),st=w;T&&b2(Xe,h,O,G,X,re,B,He),[this.firestore,this.persistenceEnabled$]=(0,zr.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const Bt=h.runOutsideAngular(()=>Xe.firestore());if(o&&Bt.settings(o),st&&Bt.useEmulator(...st),r&&!jo(c)){const jt=()=>{try{return(0,Hn.D)(Bt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Mn){return typeof console<"u"&&console.warn(Mn),(0,pt.of)(!1)}};return[Bt,h.runOutsideAngular(jt)]}return[Bt,(0,pt.of)(!1)]},[o,st,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=s6(r,i),h=this.schedulers.ngZone.run(()=>o);return new t6(h,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new dK(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new n6(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zr.Dh),l.LFG(zr.xv,8),l.LFG(r6,8),l.LFG(uK,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qn.HU),l.LFG(o6,8),l.LFG(hK,8),l.LFG(Pk,8),l.LFG(m2,8),l.LFG(p2,8),l.LFG(g2,8),l.LFG(_2,8),l.LFG(v2,8),l.LFG(y2,8),l.LFG(AC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fK=(()=>{class n{constructor(){Ok.Z.registerVersion("angularfire",qn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:r6,useValue:!0},{provide:o6,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[C2]}),n})(),mK=(()=>{class n{constructor(){this.afs=(0,l.f3M)(C2)}getCategoria(){return this.afs.collection("categorias").valueChanges({idField:"id"})}add(e){return this.afs.collection("categorias").add({nombre:e})}update(e,i){return this.afs.collection("categorias").doc(e).update({nombre:i})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pK=(()=>{class n{constructor(){this.afs=(0,l.f3M)(C2)}getProduct(e){return this.afs.collection("categorias").doc(e).collection("productos").valueChanges({idField:"id"})}addProduct(e,i,r){return this.afs.collection("categorias").doc(e).collection("productos").add({nombre:i,precio:r})}deleteProduct(e,i){return this.afs.collection("categorias").doc(e).collection("productos").doc(i).delete()}update(e,i,r,o){return this.afs.collection("categorias").doc(e).collection("productos").doc(i).update({nombre:r,precio:o})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gK=V(3519),xd=V.n(gK);let IK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,gn,Pw,In]})}return n})();function DK(n,t){1&n&&(l.TgZ(0,"span",7),l.Hsn(1,1),l.qZA())}function SK(n,t){1&n&&(l.TgZ(0,"span",8),l.Hsn(1,2),l.qZA())}const a6=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],c6=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function TK(n,t){1&n&&(l.TgZ(0,"span",8),l.Hsn(1,1),l.TgZ(2,"span",9),l.O4$(),l.TgZ(3,"svg",10),l._UZ(4,"path",11),l.qZA()()())}function kK(n,t){1&n&&(l.TgZ(0,"span",12),l.Hsn(1,2),l.qZA())}const E2=["*"],Fk=new l.OlP("mat-chips-default-options"),I2=new l.OlP("MatChipAvatar"),D2=new l.OlP("MatChipTrailingIcon"),S2=new l.OlP("MatChipRemove"),Lk=new l.OlP("MatChip");class VK{}const UK=Gw(VK,-1);let vb=(()=>{class n extends UK{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=tn(e)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,i){super(),this._elementRef=e,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Lk))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&l.NdJ("click",function(c){return r._handleClick(c)})("keydown",function(c){return r._handleKeydown(c)}),2&i&&(l.uIk("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),l.ekj("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[l.qOj]})}return n})(),$K=0;const GK=Gw(ng($w(zw(class{constructor(n){this._elementRef=n}})),"primary"),-1);let yb=(()=>{class n extends GK{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get removable(){return this._removable}set removable(e){this._removable=tn(e)}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=tn(e)}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,i,r,o,c,h,m,v){super(i),this._changeDetectorRef=e,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=m,this._onFocus=new Ht.x,this._onBlur=new Ht.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+$K++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new l.vpe,this.destroyed=new l.vpe,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,l.f3M)(rg),this._document=c,this._animationsDisabled="NoopAnimations"===h,null!=v&&(this.tabIndex=parseInt(v)??this.defaultTabIndex),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Ec.T)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(ei(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Vh),l.Y36(he),l.Y36(l.QbO,8),l.Y36(Su,8),l.$8M("tabindex"))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(1&i&&(l.Suo(o,I2,5),l.Suo(o,D2,5),l.Suo(o,S2,5),l.Suo(o,I2,5),l.Suo(o,D2,5),l.Suo(o,S2,5)),2&i){let c;l.iGM(c=l.CRH())&&(r.leadingIcon=c.first),l.iGM(c=l.CRH())&&(r.trailingIcon=c.first),l.iGM(c=l.CRH())&&(r.removeIcon=c.first),l.iGM(c=l.CRH())&&(r._allLeadingIcons=c),l.iGM(c=l.CRH())&&(r._allTrailingIcons=c),l.iGM(c=l.CRH())&&(r._allRemoveIcons=c)}},viewQuery:function(i,r){if(1&i&&l.Gf(vb,5),2&i){let o;l.iGM(o=l.CRH())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(i,r){1&i&&l.NdJ("keydown",function(c){return r._handleKeydown(c)}),2&i&&(l.Ikx("id",r.id),l.uIk("role",r.role)("tabindex",r.role?r.tabIndex:null)("aria-label",r.ariaLabel),l.ekj("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[l._Bn([{provide:Lk,useExisting:n}]),l.qOj],ngContentSelectors:c6,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(l.F$t(a6),l._UZ(0,"span",0),l.TgZ(1,"span",1)(2,"span",2),l.YNc(3,DK,2,0,"span",3),l.TgZ(4,"span",4),l.Hsn(5),l._UZ(6,"span",5),l.qZA()()(),l.YNc(7,SK,2,0,"span",6)),2&i&&(l.xp6(2),l.Q6J("isInteractive",!1),l.xp6(1),l.Q6J("ngIf",r.leadingIcon),l.xp6(4),l.Q6J("ngIf",r._hasTrailingIcon()))},dependencies:[Ar,vb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),T2=(()=>{class n extends yb{constructor(){super(...arguments),this._defaultOptions=(0,l.f3M)(Fk,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new l.vpe}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=tn(e),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(e){this._setSelectedState(tn(e),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(e,i,r){e!==this.selected&&(this._selected=e,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,r){2&i&&(l.Ikx("id",r.id),l.uIk("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),l.ekj("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[l._Bn([{provide:yb,useExisting:n},{provide:Lk,useExisting:n}]),l.qOj],ngContentSelectors:c6,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(l.F$t(a6),l._UZ(0,"span",0),l.TgZ(1,"span",1)(2,"button",2),l.YNc(3,TK,5,0,"span",3),l.TgZ(4,"span",4),l.Hsn(5),l._UZ(6,"span",5),l.qZA()()(),l.YNc(7,kK,2,0,"span",6),l.TgZ(8,"span",7),l._uU(9),l.qZA()),2&i&&(l.xp6(2),l.Q6J("tabIndex",r.tabIndex)("_allowFocusWhenDisabled",!0),l.uIk("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),l.xp6(1),l.Q6J("ngIf",r._hasLeadingGraphic()),l.xp6(4),l.Q6J("ngIf",r._hasTrailingIcon()),l.xp6(1),l.Q6J("id",r._ariaDescriptionId),l.xp6(1),l.Oqu(r.ariaDescription))},dependencies:[Ar,vb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();class qK{constructor(t){}}const WK=Gw(qK);let k2=(()=>{class n extends WK{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get disabled(){return this._disabled}set disabled(e){this._disabled=tn(e),this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,i,r){super(e),this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Ht.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new l.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe(Or(null),(0,mi.w)(()=>(0,Ec.T)(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Or(this._chips)).subscribe(e=>{const i=[];e.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new eg(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Cn(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Cn(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Or(null),Cn(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Cn(this._destroyed)).subscribe(e=>{const r=this._chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Iu,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(1&i&&l.Suo(o,yb,5),2&i){let c;l.iGM(c=l.CRH())&&(r._chips=c)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&l.NdJ("keydown",function(c){return r._handleKeydown(c)}),2&i&&l.uIk("role",r.role)},inputs:{disabled:"disabled",role:"role"},features:[l.qOj],ngContentSelectors:E2,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div",0),l.Hsn(1),l.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})();class YK{constructor(t,e){this.source=t,this.value=e}}const ZK={provide:ua,useExisting:(0,l.Gpc)(()=>A2),multi:!0};let A2=(()=>{class n extends k2{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=(0,l.f3M)(Fk,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(e,i)=>e===i,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new l.vpe,this._chips=void 0}get multiple(){return this._multiple}set multiple(e){this._multiple=tn(e),this._syncListboxProperties()}get selected(){const e=this._chips.toArray().filter(i=>i.selected);return this.multiple?e:e[0]}get selectable(){return this._selectable}set selectable(e){this._selectable=tn(e),this._syncListboxProperties()}get required(){return this._required}set required(e){this._required=tn(e)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=tn(e),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(Or(null),Cn(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(Cn(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(Cn(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(i=>{i!==e.source&&i._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){this._chips?this._setSelectionByValue(e,!1):null!=e&&(this._pendingInitialValue=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,i=!0){this._clearSelection(),Array.isArray(e)?e.forEach(r=>this._selectValue(r,i)):this._selectValue(e,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(e){9===e.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;e=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new YK(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(i=>{i!==e&&i.deselect()})}_selectValue(e,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,e));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,r,o){if(1&i&&l.Suo(o,T2,5),2&i){let c;l.iGM(c=l.CRH())&&(r._chips=c)}},hostAttrs:["ngSkipHydration","",1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,r){1&i&&l.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(c){return r._keydown(c)}),2&i&&(l.Ikx("tabIndex",r.empty?-1:r.tabIndex),l.uIk("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),l.ekj("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[l._Bn([ZK]),l.qOj],ngContentSelectors:E2,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div",0),l.Hsn(1),l.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),tQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[um,{provide:Fk,useValue:{separatorKeyCodes:[13]}}],imports:[In,gn,gm,In]})}return n})();const nQ=["*"],oQ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],sQ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],aQ=new l.OlP("MAT_CARD_CONFIG");let h6=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(aQ,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&l.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:nQ,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),f6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),m6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),p6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:sQ,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(l.F$t(oQ),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0})}return n})(),uQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,gn,In]})}return n})();const g6=["*"];class fQ{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new mQ(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class mQ{constructor(t,e){this.row=t,this.col=e}}const _6=new l.OlP("MAT_GRID_LIST");let v6=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Ss(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Ss(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(_6,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,r){2&i&&l.uIk("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:g6,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div",0),l.Hsn(1),l.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return n})();const pQ=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class M2{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=y6(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":f_(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",f_(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class gQ extends M2{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=y6(this.fixedRowHeight),pQ.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",f_(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",f_(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class _Q extends M2{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",f_(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",f_(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class vQ extends M2{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",f_(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function f_(n){return`calc(${n})`}function y6(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let bQ=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Ss(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new vQ:e&&e.indexOf(":")>-1?new _Q(e):new gQ(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new fQ);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,c)=>{const h=e.positions[c];this._tileStyler.setStyle(o,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Iu,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(i,r,o){if(1&i&&l.Suo(o,v6,5),2&i){let c;l.iGM(c=l.CRH())&&(r._tiles=c)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,r){2&i&&l.uIk("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[l._Bn([{provide:_6,useExisting:n}])],ngContentSelectors:g6,decls:2,vars:0,template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div"),l.Hsn(1),l.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return n})(),wQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[ca,In,ca,In]})}return n})();const xQ=["determinateSpinner"];function CQ(n,t){if(1&n&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&n){const e=l.oxw();l.uIk("viewBox",e._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),l.uIk("r",e._circleRadius())}}const EQ=ng(class{constructor(n){this._elementRef=n}},"primary"),IQ=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function DQ(){return{diameter:b6}}}),b6=100;let TQ=(()=>{class n extends EQ{constructor(e,i,r){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=b6,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Ss(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=Ss(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=Ss(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(IQ))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&l.Gf(xQ,5),2&i){let o;l.iGM(o=l.CRH())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,r){2&i&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),l.Udp("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),l.ekj("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(l.YNc(0,CQ,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&i){const o=l.MAs(1);l.xp6(4),l.uIk("viewBox",r._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),l.uIk("r",r._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",o),l.xp6(2),l.Q6J("ngTemplateOutlet",o),l.xp6(2),l.Q6J("ngTemplateOutlet",o)}},dependencies:[qa],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),kQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[gn,In]})}return n})();function w6(n,t){return t?e=>To(t.pipe(ei(1),function AQ(){return(0,zi.e)((n,t)=>{n.subscribe((0,Ln.x)(t,il.Z))})}()),e.pipe(w6(n))):(0,rr.z)((e,i)=>(0,fc.Xf)(n(e,i)).pipe(ei(1),Oa(e)))}function x6(n,t=im.z){const e=Tu(n,t);return w6(()=>e)}class R2{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class MQ extends R2{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class C6 extends R2{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class RQ extends R2{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class OQ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof MQ?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof C6?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof RQ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class PQ extends OQ{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let NQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const E6=iI();class FQ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=$i(-this._previousScrollPosition.left),t.style.top=$i(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),E6&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),E6&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class LQ{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Bn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class I6{enable(){}disable(){}attach(){}}function O2(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function D6(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class BQ{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();O2(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let VQ=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new I6,this.close=c=>new LQ(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new FQ(this._viewportRuler,this._document),this.reposition=c=>new BQ(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(kv),l.LFG(Av),l.LFG(l.R0b),l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class S6{constructor(t){if(this.scrollStrategy=new I6,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class UQ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let T6=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HQ=(()=>{class n extends T6{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const h=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he),l.LFG(l.R0b,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jQ=(()=>{class n extends T6{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=yu(o)},this._clickListener=o=>{const c=yu(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const w=m[v];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(h))break;const T=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(o)):T.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he),l.LFG(Ei),l.LFG(l.R0b,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k6=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Gp()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Gp()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he),l.LFG(Ei))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zQ{constructor(t,e,i,r,o,c,h,m,v,w=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new Ht.x,this._attachments=new Ht.x,this._detachments=new Ht.x,this._locationChanges=Ko.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Ht.x,this._outsidePointerEvents=new Ht.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ei(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=$i(this._config.width),t.height=$i(this._config.height),t.minWidth=$i(this._config.minWidth),t.minHeight=$i(this._config.minHeight),t.maxWidth=$i(this._config.maxWidth),t.maxHeight=$i(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=nm(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Cn((0,Ec.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const A6="cdk-overlay-connected-position-bounding-box",$Q=/([A-Za-z%]+)$/;class GQ{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ht.x,this._resizeSubscription=Ko.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(A6),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(m,e,h),w=this._getOverlayFit(v,e,i,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(w,v,i)?o.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:v,originPoint:m,position:h,overlayRect:e})}if(o.length){let h=null,m=-1;for(const v of o){const w=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);w>m&&(m=w,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&m_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(A6),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?c:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=R6(e);let{x:c,y:h}=t,m=this._getOffset(r,"x"),v=this._getOffset(r,"y");m&&(c+=m),v&&(h+=v);let O=0-h,B=h+o.height-i.height,G=this._subtractOverflows(o.width,0-c,c+o.width-i.width),X=this._subtractOverflows(o.height,O,B),re=G*X;return{visibleArea:re,isCompletelyWithinViewport:o.width*o.height===re,fitsInViewportVertically:X===o.height,fitsInViewportHorizontally:G==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,c=M6(this._overlayRef.getConfig().minHeight),h=M6(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=c&&c<=r)&&(t.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=R6(e),o=this._viewportRect,c=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),m=Math.max(o.top-i.top-t.y,0),v=Math.max(o.left-i.left-t.x,0);let w=0,T=0;return w=r.width<=o.width?v||-c:t.x<this._viewportMargin?o.left-i.left-t.x:0,T=r.height<=o.height?m||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:w,y:T},{x:t.x+w,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new UQ(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,c,h,w,T,O;if("top"===e.overlayY)c=t.y,o=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),G=this._lastBoundingBoxSize.height;o=2*B,c=t.y-B,o>G&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-G/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,w=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),G=this._lastBoundingBoxSize.width;w=2*B,T=t.x-B,w>G&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-G/2)}return{top:c,left:T,bottom:h,right:O,width:w,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=$i(i.height),r.top=$i(i.top),r.bottom=$i(i.bottom),r.width=$i(i.width),r.left=$i(i.left),r.right=$i(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=$i(o)),c&&(r.maxWidth=$i(c))}this._lastBoundingBoxSize=i,m_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){m_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){m_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();m_(i,this._getExactOverlayY(e,t,w)),m_(i,this._getExactOverlayX(e,t,w))}else i.position="static";let h="",m=this._getOffset(e,"x"),v=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=$i(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=$i(c.maxWidth):o&&(i.maxWidth="")),m_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=$i(o.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=$i(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:D6(t,i),isOriginOutsideView:O2(t,i),isOverlayClipped:D6(e,i),isOverlayOutsideView:O2(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&nm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function m_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function M6(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split($Q);return e&&"px"!==e?null:parseFloat(t)}return n||null}function R6(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const O6="cdk-global-overlay-wrapper";class qQ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(O6),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),w=this._xPosition,T=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let B="",G="",X="";m?X="flex-start":"center"===w?(X="center",O?G=T:B=T):O?"left"===w||"end"===w?(X="flex-end",B=T):("right"===w||"start"===w)&&(X="flex-start",G=T):"left"===w||"start"===w?(X="flex-start",B=T):("right"===w||"end"===w)&&(X="flex-end",G=T),t.position=this._cssPosition,t.marginLeft=m?"0":B,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":G,e.justifyContent=X,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(O6),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let WQ=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new qQ}flexibleConnectedTo(e){return new GQ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Av),l.LFG(he),l.LFG(Ei),l.LFG(k6))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YQ=0,bb=(()=>{class n{constructor(e,i,r,o,c,h,m,v,w,T,O,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=h,this._ngZone=m,this._document=v,this._directionality=w,this._location=T,this._outsideClickDispatcher=O,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new S6(e);return c.direction=c.direction||this._directionality.value,new zQ(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+YQ++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new PQ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(VQ),l.LFG(k6),l.LFG(l._Vd),l.LFG(WQ),l.LFG(HQ),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(he),l.LFG(Iu),l.LFG(Ye),l.LFG(jQ),l.LFG(l.QbO,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QQ={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[bb],useFactory:function KQ(n){return()=>n.scrollStrategies.reposition()}};let P2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[bb,QQ],imports:[dm,NQ,Mv,Mv]})}return n})();const XQ=["mat-menu-item",""];function JQ(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"polygon",4),l.qZA())}const eX=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],tX=["mat-icon, [matMenuItemIcon]","*"];function nX(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o._handleKeydown(r))})("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),l.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const iX=["*"],N2=new l.OlP("MAT_MENU_PANEL"),rX=$w(zw(class{}));let Vk=(()=>{class n extends rX{constructor(e,i,r,o,c){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new Ht.x,this._focused=new Ht.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(he),l.Y36(Vh),l.Y36(N2,8),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&l.NdJ("click",function(c){return r._checkDisabled(c)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(l.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),l.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:XQ,ngContentSelectors:tX,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(l.F$t(eX),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.qZA(),l._UZ(3,"div",1),l.YNc(4,JQ,2,0,"svg",2)),2&i&&(l.xp6(3),l.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),l.xp6(1),l.Q6J("ngIf",r._triggersSubmenu))},dependencies:[Ar,Yw],encapsulation:2,changeDetection:0})}return n})();const oX=new l.OlP("MatMenuContent"),Uk={transformMenu:la("transformMenu",[Er("void",nn({opacity:0,transform:"scale(0.8)"})),Ir("void => enter",jr("120ms cubic-bezier(0, 0, 0.2, 1)",nn({opacity:1,transform:"scale(1)"}))),Ir("* => void",jr("100ms 25ms linear",nn({opacity:0})))]),fadeInItems:la("fadeInItems",[Er("showing",nn({opacity:1})),Ir("void => *",[nn({opacity:0}),jr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sX=0;const P6=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function aX(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let MC=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=tn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=tn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=o,this._directDescendantItems=new l.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Ht.x,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+sX++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new eg(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Or(this._directDescendantItems),(0,mi.w)(e=>(0,Ec.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Or(this._directDescendantItems),(0,mi.w)(i=>(0,Ec.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:xu(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(ei(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Or(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(P6),l.Y36(l.sBO))};static#t=this.\u0275dir=l.lG2({type:n,contentQueries:function(i,r,o){if(1&i&&(l.Suo(o,oX,5),l.Suo(o,Vk,5),l.Suo(o,Vk,4)),2&i){let c;l.iGM(c=l.CRH())&&(r.lazyContent=c.first),l.iGM(c=l.CRH())&&(r._allItems=c),l.iGM(c=l.CRH())&&(r.items=c)}},viewQuery:function(i,r){if(1&i&&l.Gf(l.Rgc,5),2&i){let o;l.iGM(o=l.CRH())&&(r.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),cX=(()=>{class n extends MC{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(P6),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:N2,useExisting:n}]),l.qOj],ngContentSelectors:iX,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(l.F$t(),l.YNc(0,nX,3,6,"ng-template"))},dependencies:[wa],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Uk.transformMenu,Uk.fadeInItems]},changeDetection:0})}return n})();const N6=new l.OlP("mat-menu-scroll-strategy"),dX={provide:N6,deps:[bb],useFactory:function lX(n){return()=>n.scrollStrategies.reposition()}},F6=Ph({passive:!0});let uX=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,o,c,h,m,v,w){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=m,this._focusMonitor=v,this._ngZone=w,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ko.w0.EMPTY,this._hoverSubscription=Ko.w0.EMPTY,this._menuCloseSubscription=Ko.w0.EMPTY,this._changeDetectorRef=(0,l.f3M)(l.sBO),this._handleTouchStart=T=>{yv(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=c instanceof MC?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,F6)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,F6),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof MC&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Cn(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof MC?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Bn(r=>"void"===r.toState),ei(1),Cn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new S6({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",c="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,c)):e.setPositionClasses(o,c)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[c,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[m,v]=[c,h],[w,T]=[r,o],O=0;if(this.triggersSubmenu()){if(T=r="before"===e.xPosition?"start":"end",o=w="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}O="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(m="top"===c?"bottom":"top",v="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:m,overlayX:w,overlayY:c,offsetY:O},{originX:o,originY:m,overlayX:T,overlayY:c,offsetY:O},{originX:r,originY:v,overlayX:w,overlayY:h,offsetY:-O},{originX:o,originY:v,overlayX:T,overlayY:h,offsetY:-O}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,pt.of)(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Bn(c=>c!==this._menuItemInstance),Bn(()=>this._menuOpen)):(0,pt.of)();return(0,Ec.T)(e,r,o,i)}_handleMousedown(e){EI(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Bn(e=>e===this._menuItemInstance&&!e.disabled),x6(0,xm)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof MC&&this.menu._isAnimating?this.menu._animationDone.pipe(ei(1),x6(0,xm),Cn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new C6(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(bb),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(N6),l.Y36(N2,8),l.Y36(Vk,10),l.Y36(Iu,8),l.Y36(Vh),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&l.NdJ("click",function(c){return r._handleClick(c)})("mousedown",function(c){return r._handleMousedown(c)})("keydown",function(c){return r._handleKeydown(c)}),2&i&&l.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),hX=(()=>{class n extends uX{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]})}return n})(),fX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[dX],imports:[gn,gm,In,P2,qh,In]})}return n})();function mX(n,t){1&n&&(l.TgZ(0,"mat-card",2)(1,"mat-card-content",3),l._UZ(2,"mat-spinner"),l.qZA()())}function pX(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-chip-option",13),l.NdJ("click",function(){const r=l.CHM(e),o=r.$implicit,c=r.index,h=l.oxw(2);return l.KtG(h.onChipSelected(o,c))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw(2);l.Q6J("selected",i===r.selectedcategoriaIndex),l.xp6(1),l.hij(" ",e.nombre," ")}}function gX(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-grid-tile",16)(1,"mat-card",17)(2,"mat-card-header")(3,"mat-card-title"),l._uU(4),l.TgZ(5,"button",18)(6,"mat-icon"),l._uU(7,"more_vert"),l.qZA()(),l.TgZ(8,"mat-menu",19,20)(10,"button",21),l.NdJ("click",function(){const o=l.CHM(e).$implicit,c=l.oxw(3);return l.KtG(c.editarProducto(o))}),l._uU(11,"Editar"),l.qZA(),l.TgZ(12,"button",21),l.NdJ("click",function(){const o=l.CHM(e).$implicit,c=l.oxw(3);return l.KtG(c.deleteProduct(o))}),l._uU(13,"Eliminar"),l.qZA()()()(),l.TgZ(14,"mat-card-content",22)(15,"mat-list",23)(16,"mat-list-item",24),l._uU(17),l.qZA(),l.TgZ(18,"mat-list-item",24),l._uU(19),l.qZA()()()()()}if(2&n){const e=t.$implicit,i=l.MAs(9);l.Q6J("colspan",1)("rowspan",1),l.xp6(4),l.hij(" id.- ",e.id," "),l.xp6(1),l.Q6J("matMenuTriggerFor",i),l.xp6(12),l.hij("Nombre: ",e.nombre||"No tiene nombre",""),l.xp6(2),l.hij("Precio: ",e.precio||"No tiene precio","")}}function _X(n,t){if(1&n&&(l.TgZ(0,"section")(1,"mat-grid-list",14),l.YNc(2,gX,20,6,"mat-grid-tile",15),l.qZA()()),2&n){const e=l.oxw(2);l.xp6(2),l.Q6J("ngForOf",e.productsSelect)}}function vX(n,t){1&n&&(l.TgZ(0,"section",25)(1,"h1"),l._uU(2,"No contiene productos"),l.qZA()())}function yX(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",4)(1,"h1",5),l._uU(2,"Categorias "),l.TgZ(3,"button",6),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.agregarCategorias())}),l.TgZ(4,"mat-icon"),l._uU(5,"add"),l.qZA()()(),l.TgZ(6,"mat-chip-listbox",7),l.YNc(7,pX,2,2,"mat-chip-option",8),l.qZA(),l._UZ(8,"mat-divider"),l.TgZ(9,"div",9)(10,"button",10),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.agregarProducto())}),l._uU(11,"Crear producto"),l.qZA()(),l._UZ(12,"mat-divider"),l.YNc(13,_X,3,1,"section",11),l.YNc(14,vX,3,0,"section",12),l.qZA()}if(2&n){const e=l.oxw();l.xp6(7),l.Q6J("ngForOf",e.categorias),l.xp6(6),l.Q6J("ngIf",(null==e.productsSelect?null:e.productsSelect.length)>0),l.xp6(1),l.Q6J("ngIf",0==e.productsSelect.length)}}const bX=[{path:"",pathMatch:"full",redirectTo:"categoria/lista"},{path:"categoria",component:eP,children:[{path:"lista",resolve:{},component:(()=>{class n{constructor(){this._categoria=(0,l.f3M)(mK),this._producto=(0,l.f3M)(pK),this.selectedcategoriaIndex=0,this.select=0,this.color="primary",this.mode="determinate",this.value=50,this.loading=!0}ngOnInit(){this._categoria.getCategoria().subscribe(e=>{this.categorias=e,this.onChipSelected(this.categorias[this.select],this.select),this.loading=!1})}onChipSelected(e,i){this.productsSelect=[],this.select=i,this._producto.getProduct(e.id).subscribe(r=>{this.productsSelect=r})}agregarCategorias(){xd().fire({title:"Ingresa informaci\xf3n",html:'<input id="input1" class="swal2-input" placeholder="Nombre">',showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){const i=document.getElementById("input1").value;this._categoria.add(i).then(r=>{xd().fire({icon:"success",title:"Categoria agregada"})}).catch(r=>{xd().fire({icon:"error",title:"Oops..."})})}})}agregarProducto(){xd().fire({title:"Ingresa informaci\xf3n",html:'<input id="input1" class="swal2-input" placeholder="Nombre"><input id="input2" class="swal2-input" placeholder="Precio" type="number">',showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){const i=document.getElementById("input1").value,r=document.getElementById("input2").value;this._producto.addProduct(this.categorias[this.select].id,i,r).then(o=>{xd().fire({icon:"success",title:"Producto agregado"})}).catch(o=>{xd().fire({icon:"error",title:"Oops..."})})}})}deleteProduct(e){this._producto.deleteProduct(this.categorias[this.select].id,e.id).then(i=>{xd().fire({icon:"success",title:"Producto eliminado"})}).catch(i=>{xd().fire({icon:"error",title:"Oops..."})})}editarProducto(e){xd().fire({title:"Ingresa informaci\xf3n",html:`\n        <input id="input1" class="swal2-input" placeholder="Campo 1" value="${e.nombre}">\n        <input id="input2" class="swal2-input" placeholder="Campo 2" type="number" value="${e.precio}">\n      `,showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",preConfirm:()=>({input1:document.getElementById("input1").value,input2:document.getElementById("input2").value})}).then(i=>{i.isConfirmed&&this._producto.update(this.categorias[this.select].id,e.id,i.value.input1,i.value.input2).then(r=>{xd().fire({icon:"success",title:"Producto eliminado"})}).catch(r=>{xd().fire({icon:"error",title:"Oops..."})})})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-tabla-categoria"]],decls:2,vars:2,consts:[["class","example-card","style","align-items: center;",4,"ngIf"],["class","grid-container",4,"ngIf"],[1,"example-card",2,"align-items","center"],[2,"text-align","center"],[1,"grid-container"],[1,"mat-h1"],["mat-fab","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],["aria-label","Fish selection"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"example-button-row",2,"text-align","center"],["mat-raised-button","","color","primary",2,"width","50%",3,"click"],[4,"ngIf"],["style","    text-align: center;\n  padding-top: 15%;",4,"ngIf"],[3,"selected","click"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[1,"dashboard-card"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"dashboard-card-content"],["role","list"],["role","listitem"],[2,"text-align","center","padding-top","15%"]],template:function(i,r){1&i&&(l.YNc(0,mX,3,0,"mat-card",0),l.YNc(1,yX,15,3,"div",1)),2&i&&(l.Q6J("ngIf",r.loading),l.xp6(1),l.Q6J("ngIf",!r.loading))},dependencies:[Ga,Ar,$I,WI,t0,HD,PS,QO,H1,A2,T2,h6,m6,p6,f6,bQ,v6,TQ,cX,Vk,hX],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}.grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;inset:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .example-button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px}.example-disabled[_ngcontent-%COMP%]{display:inline-block}.example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.example-card[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return n})()}]},{path:"**",redirectTo:"categoria/lista"}];let wX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[rv.forRoot(bX),rv]})}return n})(),xX=(()=>{class n{constructor(){this.title="menuDigital"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&l._UZ(0,"router-outlet")},dependencies:[pu]})}return n})();function L6(n){return new l.vHH(3e3,!1)}function Jm(n){switch(n.length){case 0:return new hg;case 1:return n[0];default:return new u0(n)}}function B6(n,t,e=new Map,i=new Map){const r=[],o=[];let c=-1,h=null;if(t.forEach(m=>{const v=m.get("offset"),w=v==c,T=w&&h||new Map;m.forEach((O,B)=>{let G=B,X=O;if("offset"!==B)switch(G=n.normalizePropertyName(G,r),X){case"!":X=e.get(B);break;case to:X=i.get(B);break;default:X=n.normalizeStyleValue(B,G,X,r)}T.set(G,X)}),w||o.push(T),h=T,c=v}),r.length)throw function GX(n){return new l.vHH(3502,!1)}();return o}function F2(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&L2(e,"start",n)));break;case"done":n.onDone(()=>i(e&&L2(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&L2(e,"destroy",n)))}}function L2(n,t,e){const o=B2(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function B2(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function Ac(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function V6(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const iJ=(()=>typeof document>"u"?null:document.documentElement)();function V2(n){const t=n.parentNode||n.host||null;return t===iJ?null:t}let p_=null,U6=!1;function H6(n,t){for(;t;){if(t===n)return!0;t=V2(t)}return!1}function j6(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let z6=(()=>{class n{validateStyleProperty(e){return function oJ(n){p_||(p_=function sJ(){return typeof document<"u"?document.body:null}()||{},U6=!!p_.style&&"WebkitAppearance"in p_.style);let t=!0;return p_.style&&!function rJ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in p_.style,!t&&U6&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in p_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return H6(e,i)}getParentElement(e){return V2(e)}query(e,i,r){return j6(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,h=[],m){return new hg(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),U2=(()=>{class n{static#e=this.NOOP=new z6}return n})();const aJ=1e3,H2="ng-enter",Hk="ng-leave",jk="ng-trigger",zk=".ng-trigger",G6="ng-animating",j2=".ng-animating";function gf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:z2(parseFloat(t[1]),t[2])}function z2(n,t){return"s"===t?n*aJ:n}function $k(n,t,e){return n.hasOwnProperty("duration")?n:function lJ(n,t,e){let r,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(L6()),{duration:0,delay:0,easing:""};r=z2(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(o=z2(parseFloat(m),h[4]));const v=h[5];v&&(c=v)}else r=n;if(!e){let h=!1,m=t.length;r<0&&(t.push(function CX(){return new l.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function EX(){return new l.vHH(3101,!1)}()),h=!0),h&&t.splice(m,0,L6())}return{duration:r,delay:o,easing:c}}(n,t,e)}function RC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function q6(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ep(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Gu(n,t,e){t.forEach((i,r)=>{const o=G2(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function g_(n,t){t.forEach((e,i)=>{const r=G2(i);n.style[r]=""})}function OC(n){return Array.isArray(n)?1==n.length?n[0]:Ba(n):n}const $2=new RegExp("{{\\s*(.+?)\\s*}}","g");function Y6(n){let t=[];if("string"==typeof n){let e;for(;e=$2.exec(n);)t.push(e[1]);$2.lastIndex=0}return t}function PC(n,t,e){const i=n.toString(),r=i.replace($2,(o,c)=>{let h=t[c];return null==h&&(e.push(function DX(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function Gk(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const hJ=/-+([a-z0-9])/g;function G2(n){return n.replace(hJ,(...t)=>t[1].toUpperCase())}function Mc(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function SX(n){return new l.vHH(3004,!1)}()}}function Z6(n,t){return window.getComputedStyle(n)[t]}const qk="*";function pJ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function gJ(n,t,e){if(":"==n[0]){const m=function _J(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function HX(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function UX(n){return new l.vHH(3015,!1)}()),t;const r=i[1],o=i[2],c=i[3];t.push(K6(r,c));"<"==o[0]&&!(r==qk&&c==qk)&&t.push(K6(c,r))}(i,e,t)):e.push(n),e}const Wk=new Set(["true","1"]),Yk=new Set(["false","0"]);function K6(n,t){const e=Wk.has(n)||Yk.has(n),i=Wk.has(t)||Yk.has(t);return(r,o)=>{let c=n==qk||n==r,h=t==qk||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?Wk.has(n):Yk.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?Wk.has(t):Yk.has(t)),c&&h}}const vJ=new RegExp("s*:selfs*,?","g");function q2(n,t,e,i){return new yJ(n).build(t,e,i)}class yJ{constructor(t){this._driver=t}build(t,e,i){const r=new xJ(e);return this._resetContextStyleTimingState(r),Mc(this,OC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function kX(){return new l.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(w=>{m.name=w,o.push(this.visitState(m,e))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,e);i+=m.queryCount,r+=m.depCount,c.push(m)}else e.errors.push(function AX(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{Y6(m).forEach(v=>{c.hasOwnProperty(v)||o.add(v)})})}),o.size&&(Gk(o.values()),e.errors.push(function MX(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Mc(this,OC(t.animation),e);return{type:1,matchers:pJ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:__(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Mc(this,i,e)),options:__(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const h=Mc(this,c,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:__(t.options)}}visitAnimate(t,e){const i=function EJ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return W2($k(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=W2(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=$k(e,t);return W2(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:nn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,h=!1;if(!c){h=!0;const v={};i.easing&&(v.easing=i.easing),c=nn(v)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(c,e);m.isEmptyStep=h,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===to?i.push(h):e.errors.push(new l.vHH(3002,!1)):i.push(q6(h));let o=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!o))for(let m of h.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,m)=>{const v=e.collectedStyles.get(e.currentQuerySelector),w=v.get(m);let T=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(function OX(n,t,e,i,r){return new l.vHH(3010,!1)}()),T=!1),o=w.startTime),T&&v.set(m,{startTime:o,endTime:r}),e.options&&function uJ(n,t,e){const i=t.params||{},r=Y6(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function IX(n){return new l.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function PX(){return new l.vHH(3011,!1)}()),i;let o=0;const c=[];let h=!1,m=!1,v=0;const w=t.steps.map(He=>{const Je=this._makeStyleAst(He,e);let Xe=null!=Je.offset?Je.offset:function CJ(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Je.styles),st=0;return null!=Xe&&(o++,st=Je.offset=Xe),m=m||st<0||st>1,h=h||st<v,v=st,c.push(st),Je});m&&e.errors.push(function NX(){return new l.vHH(3012,!1)}()),h&&e.errors.push(function FX(){return new l.vHH(3200,!1)}());const T=t.steps.length;let O=0;o>0&&o<T?e.errors.push(function LX(){return new l.vHH(3202,!1)}()):0==o&&(O=1/(T-1));const B=T-1,G=e.currentTime,X=e.currentAnimateTimings,re=X.duration;return w.forEach((He,Je)=>{const Xe=O>0?Je==B?1:O*Je:c[Je],st=Xe*re;e.currentTime=G+X.delay+st,X.duration=st,this._validateStyleAst(He,e),He.offset=Xe,i.styles.push(He)}),i}visitReference(t,e){return{type:8,animation:Mc(this,OC(t.animation),e),options:__(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:__(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:__(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function bJ(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(vJ,"")),n=n.replace(/@\*/g,zk).replace(/@\w+/g,e=>zk+"-"+e.slice(1)).replace(/:animating/g,j2),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ac(e.collectedStyles,e.currentQuerySelector,new Map);const h=Mc(this,OC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:t.selector,options:__(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function BX(){return new l.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:$k(t.timings,e.errors,!0);return{type:12,animation:Mc(this,OC(t.animation),e),timings:i,options:null}}}class xJ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function __(n){return n?(n=RC(n)).params&&(n.params=function wJ(n){return n?RC(n):null}(n.params)):n={},n}function W2(n,t,e){return{duration:n,delay:t,easing:e}}function Y2(n,t,e,i,r,o,c=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:h}}class Zk{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const SJ=new RegExp(":enter","g"),kJ=new RegExp(":leave","g");function Z2(n,t,e,i,r,o=new Map,c=new Map,h,m,v=[]){return(new AJ).buildKeyframes(n,t,e,i,r,o,c,h,m,v)}class AJ{buildKeyframes(t,e,i,r,o,c,h,m,v,w=[]){v=v||new Zk;const T=new K2(t,e,v,r,o,w,[]);T.options=m;const O=m.delay?gf(m.delay):0;T.currentTimeline.delayNextStep(O),T.currentTimeline.setStyles([c],null,T.errors,m),Mc(this,i,T);const B=T.timelines.filter(G=>G.containsAnimation());if(B.length&&h.size){let G;for(let X=B.length-1;X>=0;X--){const re=B[X];if(re.element===e){G=re;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([h],null,T.errors,m)}return B.length?B.map(G=>G.buildKeyframes()):[Y2(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const c="number"==typeof o?o:gf(PC(o,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?gf(i.duration):null,h=null!=i.delay?gf(i.delay):null;return 0!==c&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,c,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Mc(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Kk);const c=gf(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Mc(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?gf(t.options.delay):0;t.steps.forEach(c=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Mc(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return $k(e.params?PC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*o),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?gf(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Kk);let c=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((v,w)=>{e.currentQueryIndex=w;const T=e.createSubContext(t.options,v);o&&T.delayNextStep(o),v===e.element&&(m=T.currentTimeline),Mc(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),h=c*(e.currentQueryTotal-1);let m=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const w=e.currentTimeline;m&&w.delayNextStep(m);const T=w.currentTime;Mc(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const Kk={};class K2{constructor(t,e,i,r,o,c,h,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Kk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Qk(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=gf(i.duration)),null!=i.delay&&(r.delay=gf(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!c.hasOwnProperty(h))&&(c[h]=PC(o[h],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new K2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Kk,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new MJ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(SJ,"."+this._enterClassName)).replace(kJ,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&c.push(function VX(n){return new l.vHH(3014,!1)}()),h}}class Qk{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Qk(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||to),this._currentKeyframe.set(e,to);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},c=function RJ(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,to)}else ep(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,m]of c){const v=PC(m,o,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??to),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=ep(h,new Map,this._backFill);v.forEach((w,T)=>{"!"===w?t.add(T):w===to&&e.add(T)}),i||v.set("offset",m/this.duration),r.push(v)});const o=t.size?Gk(t.values()):[],c=e.size?Gk(e.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return Y2(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class MJ extends Qk{constructor(t,e,i,r,o,c,h=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,h=e/c,m=ep(t[0]);m.set("offset",0),o.push(m);const v=ep(t[0]);v.set("offset",J6(h)),o.push(v);const w=t.length-1;for(let T=1;T<=w;T++){let O=ep(t[T]);const B=O.get("offset");O.set("offset",J6((e+B*i)/c)),o.push(O)}i=c,e=0,r="",t=o}return Y2(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function J6(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Q2{}const OJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class PJ extends Q2{normalizePropertyName(t,e){return G2(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(OJ.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function TX(n,t){return new l.vHH(3005,!1)}())}return c+o}}function e5(n,t,e,i,r,o,c,h,m,v,w,T,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:w,totalTime:T,errors:O}}const X2={};class t5{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function NJ(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,c,h,m,v,w){const T=[],O=this.ast.options&&this.ast.options.params||X2,G=this.buildStyles(i,h&&h.params||X2,T),X=m&&m.params||X2,re=this.buildStyles(r,X,T),He=new Set,Je=new Map,Xe=new Map,st="void"===r,Bt={params:FJ(X,O),delay:this.ast.options?.delay},jt=w?[]:Z2(t,e,this.ast.animation,o,c,G,re,Bt,v,T);let Mn=0;if(jt.forEach(Ps=>{Mn=Math.max(Ps.duration+Ps.delay,Mn)}),T.length)return e5(e,this._triggerName,i,r,st,G,re,[],[],Je,Xe,Mn,T);jt.forEach(Ps=>{const Cf=Ps.element,N8=Ac(Je,Cf,new Set);Ps.preStyleProps.forEach(A_=>N8.add(A_));const _E=Ac(Xe,Cf,new Set);Ps.postStyleProps.forEach(A_=>_E.add(A_)),Cf!==e&&He.add(Cf)});const dr=Gk(He.values());return e5(e,this._triggerName,i,r,st,G,re,jt,dr,Je,Xe,Mn)}}function FJ(n,t){const e=RC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class LJ{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=RC(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{c&&(c=PC(c,r,e));const m=this.normalizer.normalizePropertyName(h,e);c=this.normalizer.normalizeStyleValue(h,m,c,e),i.set(h,c)})}),i}}class VJ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new LJ(r.style,r.options&&r.options.params||{},i))}),n5(this.states,"true","1"),n5(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new t5(t,r,this.states))}),this.fallbackTransition=function UJ(n,t,e){return new t5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function n5(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const HJ=new Zk;class jJ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=q2(this._driver,e,i,[]);if(i.length)throw function qX(n){return new l.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=B6(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let c;const h=new Map;if(o?(c=Z2(this._driver,e,o,H2,Hk,new Map,new Map,i,HJ,r),c.forEach(w=>{const T=Ac(h,w.element,new Map);w.postStyleProps.forEach(O=>T.set(O,null))})):(r.push(function WX(){return new l.vHH(3300,!1)}()),c=[]),r.length)throw function YX(n){return new l.vHH(3504,!1)}();h.forEach((w,T)=>{w.forEach((O,B)=>{w.set(B,this._driver.computeStyle(T,B,to))})});const v=Jm(c.map(w=>{const T=h.get(w.element);return this._buildPlayer(w,new Map,T)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function ZX(n){return new l.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=B2(e,"","","");return F2(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const r5="ng-animate-queued",J2="ng-animate-disabled",WJ=[],o5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cd="__ng_removed";class eL{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function XJ(n){return n??null}(i?t.value:t),i){const o=RC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const NC="void",tL=new eL(NC);class ZJ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Cl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function KX(n,t){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function QX(n){return new l.vHH(3303,!1)}();if(!function JJ(n){return"start"==n||"done"==n}(i))throw function XX(n,t){return new l.vHH(3400,!1)}();const o=Ac(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const h=Ac(this._engine.statesByElement,t,new Map);return h.has(e)||(Cl(t,jk),Cl(t,jk+"-"+e),h.set(e,tL)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(c);m>=0&&o.splice(m,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function JX(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new nL(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Cl(t,jk),Cl(t,jk+"-"+e),this._engine.statesByElement.set(t,h=new Map));let m=h.get(e);const v=new eL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(e,v),m||(m=tL),v.value!==NC&&m.value===v.value){if(!function nee(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(m.params,v.params)){const X=[],re=o.matchStyles(m.value,m.params,X),He=o.matchStyles(v.value,v.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{g_(t,re),Gu(t,He)})}return}const O=Ac(this._engine.playersByElement,t,[]);O.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let B=o.matchTransition(m.value,v.value,t,v.params),G=!1;if(!B){if(!r)return;B=o.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:m,toState:v,player:c,isFallbackTransition:G}),G||(Cl(t,r5),c.onStart(()=>{wb(t,r5)})),c.onDone(()=>{let X=this.players.indexOf(c);X>=0&&this.players.splice(X,1);const re=this._engine.playersByElement.get(t);if(re){let He=re.indexOf(c);He>=0&&re.splice(He,1)}}),this.players.push(c),O.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,zk,!0);i.forEach(r=>{if(r[Cd])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const h=[];if(o.forEach((m,v)=>{if(c.set(v,m.value),this._triggers.has(v)){const w=this.trigger(t,v,NC,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Jm(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const m=this._triggers.get(c).fallbackTransition,v=i.get(c)||tL,w=new eL(NC),T=new nL(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:m,fromState:v,toState:w,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Cd];(!o||o===o5)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Cl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==i.triggerName){const m=B2(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,F2(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class KJ{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new ZJ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(e);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,t),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Xk(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Xk(e))return;const o=e[Cd];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Cl(t,J2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wb(t,J2))}removeNode(t,e,i){if(Xk(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Cd]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Xk(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,zk,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,j2,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Jm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Cd];if(e&&e.setForRemoval){if(t[Cd]=o5,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(J2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Cl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Jm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function eJ(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Zk,r=[],o=new Map,c=[],h=new Map,m=new Map,v=new Map,w=new Set;this.disabledNodes.forEach(Ot=>{w.add(Ot);const $t=this.driver.query(Ot,".ng-animate-queued",!0);for(let en=0;en<$t.length;en++)w.add($t[en])});const T=this.bodyNode,O=Array.from(this.statesByElement.keys()),B=c5(O,this.collectedEnterElements),G=new Map;let X=0;B.forEach((Ot,$t)=>{const en=H2+X++;G.set($t,en),Ot.forEach(Wn=>Cl(Wn,en))});const re=[],He=new Set,Je=new Set;for(let Ot=0;Ot<this.collectedLeaveElements.length;Ot++){const $t=this.collectedLeaveElements[Ot],en=$t[Cd];en&&en.setForRemoval&&(re.push($t),He.add($t),en.hasAnimation?this.driver.query($t,".ng-star-inserted",!0).forEach(Wn=>He.add(Wn)):Je.add($t))}const Xe=new Map,st=c5(O,Array.from(He));st.forEach((Ot,$t)=>{const en=Hk+X++;Xe.set($t,en),Ot.forEach(Wn=>Cl(Wn,en))}),t.push(()=>{B.forEach((Ot,$t)=>{const en=G.get($t);Ot.forEach(Wn=>wb(Wn,en))}),st.forEach((Ot,$t)=>{const en=Xe.get($t);Ot.forEach(Wn=>wb(Wn,en))}),re.forEach(Ot=>{this.processLeaveNode(Ot)})});const Bt=[],jt=[];for(let Ot=this._namespaceList.length-1;Ot>=0;Ot--)this._namespaceList[Ot].drainQueuedTransitions(e).forEach(en=>{const Wn=en.player,Bo=en.element;if(Bt.push(Wn),this.collectedEnterElements.length){const Ns=Bo[Cd];if(Ns&&Ns.setForMove){if(Ns.previousTriggersValues&&Ns.previousTriggersValues.has(en.triggerName)){const M_=Ns.previousTriggersValues.get(en.triggerName),Sl=this.statesByElement.get(en.element);if(Sl&&Sl.has(en.triggerName)){const XA=Sl.get(en.triggerName);XA.value=M_,Sl.set(en.triggerName,XA)}}return void Wn.destroy()}}const Ju=!T||!this.driver.containsElement(T,Bo),Nc=Xe.get(Bo),fp=G.get(Bo),Tr=this._buildInstruction(en,i,fp,Nc,Ju);if(Tr.errors&&Tr.errors.length)return void jt.push(Tr);if(Ju)return Wn.onStart(()=>g_(Bo,Tr.fromStyles)),Wn.onDestroy(()=>Gu(Bo,Tr.toStyles)),void r.push(Wn);if(en.isFallbackTransition)return Wn.onStart(()=>g_(Bo,Tr.fromStyles)),Wn.onDestroy(()=>Gu(Bo,Tr.toStyles)),void r.push(Wn);const B8=[];Tr.timelines.forEach(Ns=>{Ns.stretchStartingKeyframe=!0,this.disabledNodes.has(Ns.element)||B8.push(Ns)}),Tr.timelines=B8,i.append(Bo,Tr.timelines),c.push({instruction:Tr,player:Wn,element:Bo}),Tr.queriedElements.forEach(Ns=>Ac(h,Ns,[]).push(Wn)),Tr.preStyleProps.forEach((Ns,M_)=>{if(Ns.size){let Sl=m.get(M_);Sl||m.set(M_,Sl=new Set),Ns.forEach((XA,LB)=>Sl.add(LB))}}),Tr.postStyleProps.forEach((Ns,M_)=>{let Sl=v.get(M_);Sl||v.set(M_,Sl=new Set),Ns.forEach((XA,LB)=>Sl.add(LB))})});if(jt.length){const Ot=[];jt.forEach($t=>{Ot.push(function tJ(n,t){return new l.vHH(3505,!1)}())}),Bt.forEach($t=>$t.destroy()),this.reportError(Ot)}const Mn=new Map,dr=new Map;c.forEach(Ot=>{const $t=Ot.element;i.has($t)&&(dr.set($t,$t),this._beforeAnimationBuild(Ot.player.namespaceId,Ot.instruction,Mn))}),r.forEach(Ot=>{const $t=Ot.element;this._getPreviousPlayers($t,!1,Ot.namespaceId,Ot.triggerName,null).forEach(Wn=>{Ac(Mn,$t,[]).push(Wn),Wn.destroy()})});const Ps=re.filter(Ot=>d5(Ot,m,v)),Cf=new Map;a5(Cf,this.driver,Je,v,to).forEach(Ot=>{d5(Ot,m,v)&&Ps.push(Ot)});const _E=new Map;B.forEach((Ot,$t)=>{a5(_E,this.driver,new Set(Ot),m,"!")}),Ps.forEach(Ot=>{const $t=Cf.get(Ot),en=_E.get(Ot);Cf.set(Ot,new Map([...$t?.entries()??[],...en?.entries()??[]]))});const A_=[],F8=[],L8={};c.forEach(Ot=>{const{element:$t,player:en,instruction:Wn}=Ot;if(i.has($t)){if(w.has($t))return en.onDestroy(()=>Gu($t,Wn.toStyles)),en.disabled=!0,en.overrideTotalTime(Wn.totalTime),void r.push(en);let Bo=L8;if(dr.size>1){let Nc=$t;const fp=[];for(;Nc=Nc.parentNode;){const Tr=dr.get(Nc);if(Tr){Bo=Tr;break}fp.push(Nc)}fp.forEach(Tr=>dr.set(Tr,Bo))}const Ju=this._buildAnimation(en.namespaceId,Wn,Mn,o,_E,Cf);if(en.setRealPlayer(Ju),Bo===L8)A_.push(en);else{const Nc=this.playersByElement.get(Bo);Nc&&Nc.length&&(en.parentPlayer=Jm(Nc)),r.push(en)}}else g_($t,Wn.fromStyles),en.onDestroy(()=>Gu($t,Wn.toStyles)),F8.push(en),w.has($t)&&r.push(en)}),F8.forEach(Ot=>{const $t=o.get(Ot.element);if($t&&$t.length){const en=Jm($t);Ot.setRealPlayer(en)}}),r.forEach(Ot=>{Ot.parentPlayer?Ot.syncPlayerEvents(Ot.parentPlayer):Ot.destroy()});for(let Ot=0;Ot<re.length;Ot++){const $t=re[Ot],en=$t[Cd];if(wb($t,Hk),en&&en.hasAnimation)continue;let Wn=[];if(h.size){let Ju=h.get($t);Ju&&Ju.length&&Wn.push(...Ju);let Nc=this.driver.query($t,j2,!0);for(let fp=0;fp<Nc.length;fp++){let Tr=h.get(Nc[fp]);Tr&&Tr.length&&Wn.push(...Tr)}}const Bo=Wn.filter(Ju=>!Ju.destroyed);Bo.length?eee(this,$t,Bo):this.processLeaveNode($t)}return re.length=0,A_.forEach(Ot=>{this.players.push(Ot),Ot.onDone(()=>{Ot.destroy();const $t=this.players.indexOf(Ot);this.players.splice($t,1)}),Ot.play()}),A_}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(c=h)}else{const h=this.playersByElement.get(t);if(h){const m=!o||o==NC;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,w=v!==o,T=Ac(i,v,[]);this._getPreviousPlayers(v,w,c,h,e.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),T.push(B)})}g_(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const h=e.triggerName,m=e.element,v=[],w=new Set,T=new Set,O=e.timelines.map(G=>{const X=G.element;w.add(X);const re=X[Cd];if(re&&re.removedBeforeQueried)return new hg(G.duration,G.delay);const He=X!==m,Je=function tee(n){const t=[];return l5(n,t),t}((i.get(X)||WJ).map(Mn=>Mn.getRealPlayer())).filter(Mn=>!!Mn.element&&Mn.element===X),Xe=o.get(X),st=c.get(X),Bt=B6(this._normalizer,G.keyframes,Xe,st),jt=this._buildPlayer(G,Bt,Je);if(G.subTimeline&&r&&T.add(X),He){const Mn=new nL(t,h,X);Mn.setRealPlayer(jt),v.push(Mn)}return jt});v.forEach(G=>{Ac(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function QJ(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,G.element,G))}),w.forEach(G=>Cl(G,G6));const B=Jm(O);return B.onDestroy(()=>{w.forEach(G=>wb(G,G6)),Gu(m,e.toStyles)}),T.forEach(G=>{Ac(r,G,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hg(t.duration,t.delay)}}class nL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new hg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>F2(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ac(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Xk(n){return n&&1===n.nodeType}function s5(n,t){const e=n.style.display;return n.style.display=t??"none",e}function a5(n,t,e,i,r){const o=[];e.forEach(m=>o.push(s5(m)));const c=[];i.forEach((m,v)=>{const w=new Map;m.forEach(T=>{const O=t.computeStyle(v,T,r);w.set(T,O),(!O||0==O.length)&&(v[Cd]=YJ,c.push(v))}),n.set(v,w)});let h=0;return e.forEach(m=>s5(m,o[h++])),c}function c5(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(h){if(!h)return 1;let m=o.get(h);if(m)return m;const v=h.parentNode;return m=e.has(v)?v:r.has(v)?1:c(v),o.set(h,m),m}return t.forEach(h=>{const m=c(h);1!==m&&e.get(m).push(h)}),e}function Cl(n,t){n.classList?.add(t)}function wb(n,t){n.classList?.remove(t)}function eee(n,t,e){Jm(e).onDone(()=>n.processLeaveNode(t))}function l5(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof u0?l5(i.players,t):t.push(i)}}function d5(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Jk{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new KJ(t,e,i),this._timelineEngine=new jJ(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let h=this._triggerCache[c];if(!h){const m=[],w=q2(this._driver,o,m,[]);if(m.length)throw function $X(n,t){return new l.vHH(3404,!1)}();h=function BJ(n,t,e){return new VJ(n,t,e)}(r,w,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=V6(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,h]=V6(i);return this._timelineEngine.listen(c,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let ree=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Gu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gu(this._element,this._initialStyles),this._endStyles&&(Gu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(g_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(g_(this._element,this._endStyles),this._endStyles=null),Gu(this._element,this._initialStyles),this._state=3)}}return n})();function iL(n){let t=null;return n.forEach((e,i)=>{(function oee(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class u5{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Z6(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class see{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return H6(t,e)}getParentElement(t){return V2(t)}query(t,e,i){return j6(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(m.easing=o);const v=new Map,w=c.filter(B=>B instanceof u5);(function fJ(n,t){return 0===n||0===t})(i,r)&&w.forEach(B=>{B.currentSnapshot.forEach((G,X)=>v.set(X,G))});let T=function dJ(n){return n.length?n[0]instanceof Map?n:n.map(t=>q6(t)):[]}(e).map(B=>ep(B));T=function mJ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<t.length;o++){let c=t[o];r.forEach(h=>c.set(h,Z6(n,h)))}}return t}(t,T,v);const O=function iee(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=iL(t[0]),t.length>1&&(i=iL(t[t.length-1]))):t instanceof Map&&(e=iL(t)),e||i?new ree(n,e,i):null}(t,T);return new u5(t,T,m,O)}}let aee=(()=>{class n extends Rv{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Ba(e):e;return h5(this._renderer,null,i,"register",[r]),new cee(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.FYo),l.LFG(he))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class cee extends d0{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new lee(this._id,t,e||{},this._renderer)}}class lee{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return h5(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function h5(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const f5="@.disabled";let dee=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(o);return w||(w=new m5("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,w)),w}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=w=>{Array.isArray(w)?w.forEach(m):this.engine.registerTrigger(c,h,e,w.name,w)};return i.data.animation.forEach(m),new uee(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.FYo),l.LFG(Jk),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class m5{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==f5?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class uee extends m5{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==f5?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function hee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function fee(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let mee=(()=>{class n extends Jk{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(he),l.LFG(U2),l.LFG(Q2),l.LFG(l.z2F))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const p5=[{provide:Rv,useClass:aee},{provide:Q2,useFactory:function pee(){return new PJ}},{provide:Jk,useClass:mee},{provide:l.FYo,useFactory:function gee(n,t,e){return new dee(n,t,e)},deps:[_t,Jk,l.R0b]}],rL=[{provide:U2,useFactory:()=>new see},{provide:l.QbO,useValue:"BrowserAnimations"},...p5],g5=[{provide:U2,useClass:z6},{provide:l.QbO,useValue:"NoopAnimations"},...p5];let _ee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?g5:rL}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:rL,imports:[Gd]})}return n})(),Mee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Mv]})}return n})(),Uee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,Mee,In]})}return n})();const qee={provide:new l.OlP("mat-select-scroll-strategy"),deps:[bb],useFactory:function Gee(n){return()=>n.scrollStrategies.reposition()}};let Wee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[qee],imports:[gn,P2,UR,In,qh,IK,UR,In]})}return n})();const Qee={provide:new l.OlP("mat-tooltip-scroll-strategy"),deps:[bb],useFactory:function Kee(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let Jee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[Qee],imports:[SR,gn,P2,In,In,qh]})}return n})(),pL=(()=>{class n{constructor(){this.changes=new Ht.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rte={provide:pL,deps:[[new l.FiY,new l.tp0,pL]],useFactory:function ite(n){return n||new pL}};let ote=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[rte],imports:[gn,cg,Wee,Jee]})}return n})(),gL=(()=>{class n{constructor(){this.changes=new Ht.x}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ate={provide:gL,deps:[[new l.FiY,new l.tp0,gL]],useFactory:function ste(n){return n||new gL}};let cte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[ate],imports:[gn,In]})}return n})();class lte{constructor(t,e){this._delegate=t,this.firebase=e,(0,Lr._addComponent)(t,new Dc.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Lr.deleteApp)(this._delegate)))}_getService(t,e=Lr._DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=Lr._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,Lr._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,Lr._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const S5=new H.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),hte=function T5(){const n=function ute(n){const t={},e={__esModule:!0,initializeApp:function o(v,w={}){const T=Lr.initializeApp(v,w);if((0,H.r3)(t,T.name))return t[T.name];const O=new n(T,e);return t[T.name]=O,O},app:r,registerVersion:Lr.registerVersion,setLogLevel:Lr.setLogLevel,onLog:Lr.onLog,apps:null,SDK_VERSION:Lr.SDK_VERSION,INTERNAL:{registerComponent:function h(v){const w=v.name,T=w.replace("-compat","");if(Lr._registerComponent(v)&&"PUBLIC"===v.type){const O=(B=r())=>{if("function"!=typeof B[T])throw S5.create("invalid-app-argument",{appName:w});return B[T]()};void 0!==v.serviceProps&&(0,H.ZB)(O,v.serviceProps),e[T]=O,n.prototype[T]=function(...B){return this._getService.bind(this,w).apply(this,v.multipleInstances?B:[])}}return"PUBLIC"===v.type?e[T]:null},removeApp:function i(v){delete t[v]},useAsService:function m(v,w){return"serverAuth"===w?null:w},modularAPIs:Lr}};function r(v){if(!(0,H.r3)(t,v=v||Lr._DEFAULT_ENTRY_NAME))throw S5.create("no-app",{appName:v});return t[v]}return e.default=e,Object.defineProperty(e,"apps",{get:function c(){return Object.keys(t).map(v=>t[v])}}),r.App=n,e}(lte);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:T5,extendNamespace:function t(e){(0,H.ZB)(n,e)},createSubscribe:H.ne,ErrorFactory:H.LL,deepExtend:H.ZB}),n}(),k5=new ha.Yd("@firebase/app-compat");if((0,H.jU)()&&void 0!==self.firebase){k5.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&k5.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const gte=hte;!function pte(n){(0,Lr.registerVersion)("@firebase/app-compat","0.2.20",n)}();const A5="firebasestorage.googleapis.com",M5="storageBucket";class Dr extends H.ZR{constructor(t,e,i=0){super(_L(t),`Firebase Storage: ${e} (${_L(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return _L(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var cr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(cr||{});function _L(n){return"storage/"+n}function vL(){return new Dr(cr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function R5(){return new Dr(cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function O5(){return new Dr(cr.CANCELED,"User canceled the upload/download.")}function P5(){return new Dr(cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ib(n){return new Dr(cr.INVALID_ARGUMENT,n)}function N5(){return new Dr(cr.APP_DELETED,"The Firebase app was deleted.")}function F5(n){return new Dr(cr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function BC(n,t){return new Dr(cr.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function VC(n){throw new Dr(cr.INTERNAL_ERROR,"Internal error: "+n)}class Rs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Rs.makeFromUrl(t,e)}catch{return new Rs(t,"")}if(""===i.path)return i;throw function Dte(n){return new Dr(cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(st){st.path_=decodeURIComponent(st.path)}const T=e.replace(/[.]/g,"\\."),Xe=[{regex:h,indices:{bucket:1,path:3},postModify:function o(st){"/"===st.path.charAt(st.path.length-1)&&(st.path_=st.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===A5?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let st=0;st<Xe.length;st++){const Bt=Xe[st],jt=Bt.regex.exec(t);if(jt){let dr=jt[Bt.indices.path];dr||(dr=""),i=new Rs(jt[Bt.indices.bucket],dr),Bt.postModify(i);break}}if(null==i)throw function Ite(n){return new Dr(cr.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class Mte{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function dA(n){return"string"==typeof n||n instanceof String}function L5(n){return yL()&&n instanceof Blob}function yL(){return typeof Blob<"u"&&!(0,H.UG)()}function bL(n,t,e,i){if(i<t)throw Ib(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Ib(`Invalid value for '${n}'. Expected ${e} or less.`)}function yf(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function B5(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Db=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Db||{});function V5(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class Lte{constructor(t,e,i,r,o,c,h,m,v,w,T,O=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=T,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,G)=>{this.resolve_=B,this.reject_=G,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function Pte(n){return void 0!==n}(m)?o():o(m)}catch(m){c(m)}else if(null!==h){const m=vL();m.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,m):m)}else c(r.canceled?this.appDelete_?N5():O5():R5())};this.canceled_?e(0,new uA(!1,null,!0)):this.backoffId_=function Rte(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function m(){return 2===h}let v=!1;function w(...re){v||(v=!0,t.apply(null,re))}function T(re){r=setTimeout(()=>{r=null,n(B,m())},re)}function O(){o&&clearTimeout(o)}function B(re,...He){if(v)return void O();if(re)return O(),void w.call(null,re,...He);if(m()||c)return O(),void w.call(null,re,...He);let Xe;i<64&&(i*=2),1===h?(h=2,Xe=0):Xe=1e3*(i+Math.random()),T(Xe)}let G=!1;function X(re){G||(G=!0,O(),!v&&(null!==r?(re||(h=2),clearTimeout(r),T(0)):re||(h=1)))}return T(0),o=setTimeout(()=>{c=!0,X(!0)},e),X}((i,r)=>{if(r)return void i(!1,new uA(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Db.NO_ERROR,m=o.getStatus();if(!h||V5(m,this.additionalRetryCodes_)&&this.retry){const w=o.getErrorCode()===Db.ABORT;return void i(!1,new uA(!1,null,w))}const v=-1!==this.successCodes_.indexOf(m);i(!0,new uA(v,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Ote(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class uA{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function $te(...n){const t=function zte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(yL())return new Blob(n);throw new Dr(cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Rc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wL{constructor(t,e){this.data=t,this.contentType=e||null}}function xL(n,t){switch(n){case Rc.RAW:return new wL(U5(t));case Rc.BASE64:case Rc.BASE64URL:return new wL(H5(n,t));case Rc.DATA_URL:return new wL(function Yte(n){const t=new j5(n);return t.base64?H5(Rc.BASE64,t.rest):function Wte(n){let t;try{t=decodeURIComponent(n)}catch{throw BC(Rc.DATA_URL,"Malformed data URL.")}return U5(t)}(t.rest)}(t),function Zte(n){return new j5(n).contentType}(t))}throw vL()}function U5(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function H5(n,t){switch(n){case Rc.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw BC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Rc.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw BC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function qte(n){if(typeof atob>"u")throw function Ate(n){return new Dr(cr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:BC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class j5{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw BC(Rc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Kte(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class qu{constructor(t,e){let i=0,r="";L5(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(L5(this.data_)){const r=function Gte(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new qu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new qu(i,!0)}}static getBlob(...t){if(yL()){const e=t.map(i=>i instanceof qu?i.data_:i);return new qu($te.apply(null,e))}{const e=t.map(c=>dA(c)?xL(Rc.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(c=>{for(let h=0;h<c.length;h++)r[o++]=c[h]}),new qu(r,!0)}}uploadData(){return this.data_}}function CL(n){let t;try{t=JSON.parse(n)}catch{return null}return function Fte(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function z5(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Jte(n,t){return t}class ga{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Jte}}let hA=null;function UC(){if(hA)return hA;const n=[];n.push(new ga("bucket")),n.push(new ga("generation")),n.push(new ga("metageneration")),n.push(new ga("name","fullPath",!0));const e=new ga("name");e.xform=function t(o,c){return function ene(n){return!dA(n)||n.length<2?n:z5(n)}(c)},n.push(e);const r=new ga("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ga("timeCreated")),n.push(new ga("updated")),n.push(new ga("md5Hash",null,!0)),n.push(new ga("cacheControl",null,!0)),n.push(new ga("contentDisposition",null,!0)),n.push(new ga("contentEncoding",null,!0)),n.push(new ga("contentLanguage",null,!0)),n.push(new ga("contentType",null,!0)),n.push(new ga("metadata","customMetadata",!0)),hA=n,hA}function $5(n,t,e){const i=CL(t);return null===i?null:function nne(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const c=e[o];i[c.local]=c.xform(i,t[c.server])}return function tne(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Rs(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function EL(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const G5="prefixes",q5="items";class Wu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Yu(n){if(!n)throw vL()}function fA(n,t){return function e(i,r){const o=$5(n,r,t);return Yu(null!==o),o}}function Sb(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Cte(){return new Dr(cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function xte(){return new Dr(cr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function wte(n){return new Dr(cr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Ete(n){return new Dr(cr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function HC(n){const t=Sb(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function bte(n){return new Dr(cr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function W5(n,t,e){const r=yf(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Wu(r,"GET",fA(n,e),c);return h.errorHandler=HC(t),h}function cne(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=yf(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,w=new Wu(h,"GET",function sne(n,t){return function e(i,r){const o=function one(n,t,e){const i=CL(e);return null===i?null:function rne(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[G5])for(const r of e[G5]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new Rs(t,o));i.prefixes.push(c)}if(e[q5])for(const r of e[q5]){const o=n._makeStorageReference(new Rs(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Yu(null!==o),o}}(n,t.bucket),v);return w.urlParams=o,w.errorHandler=Sb(t),w}function Z5(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function hne(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class mA{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function IL(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Yu(!1)}return Yu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const gne={STATE_CHANGED:"state_changed"},_a={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DL(n){switch(n){case"running":case"pausing":case"canceling":return _a.RUNNING;case"paused":return _a.PAUSED;case"success":return _a.SUCCESS;case"canceled":return _a.CANCELED;default:return _a.ERROR}}class _ne{constructor(t,e,i){if(function Nte(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Tb(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let X5=null;class vne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Db.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Db.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Db.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw VC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw VC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw VC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw VC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw VC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class yne extends vne{initXhr(){this.xhr_.responseType="text"}}function Ed(){return X5?X5():new yne}class J5{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=UC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(cr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(V5(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=R5()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(cr.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function fne(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c=Z5(t,i,r),h={name:c.fullPath},m=yf(o,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=EL(c,e),G=new Wu(m,"POST",function B(X){let re;IL(X);try{re=X.getResponseHeader("X-Goog-Upload-URL")}catch{Yu(!1)}return Yu(dA(re)),re},n.maxUploadRetryTime);return G.urlParams=h,G.headers=w,G.body=T,G.errorHandler=Sb(t),G}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ed,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function mne(n,t,e,i){const m=new Wu(e,"POST",function o(v){const w=IL(v,["active","final"]);let T=null;try{T=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yu(!1)}T||Yu(!1);const O=Number(T);return Yu(!isNaN(O)),new mA(O,i.size(),"final"===w)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Sb(t),m}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,Ed,e,i);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new mA(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function pne(n,t,e,i,r,o,c,h){const m=new mA(0,0);if(c?(m.current=c.current,m.total=c.total):(m.current=0,m.total=i.size()),i.size()!==m.total)throw function Tte(){return new Dr(cr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let w=v;r>0&&(w=Math.min(w,r));const T=m.current;let B="";B=0===w?"finalize":v===w?"upload, finalize":"upload";const G={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${m.current}`},X=i.slice(T,T+w);if(null===X)throw P5();const Xe=new Wu(e,"POST",function re(st,Bt){const jt=IL(st,["active","final"]),Mn=m.current+w,dr=i.size();let Ps;return Ps="final"===jt?fA(t,o)(st,Bt):null,new mA(Mn,dr,"final"===jt,Ps)},t.maxUploadRetryTime);return Xe.headers=G,Xe.body=X.uploadData(),Xe.progressCallback=h||null,Xe.errorHandler=Sb(n),Xe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const h=this._ref.storage._makeRequest(c,Ed,r,o,!1);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=W5(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ed,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function K5(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let Xe="";for(let st=0;st<2;st++)Xe+=Math.random().toString().slice(2);return Xe}();c["Content-Type"]="multipart/related; boundary="+m;const v=Z5(t,i,r),w=EL(v,e),B=qu.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===B)throw P5();const G={name:v.fullPath},X=yf(o,n.host,n._protocol),He=n.maxUploadRetryTime,Je=new Wu(X,"POST",fA(n,e),He);return Je.urlParams=G,Je.headers=c,Je.body=B.uploadData(),Je.errorHandler=Sb(t),Je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ed,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=O5(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=DL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new _ne(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(DL(this._state)){case _a.SUCCESS:Tb(this._resolve.bind(null,this.snapshot))();break;case _a.CANCELED:case _a.ERROR:Tb(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(DL(this._state)){case _a.RUNNING:case _a.PAUSED:t.next&&Tb(t.next.bind(t,this.snapshot))();break;case _a.SUCCESS:t.complete&&Tb(t.complete.bind(t))();break;default:t.error&&Tb(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class v_{constructor(t,e){this._service=t,this._location=e instanceof Rs?e:Rs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new v_(t,e)}get root(){const t=new Rs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z5(this._location.path)}get storage(){return this._service}get parent(){const t=function Qte(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Rs(this._location.bucket,t);return new v_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw F5(t)}}function t$(n,t,e){return SL.apply(this,arguments)}function SL(){return SL=(0,Me.Z)(function*(n,t,e){const r=yield n$(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield t$(n,t,r.nextPageToken))}),SL.apply(this,arguments)}function n$(n,t){null!=t&&"number"==typeof t.maxResults&&bL("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=cne(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Ed)}function Mne(n){n._throwIfRoot("getDownloadURL");const t=function lne(n,t,e){const r=yf(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Wu(r,"GET",function ane(n,t){return function e(i,r){const o=$5(n,r,t);return Yu(null!==o),function ine(n,t,e,i){const r=CL(t);if(null===r||!dA(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(v=>{const T=n.fullPath;return yf("/b/"+c(n.bucket)+"/o/"+c(T),e,i)+B5({alt:"media",token:v})})[0]}(o,r,n.host,n._protocol)}}(n,e),c);return h.errorHandler=HC(t),h}(n.storage,n._location,UC());return n.storage.makeRequestWithTokens(t,Ed).then(e=>{if(null===e)throw function kte(){return new Dr(cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function i$(n,t){const e=function Xte(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Rs(n._location.bucket,e);return new v_(n.storage,i)}function r$(n,t){if(n instanceof TL){const e=n;if(null==e._bucket)throw function Ste(){return new Dr(cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+M5+"' property when initializing the app?")}();const i=new v_(e,e._bucket);return null!=t?r$(i,t):i}return void 0!==t?i$(n,t):n}function Nne(n,t){if(t&&function One(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof TL)return function Pne(n,t){return new v_(n,t)}(n,t);throw Ib("To use ref(service, url), the first argument must be a Storage instance.")}return r$(n,t)}function o$(n,t){const e=t?.[M5];return null==e?null:Rs.makeFromBucketSpec(e,n)}class TL{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=A5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Rs.makeFromBucketSpec(r,this._host):o$(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Rs.makeFromBucketSpec(this._url,t):o$(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Me.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Me.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new v_(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new Mte(N5());{const c=function jte(n,t,e,i,r,o,c=!0){const h=B5(n.urlParams),m=n.url+h,v=Object.assign({},n.headers);return function Ute(n,t){t&&(n["X-Firebase-GMPID"]=t)}(v,t),function Bte(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(v,e),function Vte(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(v,o),function Hte(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(v,i),new Lte(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,Me.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const s$="@firebase/storage";function l$(n,t){return Nne(n=(0,H.m9)(n),t)}function Gne(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new TL(e,i,r,t,Lr.SDK_VERSION)}!function qne(){(0,Lr._registerComponent)(new Dc.wA("storage",Gne,"PUBLIC").setMultipleInstances(!0)),(0,Lr.registerVersion)(s$,"0.11.2",""),(0,Lr.registerVersion)(s$,"0.11.2","esm2017")}();class pA{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class u${constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new pA(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new pA(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?c=>e(new pA(c,this,this._ref)):{next:e.next?c=>e.next(new pA(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class h${constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new bf(t,this._service))}get items(){return this._delegate.items.map(t=>new bf(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class bf{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function $ne(n,t){return i$(n,t)}(this._delegate,t);return new bf(e,this.storage)}get root(){return new bf(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new bf(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new u$(function Lne(n,t,e){return function Dne(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new J5(n,new qu(t),e)}(n=(0,H.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Rc.RAW,i){this._throwIfRoot("putString");const r=xL(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new u$(new J5(this._delegate,new qu(r.data,!0),o),this)}listAll(){return function Hne(n){return function Tne(n){const t={prefixes:[],items:[]};return t$(n,t).then(()=>t)}(n=(0,H.m9)(n))}(this._delegate).then(t=>new h$(t,this.storage))}list(t){return function Une(n,t){return n$(n=(0,H.m9)(n),t)}(this._delegate,t||void 0).then(e=>new h$(e,this.storage))}getMetadata(){return function Bne(n){return function kne(n){n._throwIfRoot("getMetadata");const t=W5(n.storage,n._location,UC());return n.storage.makeRequestWithTokens(t,Ed)}(n=(0,H.m9)(n))}(this._delegate)}updateMetadata(t){return function Vne(n,t){return function Ane(n,t){n._throwIfRoot("updateMetadata");const e=function dne(n,t,e,i){const o=yf(t.fullServerUrl(),n.host,n._protocol),h=EL(e,i),v=n.maxOperationRetryTime,w=new Wu(o,"PATCH",fA(n,i),v);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=HC(t),w}(n.storage,n._location,t,UC());return n.storage.makeRequestWithTokens(e,Ed)}(n=(0,H.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function jne(n){return Mne(n=(0,H.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function zne(n){return function Rne(n){n._throwIfRoot("deleteObject");const t=function une(n,t){const i=yf(t.fullServerUrl(),n.host,n._protocol),h=new Wu(i,"DELETE",function c(m,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=HC(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Ed)}(n=(0,H.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw F5(t)}}class f${constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(m$(t))throw Ib("ref() expected a child path but got a URL, use refFromURL instead.");return new bf(l$(this._delegate,t),this)}refFromURL(t){if(!m$(t))throw Ib("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Rs.makeFromUrl(t,this._delegate.host)}catch{throw Ib("refFromUrl() expected a valid full URL but got an invalid one.")}return new bf(l$(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function d$(n,t,e,i={}){!function Fne(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,H.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function m$(n){return/^[A-Za-z]+:\/\//.test(n)}function Kne(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new f$(e,i)}function p$(n){const t=function Xne(n){return new fi.y(t=>{const e=c=>t.next(c);e(n.snapshot);const o=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){o()}}).pipe(zp(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ht.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function gA(n){return{getDownloadURL:()=>(0,pt.of)(void 0).pipe(qn.fc,(0,mi.w)(()=>n.getDownloadURL()),qn.iC),getMetadata:()=>(0,pt.of)(void 0).pipe(qn.fc,(0,mi.w)(()=>n.getMetadata()),qn.iC),delete:()=>(0,Hn.D)(n.delete()),child:t=>gA(n.child(t)),updateMetadata:t=>(0,Hn.D)(n.updateMetadata(t)),put:(t,e)=>p$(n.put(t,e)),putString:(t,e,i)=>p$(n.putString(t,e,i)),list:t=>(0,Hn.D)(n.list(t)),listAll:()=>(0,Hn.D)(n.listAll())}}!function Qne(n){const t={TaskState:_a,TaskEvent:gne,StringFormat:Rc,Storage:f$,Reference:bf};n.INTERNAL.registerComponent(new Dc.wA("storage-compat",Kne,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(gte);const Jne=new l.OlP("angularfire2.storageBucket"),eie=new l.OlP("angularfire2.storage.maxUploadRetryTime"),tie=new l.OlP("angularfire2.storage.maxOperationRetryTime"),nie=new l.OlP("angularfire2.storage.use-emulator");let iie=(()=>{class n{constructor(e,i,r,o,c,h,m,v,w,T){const O=(0,zr.on)(e,c,i);this.storage=(0,zr.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const B=c.runOutsideAngular(()=>O.storage(r||void 0)),G=w;return G&&B.useEmulator(...G),m&&B.setMaxUploadRetryTime(m),v&&B.setMaxOperationRetryTime(v),B},[m,v])}ref(e){return gA(this.storage.ref(e))}refFromURL(e){return gA(this.storage.refFromURL(e))}upload(e,i,r){return gA(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zr.Dh),l.LFG(zr.xv,8),l.LFG(Jne,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qn.HU),l.LFG(eie,8),l.LFG(tie,8),l.LFG(nie,8),l.LFG(AC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),oie=(()=>{class n{constructor(){Ok.Z.registerVersion("angularfire",qn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iie],imports:[rie]}),n})();const g$="@firebase/database";let kL="";function v$(n){kL=n}class cie{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,H.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,H.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class lie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,H.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const y$=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new cie(t)}}catch{}return new lie},y_=y$("localStorage"),AL=y$("sessionStorage"),kb=new ha.Yd("@firebase/database"),b$=function(){let n=1;return function(){return n++}}(),w$=function(n){const t=(0,H.dS)(n),e=new H.gQ;e.update(t);const i=e.digest();return H.US.encodeByteArray(i)},jC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=jC.apply(null,i):t+="object"==typeof i?(0,H.Wl)(i):i,t+=" "}return t};let b_=null,x$=!0;const C$=function(n,t){(0,H.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(kb.logLevel=ha.in.VERBOSE,b_=kb.log.bind(kb),t&&AL.set("logging_enabled",!0)):"function"==typeof n?b_=n:(b_=null,AL.remove("logging_enabled"))},Fo=function(...n){if(!0===x$&&(x$=!1,null===b_&&!0===AL.get("logging_enabled")&&C$(!0)),b_){const t=jC.apply(null,n);b_(t)}},zC=function(n){return function(...t){Fo(n,...t)}},ML=function(...n){const t="FIREBASE INTERNAL ERROR: "+jC(...n);kb.error(t)},Zu=function(...n){const t=`FIREBASE FATAL ERROR: ${jC(...n)}`;throw kb.error(t),new Error(t)},Os=function(...n){const t="FIREBASE WARNING: "+jC(...n);kb.warn(t)},_A=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},np="[MIN_NAME]",wf="[MAX_NAME]",w_=function(n,t){if(n===t)return 0;if(n===np||t===wf)return-1;if(t===np||n===wf)return 1;{const e=D$(n),i=D$(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},hie=function(n,t){return n===t?0:n<t?-1:1},$C=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Wl)(t))},RL=function(n){if("object"!=typeof n||null===n)return(0,H.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,H.Wl)(t[i]),e+=":",e+=RL(n[t[i]]);return e+="}",e},E$=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Lo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const I$=function(n){(0,H.hu)(!_A(n),"Invalid JSON number");const i=1023;let r,o,c,h,m;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const v=[];for(m=52;m;m-=1)v.push(c%2?1:0),c=Math.floor(c/2);for(m=11;m;m-=1)v.push(o%2?1:0),o=Math.floor(o/2);v.push(r?1:0),v.reverse();const w=v.join("");let T="";for(m=0;m<64;m+=8){let O=parseInt(w.substr(m,8),2).toString(16);1===O.length&&(O="0"+O),T+=O}return T.toLowerCase()},gie=new RegExp("^-?(0*)\\d{1,10}$"),D$=function(n){if(gie.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ab=function(n){try{n()}catch(t){setTimeout(()=>{throw Os("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},GC=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class bie{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Os(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wie{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Fo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Os(t)}}let qC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const M$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,P$="websocket",N$="long_polling";class PL{constructor(t,e,i,r,o=!1,c="",h=!1,m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=y_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&y_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function F$(n,t,e){let i;if((0,H.hu)("string"==typeof t,"typeof type must == string"),(0,H.hu)("object"==typeof e,"typeof params must == object"),t===P$)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==N$)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function xie(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Lo(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class Cie{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,H.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,H.p$)(this.counters_)}}const NL={},FL={};function LL(n){const t=n.toString();return NL[t]||(NL[t]=new Cie),NL[t]}class Iie{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ab(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ip{constructor(t,e,i,r,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zC(t),this.stats_=LL(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),F$(e,N$,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Iie(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new BL((...o)=>{const[c,h,m,v,w]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=m;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&M$.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ip.forceAllow_=!0}static forceDisallow(){ip.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!ip.forceAllow_&&(ip.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,H.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,H.h$)(e),r=E$(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,H.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class BL{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=b$(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=BL.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Fo("frame writing exception"),h.stack&&Fo(h.stack),Fo(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Fo("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,H.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Fo("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let yA=null;typeof MozWebSocket<"u"?yA=MozWebSocket:typeof WebSocket<"u"&&(yA=WebSocket);let Mb=(()=>{class n{constructor(e,i,r,o,c,h,m){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zC(this.connId),this.stats_=LL(i),this.connURL=n.connectionURL_(i,h,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const h={v:"5"};return!(0,H.Yr)()&&typeof location<"u"&&location.hostname&&M$.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),c&&(h.p=c),F$(e,P$,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,y_.set("previous_websocket_failure",!0);try{let r;if((0,H.Yr)()){r={headers:{"User-Agent":`Firebase/5/${kL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new yA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==yA&&!n.forceDisallow_}static previouslyFailed(){return y_.isInMemoryStorage||!0===y_.get("previous_websocket_failure")}markConnectionHealthy(){y_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,H.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=E$(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),z$=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ip,Mb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Mb&&Mb.isAvailable();let r=i&&!Mb.previouslyFailed();if(e.webSocketOnly&&(i||Os("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mb];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class K${constructor(t,e,i,r,o,c,h,m,v,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=m,this.onKill_=v,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zC("c:"+this.id+":"),this.transportManager_=new z$(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=GC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=$C("t",t),i=$C("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=$C("t",t),i=$C("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=$C("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?ML("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ML("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Os("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),GC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):GC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(y_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Q${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class X${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,H.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,H.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class bA extends X${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bA}getInitialEvent(t){return(0,H.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ci{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ii(){return new ci("")}function Sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function rp(n){return n.pieces_.length-n.pieceNum_}function Mi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ci(n.pieces_,t)}function UL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function WC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function tG(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ci(t,0)}function lr(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ci)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ci(e,0)}function Tn(n){return n.pieceNum_>=n.pieces_.length}function va(n,t){const e=Sn(n),i=Sn(t);if(null===e)return t;if(e===i)return va(Mi(n),Mi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Wie(n,t){const e=WC(n,0),i=WC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=w_(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function HL(n,t){if(rp(n)!==rp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function El(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(rp(n)>rp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Yie{constructor(t,e){this.errorPrefix_=e,this.parts_=WC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);nG(this)}}function nG(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+x_(n))}function x_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jL extends X${constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jL}getInitialEvent(t){return(0,H.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const YC=1e3;let xA,C_=(()=>{class n extends Q${constructor(e,i,r,o,c,h,m,v){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=zC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=YC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jL.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&bA.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,H.Wl)(c)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new H.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(h).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,m=>{const v=m.d,w=m.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",m),"ok"!==w&&this.removeListen_(r,o),e.onComplete&&e.onComplete(w,v))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,H.r3)(e,"w")){const r=(0,H.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Os(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,H.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,H.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,H.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):ML("Unrecognized action received from server: "+(0,H.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=YC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=YC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=YC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Me.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let m=!1,v=null;const w=function(){v?v.close():(m=!0,o())};e.realtime_={close:w,sendRequest:function(B){(0,H.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(B)}};const O=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,G]=yield Promise.all([e.authTokenProvider_.getToken(O),e.appCheckTokenProvider_.getToken(O)]);m?Fo("getToken() completed but was canceled"):(Fo("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=G&&G.token,v=new K$(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,X=>{Os(X+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(B){e.log_("Failed to get token: "+B),m||(e.repoInfo_.nodeAdmin&&Os(B),w())}}})()}interrupt(e){Fo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=YC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>RL(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new ci(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Fo("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Fo("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+kL.replace(/\./g,"-")]=1,(0,H.uI)()?e["framework.cordova"]=1:(0,H.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bA.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new kn(t,e)}}class wA{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new kn(np,t),r=new kn(np,e);return 0!==this.compare(i,r)}minPost(){return kn.MIN}}class oG extends wA{static get __EMPTY_NODE(){return xA}static set __EMPTY_NODE(t){xA=t}compare(t,e){return w_(t.name,e.name)}isDefinedOn(t){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return kn.MIN}maxPost(){return new kn(wf,xA)}makePost(t,e){return(0,H.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kn(t,xA)}toString(){return".key"}}const Ku=new oG;class CA{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let $L,Id=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??ja.EMPTY_NODE,this.right=c??ja.EMPTY_NODE}copy(e,i,r,o,c){return new n(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ja.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return ja.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ja{constructor(t,e=ja.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ja(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Id.BLACK,null,null))}remove(t){return new ja(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Id.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new CA(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new CA(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new CA(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new CA(this.root_,null,this.comparator_,!0,t)}}function nre(n,t){return w_(n.name,t.name)}function zL(n,t){return w_(n,t)}ja.EMPTY_NODE=new class tre{copy(t,e,i,r,o){return this}insert(t,e,i){return new Id(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sG=function(n){return"number"==typeof n?"number:"+I$(n):"string:"+n},aG=function(n){if(n.isLeafNode()){const t=n.val();(0,H.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,H.r3)(t,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===$L||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===$L||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let cG,lG,dG,Rb=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),aG(this.priorityNode_)}static set __childrenNodeConstructor(e){cG=e}static get __childrenNodeConstructor(){return cG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tn(e)?this:".priority"===Sn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Sn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===rp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sG(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?I$(this.value_):this.value_,this.lazyHash_=w$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(o>=0,"Unknown leaf type: "+i),(0,H.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Li=new class sre extends wA{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?w_(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return kn.MIN}maxPost(){return new kn(wf,new Rb("[PRIORITY-POST]",dG))}makePost(t,e){const i=lG(t);return new kn(e,new Rb("[PRIORITY-POST]",i))}toString(){return".priority"}},are=Math.log(2);class cre{constructor(t){this.count=parseInt(Math.log(t+1)/are,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const EA=function(n,t,e,i){n.sort(t);const r=function(m,v){const w=v-m;let T,O;if(0===w)return null;if(1===w)return T=n[m],O=e?e(T):T,new Id(O,T.node,Id.BLACK,null,null);{const B=parseInt(w/2,10)+m,G=r(m,B),X=r(B+1,v);return T=n[B],O=e?e(T):T,new Id(O,T.node,Id.BLACK,G,X)}},h=function(m){let v=null,w=null,T=n.length;const O=function(G,X){const re=T-G,He=T;T-=G;const Je=r(re+1,He),Xe=n[re],st=e?e(Xe):Xe;B(new Id(st,Xe.node,X,null,Je))},B=function(G){v?(v.left=G,v=G):(w=G,v=G)};for(let G=0;G<m.count;++G){const X=m.nextBitIsOne(),re=Math.pow(2,m.count-(G+1));X?O(re,Id.BLACK):(O(re,Id.BLACK),O(re,Id.RED))}return w}(new cre(n.length));return new ja(i||t,h)};let GL;const Ob={};class xf{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,H.hu)(Ob&&Li,"ChildrenNode.ts has not been loaded"),GL=GL||new xf({".priority":Ob},{".priority":Li}),GL}get(t){const e=(0,H.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ja?e:null}hasIndex(t){return(0,H.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,H.hu)(t!==Ku,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(kn.Wrap);let h,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();h=r?EA(i,t.getCompare()):Ob;const m=t.toString(),v=Object.assign({},this.indexSet_);v[m]=t;const w=Object.assign({},this.indexes_);return w[m]=h,new xf(w,v)}addToIndexes(t,e){const i=(0,H.UI)(this.indexes_,(r,o)=>{const c=(0,H.DV)(this.indexSet_,o);if((0,H.hu)(c,"Missing index implementation for "+o),r===Ob){if(c.isDefinedOn(t.node)){const h=[],m=e.getIterator(kn.Wrap);let v=m.getNext();for(;v;)v.name!==t.name&&h.push(v),v=m.getNext();return h.push(t),EA(h,c.getCompare())}return Ob}{const h=e.get(t.name);let m=r;return h&&(m=m.remove(new kn(t.name,h))),m.insert(t,t.node)}});return new xf(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,H.UI)(this.indexes_,r=>{if(r===Ob)return r;{const o=e.get(t.name);return o?r.remove(new kn(t.name,o)):r}});return new xf(i,this.indexSet_)}}let ZC,yn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&aG(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ZC||(ZC=new n(new ja(zL),null,xf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ZC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?ZC:i}}getChild(e){const i=Sn(e);return null===i?this:this.getImmediateChild(i).getChild(Mi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new kn(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?ZC:this.priorityNode_;return new n(o,h,c)}}updateChild(e,i){const r=Sn(e);if(null===r)return i;{(0,H.hu)(".priority"!==Sn(e)||1===rp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Mi(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(Li,(h,m)=>{i[h]=m.val(e),r++,c&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*r){const h=[];for(const m in i)h[m]=i[m];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sG(this.getPriority().val())+":"),this.forEachChild(Li,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":w$(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new kn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new kn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new kn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,kn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,kn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===KC?-1:0}withIndex(e){if(e===Ku||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ku||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Li),o=i.getIterator(Li);let c=r.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=o.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(e){return e===Ku?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const KC=new class lre extends yn{constructor(){super(new ja(zL),yn.EMPTY_NODE,xf.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return yn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(kn,{MIN:{value:new kn(np,yn.EMPTY_NODE)},MAX:{value:new kn(wf,KC)}}),oG.__EMPTY_NODE=yn.EMPTY_NODE,Rb.__childrenNodeConstructor=yn,function ire(n){$L=n}(KC),function ore(n){dG=n}(KC);const dre=!0;function Sr(n,t=null){if(null===n)return yn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,H.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Rb(n,Sr(t));if(n instanceof Array||!dre){let e=yn.EMPTY_NODE;return Lo(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const o=Sr(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Sr(t))}{const e=[];let i=!1;if(Lo(n,(c,h)=>{if("."!==c.substring(0,1)){const m=Sr(h);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new kn(c,m)))}}),0===e.length)return yn.EMPTY_NODE;const o=EA(e,nre,c=>c.name,zL);if(i){const c=EA(e,Li.getCompare());return new yn(o,Sr(t),new xf({".priority":c},{".priority":Li}))}return new yn(o,Sr(t),xf.Default)}}!function rre(n){lG=n}(Sr);class qL extends wA{constructor(t){super(),this.indexPath_=t,(0,H.hu)(!Tn(t)&&".priority"!==Sn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?w_(t.name,e.name):o}makePost(t,e){const i=Sr(t),r=yn.EMPTY_NODE.updateChild(this.indexPath_,i);return new kn(e,r)}maxPost(){const t=yn.EMPTY_NODE.updateChild(this.indexPath_,KC);return new kn(wf,t)}toString(){return WC(this.indexPath_,0).join("/")}}const WL=new class ure extends wA{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?w_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return kn.MIN}maxPost(){return kn.MAX}makePost(t,e){const i=Sr(t);return new kn(e,i)}toString(){return".value"}};function uG(n){return{type:"value",snapshotNode:n}}function Pb(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function QC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function XC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class YL{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,H.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(QC(e,h)):(0,H.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Pb(e,i)):c.trackChildChange(XC(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Li,(r,o)=>{e.hasChild(r)||i.trackChildChange(QC(r,o))}),e.isLeafNode()||e.forEachChild(Li,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(XC(r,o,c))}else i.trackChildChange(Pb(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?yn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class JC{constructor(t){this.indexedFilter_=new YL(t.getIndex()),this.index_=t.getIndex(),this.startPost_=JC.getStartPost_(t),this.endPost_=JC.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,c){return this.matches(new kn(e,i))||(i=yn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=yn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(yn.EMPTY_NODE);const o=this;return e.forEachChild(Li,(c,h)=>{o.matches(new kn(c,h))||(r=r.updateImmediateChild(c,yn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class fre{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new JC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new kn(e,i))||(i=yn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=yn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=yn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),c++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(yn.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const T=this.index_.getCompare();c=(O,B)=>T(B,O)}else c=this.index_.getCompare();const h=t;(0,H.hu)(h.numChildren()===this.limit_,"");const m=new kn(e,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(m);if(h.hasChild(e)){const T=h.getImmediateChild(e);let O=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=O&&(O.name===e||h.hasChild(O.name));)O=r.getChildAfterChild(this.index_,O,this.reverse_);const B=null==O?1:c(O,m);if(w&&!i.isEmpty()&&B>=0)return o?.trackChildChange(XC(e,i,T)),h.updateImmediateChild(e,i);{o?.trackChildChange(QC(e,T));const X=h.updateImmediateChild(e,yn.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(o?.trackChildChange(Pb(O.name,O.node)),X.updateImmediateChild(O.name,O.node)):X}}return i.isEmpty()?t:w&&c(v,m)>=0?(null!=o&&(o.trackChildChange(QC(v.name,v.node)),o.trackChildChange(Pb(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(v.name,yn.EMPTY_NODE)):t}}class IA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Li}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:np}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Li}copy(){const t=new IA;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ZL(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function KL(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function DA(n,t){const e=n.copy();return e.index_=t,e}function hG(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Li?e="$priority":n.index_===WL?e="$value":n.index_===Ku?e="$key":((0,H.hu)(n.index_ instanceof qL,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,H.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,H.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,H.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,H.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,H.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function fG(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Li&&(t.i=n.index_.toString()),t}class SA extends Q${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=zC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,H.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=SA.getListenId_(t,i),h={};this.listens_[c]=h;const m=hG(t._queryParams);this.restRequest_(o+".json",m,(v,w)=>{let T=w;if(404===v&&(T=null,v=null),null===v&&this.onDataUpdate_(o,T,!1,i),(0,H.DV)(this.listens_,c)===h){let O;O=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(O,null)}})}unlisten(t,e){const i=SA.getListenId_(t,e);delete this.listens_[i]}get(t){const e=hG(t._queryParams),i=t._path.toString(),r=new H.BH;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,H.xO)(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,H.cI)(h.responseText)}catch{Os("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,m)}else 401!==h.status&&404!==h.status&&Os("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class yre{constructor(){this.rootNode_=yn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function TA(){return{value:null,children:new Map}}function Nb(n,t,e){if(Tn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Sn(t);n.children.has(i)||n.children.set(i,TA()),Nb(n.children.get(i),t=Mi(t),e)}}function QL(n,t){if(Tn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Li,(i,r)=>{Nb(n,new ci(i),r)}),QL(n,t)}}if(n.children.size>0){const e=Sn(t);return t=Mi(t),n.children.has(e)&&QL(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function XL(n,t,e){null!==n.value?e(t,n.value):function bre(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{XL(r,new ci(t.toString()+"/"+i),e)})}class wre{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Lo(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Ere{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new wre(t);const i=1e4+2e4*Math.random();GC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Lo(t,(r,o)=>{o>0&&(0,H.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),GC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qu=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Qu||{});function tB(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class kA{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Qu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Tn(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ci(t));return new kA(ii(),e,this.revert)}}return(0,H.hu)(Sn(this.path)===t,"operationForChild called for unrelated child."),new kA(Mi(this.path),this.affectedTree,this.revert)}}class eE{constructor(t,e){this.source=t,this.path=e,this.type=Qu.LISTEN_COMPLETE}operationForChild(t){return Tn(this.path)?new eE(this.source,ii()):new eE(this.source,Mi(this.path))}}class E_{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Qu.OVERWRITE}operationForChild(t){return Tn(this.path)?new E_(this.source,ii(),this.snap.getImmediateChild(t)):new E_(this.source,Mi(this.path),this.snap)}}class Fb{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Qu.MERGE}operationForChild(t){if(Tn(this.path)){const e=this.children.subtree(new ci(t));return e.isEmpty()?null:e.value?new E_(this.source,ii(),e.value):new Fb(this.source,ii(),e)}return(0,H.hu)(Sn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fb(this.source,Mi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class op{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Sn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Ire{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function tE(n,t,e,i,r,o){const c=i.filter(h=>h.type===e);c.sort((h,m)=>function Tre(n,t,e){if(null==t.childName||null==e.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new kn(t.childName,t.snapshotNode),r=new kn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,m)),c.forEach(h=>{const m=function Sre(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,o);r.forEach(v=>{v.respondsTo(h.type)&&t.push(v.createEvent(m,n.query_))})})}function AA(n,t){return{eventCache:n,serverCache:t}}function nE(n,t,e,i){return AA(new op(t,e,i),n.serverCache)}function pG(n,t,e,i){return AA(n.eventCache,new op(t,e,i))}function MA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function I_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let nB;class Bi{constructor(t,e=(()=>(nB||(nB=new ja(hie)),nB))()){this.value=t,this.children=e}static fromObject(t){let e=new Bi(null);return Lo(t,(i,r)=>{e=e.set(new ci(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ii(),value:this.value};if(Tn(t))return null;{const i=Sn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Mi(t),e);return null!=o?{path:lr(new ci(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tn(t))return this;{const e=Sn(t),i=this.children.get(e);return null!==i?i.subtree(Mi(t)):new Bi(null)}}set(t,e){if(Tn(t))return new Bi(e,this.children);{const i=Sn(t),o=(this.children.get(i)||new Bi(null)).set(Mi(t),e),c=this.children.insert(i,o);return new Bi(this.value,c)}}remove(t){if(Tn(t))return this.children.isEmpty()?new Bi(null):new Bi(null,this.children);{const e=Sn(t),i=this.children.get(e);if(i){const r=i.remove(Mi(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Bi(null):new Bi(this.value,o)}return this}}get(t){if(Tn(t))return this.value;{const e=Sn(t),i=this.children.get(e);return i?i.get(Mi(t)):null}}setTree(t,e){if(Tn(t))return e;{const i=Sn(t),o=(this.children.get(i)||new Bi(null)).setTree(Mi(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Bi(this.value,c)}}fold(t){return this.fold_(ii(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(lr(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,ii(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Tn(t))return null;{const o=Sn(t),c=this.children.get(o);return c?c.findOnPath_(Mi(t),lr(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ii(),e)}foreachOnPath_(t,e,i){if(Tn(t))return this;{this.value&&i(e,this.value);const r=Sn(t),o=this.children.get(r);return o?o.foreachOnPath_(Mi(t),lr(e,r),i):new Bi(null)}}foreach(t){this.foreach_(ii(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(lr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Dd{constructor(t){this.writeTree_=t}static empty(){return new Dd(new Bi(null))}}function iE(n,t,e){if(Tn(t))return new Dd(new Bi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=va(r,t);return o=o.updateChild(c,e),new Dd(n.writeTree_.set(r,o))}{const r=new Bi(e),o=n.writeTree_.setTree(t,r);return new Dd(o)}}}function iB(n,t,e){let i=n;return Lo(e,(r,o)=>{i=iE(i,lr(t,r),o)}),i}function gG(n,t){if(Tn(t))return Dd.empty();{const e=n.writeTree_.setTree(t,new Bi(null));return new Dd(e)}}function rB(n,t){return null!=D_(n,t)}function D_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(va(e.path,t)):null}function _G(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Li,(i,r)=>{t.push(new kn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new kn(i,r.value))}),t}function sp(n,t){if(Tn(t))return n;{const e=D_(n,t);return new Dd(null!=e?new Bi(e):n.writeTree_.subtree(t))}}function oB(n){return n.writeTree_.isEmpty()}function Lb(n,t){return vG(ii(),n.writeTree_,t)}function vG(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,H.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=vG(lr(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(lr(n,".priority"),i)),e}}function RA(n,t){return CG(t,n)}function Pre(n,t){if(n.snap)return El(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&El(lr(n.path,e),t))return!0;return!1}function Fre(n){return n.visible}function yG(n,t,e){let i=Dd.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let h;if(o.snap)El(e,c)?(h=va(e,c),i=iE(i,h,o.snap)):El(c,e)&&(h=va(c,e),i=iE(i,ii(),o.snap.getChild(h)));else{if(!o.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(El(e,c))h=va(e,c),i=iB(i,h,o.children);else if(El(c,e))if(h=va(c,e),Tn(h))i=iB(i,ii(),o.children);else{const m=(0,H.DV)(o.children,Sn(h));if(m){const v=m.getChild(Mi(h));i=iE(i,ii(),v)}}}}}return i}function bG(n,t,e,i,r){if(i||r){const o=sp(n.visibleWrites,t);return!r&&oB(o)?e:r||null!=e||rB(o,ii())?Lb(yG(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(El(v.path,t)||El(t,v.path))},t),e||yn.EMPTY_NODE):null}{const o=D_(n.visibleWrites,t);if(null!=o)return o;{const c=sp(n.visibleWrites,t);return oB(c)?e:null!=e||rB(c,ii())?Lb(c,e||yn.EMPTY_NODE):null}}}function OA(n,t,e,i){return bG(n.writeTree,n.treePath,t,e,i)}function sB(n,t){return function Lre(n,t,e){let i=yn.EMPTY_NODE;const r=D_(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Li,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=sp(n.visibleWrites,t);return e.forEachChild(Li,(c,h)=>{const m=Lb(sp(o,new ci(c)),h);i=i.updateImmediateChild(c,m)}),_G(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return _G(sp(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function wG(n,t,e,i){return function Bre(n,t,e,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=lr(t,e);if(rB(n.visibleWrites,o))return null;{const c=sp(n.visibleWrites,o);return oB(c)?r.getChild(e):Lb(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function PA(n,t){return function Ure(n,t){return D_(n.visibleWrites,t)}(n.writeTree,lr(n.treePath,t))}function aB(n,t,e){return function Vre(n,t,e,i){const r=lr(t,e),o=D_(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Lb(sp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function xG(n,t){return CG(lr(n.treePath,t),n.writeTree)}function CG(n,t){return{treePath:n,writeTree:t}}class $re{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,H.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,XC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,QC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Pb(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,H.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,XC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const EG=new class Gre{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class cB{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new op(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return aB(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:I_(this.viewCache_),o=function zre(n,t,e,i,r,o){return function Hre(n,t,e,i,r,o,c){let h;const m=sp(n.visibleWrites,t),v=D_(m,ii());if(null!=v)h=v;else{if(null==e)return[];h=Lb(m,e)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const w=[],T=c.getCompare(),O=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let B=O.getNext();for(;B&&w.length<r;)0!==T(B,i)&&w.push(B),B=O.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function IG(n,t,e,i,r,o){const c=t.eventCache;if(null!=PA(i,e))return t;{let h,m;if(Tn(e))if((0,H.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const v=I_(t),T=sB(i,v instanceof yn?v:yn.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),T,o)}else{const v=OA(i,I_(t));h=n.filter.updateFullNode(t.eventCache.getNode(),v,o)}else{const v=Sn(e);if(".priority"===v){(0,H.hu)(1===rp(e),"Can't have a priority with additional path components");const w=c.getNode();m=t.serverCache.getNode();const T=wG(i,e,w,m);h=null!=T?n.filter.updatePriority(w,T):c.getNode()}else{const w=Mi(e);let T;if(c.isCompleteForChild(v)){m=t.serverCache.getNode();const O=wG(i,e,c.getNode(),m);T=null!=O?c.getNode().getImmediateChild(v).updateChild(w,O):c.getNode().getImmediateChild(v)}else T=aB(i,v,t.serverCache);h=null!=T?n.filter.updateChild(c.getNode(),v,T,w,r,o):c.getNode()}}return nE(t,h,c.isFullyInitialized()||Tn(e),n.filter.filtersNodes())}}function NA(n,t,e,i,r,o,c,h){const m=t.serverCache;let v;const w=c?n.filter:n.filter.getIndexedFilter();if(Tn(e))v=w.updateFullNode(m.getNode(),i,null);else if(w.filtersNodes()&&!m.isFiltered()){const B=m.getNode().updateChild(e,i);v=w.updateFullNode(m.getNode(),B,null)}else{const B=Sn(e);if(!m.isCompleteForPath(e)&&rp(e)>1)return t;const G=Mi(e),re=m.getNode().getImmediateChild(B).updateChild(G,i);v=".priority"===B?w.updatePriority(m.getNode(),re):w.updateChild(m.getNode(),B,re,G,EG,null)}const T=pG(t,v,m.isFullyInitialized()||Tn(e),w.filtersNodes());return IG(n,T,e,r,new cB(r,T,o),h)}function lB(n,t,e,i,r,o,c){const h=t.eventCache;let m,v;const w=new cB(r,t,o);if(Tn(e))v=n.filter.updateFullNode(t.eventCache.getNode(),i,c),m=nE(t,v,!0,n.filter.filtersNodes());else{const T=Sn(e);if(".priority"===T)v=n.filter.updatePriority(t.eventCache.getNode(),i),m=nE(t,v,h.isFullyInitialized(),h.isFiltered());else{const O=Mi(e),B=h.getNode().getImmediateChild(T);let G;if(Tn(O))G=i;else{const X=w.getCompleteChild(T);G=null!=X?".priority"===UL(O)&&X.getChild(tG(O)).isEmpty()?X:X.updateChild(O,i):yn.EMPTY_NODE}m=B.equals(G)?t:nE(t,n.filter.updateChild(h.getNode(),T,G,O,w,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function DG(n,t){return n.eventCache.isCompleteForChild(t)}function SG(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function dB(n,t,e,i,r,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v,m=t;v=Tn(e)?i:new Bi(null).setTree(e,i);const w=t.serverCache.getNode();return v.children.inorderTraversal((T,O)=>{if(w.hasChild(T)){const G=SG(0,t.serverCache.getNode().getImmediateChild(T),O);m=NA(n,m,new ci(T),G,r,o,c,h)}}),v.children.inorderTraversal((T,O)=>{const B=!t.serverCache.isCompleteForChild(T)&&null===O.value;if(!w.hasChild(T)&&!B){const X=SG(0,t.serverCache.getNode().getImmediateChild(T),O);m=NA(n,m,new ci(T),X,r,o,c,h)}}),m}class eoe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new YL(i.getIndex()),o=function mre(n){return n.loadsAllData()?new YL(n.getIndex()):n.hasLimit()?new fre(n):new JC(n)}(i);this.processor_=function qre(n){return{filter:n}}(o);const c=e.serverCache,h=e.eventCache,m=r.updateFullNode(yn.EMPTY_NODE,c.getNode(),null),v=o.updateFullNode(yn.EMPTY_NODE,h.getNode(),null),w=new op(m,c.isFullyInitialized(),r.filtersNodes()),T=new op(v,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=AA(T,w),this.eventGenerator_=new Ire(this.query_)}get query(){return this.query_}}function ioe(n,t){const e=I_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Tn(t)&&!e.getImmediateChild(Sn(t)).isEmpty())?e.getChild(t):null}function TG(n){return 0===n.eventRegistrations_.length}function kG(n,t,e){const i=[];if(e){(0,H.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function AG(n,t,e,i){t.type===Qu.MERGE&&null!==t.source.queryId&&((0,H.hu)(I_(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(MA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function Yre(n,t,e,i,r){const o=new $re;let c,h;if(e.type===Qu.OVERWRITE){const v=e;v.source.fromUser?c=lB(n,t,v.path,v.snap,i,r,o):((0,H.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||t.serverCache.isFiltered()&&!Tn(v.path),c=NA(n,t,v.path,v.snap,i,r,h,o))}else if(e.type===Qu.MERGE){const v=e;v.source.fromUser?c=function Kre(n,t,e,i,r,o,c){let h=t;return i.foreach((m,v)=>{const w=lr(e,m);DG(t,Sn(w))&&(h=lB(n,h,w,v,r,o,c))}),i.foreach((m,v)=>{const w=lr(e,m);DG(t,Sn(w))||(h=lB(n,h,w,v,r,o,c))}),h}(n,t,v.path,v.children,i,r,o):((0,H.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||t.serverCache.isFiltered(),c=dB(n,t,v.path,v.children,i,r,h,o))}else if(e.type===Qu.ACK_USER_WRITE){const v=e;c=v.revert?function Jre(n,t,e,i,r,o){let c;if(null!=PA(i,e))return t;{const h=new cB(i,t,r),m=t.eventCache.getNode();let v;if(Tn(e)||".priority"===Sn(e)){let w;if(t.serverCache.isFullyInitialized())w=OA(i,I_(t));else{const T=t.serverCache.getNode();(0,H.hu)(T instanceof yn,"serverChildren would be complete if leaf node"),w=sB(i,T)}v=n.filter.updateFullNode(m,w,o)}else{const w=Sn(e);let T=aB(i,w,t.serverCache);null==T&&t.serverCache.isCompleteForChild(w)&&(T=m.getImmediateChild(w)),v=null!=T?n.filter.updateChild(m,w,T,Mi(e),h,o):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(m,w,yn.EMPTY_NODE,Mi(e),h,o):m,v.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=OA(i,I_(t)),c.isLeafNode()&&(v=n.filter.updateFullNode(v,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=PA(i,ii()),nE(t,v,c,n.filter.filtersNodes())}}(n,t,v.path,i,r,o):function Qre(n,t,e,i,r,o,c){if(null!=PA(r,e))return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(Tn(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return NA(n,t,e,m.getNode().getChild(e),r,o,h,c);if(Tn(e)){let v=new Bi(null);return m.getNode().forEachChild(Ku,(w,T)=>{v=v.set(new ci(w),T)}),dB(n,t,e,v,r,o,h,c)}return t}{let v=new Bi(null);return i.foreach((w,T)=>{const O=lr(e,w);m.isCompleteForPath(O)&&(v=v.set(w,m.getNode().getChild(O)))}),dB(n,t,e,v,r,o,h,c)}}(n,t,v.path,v.affectedTree,i,r,o)}else{if(e.type!==Qu.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+e.type);c=function Xre(n,t,e,i,r){const o=t.serverCache;return IG(n,pG(t,o.getNode(),o.isFullyInitialized()||Tn(e),o.isFiltered()),e,i,EG,r)}(n,t,e.path,i,o)}const m=o.getChanges();return function Zre(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=MA(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(uG(MA(t)))}}(t,c,m),{viewCache:c,changes:m}}(n.processor_,r,t,e,i);return function Wre(n,t){(0,H.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,H.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,MG(n,o.changes,o.viewCache.eventCache.getNode(),null)}function MG(n,t,e,i){return function Dre(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function hre(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),tE(n,r,"child_removed",t,i,e),tE(n,r,"child_added",t,i,e),tE(n,r,"child_moved",o,i,e),tE(n,r,"child_changed",t,i,e),tE(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let FA,BA;class RG{constructor(){this.views=new Map}}function uB(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,H.hu)(null!=o,"SyncTree gave us an op for an invalid query."),AG(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(AG(c,t,e,i));return o}}function OG(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let h=OA(e,r?i:null),m=!1;h?m=!0:i instanceof yn?(h=sB(e,i),m=!1):(h=yn.EMPTY_NODE,m=!1);const v=AA(new op(h,m,!1),new op(i,r,!1));return new eoe(t,v)}return c}function PG(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ap(n,t){let e=null;for(const i of n.views.values())e=e||ioe(i,t);return e}function NG(n,t){return t._queryParams.loadsAllData()?LA(n):n.views.get(t._queryIdentifier)}function FG(n,t){return null!=NG(n,t)}function cp(n){return null!=LA(n)}function LA(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let foe=1;class LG{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Bi(null),this.pendingWriteTree_=function jre(){return{visibleWrites:Dd.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hB(n,t,e,i,r){return function Are(n,t,e,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=iE(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Bb(n,new E_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function lp(n,t,e=!1){const i=function Rre(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Ore(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,H.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&Pre(h,i.path)?r=!1:El(i.path,h.path)&&(o=!0)),c--}return!!r&&(o?(function Nre(n){n.visibleWrites=yG(n.allWrites,Fre,ii()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=gG(n.visibleWrites,i.path):Lo(i.children,m=>{n.visibleWrites=gG(n.visibleWrites,lr(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let o=new Bi(null);return null!=i.snap?o=o.set(ii(),!0):Lo(i.children,c=>{o=o.set(new ci(c),!0)}),Bb(n,new kA(i.path,o,e))}return[]}function rE(n,t,e){return Bb(n,new E_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function VA(n,t,e,i,r=!1){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&("default"===t._queryIdentifier||FG(c,t))){const m=function doe(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const h=cp(n);if("default"===r)for(const[m,v]of n.views.entries())c=c.concat(kG(v,e,i)),TG(v)&&(n.views.delete(m),v.query._queryParams.loadsAllData()||o.push(v.query));else{const m=n.views.get(r);m&&(c=c.concat(kG(m,e,i)),TG(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||o.push(m.query)))}return h&&!cp(n)&&o.push(new(function aoe(){return(0,H.hu)(FA,"Reference.ts has not been loaded"),FA}())(t._repo,t._path)),{removed:o,events:c}}(c,t,e,i);(function coe(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const v=m.removed;if(h=m.events,!r){const w=-1!==v.findIndex(O=>O._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(o,(O,B)=>cp(B));if(w&&!T){const O=n.syncPointTree_.subtree(o);if(!O.isEmpty()){const B=function boe(n){return n.fold((t,e,i)=>{if(e&&cp(e))return[LA(e)];{let r=[];return e&&(r=PG(e)),Lo(i,(o,c)=>{r=r.concat(c)}),r}})}(O);for(let G=0;G<B.length;++G){const X=B[G],re=X.query,He=HG(n,X);n.listenProvider_.startListening(sE(re),oE(n,re),He.hashFn,He.onComplete)}}}!T&&v.length>0&&!i&&(w?n.listenProvider_.stopListening(sE(t),null):v.forEach(O=>{const B=n.queryToTagMap.get(HA(O));n.listenProvider_.stopListening(sE(O),B)}))}!function woe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=HA(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,v)}return h}function BG(n,t,e,i){const r=mB(n,i);if(null!=r){const o=pB(r),c=o.path,h=o.queryId,m=va(c,t);return gB(n,c,new E_(tB(h),m,e))}return[]}function fB(n,t,e,i=!1){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(O,B)=>{const G=va(O,r);o=o||ap(B,G),c=c||cp(B)});let m,h=n.syncPointTree_.get(r);h?(c=c||cp(h),o=o||ap(h,ii())):(h=new RG,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=o?m=!0:(m=!1,o=yn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,G)=>{const X=ap(G,ii());X&&(o=o.updateImmediateChild(B,X))}));const v=FG(h,t);if(!v&&!t._queryParams.loadsAllData()){const O=HA(t);(0,H.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const B=function xoe(){return foe++}();n.queryToTagMap.set(O,B),n.tagToQueryMap.set(B,O)}let T=function loe(n,t,e,i,r,o){const c=OG(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function roe(n,t){n.eventRegistrations_.push(t)}(c,e),function ooe(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Li,(o,c)=>{i.push(Pb(o,c))}),e.isFullyInitialized()&&i.push(uG(e.getNode())),MG(n,i,e.getNode(),t)}(c,e)}(h,t,e,RA(n.pendingWriteTree_,r),o,m);if(!v&&!c&&!i){const O=NG(h,t);T=T.concat(function Coe(n,t,e){const i=t._path,r=oE(n,t),o=HG(n,e),c=n.listenProvider_.startListening(sE(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,H.hu)(!cp(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((v,w,T)=>{if(!Tn(v)&&w&&cp(w))return[LA(w).query];{let O=[];return w&&(O=O.concat(PG(w).map(B=>B.query))),Lo(T,(B,G)=>{O=O.concat(G)}),O}});for(let v=0;v<m.length;++v){const w=m[v];n.listenProvider_.stopListening(sE(w),oE(n,w))}}return c}(n,t,O))}return T}function UA(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const v=ap(h,va(c,t));if(v)return v});return bG(r,t,o,e,!0)}function Bb(n,t){return VG(t,n.syncPointTree_,null,RA(n.pendingWriteTree_,ii()))}function VG(n,t,e,i){if(Tn(n.path))return UG(n,t,e,i);{const r=t.get(ii());null==e&&null!=r&&(e=ap(r,ii()));let o=[];const c=Sn(n.path),h=n.operationForChild(c),m=t.children.get(c);if(m&&h){const v=e?e.getImmediateChild(c):null,w=xG(i,c);o=o.concat(VG(h,m,v,w))}return r&&(o=o.concat(uB(r,n,i,e))),o}}function UG(n,t,e,i){const r=t.get(ii());null==e&&null!=r&&(e=ap(r,ii()));let o=[];return t.children.inorderTraversal((c,h)=>{const m=e?e.getImmediateChild(c):null,v=xG(i,c),w=n.operationForChild(c);w&&(o=o.concat(UG(w,h,m,v)))}),r&&(o=o.concat(uB(r,n,i,e))),o}function HG(n,t){const e=t.query,i=oE(n,e);return{hashFn:()=>(function toe(n){return n.viewCache_.serverCache.getNode()}(t)||yn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function _oe(n,t,e){const i=mB(n,e);if(i){const r=pB(i),o=r.path,c=r.queryId,h=va(o,t);return gB(n,o,new eE(tB(c),h))}return[]}(n,e._path,i):function goe(n,t){return Bb(n,new eE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function pie(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return VA(n,e,null,o)}}}}function oE(n,t){const e=HA(t);return n.queryToTagMap.get(e)}function HA(n){return n._path.toString()+"$"+n._queryIdentifier}function mB(n,t){return n.tagToQueryMap.get(t)}function pB(n){const t=n.indexOf("$");return(0,H.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ci(n.substr(0,t))}}function gB(n,t,e){const i=n.syncPointTree_.get(t);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),uB(i,e,RA(n.pendingWriteTree_,t),null)}function sE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function hoe(){return(0,H.hu)(BA,"Reference.ts has not been loaded"),BA}())(n._repo,n._path):n}class _B{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new _B(e)}node(){return this.node_}}class vB{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=lr(this.path_,t);return new vB(this.syncTree_,e)}node(){return UA(this.syncTree_,this.path_)}}const Eoe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},jG=function(n,t,e){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Ioe(n[".sv"],t,e):"object"==typeof n[".sv"]?Doe(n[".sv"],t):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Ioe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},Doe=function(n,t,e){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,H.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},zG=function(n,t,e,i){return bB(t,new vB(e,n),i)},yB=function(n,t,e){return bB(n,new _B(t),e)};function bB(n,t,e){const i=n.getPriority().val(),r=jG(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=jG(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new Rb(h,Sr(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Rb(r))),c.forEachChild(Li,(h,m)=>{const v=bB(m,t.getImmediateChild(h),e);v!==m&&(o=o.updateImmediateChild(h,v))}),o}}class wB{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function jA(n,t){let e=t instanceof ci?t:new ci(t),i=n,r=Sn(e);for(;null!==r;){const o=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new wB(r,i,o),e=Mi(e),r=Sn(e)}return i}function S_(n){return n.node.value}function xB(n,t){n.node.value=t,CB(n)}function $G(n){return n.node.childCount>0}function zA(n,t){Lo(n.node.children,(e,i)=>{t(new wB(e,n,i))})}function GG(n,t,e,i){e&&!i&&t(n),zA(n,r=>{GG(r,t,!0,i)}),e&&i&&t(n)}function aE(n){return new ci(null===n.parent?n.name:aE(n.parent)+"/"+n.name)}function CB(n){null!==n.parent&&function koe(n,t,e){const i=function Soe(n){return void 0===S_(n)&&!$G(n)}(e),r=(0,H.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,CB(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,CB(n))}(n.parent,n.name,n)}const Aoe=/[\[\].#$\/\u0000-\u001F\u007F]/,Moe=/[\[\].#$\u0000-\u001F\u007F]/,EB=10485760,$A=function(n){return"string"==typeof n&&0!==n.length&&!Aoe.test(n)},qG=function(n){return"string"==typeof n&&0!==n.length&&!Moe.test(n)},cE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!_A(n)||n&&"object"==typeof n&&(0,H.r3)(n,".sv")},Xu=function(n,t,e,i){i&&void 0===t||lE((0,H.gK)(n,"value"),t,e)},lE=function(n,t,e){const i=e instanceof ci?new Yie(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+x_(i));if("function"==typeof t)throw new Error(n+"contains a function "+x_(i)+" with contents = "+t.toString());if(_A(t))throw new Error(n+"contains "+t.toString()+" "+x_(i));if("string"==typeof t&&t.length>EB/3&&(0,H.ug)(t)>EB)throw new Error(n+"contains a string greater than "+EB+" utf8 bytes "+x_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Lo(t,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!$A(c)))throw new Error(n+" contains an invalid key ("+c+") "+x_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Zie(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,H.ug)(t),nG(n)})(i,c),lE(n,h,i),function Kie(n){const t=n.parts_.pop();n.byteLength_-=(0,H.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+x_(i)+" in addition to actual children.")}},WG=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,H.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Lo(t,(c,h)=>{const m=new ci(c);if(lE(r,h,lr(e,m)),".priority"===UL(m)&&!cE(h))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(m)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=WC(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!$A(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Wie);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&El(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},IB=function(n,t,e){if(!e||void 0!==t){if(_A(t))throw new Error((0,H.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cE(t))throw new Error((0,H.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dE=function(n,t,e,i){if(!(i&&void 0===e||$A(e)))throw new Error((0,H.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},uE=function(n,t,e,i){if(!(i&&void 0===e||qG(e)))throw new Error((0,H.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Poe=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),uE(n,t,e,i)},Il=function(n,t){if(".info"===Sn(t))throw new Error(n+" failed = Can't modify data under /.info/")},YG=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!$A(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qG(n)}(e))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Noe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function GA(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!HL(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function ZG(n,t,e){GA(n,e),KG(n,i=>HL(i,t))}function Oc(n,t,e){GA(n,e),KG(n,i=>El(i,t)||El(t,i))}function KG(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Foe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Foe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();b_&&Fo("event: "+e.toString()),Ab(i)}}}const QG="repo_interrupt",Loe=25;class Boe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Noe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=TA(),this.transactionQueueTree_=new wB,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XG(n){const e=n.infoData_.getNode(new ci(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function hE(n){return Eoe({timestamp:XG(n)})}function JG(n,t,e,i,r){n.dataUpdateCount++;const o=new ci(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const m=(0,H.UI)(e,v=>Sr(v));c=function voe(n,t,e,i){const r=mB(n,i);if(r){const o=pB(r),c=o.path,h=o.queryId,m=va(c,t),v=Bi.fromObject(e);return gB(n,c,new Fb(tB(h),m,v))}return[]}(n.serverSyncTree_,o,m,r)}else{const m=Sr(e);c=BG(n.serverSyncTree_,o,m,r)}else if(i){const m=(0,H.UI)(e,v=>Sr(v));c=function poe(n,t,e){const i=Bi.fromObject(e);return Bb(n,new Fb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,m)}else{const m=Sr(e);c=rE(n.serverSyncTree_,o,m)}let h=o;c.length>0&&(h=Ub(n,o)),Oc(n.eventQueue_,h,c)}function e8(n,t){DB(n,"connected",t),!1===t&&function zoe(n){Vb(n,"onDisconnectEvents");const t=hE(n),e=TA();XL(n.onDisconnect_,ii(),(r,o)=>{const c=zG(r,o,n.serverSyncTree_,t);Nb(e,r,c)});let i=[];XL(e,ii(),(r,o)=>{i=i.concat(rE(n.serverSyncTree_,r,o));const c=AB(n,r);Ub(n,c)}),n.onDisconnect_=TA(),Oc(n.eventQueue_,ii(),i)}(n)}function DB(n,t,e){const i=new ci("/.info/"+t),r=Sr(e);n.infoData_.updateSnapshot(i,r);const o=rE(n.infoSyncTree_,i,r);Oc(n.eventQueue_,i,o)}function qA(n){return n.nextWriteId_++}function SB(n,t,e,i,r){Vb(n,"set",{path:t.toString(),value:e,priority:i});const o=hE(n),c=Sr(e,i),h=UA(n.serverSyncTree_,t),m=yB(c,h,o),v=qA(n),w=hB(n.serverSyncTree_,t,m,v,!0);GA(n.eventQueue_,w),n.server_.put(t.toString(),c.val(!0),(O,B)=>{const G="ok"===O;G||Os("set at "+t+" failed: "+O);const X=lp(n.serverSyncTree_,v,!G);Oc(n.eventQueue_,t,X),dp(0,r,O,B)});const T=AB(n,t);Ub(n,T),Oc(n.eventQueue_,T,[])}function $oe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&QL(n.onDisconnect_,t),dp(0,e,i,r)})}function t8(n,t,e,i){const r=Sr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&Nb(n.onDisconnect_,t,r),dp(0,i,o,c)})}function TB(n,t,e){let i;i=".info"===Sn(t._path)?VA(n.infoSyncTree_,t,e):VA(n.serverSyncTree_,t,e),ZG(n.eventQueue_,t._path,i)}function n8(n){n.persistentConnection_&&n.persistentConnection_.interrupt(QG)}function Vb(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Fo(e,...t)}function dp(n,t,e,i){t&&Ab(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function kB(n,t,e){return UA(n.serverSyncTree_,t,e)||yn.EMPTY_NODE}function WA(n,t=n.transactionQueueTree_){if(t||YA(n,t),S_(t)){const e=o8(n,t);(0,H.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Koe(n,t,e){const i=e.map(v=>v.currentWriteId),r=kB(n,t,i);let o=r;const c=r.hash();for(let v=0;v<e.length;v++){const w=e[v];(0,H.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const T=va(t,w.path);o=o.updateChild(T,w.currentOutputSnapshotRaw)}const h=o.val(!0),m=t;n.server_.put(m.toString(),h,v=>{Vb(n,"transaction put response",{path:m.toString(),status:v});let w=[];if("ok"===v){const T=[];for(let O=0;O<e.length;O++)e[O].status=2,w=w.concat(lp(n.serverSyncTree_,e[O].currentWriteId)),e[O].onComplete&&T.push(()=>e[O].onComplete(null,!0,e[O].currentOutputSnapshotResolved)),e[O].unwatcher();YA(n,jA(n.transactionQueueTree_,t)),WA(n,n.transactionQueueTree_),Oc(n.eventQueue_,t,w);for(let O=0;O<T.length;O++)Ab(T[O])}else{if("datastale"===v)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{Os("transaction at "+m.toString()+" failed: "+v);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=v}Ub(n,t)}},c)}(n,aE(t),e)}else $G(t)&&zA(t,e=>{WA(n,e)})}function Ub(n,t){const e=r8(n,t),i=aE(e);return function Qoe(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],v=va(e,m.path);let T,w=!1;if((0,H.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)w=!0,T=m.abortReason,r=r.concat(lp(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=Loe)w=!0,T="maxretry",r=r.concat(lp(n.serverSyncTree_,m.currentWriteId,!0));else{const O=kB(n,m.path,c);m.currentInputSnapshot=O;const B=t[h].update(O.val());if(void 0!==B){lE("transaction failed: Data returned ",B,m.path);let G=Sr(B);"object"==typeof B&&null!=B&&(0,H.r3)(B,".priority")||(G=G.updatePriority(O.getPriority()));const re=m.currentWriteId,He=hE(n),Je=yB(G,O,He);m.currentOutputSnapshotRaw=G,m.currentOutputSnapshotResolved=Je,m.currentWriteId=qA(n),c.splice(c.indexOf(re),1),r=r.concat(hB(n.serverSyncTree_,m.path,Je,m.currentWriteId,m.applyLocally)),r=r.concat(lp(n.serverSyncTree_,re,!0))}else w=!0,T="nodata",r=r.concat(lp(n.serverSyncTree_,m.currentWriteId,!0))}Oc(n.eventQueue_,e,r),r=[],w&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===T?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(T),!1,null)))}YA(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Ab(i[h]);WA(n,n.transactionQueueTree_)}(n,o8(n,e),i),i}function r8(n,t){let e,i=n.transactionQueueTree_;for(e=Sn(t);null!==e&&void 0===S_(i);)i=jA(i,e),e=Sn(t=Mi(t));return i}function o8(n,t){const e=[];return s8(n,t,e),e.sort((i,r)=>i.order-r.order),e}function s8(n,t,e){const i=S_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);zA(t,r=>{s8(n,r,e)})}function YA(n,t){const e=S_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,xB(t,e.length>0?e:void 0)}zA(t,i=>{YA(n,i)})}function AB(n,t){const e=aE(r8(n,t)),i=jA(n.transactionQueueTree_,t);return function Toe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{MB(n,r)}),MB(n,i),GG(i,r=>{MB(n,r)}),e}function MB(n,t){const e=S_(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,H.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,H.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(lp(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?xB(t,void 0):e.length=o+1,Oc(n.eventQueue_,aE(t),r);for(let c=0;c<i.length;c++)Ab(i[c])}}const RB=function(n,t){const e=ese(n),i=e.namespace;return"firebase.com"===e.domain&&Zu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Zu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Os("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new PL(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new ci(e.pathString)}},ese=function(n){let t="",e="",i="",r="",o="",c=!0,h="https",m=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let w=n.indexOf("/");-1===w&&(w=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(w,T)),w<T&&(r=function Xoe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(w,T)));const O=function Joe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Os(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));v=t.indexOf(":"),v>=0?(c="https"===h||"wss"===h,m=parseInt(t.substring(v+1),10)):v=t.length;const B=t.slice(0,v);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const G=t.indexOf(".");i=t.substring(0,G).toLowerCase(),e=t.substring(G+1),o=i}"ns"in O&&(o=O.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}},a8="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tse=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=a8.charAt(e%64),e=Math.floor(e/64);(0,H.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=a8.charAt(t[r]);return(0,H.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class c8{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Wl)(this.snapshot.exportVal())}}class l8{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class OB{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class d8{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new H.BH;return $oe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Il("OnDisconnect.remove",this._path);const t=new H.BH;return t8(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Il("OnDisconnect.set",this._path),Xu("OnDisconnect.set",t,this._path,!1);const e=new H.BH;return t8(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Il("OnDisconnect.setWithPriority",this._path),Xu("OnDisconnect.setWithPriority",t,this._path,!1),IB("OnDisconnect.setWithPriority",e,!1);const i=new H.BH;return function Goe(n,t,e,i,r){const o=Sr(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,h)=>{"ok"===c&&Nb(n.onDisconnect_,t,o),dp(0,r,c,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Il("OnDisconnect.update",this._path),WG("OnDisconnect.update",t,this._path,!1);const e=new H.BH;return function qoe(n,t,e,i){if((0,H.xb)(e))return Fo("onDisconnect().update() called with empty data.  Don't do anything."),void dp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Lo(e,(c,h)=>{const m=Sr(h);Nb(n.onDisconnect_,lr(t,c),m)}),dp(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class za{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Tn(this._path)?null:UL(this._path)}get ref(){return new Dl(this._repo,this._path)}get _queryIdentifier(){const t=fG(this._queryParams),e=RL(t);return"{}"===e?"default":e}get _queryObject(){return fG(this._queryParams)}isEqual(t){if(!((t=(0,H.m9)(t))instanceof za))return!1;const e=this._repo===t._repo,i=HL(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qie(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ZA(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function up(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ku){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==np)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==wf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Li){if(null!=t&&!cE(t)||null!=e&&!cE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.hu)(n.getIndex()instanceof qL||n.getIndex()===WL,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function KA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dl extends za{constructor(t,e){super(t,e,new IA,!1)}get parent(){const t=tG(this._path);return null===t?null:new Dl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class T_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ci(t),i=k_(this.ref,t);return new T_(this._node.getChild(e),i,Li)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new T_(r,k_(this.ref,i),Li)))}hasChild(t){const e=new ci(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function u8(n,t){return(n=(0,H.m9)(n))._checkNotDeleted("ref"),void 0!==t?k_(n._root,t):n._root}function h8(n,t){(n=(0,H.m9)(n))._checkNotDeleted("refFromURL");const e=RB(t,n._repo.repoInfo_.nodeAdmin);YG("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Zu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),u8(n,e.path.toString())}function k_(n,t){return null===Sn((n=(0,H.m9)(n))._path)?Poe("child","path",t,!1):uE("child","path",t,!1),new Dl(n._repo,lr(n._path,t))}function PB(n,t){n=(0,H.m9)(n),Il("set",n._path),Xu("set",t,n._path,!1);const e=new H.BH;return SB(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function sse(n,t){WG("update",t,n._path,!1);const e=new H.BH;return function joe(n,t,e,i){Vb(n,"update",{path:t.toString(),value:e});let r=!0;const o=hE(n),c={};if(Lo(e,(h,m)=>{r=!1,c[h]=zG(lr(t,h),Sr(m),n.serverSyncTree_,o)}),r)Fo("update() called with empty data.  Don't do anything."),dp(0,i,"ok",void 0);else{const h=qA(n),m=function moe(n,t,e,i){!function Mre(n,t,e,i){(0,H.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=iB(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Bi.fromObject(e);return Bb(n,new Fb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,h);GA(n.eventQueue_,m),n.server_.merge(t.toString(),e,(v,w)=>{const T="ok"===v;T||Os("update at "+t+" failed: "+v);const O=lp(n.serverSyncTree_,h,!T),B=O.length>0?Ub(n,t):t;Oc(n.eventQueue_,B,O),dp(0,i,v,w)}),Lo(e,v=>{const w=AB(n,lr(t,v));Ub(n,w)}),Oc(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function ase(n){n=(0,H.m9)(n);const t=new OB(()=>{}),e=new fE(t);return function Hoe(n,t,e){const i=function yoe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(v,w)=>{const T=va(v,e);i=i||ap(w,T)});let r=n.syncPointTree_.get(e);r?i=i||ap(r,ii()):(r=new RG,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new op(i,!0,!1):null;return function noe(n){return MA(n.viewCache_)}(OG(r,t,RA(n.pendingWriteTree_,t._path),o?c.getNode():yn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Sr(r).withIndex(t._queryParams.getIndex());let c;if(fB(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=rE(n.serverSyncTree_,t._path,o);else{const h=oE(n.serverSyncTree_,t);c=BG(n.serverSyncTree_,t._path,o,h)}return Oc(n.eventQueue_,t._path,c),VA(n.serverSyncTree_,t,e,null,!0),o},r=>(Vb(n,"get for query "+(0,H.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new T_(i,new Dl(n._repo,n._path),n._queryParams.getIndex()))}class fE{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new c8("value",this,new T_(t.snapshotNode,new Dl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new l8(this,t,e):null}matches(t){return t instanceof fE&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class QA{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new l8(this,t,e):null}createEvent(t,e){(0,H.hu)(null!=t.childName,"Child events should have a childName.");const i=k_(new Dl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new c8(t.type,this,new T_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof QA&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function mE(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const m=e,v=(w,T)=>{TB(n._repo,n,h),m(w,T)};v.userCallback=e.userCallback,v.context=e.context,e=v}const c=new OB(e,o||void 0),h="value"===t?new fE(c):new QA(t,c);return function Woe(n,t,e){let i;i=".info"===Sn(t._path)?fB(n.infoSyncTree_,t,e):fB(n.serverSyncTree_,t,e),ZG(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>TB(n._repo,n,h)}function NB(n,t,e,i){return mE(n,"value",t,e,i)}function f8(n,t,e,i){return mE(n,"child_added",t,e,i)}function m8(n,t,e,i){return mE(n,"child_changed",t,e,i)}function p8(n,t,e,i){return mE(n,"child_moved",t,e,i)}function g8(n,t,e,i){return mE(n,"child_removed",t,e,i)}function _8(n,t,e){let i=null;const r=e?new OB(e):null;"value"===t?i=new fE(r):t&&(i=new QA(t,r)),TB(n._repo,n,i)}class Sd{}class v8 extends Sd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xu("endAt",this._value,t._path,!0);const e=KL(t._queryParams,this._value,this._key);if(KA(e),up(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new za(t._repo,t._path,e,t._orderByCalled)}}class lse extends Sd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xu("endBefore",this._value,t._path,!1);const e=function vre(n,t,e){let i;return i=KL(n,t,n.index_===Ku||e?e:np),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(KA(e),up(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new za(t._repo,t._path,e,t._orderByCalled)}}class y8 extends Sd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xu("startAt",this._value,t._path,!0);const e=ZL(t._queryParams,this._value,this._key);if(KA(e),up(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new za(t._repo,t._path,e,t._orderByCalled)}}class hse extends Sd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xu("startAfter",this._value,t._path,!1);const e=function _re(n,t,e){let i;return i=ZL(n,t,n.index_===Ku||e?e:wf),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(KA(e),up(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new za(t._repo,t._path,e,t._orderByCalled)}}class mse extends Sd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new za(t._repo,t._path,function pre(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class gse extends Sd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new za(t._repo,t._path,function gre(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class vse extends Sd{constructor(t){super(),this._path=t}_apply(t){ZA(t,"orderByChild");const e=new ci(this._path);if(Tn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new qL(e),r=DA(t._queryParams,i);return up(r),new za(t._repo,t._path,r,!0)}}class bse extends Sd{_apply(t){ZA(t,"orderByKey");const e=DA(t._queryParams,Ku);return up(e),new za(t._repo,t._path,e,!0)}}class xse extends Sd{_apply(t){ZA(t,"orderByPriority");const e=DA(t._queryParams,Li);return up(e),new za(t._repo,t._path,e,!0)}}class Ese extends Sd{_apply(t){ZA(t,"orderByValue");const e=DA(t._queryParams,WL);return up(e),new za(t._repo,t._path,e,!0)}}class Dse extends Sd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Xu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new v8(this._value,this._key)._apply(new y8(this._value,this._key)._apply(t))}}function Td(n,...t){let e=(0,H.m9)(n);for(const i of t)e=i._apply(e);return e}(function soe(n){(0,H.hu)(!FA,"__referenceConstructor has already been defined"),FA=n})(Dl),function uoe(n){(0,H.hu)(!BA,"__referenceConstructor has already been defined"),BA=n}(Dl);const FB={};function w8(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Zu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fo("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,v,c=RB(o,r),h=c.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(m=!0,o=`http://${v}?ns=${h.namespace}`,c=RB(o,r),h=c.repoInfo):m=!c.repoInfo.secure;const w=r&&m?new qC(qC.OWNER):new wie(n.name,n.options,t);YG("Invalid Firebase Database URL",c),Tn(c.path)||Zu("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function Mse(n,t,e,i){let r=FB[t.name];r||(r={},FB[t.name]=r);let o=r[n.toURLString()];return o&&Zu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Boe(n,false,e,i),r[n.toURLString()]=o,o}(h,n,w,new bie(n.name,e));return new Ose(T,n)}class Ose{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Voe(n,t,e){if(n.stats_=LL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new SA(n.repoInfo_,(i,r,o,c)=>{JG(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>e8(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new C_(n.repoInfo_,t,(i,r,o,c)=>{JG(n,i,r,o,c)},i=>{e8(n,i)},i=>{!function Uoe(n,t){Lo(t,(e,i)=>{DB(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Eie(n,t){const e=n.toString();return FL[e]||(FL[e]=t()),FL[e]}(n.repoInfo_,()=>new Ere(n.stats_,n.server_)),n.infoData_=new yre,n.infoSyncTree_=new LG({startListening:(i,r,o,c)=>{let h=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(h=rE(n.infoSyncTree_,i._path,m),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),DB(n,"connected",!1),n.serverSyncTree_=new LG({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,m)=>{const v=c(h,m);Oc(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dl(this._repo,ii())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ase(n,t){const e=FB[t];(!e||e[n.key]!==n)&&Zu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),n8(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Zu("Cannot call "+t+" on a deleted database.")}}function x8(){z$.IS_TRANSPORT_INITIALIZED&&Os("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Pse(){x8(),ip.forceDisallow()}function Nse(){x8(),Mb.forceDisallow(),ip.forceAllow()}function Bse(n,t){C$(n,t)}const Use={".sv":"timestamp"};class zse{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}C_.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},C_.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Vse(n){v$(gd.SDK_VERSION),(0,gd._registerComponent)(new Dc.wA("database",(t,{instanceIdentifier:e})=>w8(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,gd.registerVersion)(g$,"0.14.4",n),(0,gd.registerVersion)(g$,"0.14.4","esm2017")}();const Wse=new ha.Yd("@firebase/database-compat"),E8=function(n){Wse.warn("FIREBASE WARNING: "+n)};class Kse{constructor(t){this._delegate=t}cancel(t){(0,H.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,H.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,H.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,H.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,H.Dv)("OnDisconnect.set",1,2,arguments.length),(0,H.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,H.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,E8("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Qse{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,H.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class hp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,H.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,H.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),uE("DataSnapshot.child","path",t,!1),new hp(this._database,this._delegate.child(t))}hasChild(t){return(0,H.Dv)("DataSnapshot.hasChild",1,1,arguments.length),uE("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,H.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,H.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,H.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new hp(this._database,e)))}hasChildren(){return(0,H.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.Dv)("DataSnapshot.ref",0,0,arguments.length),new Pc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ds{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,H.Dv)("Query.on",2,4,arguments.length),(0,H.Wj)("Query.on","callback",e,!1);const c=ds.getCancelAndContextArgs_("Query.on",i,r),h=(v,w)=>{e.call(c.context,new hp(this.database,v),w)};h.userCallback=e,h.context=c.context;const m=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return NB(this._delegate,h,m),e;case"child_added":return f8(this._delegate,h,m),e;case"child_removed":return g8(this._delegate,h,m),e;case"child_changed":return m8(this._delegate,h,m),e;case"child_moved":return p8(this._delegate,h,m),e;default:throw new Error((0,H.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,H.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,H.Wj)("Query.off","callback",e,!0),(0,H.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,_8(this._delegate,t,r)}else _8(this._delegate,t)}get(){return ase(this._delegate).then(t=>new hp(this.database,t))}once(t,e,i,r){(0,H.Dv)("Query.once",1,4,arguments.length),(0,H.Wj)("Query.once","callback",e,!0);const o=ds.getCancelAndContextArgs_("Query.once",i,r),c=new H.BH,h=(v,w)=>{const T=new hp(this.database,v);e&&e.call(o.context,T,w),c.resolve(T)};h.userCallback=e,h.context=o.context;const m=v=>{o.cancel&&o.cancel.call(o.context,v),c.reject(v)};switch(t){case"value":NB(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":f8(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":g8(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":m8(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":p8(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,H.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,H.Dv)("Query.limitToFirst",1,1,arguments.length),new ds(this.database,Td(this._delegate,function pse(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mse(n)}(t)))}limitToLast(t){return(0,H.Dv)("Query.limitToLast",1,1,arguments.length),new ds(this.database,Td(this._delegate,function _se(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gse(n)}(t)))}orderByChild(t){return(0,H.Dv)("Query.orderByChild",1,1,arguments.length),new ds(this.database,Td(this._delegate,function yse(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return uE("orderByChild","path",n,!1),new vse(n)}(t)))}orderByKey(){return(0,H.Dv)("Query.orderByKey",0,0,arguments.length),new ds(this.database,Td(this._delegate,function wse(){return new bse}()))}orderByPriority(){return(0,H.Dv)("Query.orderByPriority",0,0,arguments.length),new ds(this.database,Td(this._delegate,function Cse(){return new xse}()))}orderByValue(){return(0,H.Dv)("Query.orderByValue",0,0,arguments.length),new ds(this.database,Td(this._delegate,function Ise(){return new Ese}()))}startAt(t=null,e){return(0,H.Dv)("Query.startAt",0,2,arguments.length),new ds(this.database,Td(this._delegate,function use(n=null,t){return dE("startAt","key",t,!0),new y8(n,t)}(t,e)))}startAfter(t=null,e){return(0,H.Dv)("Query.startAfter",0,2,arguments.length),new ds(this.database,Td(this._delegate,function fse(n,t){return dE("startAfter","key",t,!0),new hse(n,t)}(t,e)))}endAt(t=null,e){return(0,H.Dv)("Query.endAt",0,2,arguments.length),new ds(this.database,Td(this._delegate,function cse(n,t){return dE("endAt","key",t,!0),new v8(n,t)}(t,e)))}endBefore(t=null,e){return(0,H.Dv)("Query.endBefore",0,2,arguments.length),new ds(this.database,Td(this._delegate,function dse(n,t){return dE("endBefore","key",t,!0),new lse(n,t)}(t,e)))}equalTo(t,e){return(0,H.Dv)("Query.equalTo",1,2,arguments.length),new ds(this.database,Td(this._delegate,function Sse(n,t){return dE("equalTo","key",t,!0),new Dse(n,t)}(t,e)))}toString(){return(0,H.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,H.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ds))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,H.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,H.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,H.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Pc(this.database,new Dl(this._delegate._repo,this._delegate._path))}}class Pc extends ds{constructor(t,e){super(t,new za(e._repo,e._path,new IA,!1)),this.database=t,this._delegate=e}getKey(){return(0,H.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,H.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Pc(this.database,k_(this._delegate,t))}getParent(){(0,H.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Pc(this.database,t):null}getRoot(){return(0,H.Dv)("Reference.root",0,0,arguments.length),new Pc(this.database,this._delegate.root)}set(t,e){(0,H.Dv)("Reference.set",1,2,arguments.length),(0,H.Wj)("Reference.set","onComplete",e,!0);const i=PB(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,H.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,E8("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Il("Reference.update",this._delegate._path),(0,H.Wj)("Reference.update","onComplete",e,!0);const i=sse(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,H.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function ose(n,t,e){if(Il("setWithPriority",n._path),Xu("setWithPriority",t,n._path,!1),IB("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new H.BH;return SB(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,H.Dv)("Reference.remove",0,1,arguments.length),(0,H.Wj)("Reference.remove","onComplete",t,!0);const e=function ise(n){return Il("remove",n._path),PB(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,H.Dv)("Reference.transaction",1,3,arguments.length),(0,H.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,H.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,H.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function $se(n,t,e){var i;if(n=(0,H.m9)(n),Il("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new H.BH,h=NB(n,()=>{});return function Zoe(n,t,e,i,r,o){Vb(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:b$(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=kB(n,t,void 0);c.currentInputSnapshot=h;const m=c.update(h.val());if(void 0===m)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{lE("transaction failed: Data returned ",m,c.path),c.status=0;const v=jA(n.transactionQueueTree_,t),w=S_(v)||[];let T;w.push(c),xB(v,w),"object"==typeof m&&null!==m&&(0,H.r3)(m,".priority")?(T=(0,H.DV)(m,".priority"),(0,H.hu)(cE(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(UA(n.serverSyncTree_,t)||yn.EMPTY_NODE).getPriority().val();const O=hE(n),B=Sr(m,T),G=yB(B,h,O);c.currentOutputSnapshotRaw=B,c.currentOutputSnapshotResolved=G,c.currentWriteId=qA(n);const X=hB(n.serverSyncTree_,t,G,c.currentWriteId,c.applyLocally);Oc(n.eventQueue_,t,X),WA(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(m,v,w)=>{let T=null;m?o.reject(m):(T=new T_(w,new Dl(n._repo,n._path),Li),o.resolve(new zse(v,T)))},h,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Qse(o.committed,new hp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,H.Dv)("Reference.setPriority",1,2,arguments.length),(0,H.Wj)("Reference.setPriority","onComplete",e,!0);const i=function rse(n,t){n=(0,H.m9)(n),Il("setPriority",n._path),IB("setPriority",t,!1);const e=new H.BH;return SB(n._repo,lr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,H.Dv)("Reference.push",0,2,arguments.length),(0,H.Wj)("Reference.push","onComplete",e,!0);const i=function nse(n,t){n=(0,H.m9)(n),Il("push",n._path),Xu("push",t,n._path,!0);const e=XG(n._repo),i=tse(e),r=k_(n,i),o=k_(n,i);let c;return c=null!=t?PB(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Pc(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new Pc(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Il("Reference.onDisconnect",this._delegate._path),new Kse(new d8(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class pE{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Pse,forceLongPolling:Nse}}useEmulator(t,e,i={}){!function C8(n,t,e,i={}){(n=(0,H.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Zu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Zu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qC(qC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,H.Sg)(i.mockUserToken,n.app.options.projectId);o=new qC(c)}!function kse(n,t,e,i){n.repoInfo_=new PL(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,H.Dv)("database.ref",0,1,arguments.length),t instanceof Pc){const e=h8(this._delegate,t.toString());return new Pc(this,e)}{const e=u8(this._delegate,t);return new Pc(this,e)}}refFromURL(t){(0,H.Dv)("database.refFromURL",1,1,arguments.length);const i=h8(this._delegate,t);return new Pc(this,i)}goOffline(){return(0,H.Dv)("database.goOffline",0,0,arguments.length),function Fse(n){(n=(0,H.m9)(n))._checkNotDeleted("goOffline"),n8(n._repo)}(this._delegate)}goOnline(){return(0,H.Dv)("database.goOnline",0,0,arguments.length),function Lse(n){(n=(0,H.m9)(n))._checkNotDeleted("goOnline"),function Yoe(n){n.persistentConnection_&&n.persistentConnection_.resume(QG)}(n._repo)}(this._delegate)}}pE.ServerValue={TIMESTAMP:function Hse(){return Use}(),increment:n=>function jse(n){return{".sv":{increment:n}}}(n)};var Jse=Object.freeze({__proto__:null,initStandalone:function Xse({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){v$(e);const c=new Dc.zt("auth-internal",new Dc.H0("database-standalone"));return c.setComponent(new Dc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new pE(w8(n,c,void 0,t,o),n),namespace:r}}});const eae=pE.ServerValue;function I8(n){return null==n}function D8(n){return"function"==typeof n.set}function S8(n,t){return D8(t)?t:n.ref(t)}function T8(n,t){if(function nae(n){return"string"==typeof n}(n))return t.stringCase();if(D8(n))return t.firebaseCase();if(function iae(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function gE(n,t,e="on",i=im.z){return new fi.y(r=>{let o=null;return o=n[e](t,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,ht.U)(r=>{const{snapshot:o,prevKey:c}=r;let h=null;return o.exists()&&(h=o.key),{type:t,payload:o,prevKey:c,key:h}}),(0,Wp.B)())}function k8(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function sae(n,t){const{payload:e,prevKey:i,key:r}=t,o=k8(n,r),c=function oae(n,t){if(I8(t))return 0;{const e=k8(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(m=>{const v={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,n=[...n,v],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(m=>m.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function A8(n){return(I8(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function M8(n,t,e){return function rae(n,t,e){return gE(n,"value","once",e).pipe((0,mi.w)(i=>{const r=[(0,pt.of)(i)];return t.forEach(o=>r.push(gE(n,o,"on",e))),(0,Ec.T)(...r).pipe(fo(sae,[]))}),(0,Jp.x)())}(n,t=A8(t),e)}function R8(n,t,e){const i=(t=A8(t)).map(r=>gE(n,r,"on",e));return(0,Ec.T)(...i)}function O8(n,t){return function(i,r){return T8(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function dae(n){return function(e){return e?T8(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function P8(n,t){return function(){return gE(n,"value","on",t)}}!function tae(n){n.INTERNAL.registerComponent(new Dc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new pE(r,i)},"PUBLIC").setServiceProps({Reference:Pc,Query:ds,Database:pE,DataSnapshot:hp,enableLogging:Bse,INTERNAL:Jse,ServerValue:eae}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(BS.Z);const fae=new l.OlP("angularfire2.realtimeDatabaseURL"),mae=new l.OlP("angularfire2.database.use-emulator");let pae=(()=>{class n{constructor(e,i,r,o,c,h,m,v,w,T,O,B,G,X,re){this.schedulers=h;const He=m,Je=(0,zr.on)(e,c,i);v&&b2(Je,c,w,O,B,G,T,X),this.database=(0,zr.cc)(`${Je.name}.database.${r}`,"AngularFireDatabase",Je.name,()=>{const Xe=c.runOutsideAngular(()=>Je.database(r||void 0));return He&&Xe.useEmulator(...He),Xe},[He])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>S8(this.database,e));let o=r;return i&&(o=i(r)),function uae(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:O8(i,"update"),set:O8(i,"set"),push:r=>i.push(r),remove:dae(i),snapshotChanges:r=>M8(n,r,e).pipe(qn.iC),stateChanges:r=>R8(n,r,e).pipe(qn.iC),auditTrail:r=>function aae(n,t,e){return function lae(n,t,e){return function cae(n,t){return gE(n,"value","on",t).pipe((0,ht.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function sie(...n){const t=(0,So.jO)(n);return(0,zi.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),h=!1;for(let m=0;m<r;m++)(0,fc.Xf)(n[m]).subscribe((0,Ln.x)(i,v=>{o[m]=v,!h&&!c[m]&&(c[m]=!0,(h=c.every(Yo.y))&&(c=null))},il.Z));e.subscribe((0,Ln.x)(i,m=>{if(h){const v=[m,...o];i.next(t?t(...v):v)}}))})}(t),(0,ht.U)(([r,o])=>{const c=r.lastKeyToLoad,h=o.map(m=>m.key);return{actions:o,lastKeyToLoad:c,loadedKeys:h}}),function aie(n){return(0,zi.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Ln.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ht.U)(r=>r.actions))}(n,R8(n,t).pipe(fo((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(qn.iC),valueChanges:(r,o)=>M8(n,r,e).pipe((0,ht.U)(h=>h.map(m=>o&&o.idField?Object.assign(Object.assign({},m.payload.val()),{[o.idField]:m.key}):m.payload.val())),qn.iC)}}(o,this)}object(e){return function hae(n,t){return{query:n,snapshotChanges:()=>P8(n,t.schedulers.outsideAngular)().pipe(qn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>P8(n,t.schedulers.outsideAngular)().pipe(qn.iC,(0,ht.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>S8(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zr.Dh),l.LFG(zr.xv,8),l.LFG(fae,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qn.HU),l.LFG(mae,8),l.LFG(Pk,8),l.LFG(m2,8),l.LFG(p2,8),l.LFG(g2,8),l.LFG(_2,8),l.LFG(v2,8),l.LFG(y2,8),l.LFG(AC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gae=(()=>{class n{constructor(){Ok.Z.registerVersion("angularfire",qn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pae]}),n})();const _ae_firebaseConfig={apiKey:"AIzaSyDMwt1j1m1IftFLtEwPTsIDtrvHNUBgFPE",authDomain:"categoriasproductos.firebaseapp.com",projectId:"categoriasproductos",storageBucket:"categoriasproductos.appspot.com",messagingSenderId:"508637307558",appId:"1:508637307558:web:98fd36834c6d2068970a67"};let vae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n,bootstrap:[xX]});static#n=this.\u0275inj=l.cJS({imports:[Gd,wX,_ee,jR,cg,d1,U1,LS,Uee,ote,cte,tQ,uQ,wQ,Gv,kQ,zr.hO.initializeApp(_ae_firebaseConfig),oK,fK,oie,gae,fX]})}return n})();nr().bootstrapModule(vae).catch(n=>console.error(n))},5619:(wt,ke,V)=>{"use strict";V.d(ke,{X:()=>oe});var l=V(8645);class oe extends l.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const me=super._subscribe(se);return!me.closed&&se.next(this._value),me}getValue(){const{hasError:se,thrownError:me,_value:he}=this;if(se)throw me;return this._throwIfClosed(),he}next(se){super.next(this._value=se)}}},5592:(wt,ke,V)=>{"use strict";V.d(ke,{y:()=>Be});var l=V(305),oe=V(7394),j=V(4850),se=V(8407),me=V(2653),he=V(4674),ue=V(1441);let Be=(()=>{class z{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const rt=new z;return rt.source=this,rt.operator=Fe,rt}subscribe(Fe,rt,Ue){const Ye=function K(z){return z&&z instanceof l.Lv||function q(z){return z&&(0,he.m)(z.next)&&(0,he.m)(z.error)&&(0,he.m)(z.complete)}(z)&&(0,oe.Nn)(z)}(Fe)?Fe:new l.Hp(Fe,rt,Ue);return(0,ue.x)(()=>{const{operator:Le,source:Ct}=this;Ye.add(Le?Le.call(Ye,Ct):Ct?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(rt){Fe.error(rt)}}forEach(Fe,rt){return new(rt=we(rt))((Ue,Ye)=>{const Le=new l.Hp({next:Ct=>{try{Fe(Ct)}catch(Et){Ye(Et),Le.unsubscribe()}},error:Ye,complete:Ue});this.subscribe(Le)})}_subscribe(Fe){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(Fe)}[j.L](){return this}pipe(...Fe){return(0,se.U)(Fe)(this)}toPromise(Fe){return new(Fe=we(Fe))((rt,Ue)=>{let Ye;this.subscribe(Le=>Ye=Le,Le=>Ue(Le),()=>rt(Ye))})}}return z.create=We=>new z(We),z})();function we(z){var We;return null!==(We=z??me.config.Promise)&&void 0!==We?We:Promise}},8645:(wt,ke,V)=>{"use strict";V.d(ke,{x:()=>ue});var l=V(5592),oe=V(7394);const se=(0,V(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=V(9039),he=V(1441);let ue=(()=>{class we extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const z=new Be(this,this);return z.operator=K,z}_throwIfClosed(){if(this.closed)throw new se}next(K){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const z of this.currentObservers)z.next(K)}})}error(K){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:z}=this;for(;z.length;)z.shift().error(K)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:z,isStopped:We,observers:Fe}=this;return z||We?oe.Lc:(this.currentObservers=null,Fe.push(K),new oe.w0(()=>{this.currentObservers=null,(0,me.P)(Fe,K)}))}_checkFinalizedStatuses(K){const{hasError:z,thrownError:We,isStopped:Fe}=this;z?K.error(We):Fe&&K.complete()}asObservable(){const K=new l.y;return K.source=this,K}}return we.create=(q,K)=>new Be(q,K),we})();class Be extends ue{constructor(q,K){super(),this.destination=q,this.source=K}next(q){var K,z;null===(z=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===z||z.call(K,q)}error(q){var K,z;null===(z=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===z||z.call(K,q)}complete(){var q,K;null===(K=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===K||K.call(q)}_subscribe(q){var K,z;return null!==(z=null===(K=this.source)||void 0===K?void 0:K.subscribe(q))&&void 0!==z?z:oe.Lc}}},305:(wt,ke,V)=>{"use strict";V.d(ke,{Hp:()=>Ue,Lv:()=>z});var l=V(4674),oe=V(7394),j=V(2653),se=V(3894),me=V(2420);const he=we("C",void 0,void 0);function we(_e,Te,de){return{kind:_e,value:Te,error:de}}var q=V(7599),K=V(1441);class z extends oe.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,oe.Nn)(Te)&&Te.add(this)):this.destination=Et}static create(Te,de,Ae){return new Ue(Te,de,Ae)}next(Te){this.isStopped?Ct(function Be(_e){return we("N",_e,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ct(function ue(_e){return we("E",void 0,_e)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ct(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Fe(_e,Te){return We.call(_e,Te)}class rt{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:de}=this;if(de.next)try{de.next(Te)}catch(Ae){Ye(Ae)}}error(Te){const{partialObserver:de}=this;if(de.error)try{de.error(Te)}catch(Ae){Ye(Ae)}else Ye(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(de){Ye(de)}}}class Ue extends z{constructor(Te,de,Ae){let je;if(super(),(0,l.m)(Te)||!Te)je={next:Te??void 0,error:de??void 0,complete:Ae??void 0};else{let fe;this&&j.config.useDeprecatedNextContext?(fe=Object.create(Te),fe.unsubscribe=()=>this.unsubscribe(),je={next:Te.next&&Fe(Te.next,fe),error:Te.error&&Fe(Te.error,fe),complete:Te.complete&&Fe(Te.complete,fe)}):je=Te}this.destination=new rt(je)}}function Ye(_e){j.config.useDeprecatedSynchronousErrorHandling?(0,K.O)(_e):(0,se.h)(_e)}function Ct(_e,Te){const{onStoppedNotification:de}=j.config;de&&q.z.setTimeout(()=>de(_e,Te))}const Et={closed:!0,next:me.Z,error:function Le(_e){throw _e},complete:me.Z}},7394:(wt,ke,V)=>{"use strict";V.d(ke,{Lc:()=>he,w0:()=>me,Nn:()=>ue});var l=V(4674);const j=(0,V(2306).d)(we=>function(K){we(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((z,We)=>`${We+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var se=V(9039);class me{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Fe of K)Fe.remove(this);else K.remove(this);const{initialTeardown:z}=this;if((0,l.m)(z))try{z()}catch(Fe){q=Fe instanceof j?Fe.errors:[Fe]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Fe of We)try{Be(Fe)}catch(rt){q=q??[],rt instanceof j?q=[...q,...rt.errors]:q.push(rt)}}if(q)throw new j(q)}}add(q){var K;if(q&&q!==this)if(this.closed)Be(q);else{if(q instanceof me){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(q)}}_hasParent(q){const{_parentage:K}=this;return K===q||Array.isArray(K)&&K.includes(q)}_addParent(q){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(q),K):K?[K,q]:q}_removeParent(q){const{_parentage:K}=this;K===q?this._parentage=null:Array.isArray(K)&&(0,se.P)(K,q)}remove(q){const{_finalizers:K}=this;K&&(0,se.P)(K,q),q instanceof me&&q._removeParent(this)}}me.EMPTY=(()=>{const we=new me;return we.closed=!0,we})();const he=me.EMPTY;function ue(we){return we instanceof me||we&&"closed"in we&&(0,l.m)(we.remove)&&(0,l.m)(we.add)&&(0,l.m)(we.unsubscribe)}function Be(we){(0,l.m)(we)?we():we.unsubscribe()}},2653:(wt,ke,V)=>{"use strict";V.d(ke,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(wt,ke,V)=>{"use strict";V.d(ke,{E:()=>oe});const oe=new(V(5592).y)(me=>me.complete())},2459:(wt,ke,V)=>{"use strict";V.d(ke,{D:()=>Te});var l=V(4829),oe=V(3093),j=V(5137),he=V(5592),Be=V(4971),we=V(4674),q=V(7103);function z(de,Ae){if(!de)throw new Error("Iterable cannot be null");return new he.y(je=>{(0,q.f)(je,Ae,()=>{const fe=de[Symbol.asyncIterator]();(0,q.f)(je,Ae,()=>{fe.next().then(ne=>{ne.done?je.complete():je.next(ne.value)})},0,!0)})})}var We=V(8382),Fe=V(4026),rt=V(4266),Ue=V(3664),Ye=V(5726),Le=V(9853),Ct=V(541);function Te(de,Ae){return Ae?function _e(de,Ae){if(null!=de){if((0,We.c)(de))return function se(de,Ae){return(0,l.Xf)(de).pipe((0,j.R)(Ae),(0,oe.Q)(Ae))}(de,Ae);if((0,rt.z)(de))return function ue(de,Ae){return new he.y(je=>{let fe=0;return Ae.schedule(function(){fe===de.length?je.complete():(je.next(de[fe++]),je.closed||this.schedule())})})}(de,Ae);if((0,Fe.t)(de))return function me(de,Ae){return(0,l.Xf)(de).pipe((0,j.R)(Ae),(0,oe.Q)(Ae))}(de,Ae);if((0,Ye.D)(de))return z(de,Ae);if((0,Ue.T)(de))return function K(de,Ae){return new he.y(je=>{let fe;return(0,q.f)(je,Ae,()=>{fe=de[Be.h](),(0,q.f)(je,Ae,()=>{let ne,qe;try{({value:ne,done:qe}=fe.next())}catch(tt){return void je.error(tt)}qe?je.complete():je.next(ne)},0,!0)}),()=>(0,we.m)(fe?.return)&&fe.return()})}(de,Ae);if((0,Ct.L)(de))return function Et(de,Ae){return z((0,Ct.Q)(de),Ae)}(de,Ae)}throw(0,Le.z)(de)}(de,Ae):(0,l.Xf)(de)}},4829:(wt,ke,V)=>{"use strict";V.d(ke,{Xf:()=>We});var l=V(7582),oe=V(4266),j=V(4026),se=V(5592),me=V(8382),he=V(5726),ue=V(9853),Be=V(3664),we=V(541),q=V(4674),K=V(3894),z=V(4850);function We(_e){if(_e instanceof se.y)return _e;if(null!=_e){if((0,me.c)(_e))return function Fe(_e){return new se.y(Te=>{const de=_e[z.L]();if((0,q.m)(de.subscribe))return de.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,oe.z)(_e))return function rt(_e){return new se.y(Te=>{for(let de=0;de<_e.length&&!Te.closed;de++)Te.next(_e[de]);Te.complete()})}(_e);if((0,j.t)(_e))return function Ue(_e){return new se.y(Te=>{_e.then(de=>{Te.closed||(Te.next(de),Te.complete())},de=>Te.error(de)).then(null,K.h)})}(_e);if((0,he.D)(_e))return Le(_e);if((0,Be.T)(_e))return function Ye(_e){return new se.y(Te=>{for(const de of _e)if(Te.next(de),Te.closed)return;Te.complete()})}(_e);if((0,we.L)(_e))return function Ct(_e){return Le((0,we.Q)(_e))}(_e)}throw(0,ue.z)(_e)}function Le(_e){return new se.y(Te=>{(function Et(_e,Te){var de,Ae,je,fe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(de=(0,l.KL)(_e);!(Ae=yield de.next()).done;)if(Te.next(Ae.value),Te.closed)return}catch(ne){je={error:ne}}finally{try{Ae&&!Ae.done&&(fe=de.return)&&(yield fe.call(de))}finally{if(je)throw je.error}}Te.complete()})})(_e,Te).catch(de=>Te.error(de))})}},3019:(wt,ke,V)=>{"use strict";V.d(ke,{T:()=>he});var l=V(7537),oe=V(4829),j=V(6232),se=V(9940),me=V(2459);function he(...ue){const Be=(0,se.yG)(ue),we=(0,se._6)(ue,1/0),q=ue;return q.length?1===q.length?(0,oe.Xf)(q[0]):(0,l.J)(we)((0,me.D)(q,Be)):j.E}},2096:(wt,ke,V)=>{"use strict";V.d(ke,{of:()=>j});var l=V(9940),oe=V(2459);function j(...se){const me=(0,l.yG)(se);return(0,oe.D)(se,me)}},8251:(wt,ke,V)=>{"use strict";V.d(ke,{x:()=>oe});var l=V(305);function oe(se,me,he,ue,Be){return new j(se,me,he,ue,Be)}class j extends l.Lv{constructor(me,he,ue,Be,we,q){super(me),this.onFinalize=we,this.shouldUnsubscribe=q,this._next=he?function(K){try{he(K)}catch(z){me.error(z)}}:super._next,this._error=Be?function(K){try{Be(K)}catch(z){me.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(K){me.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},3997:(wt,ke,V)=>{"use strict";V.d(ke,{x:()=>se});var l=V(2737),oe=V(9360),j=V(8251);function se(he,ue=l.y){return he=he??me,(0,oe.e)((Be,we)=>{let q,K=!0;Be.subscribe((0,j.x)(we,z=>{const We=ue(z);(K||!he(q,We))&&(K=!1,q=We,we.next(z))}))})}function me(he,ue){return he===ue}},7398:(wt,ke,V)=>{"use strict";V.d(ke,{U:()=>j});var l=V(9360),oe=V(8251);function j(se,me){return(0,l.e)((he,ue)=>{let Be=0;he.subscribe((0,oe.x)(ue,we=>{ue.next(se.call(me,we,Be++))}))})}},7537:(wt,ke,V)=>{"use strict";V.d(ke,{J:()=>j});var l=V(1631),oe=V(2737);function j(se=1/0){return(0,l.z)(oe.y,se)}},1631:(wt,ke,V)=>{"use strict";V.d(ke,{z:()=>Be});var l=V(7398),oe=V(4829),j=V(9360),se=V(7103),me=V(8251),ue=V(4674);function Be(we,q,K=1/0){return(0,ue.m)(q)?Be((z,We)=>(0,l.U)((Fe,rt)=>q(z,Fe,We,rt))((0,oe.Xf)(we(z,We))),K):("number"==typeof q&&(K=q),(0,j.e)((z,We)=>function he(we,q,K,z,We,Fe,rt,Ue){const Ye=[];let Le=0,Ct=0,Et=!1;const _e=()=>{Et&&!Ye.length&&!Le&&q.complete()},Te=Ae=>Le<z?de(Ae):Ye.push(Ae),de=Ae=>{Fe&&q.next(Ae),Le++;let je=!1;(0,oe.Xf)(K(Ae,Ct++)).subscribe((0,me.x)(q,fe=>{We?.(fe),Fe?Te(fe):q.next(fe)},()=>{je=!0},void 0,()=>{if(je)try{for(Le--;Ye.length&&Le<z;){const fe=Ye.shift();rt?(0,se.f)(q,rt,()=>de(fe)):de(fe)}_e()}catch(fe){q.error(fe)}}))};return we.subscribe((0,me.x)(q,Te,()=>{Et=!0,_e()})),()=>{Ue?.()}}(z,We,we,K)))}},3093:(wt,ke,V)=>{"use strict";V.d(ke,{Q:()=>se});var l=V(7103),oe=V(9360),j=V(8251);function se(me,he=0){return(0,oe.e)((ue,Be)=>{ue.subscribe((0,j.x)(Be,we=>(0,l.f)(Be,me,()=>Be.next(we),he),()=>(0,l.f)(Be,me,()=>Be.complete(),he),we=>(0,l.f)(Be,me,()=>Be.error(we),he)))})}},3020:(wt,ke,V)=>{"use strict";V.d(ke,{B:()=>me});var l=V(4829),oe=V(8645),j=V(305),se=V(9360);function me(ue={}){const{connector:Be=(()=>new oe.x),resetOnError:we=!0,resetOnComplete:q=!0,resetOnRefCountZero:K=!0}=ue;return z=>{let We,Fe,rt,Ue=0,Ye=!1,Le=!1;const Ct=()=>{Fe?.unsubscribe(),Fe=void 0},Et=()=>{Ct(),We=rt=void 0,Ye=Le=!1},_e=()=>{const Te=We;Et(),Te?.unsubscribe()};return(0,se.e)((Te,de)=>{Ue++,!Le&&!Ye&&Ct();const Ae=rt=rt??Be();de.add(()=>{Ue--,0===Ue&&!Le&&!Ye&&(Fe=he(_e,K))}),Ae.subscribe(de),!We&&Ue>0&&(We=new j.Hp({next:je=>Ae.next(je),error:je=>{Le=!0,Ct(),Fe=he(Et,we,je),Ae.error(je)},complete:()=>{Ye=!0,Ct(),Fe=he(Et,q),Ae.complete()}}),(0,l.Xf)(Te).subscribe(We))})(z)}}function he(ue,Be,...we){if(!0===Be)return void ue();if(!1===Be)return;const q=new j.Hp({next:()=>{q.unsubscribe(),ue()}});return(0,l.Xf)(Be(...we)).subscribe(q)}},5137:(wt,ke,V)=>{"use strict";V.d(ke,{R:()=>oe});var l=V(9360);function oe(j,se=0){return(0,l.e)((me,he)=>{he.add(j.schedule(()=>me.subscribe(he),se))})}},4664:(wt,ke,V)=>{"use strict";V.d(ke,{w:()=>se});var l=V(4829),oe=V(9360),j=V(8251);function se(me,he){return(0,oe.e)((ue,Be)=>{let we=null,q=0,K=!1;const z=()=>K&&!we&&Be.complete();ue.subscribe((0,j.x)(Be,We=>{we?.unsubscribe();let Fe=0;const rt=q++;(0,l.Xf)(me(We,rt)).subscribe(we=(0,j.x)(Be,Ue=>Be.next(he?he(We,Ue,rt,Fe++):Ue),()=>{we=null,z()}))},()=>{K=!0,z()}))})}},9397:(wt,ke,V)=>{"use strict";V.d(ke,{b:()=>me});var l=V(4674),oe=V(9360),j=V(8251),se=V(2737);function me(he,ue,Be){const we=(0,l.m)(he)||ue||Be?{next:he,error:ue,complete:Be}:he;return we?(0,oe.e)((q,K)=>{var z;null===(z=we.subscribe)||void 0===z||z.call(we);let We=!0;q.subscribe((0,j.x)(K,Fe=>{var rt;null===(rt=we.next)||void 0===rt||rt.call(we,Fe),K.next(Fe)},()=>{var Fe;We=!1,null===(Fe=we.complete)||void 0===Fe||Fe.call(we),K.complete()},Fe=>{var rt;We=!1,null===(rt=we.error)||void 0===rt||rt.call(we,Fe),K.error(Fe)},()=>{var Fe,rt;We&&(null===(Fe=we.unsubscribe)||void 0===Fe||Fe.call(we)),null===(rt=we.finalize)||void 0===rt||rt.call(we)}))}):se.y}},1954:(wt,ke,V)=>{"use strict";V.d(ke,{o:()=>me});var l=V(7394);class oe extends l.w0{constructor(ue,Be){super()}schedule(ue,Be=0){return this}}const j={setInterval(he,ue,...Be){const{delegate:we}=j;return we?.setInterval?we.setInterval(he,ue,...Be):setInterval(he,ue,...Be)},clearInterval(he){const{delegate:ue}=j;return(ue?.clearInterval||clearInterval)(he)},delegate:void 0};var se=V(9039);class me extends oe{constructor(ue,Be){super(ue,Be),this.scheduler=ue,this.work=Be,this.pending=!1}schedule(ue,Be=0){var we;if(this.closed)return this;this.state=ue;const q=this.id,K=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(K,q,Be)),this.pending=!0,this.delay=Be,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(K,this.id,Be),this}requestAsyncId(ue,Be,we=0){return j.setInterval(ue.flush.bind(ue,this),we)}recycleAsyncId(ue,Be,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Be;null!=Be&&j.clearInterval(Be)}execute(ue,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ue,Be);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,Be){let q,we=!1;try{this.work(ue)}catch(K){we=!0,q=K||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ue,scheduler:Be}=this,{actions:we}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(we,this),null!=ue&&(this.id=this.recycleAsyncId(Be,ue,null)),this.delay=null,super.unsubscribe()}}}},2631:(wt,ke,V)=>{"use strict";V.d(ke,{v:()=>j});var l=V(4552);class oe{constructor(me,he=oe.now){this.schedulerActionCtor=me,this.now=he}schedule(me,he=0,ue){return new this.schedulerActionCtor(this,me).schedule(ue,he)}}oe.now=l.l.now;class j extends oe{constructor(me,he=oe.now){super(me,he),this.actions=[],this._active=!1}flush(me){const{actions:he}=this;if(this._active)return void he.push(me);let ue;this._active=!0;do{if(ue=me.execute(me.state,me.delay))break}while(me=he.shift());if(this._active=!1,ue){for(;me=he.shift();)me.unsubscribe();throw ue}}}},6321:(wt,ke,V)=>{"use strict";V.d(ke,{P:()=>se,z:()=>j});var l=V(1954);const j=new(V(2631).v)(l.o),se=j},4552:(wt,ke,V)=>{"use strict";V.d(ke,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(wt,ke,V)=>{"use strict";V.d(ke,{z:()=>l});const l={setTimeout(oe,j,...se){const{delegate:me}=l;return me?.setTimeout?me.setTimeout(oe,j,...se):setTimeout(oe,j,...se)},clearTimeout(oe){const{delegate:j}=l;return(j?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},4971:(wt,ke,V)=>{"use strict";V.d(ke,{h:()=>oe});const oe=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(wt,ke,V)=>{"use strict";V.d(ke,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(wt,ke,V)=>{"use strict";V.d(ke,{_6:()=>he,jO:()=>se,yG:()=>me});var l=V(4674),oe=V(671);function j(ue){return ue[ue.length-1]}function se(ue){return(0,l.m)(j(ue))?ue.pop():void 0}function me(ue){return(0,oe.K)(j(ue))?ue.pop():void 0}function he(ue,Be){return"number"==typeof j(ue)?ue.pop():Be}},9039:(wt,ke,V)=>{"use strict";function l(oe,j){if(oe){const se=oe.indexOf(j);0<=se&&oe.splice(se,1)}}V.d(ke,{P:()=>l})},2306:(wt,ke,V)=>{"use strict";function l(oe){const se=oe(me=>{Error.call(me),me.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}V.d(ke,{d:()=>l})},1441:(wt,ke,V)=>{"use strict";V.d(ke,{O:()=>se,x:()=>j});var l=V(2653);let oe=null;function j(me){if(l.config.useDeprecatedSynchronousErrorHandling){const he=!oe;if(he&&(oe={errorThrown:!1,error:null}),me(),he){const{errorThrown:ue,error:Be}=oe;if(oe=null,ue)throw Be}}else me()}function se(me){l.config.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=me)}},7103:(wt,ke,V)=>{"use strict";function l(oe,j,se,me=0,he=!1){const ue=j.schedule(function(){se(),he?oe.add(this.schedule(null,me)):this.unsubscribe()},me);if(oe.add(ue),!he)return ue}V.d(ke,{f:()=>l})},2737:(wt,ke,V)=>{"use strict";function l(oe){return oe}V.d(ke,{y:()=>l})},4266:(wt,ke,V)=>{"use strict";V.d(ke,{z:()=>l});const l=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},5726:(wt,ke,V)=>{"use strict";V.d(ke,{D:()=>oe});var l=V(4674);function oe(j){return Symbol.asyncIterator&&(0,l.m)(j?.[Symbol.asyncIterator])}},4674:(wt,ke,V)=>{"use strict";function l(oe){return"function"==typeof oe}V.d(ke,{m:()=>l})},8382:(wt,ke,V)=>{"use strict";V.d(ke,{c:()=>j});var l=V(4850),oe=V(4674);function j(se){return(0,oe.m)(se[l.L])}},3664:(wt,ke,V)=>{"use strict";V.d(ke,{T:()=>j});var l=V(4971),oe=V(4674);function j(se){return(0,oe.m)(se?.[l.h])}},4026:(wt,ke,V)=>{"use strict";V.d(ke,{t:()=>oe});var l=V(4674);function oe(j){return(0,l.m)(j?.then)}},541:(wt,ke,V)=>{"use strict";V.d(ke,{L:()=>se,Q:()=>j});var l=V(7582),oe=V(4674);function j(me){return(0,l.FC)(this,arguments,function*(){const ue=me.getReader();try{for(;;){const{value:Be,done:we}=yield(0,l.qq)(ue.read());if(we)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Be)}}finally{ue.releaseLock()}})}function se(me){return(0,oe.m)(me?.getReader)}},671:(wt,ke,V)=>{"use strict";V.d(ke,{K:()=>oe});var l=V(4674);function oe(j){return j&&(0,l.m)(j.schedule)}},9360:(wt,ke,V)=>{"use strict";V.d(ke,{A:()=>oe,e:()=>j});var l=V(4674);function oe(se){return(0,l.m)(se?.lift)}function j(se){return me=>{if(oe(me))return me.lift(function(he){try{return se(he,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(wt,ke,V)=>{"use strict";function l(){}V.d(ke,{Z:()=>l})},8407:(wt,ke,V)=>{"use strict";V.d(ke,{U:()=>j,z:()=>oe});var l=V(2737);function oe(...se){return j(se)}function j(se){return 0===se.length?l.y:1===se.length?se[0]:function(he){return se.reduce((ue,Be)=>Be(ue),he)}}},3894:(wt,ke,V)=>{"use strict";V.d(ke,{h:()=>j});var l=V(2653),oe=V(7599);function j(se){oe.z.setTimeout(()=>{const{onUnhandledError:me}=l.config;if(!me)throw se;me(se)})}},9853:(wt,ke,V)=>{"use strict";function l(oe){return new TypeError(`You provided ${null!==oe&&"object"==typeof oe?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(ke,{z:()=>l})},3519:function(wt){wt.exports=function(){"use strict";function ke(I,S){return function oe(I,S){return S.get?S.get.call(I):S.value}(I,l(I,S,"get"))}function V(I,S,N){return function j(I,S,N){if(S.set)S.set.call(I,N);else{if(!S.writable)throw new TypeError("attempted to set read only private field");S.value=N}}(I,l(I,S,"set"),N),N}function l(I,S,N){if(!S.has(I))throw new TypeError("attempted to "+N+" private field on non-instance");return S.get(I)}function me(I,S,N){(function se(I,S){if(S.has(I))throw new TypeError("Cannot initialize the same private elements twice on an object")})(I,S),S.set(I,N)}const ue={},we=I=>new Promise(S=>{if(!I)return S();const N=window.scrollX,W=window.scrollY;ue.restoreFocusTimeout=setTimeout(()=>{ue.previousActiveElement instanceof HTMLElement?(ue.previousActiveElement.focus(),ue.previousActiveElement=null):document.body&&document.body.focus(),S()},100),window.scrollTo(N,W)}),q="swal2-",z=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((I,S)=>(I[S]=q+S,I),{}),Fe=["success","warning","info","question","error"].reduce((I,S)=>(I[S]=q+S,I),{}),rt="SweetAlert2:",Ue=I=>I.charAt(0).toUpperCase()+I.slice(1),Ye=I=>{console.warn("".concat(rt," ").concat("object"==typeof I?I.join(" "):I))},Le=I=>{console.error("".concat(rt," ").concat(I))},Ct=[],_e=(I,S)=>{(I=>{Ct.includes(I)||(Ct.push(I),Ye(I))})('"'.concat(I,'" is deprecated and will be removed in the next major release. Please use "').concat(S,'" instead.'))},Te=I=>"function"==typeof I?I():I,de=I=>I&&"function"==typeof I.toPromise,Ae=I=>de(I)?I.toPromise():Promise.resolve(I),je=I=>I&&Promise.resolve(I)===I,fe=()=>document.body.querySelector(".".concat(z.container)),ne=I=>{const S=fe();return S?S.querySelector(I):null},qe=I=>ne(".".concat(I)),tt=()=>qe(z.popup),hn=()=>qe(z.icon),Nn=()=>qe(z.title),Yn=()=>qe(z["html-container"]),$n=()=>qe(z.image),_i=()=>qe(z["progress-steps"]),pe=()=>qe(z["validation-message"]),be=()=>ne(".".concat(z.actions," .").concat(z.confirm)),xe=()=>ne(".".concat(z.actions," .").concat(z.cancel)),Ie=()=>ne(".".concat(z.actions," .").concat(z.deny)),Ne=()=>ne(".".concat(z.loader)),ot=()=>qe(z.actions),nt=()=>qe(z.footer),Fn=()=>qe(z["timer-progress-bar"]),St=()=>qe(z.close),yt=()=>{const I=tt();if(!I)return[];const S=I.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),N=Array.from(S).sort((_t,dn)=>{const Xt=parseInt(_t.getAttribute("tabindex")||"0"),ri=parseInt(dn.getAttribute("tabindex")||"0");return Xt>ri?1:Xt<ri?-1:0}),W=I.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),ge=Array.from(W).filter(_t=>"-1"!==_t.getAttribute("tabindex"));return[...new Set(N.concat(ge))].filter(_t=>wn(_t))},Rn=()=>Un(document.body,z.shown)&&!Un(document.body,z["toast-shown"])&&!Un(document.body,z["no-backdrop"]),An=()=>{const I=tt();return!!I&&Un(I,z.toast)},qt=(I,S)=>{if(I.textContent="",S){const W=(new DOMParser).parseFromString(S,"text/html"),ge=W.querySelector("head");ge&&Array.from(ge.childNodes).forEach(dn=>{I.appendChild(dn)});const _t=W.querySelector("body");_t&&Array.from(_t.childNodes).forEach(dn=>{dn instanceof HTMLVideoElement||dn instanceof HTMLAudioElement?I.appendChild(dn.cloneNode(!0)):I.appendChild(dn)})}},Un=(I,S)=>{if(!S)return!1;const N=S.split(/\s+/);for(let W=0;W<N.length;W++)if(!I.classList.contains(N[W]))return!1;return!0},Gn=(I,S,N)=>{if(((I,S)=>{Array.from(I.classList).forEach(N=>{!Object.values(z).includes(N)&&!Object.values(Fe).includes(N)&&!Object.values(S.showClass||{}).includes(N)&&I.classList.remove(N)})})(I,S),S.customClass&&S.customClass[N]){if("string"!=typeof S.customClass[N]&&!S.customClass[N].forEach)return void Ye("Invalid type of customClass.".concat(N,'! Expected string or iterable object, got "').concat(typeof S.customClass[N],'"'));on(I,S.customClass[N])}},Zn=(I,S)=>{if(!S)return null;switch(S){case"select":case"textarea":case"file":return I.querySelector(".".concat(z.popup," > .").concat(z[S]));case"checkbox":return I.querySelector(".".concat(z.popup," > .").concat(z.checkbox," input"));case"radio":return I.querySelector(".".concat(z.popup," > .").concat(z.radio," input:checked"))||I.querySelector(".".concat(z.popup," > .").concat(z.radio," input:first-child"));case"range":return I.querySelector(".".concat(z.popup," > .").concat(z.range," input"));default:return I.querySelector(".".concat(z.popup," > .").concat(z.input))}},Qi=I=>{if(I.focus(),"file"!==I.type){const S=I.value;I.value="",I.value=S}},ao=(I,S,N)=>{!I||!S||("string"==typeof S&&(S=S.split(/\s+/).filter(Boolean)),S.forEach(W=>{Array.isArray(I)?I.forEach(ge=>{N?ge.classList.add(W):ge.classList.remove(W)}):N?I.classList.add(W):I.classList.remove(W)}))},on=(I,S)=>{ao(I,S,!0)},xt=(I,S)=>{ao(I,S,!1)},At=(I,S)=>{const N=Array.from(I.children);for(let W=0;W<N.length;W++){const ge=N[W];if(ge instanceof HTMLElement&&Un(ge,S))return ge}},Ft=(I,S,N)=>{N==="".concat(parseInt(N))&&(N=parseInt(N)),N||0===parseInt(N)?I.style[S]="number"==typeof N?"".concat(N,"px"):N:I.style.removeProperty(S)},Wt=function(I){I&&(I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},sn=I=>{I&&(I.style.display="none")},li=(I,S,N,W)=>{const ge=I.querySelector(S);ge&&(ge.style[N]=W)},bn=function(I,S){S?Wt(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):sn(I)},wn=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),fn=I=>I.scrollHeight>I.clientHeight,Vi=I=>{const S=window.getComputedStyle(I),N=parseFloat(S.getPropertyValue("animation-duration")||"0"),W=parseFloat(S.getPropertyValue("transition-duration")||"0");return N>0||W>0},mn=function(I){let S=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const N=Fn();N&&wn(N)&&(S&&(N.style.transition="none",N.style.width="100%"),setTimeout(()=>{N.style.transition="width ".concat(I/1e3,"s linear"),N.style.width="0%"},10))},co=()=>typeof window>"u"||typeof document>"u",Vo='\n <div aria-labelledby="'.concat(z.title,'" aria-describedby="').concat(z["html-container"],'" class="').concat(z.popup,'" tabindex="-1">\n   <button type="button" class="').concat(z.close,'"></button>\n   <ul class="').concat(z["progress-steps"],'"></ul>\n   <div class="').concat(z.icon,'"></div>\n   <img class="').concat(z.image,'" />\n   <h2 class="').concat(z.title,'" id="').concat(z.title,'"></h2>\n   <div class="').concat(z["html-container"],'" id="').concat(z["html-container"],'"></div>\n   <input class="').concat(z.input,'" id="').concat(z.input,'" />\n   <input type="file" class="').concat(z.file,'" />\n   <div class="').concat(z.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(z.select,'" id="').concat(z.select,'"></select>\n   <div class="').concat(z.radio,'"></div>\n   <label class="').concat(z.checkbox,'">\n     <input type="checkbox" id="').concat(z.checkbox,'" />\n     <span class="').concat(z.label,'"></span>\n   </label>\n   <textarea class="').concat(z.textarea,'" id="').concat(z.textarea,'"></textarea>\n   <div class="').concat(z["validation-message"],'" id="').concat(z["validation-message"],'"></div>\n   <div class="').concat(z.actions,'">\n     <div class="').concat(z.loader,'"></div>\n     <button type="button" class="').concat(z.confirm,'"></button>\n     <button type="button" class="').concat(z.deny,'"></button>\n     <button type="button" class="').concat(z.cancel,'"></button>\n   </div>\n   <div class="').concat(z.footer,'"></div>\n   <div class="').concat(z["timer-progress-bar-container"],'">\n     <div class="').concat(z["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ji=()=>{ue.currentInstance.resetValidationMessage()},at=I=>{const S=(()=>{const I=fe();return!!I&&(I.remove(),xt([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0)})();if(co())return void Le("SweetAlert2 requires document to initialize");const N=document.createElement("div");N.className=z.container,S&&on(N,z["no-transition"]),qt(N,Vo);const W=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);W.appendChild(N),(I=>{const S=tt();S.setAttribute("role",I.toast?"alert":"dialog"),S.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||S.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&on(fe(),z.rtl)})(W),(()=>{const I=tt(),S=At(I,z.input),N=At(I,z.file),W=I.querySelector(".".concat(z.range," input")),ge=I.querySelector(".".concat(z.range," output")),_t=At(I,z.select),dn=I.querySelector(".".concat(z.checkbox," input")),Xt=At(I,z.textarea);S.oninput=Ji,N.onchange=Ji,_t.onchange=Ji,dn.onchange=Ji,Xt.oninput=Ji,W.oninput=()=>{Ji(),ge.value=W.value},W.onchange=()=>{Ji(),ge.value=W.value}})()},Tt=(I,S)=>{I instanceof HTMLElement?S.appendChild(I):"object"==typeof I?En(I,S):I&&qt(S,I)},En=(I,S)=>{I.jquery?Z(S,I):qt(S,I.toString())},Z=(I,S)=>{if(I.textContent="",0 in S)for(let N=0;N in S;N++)I.appendChild(S[N].cloneNode(!0));else I.appendChild(S.cloneNode(!0))},Y=(()=>{if(co())return!1;const I=document.createElement("div");return typeof I.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof I.style.animation<"u"&&"animationend"})(),ie=(I,S)=>{const N=ot(),W=Ne();!N||!W||(S.showConfirmButton||S.showDenyButton||S.showCancelButton?Wt(N):sn(N),Gn(N,S,"actions"),function Pe(I,S,N){const W=be(),ge=Ie(),_t=xe();!W||!ge||!_t||(ut(W,"confirm",N),ut(ge,"deny",N),ut(_t,"cancel",N),function ye(I,S,N,W){W.buttonsStyling?(on([I,S,N],z.styled),W.confirmButtonColor&&(I.style.backgroundColor=W.confirmButtonColor,on(I,z["default-outline"])),W.denyButtonColor&&(S.style.backgroundColor=W.denyButtonColor,on(S,z["default-outline"])),W.cancelButtonColor&&(N.style.backgroundColor=W.cancelButtonColor,on(N,z["default-outline"]))):xt([I,S,N],z.styled)}(W,ge,_t,N),N.reverseButtons&&(N.toast?(I.insertBefore(_t,W),I.insertBefore(ge,W)):(I.insertBefore(_t,S),I.insertBefore(ge,S),I.insertBefore(W,S))))}(N,W,S),qt(W,S.loaderHtml||""),Gn(W,S,"loader"))};function ut(I,S,N){const W=Ue(S);bn(I,N["show".concat(W,"Button")],"inline-block"),qt(I,N["".concat(S,"ButtonText")]||""),I.setAttribute("aria-label",N["".concat(S,"ButtonAriaLabel")]||""),I.className=z[S],Gn(I,N,"".concat(S,"Button"))}const Vt=(I,S)=>{const N=fe();N&&(function er(I,S){"string"==typeof S?I.style.background=S:S||on([document.documentElement,document.body],z["no-backdrop"])}(N,S.backdrop),function Yt(I,S){S&&(S in z?on(I,z[S]):(Ye('The "position" parameter is not valid, defaulting to "center"'),on(I,z.center)))}(N,S.position),function vi(I,S){S&&on(I,z["grow-".concat(S)])}(N,S.grow),Gn(N,S,"container"))};var kt={innerParams:new WeakMap,domCache:new WeakMap};const Ui=["input","file","range","select","radio","checkbox","textarea"],ya=I=>{if(!I.input)return;if(!Ii[I.input])return void Le('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(I.input,'"'));const S=cn(I.input),N=Ii[I.input](S,I);Wt(S),I.inputAutoFocus&&setTimeout(()=>{Qi(N)})},wo=(I,S)=>{const N=Zn(tt(),I);if(N){(I=>{for(let S=0;S<I.attributes.length;S++){const N=I.attributes[S].name;["id","type","value","style"].includes(N)||I.removeAttribute(N)}})(N);for(const W in S)N.setAttribute(W,S[W])}},hs=I=>{const S=cn(I.input);"object"==typeof I.customClass&&on(S,I.customClass.input)},Vr=(I,S)=>{(!I.placeholder||S.inputPlaceholder)&&(I.placeholder=S.inputPlaceholder)},hr=(I,S,N)=>{if(N.inputLabel){const W=document.createElement("label"),ge=z["input-label"];W.setAttribute("for",I.id),W.className=ge,"object"==typeof N.customClass&&on(W,N.customClass.inputLabel),W.innerText=N.inputLabel,S.insertAdjacentElement("beforebegin",W)}},cn=I=>At(tt(),z[I]||z.input),lo=(I,S)=>{["string","number"].includes(typeof S)?I.value="".concat(S):je(S)||Ye('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof S,'"'))},Ii={};Ii.text=Ii.email=Ii.password=Ii.number=Ii.tel=Ii.url=(I,S)=>(lo(I,S.inputValue),hr(I,I,S),Vr(I,S),I.type=S.input,I),Ii.file=(I,S)=>(hr(I,I,S),Vr(I,S),I),Ii.range=(I,S)=>{const N=I.querySelector("input"),W=I.querySelector("output");return lo(N,S.inputValue),N.type=S.input,lo(W,S.inputValue),hr(N,I,S),I},Ii.select=(I,S)=>{if(I.textContent="",S.inputPlaceholder){const N=document.createElement("option");qt(N,S.inputPlaceholder),N.value="",N.disabled=!0,N.selected=!0,I.appendChild(N)}return hr(I,I,S),I},Ii.radio=I=>(I.textContent="",I),Ii.checkbox=(I,S)=>{const N=Zn(tt(),"checkbox");N.value="1",N.checked=!!S.inputValue;const W=I.querySelector("span");return qt(W,S.inputPlaceholder),N},Ii.textarea=(I,S)=>{lo(I,S.inputValue),Vr(I,S),hr(I,I,S);return setTimeout(()=>{if("MutationObserver"in window){const W=parseInt(window.getComputedStyle(tt()).width);new MutationObserver(()=>{if(!document.body.contains(I))return;const _t=I.offsetWidth+(W=>parseInt(window.getComputedStyle(W).marginLeft)+parseInt(window.getComputedStyle(W).marginRight))(I);_t>W?tt().style.width="".concat(_t,"px"):Ft(tt(),"width",S.width)}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const $a=(I,S)=>{const N=Yn();N&&(Gn(N,S,"htmlContainer"),S.html?(Tt(S.html,N),Wt(N,"block")):S.text?(N.textContent=S.text,Wt(N,"block")):sn(N),((I,S)=>{const N=tt();if(!N)return;const W=kt.innerParams.get(I),ge=!W||S.input!==W.input;Ui.forEach(_t=>{const dn=At(N,z[_t]);dn&&(wo(_t,S.inputAttributes),dn.className=z[_t],ge&&sn(dn))}),S.input&&(ge&&ya(S),hs(S))})(I,S))},Fs=(I,S)=>{for(const[N,W]of Object.entries(Fe))S.icon!==N&&xt(I,W);on(I,S.icon&&Fe[S.icon]),Wr(I,S),ba(),Gn(I,S,"icon")},ba=()=>{const I=tt();if(!I)return;const S=window.getComputedStyle(I).getPropertyValue("background-color"),N=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let W=0;W<N.length;W++)N[W].style.backgroundColor=S},Fc=(I,S)=>{if(!S.icon&&!S.iconHtml)return;let N=I.innerHTML,W="";S.iconHtml?W=fs(S.iconHtml):"success"===S.icon?(W='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',N=N.replace(/ style=".*?"/g,"")):"error"===S.icon?W='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':S.icon&&(W=fs({question:"?",warning:"!",info:"i"}[S.icon])),N.trim()!==W.trim()&&qt(I,W)},Wr=(I,S)=>{if(S.iconColor){I.style.color=S.iconColor,I.style.borderColor=S.iconColor;for(const N of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])li(I,N,"backgroundColor",S.iconColor);li(I,".swal2-success-ring","borderColor",S.iconColor)}},fs=I=>'<div class="'.concat(z["icon-content"],'">').concat(I,"</div>"),yi=(I,S)=>{const N=S.showClass||{};I.className="".concat(z.popup," ").concat(wn(I)?N.popup:""),S.toast?(on([document.documentElement,document.body],z["toast-shown"]),on(I,z.toast)):on(I,z.modal),Gn(I,S,"popup"),"string"==typeof S.customClass&&on(I,S.customClass),S.icon&&on(I,z["icon-".concat(S.icon)])},Ef=I=>{const S=document.createElement("li");return on(S,z["progress-step"]),qt(S,I),S},eh=I=>{const S=document.createElement("li");return on(S,z["progress-step-line"]),I.progressStepsDistance&&Ft(S,"width",I.progressStepsDistance),S},ms=(I,S)=>{((I,S)=>{const N=fe(),W=tt();if(N&&W){if(S.toast){Ft(N,"width",S.width),W.style.width="100%";const ge=Ne();ge&&W.insertBefore(ge,hn())}else Ft(W,"width",S.width);Ft(W,"padding",S.padding),S.color&&(W.style.color=S.color),S.background&&(W.style.background=S.background),sn(pe()),yi(W,S)}})(0,S),Vt(0,S),((I,S)=>{const N=_i();if(!N)return;const{progressSteps:W,currentProgressStep:ge}=S;W&&0!==W.length&&void 0!==ge?(Wt(N),N.textContent="",ge>=W.length&&Ye("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),W.forEach((_t,dn)=>{const Xt=Ef(_t);if(N.appendChild(Xt),dn===ge&&on(Xt,z["active-progress-step"]),dn!==W.length-1){const ri=eh(S);N.appendChild(ri)}})):sn(N)})(0,S),((I,S)=>{const N=kt.innerParams.get(I),W=hn();if(W){if(N&&S.icon===N.icon)return Fc(W,S),void Fs(W,S);if(!S.icon&&!S.iconHtml)return void sn(W);if(S.icon&&-1===Object.keys(Fe).indexOf(S.icon))return Le('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(S.icon,'"')),void sn(W);Wt(W),Fc(W,S),Fs(W,S),on(W,S.showClass&&S.showClass.icon)}})(I,S),((I,S)=>{const N=$n();if(N){if(!S.imageUrl)return void sn(N);Wt(N,""),N.setAttribute("src",S.imageUrl),N.setAttribute("alt",S.imageAlt||""),Ft(N,"width",S.imageWidth),Ft(N,"height",S.imageHeight),N.className=z.image,Gn(N,S,"image")}})(0,S),((I,S)=>{const N=Nn();N&&(bn(N,S.title||S.titleText,"block"),S.title&&Tt(S.title,N),S.titleText&&(N.innerText=S.titleText),Gn(N,S,"title"))})(0,S),((I,S)=>{const N=St();N&&(qt(N,S.closeButtonHtml||""),Gn(N,S,"closeButton"),bn(N,S.showCloseButton),N.setAttribute("aria-label",S.closeButtonAriaLabel||""))})(0,S),$a(I,S),ie(0,S),((I,S)=>{const N=nt();N&&(bn(N,S.footer,"block"),S.footer&&Tt(S.footer,N),Gn(N,S,"footer"))})(0,S);const N=tt();"function"==typeof S.didRender&&N&&S.didRender(N)},Ml=()=>{var I;return null===(I=be())||void 0===I?void 0:I.click()},Bs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Vs=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},Bc=(I,S)=>{var N;const W=yt();if(W.length)return(I+=S)===W.length?I=0:-1===I&&(I=W.length-1),void W[I].focus();null===(N=tt())||void 0===N||N.focus()},Ur=["ArrowRight","ArrowDown"],Vc=["ArrowLeft","ArrowUp"],tr=(I,S,N)=>{I&&(S.isComposing||229===S.keyCode||(I.stopKeydownPropagation&&S.stopPropagation(),"Enter"===S.key?Rl(S,I):"Tab"===S.key?Uc(S):[...Ur,...Vc].includes(S.key)?xa(S.key):"Escape"===S.key&&Ad(S,I,N)))},Rl=(I,S)=>{if(!Te(S.allowEnterKey))return;const N=Zn(tt(),S.input);if(I.target&&N&&I.target instanceof HTMLElement&&I.target.outerHTML===N.outerHTML){if(["textarea","file"].includes(S.input))return;Ml(),I.preventDefault()}},Uc=I=>{const S=I.target,N=yt();let W=-1;for(let ge=0;ge<N.length;ge++)if(S===N[ge]){W=ge;break}Bc(W,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},xa=I=>{const S=ot(),N=be(),W=Ie(),ge=xe();if(!(S&&N&&W&&ge))return;if(document.activeElement instanceof HTMLElement&&![N,W,ge].includes(document.activeElement))return;const dn=Ur.includes(I)?"nextElementSibling":"previousElementSibling";let Xt=document.activeElement;if(Xt){for(let ri=0;ri<S.children.length;ri++){if(Xt=Xt[dn],!Xt)return;if(Xt instanceof HTMLButtonElement&&wn(Xt))break}Xt instanceof HTMLButtonElement&&Xt.focus()}},Ad=(I,S,N)=>{Te(S.allowEscapeKey)&&(I.preventDefault(),N(Bs.esc))};var ps={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Hc=()=>{Array.from(document.body.children).forEach(S=>{S.hasAttribute("data-previous-aria-hidden")?(S.setAttribute("aria-hidden",S.getAttribute("data-previous-aria-hidden")||""),S.removeAttribute("data-previous-aria-hidden")):S.removeAttribute("aria-hidden")})},ln=typeof window<"u"&&!!window.GestureEvent,fr=()=>{const I=fe();if(!I)return;let S;I.ontouchstart=N=>{S=gs(N)},I.ontouchmove=N=>{S&&(N.preventDefault(),N.stopPropagation())}},gs=I=>{const S=I.target,N=fe(),W=Yn();return!(!N||!W||mr(I)||Ol(I)||S!==N&&(fn(N)||!(S instanceof HTMLElement)||"INPUT"===S.tagName||"TEXTAREA"===S.tagName||fn(W)&&W.contains(S)))},mr=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Ol=I=>I.touches&&I.touches.length>1;let Uo=null;const Yr=I=>{null===Uo&&(document.body.scrollHeight>window.innerHeight||"scroll"===I)&&(Uo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Uo+(()=>{const I=document.createElement("div");I.className=z["scrollbar-measure"],document.body.appendChild(I);const S=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),S})(),"px"))};function lt(I,S,N,W){An()?Us(I,W):(we(N).then(()=>Us(I,W)),Vs(ue)),ln?(S.setAttribute("style","display:none !important"),S.removeAttribute("class"),S.innerHTML=""):S.remove(),Rn()&&(null!==Uo&&(document.body.style.paddingRight="".concat(Uo,"px"),Uo=null),(()=>{if(Un(document.body,z.iosfix)){const I=parseInt(document.body.style.top,10);xt(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}})(),Hc()),function Pt(){xt([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}()}function Dn(I){I=Ya(I);const S=ps.swalPromiseResolve.get(this),N=pr(this);this.isAwaitingPromise?I.isDismissed||(ui(this),S(I)):N&&S(I)}const pr=I=>{const S=tt();if(!S)return!1;const N=kt.innerParams.get(I);if(!N||Un(S,N.hideClass.popup))return!1;xt(S,N.showClass.popup),on(S,N.hideClass.popup);const W=fe();return xt(W,N.showClass.backdrop),on(W,N.hideClass.backdrop),gn(I,S,N),!0};function _s(I){const S=ps.swalPromiseReject.get(this);ui(this),S&&S(I)}const ui=I=>{I.isAwaitingPromise&&(delete I.isAwaitingPromise,kt.innerParams.get(I)||I._destroy())},Ya=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),gn=(I,S,N)=>{const W=fe(),ge=Y&&Vi(S);"function"==typeof N.willClose&&N.willClose(S),ge?Ho(I,S,W,N.returnFocus,N.didClose):lt(I,W,N.returnFocus,N.didClose)},Ho=(I,S,N,W,ge)=>{Y&&(ue.swalCloseEventFinishedCallback=lt.bind(null,I,N,W,ge),S.addEventListener(Y,function(_t){_t.target===S&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback)}))},Us=(I,S)=>{setTimeout(()=>{"function"==typeof S&&S.bind(I.params)(),I._destroy&&I._destroy()})},Mt=I=>{let S=tt();if(S||new Cs,S=tt(),!S)return;const N=Ne();An()?sn(hn()):Hi(S,I),Wt(N),S.setAttribute("data-loading","true"),S.setAttribute("aria-busy","true"),S.focus()},Hi=(I,S)=>{const N=ot(),W=Ne();!N||!W||(!S&&wn(be())&&(S=be()),Wt(N),S&&(sn(S),W.setAttribute("data-button-to-replace",S.className),N.insertBefore(W,S)),on([I,N],z.loading))},Qn=I=>I.checked?1:0,Pl=I=>I.checked?I.value:null,Hs=I=>I.files&&I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,Ri=(I,S)=>{const N=tt();if(!N)return;const W=ge=>{"select"===S.input?function $o(I,S,N){const W=At(I,z.select);if(!W)return;const ge=(_t,dn,Xt)=>{const ri=document.createElement("option");ri.value=Xt,qt(ri,dn),ri.selected=Ea(Xt,N.inputValue),_t.appendChild(ri)};S.forEach(_t=>{const dn=_t[0],Xt=_t[1];if(Array.isArray(Xt)){const ri=document.createElement("optgroup");ri.label=dn,ri.disabled=!1,W.appendChild(ri),Xt.forEach(Es=>ge(ri,Es[1],Es[0]))}else ge(W,Xt,dn)}),W.focus()}(N,gr(ge),S):"radio"===S.input&&function vs(I,S,N){const W=At(I,z.radio);if(!W)return;S.forEach(_t=>{const dn=_t[0],Xt=_t[1],ri=document.createElement("input"),Es=document.createElement("label");ri.type="radio",ri.name=z.radio,ri.value=dn,Ea(dn,N.inputValue)&&(ri.checked=!0);const Go=document.createElement("span");qt(Go,Xt),Go.className=z.label,Es.appendChild(ri),Es.appendChild(Go),W.appendChild(Es)});const ge=W.querySelectorAll("input");ge.length&&ge[0].focus()}(N,gr(ge),S)};de(S.inputOptions)||je(S.inputOptions)?(Mt(be()),Ae(S.inputOptions).then(ge=>{I.hideLoading(),W(ge)})):"object"==typeof S.inputOptions?W(S.inputOptions):Le("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof S.inputOptions))},zo=(I,S)=>{const N=I.getInput();N&&(sn(N),Ae(S.inputValue).then(W=>{N.value="".concat("number"===S.input?parseFloat(W)||0:W),Wt(N),N.focus(),I.hideLoading()}).catch(W=>{Le("Error in inputValue promise: ".concat(W)),N.value="",Wt(N),N.focus(),I.hideLoading()}))};const gr=I=>{const S=[];return I instanceof Map?I.forEach((N,W)=>{let ge=N;"object"==typeof ge&&(ge=gr(ge)),S.push([W,ge])}):Object.keys(I).forEach(N=>{let W=I[N];"object"==typeof W&&(W=gr(W)),S.push([N,W])}),S},Ea=(I,S)=>!!S&&S.toString()===I.toString(),js=(I,S)=>{const N=kt.innerParams.get(I);if(!N.input)return void Le('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Ue(S)));const W=I.getInput(),ge=((I,S)=>{const N=I.getInput();if(!N)return null;switch(S.input){case"checkbox":return Qn(N);case"radio":return Pl(N);case"file":return Hs(N);default:return S.inputAutoTrim?N.value.trim():N.value}})(I,N);N.inputValidator?jc(I,ge,S):W&&!W.checkValidity()?(I.enableButtons(),I.showValidationMessage(N.validationMessage)):"deny"===S?bi(I,ge):Co(I,ge)},jc=(I,S,N)=>{const W=kt.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>Ae(W.inputValidator(S,W.validationMessage))).then(_t=>{I.enableButtons(),I.enableInput(),_t?I.showValidationMessage(_t):"deny"===N?bi(I,S):Co(I,S)})},bi=(I,S)=>{const N=kt.innerParams.get(I||void 0);N.showLoaderOnDeny&&Mt(Ie()),N.preDeny?(I.isAwaitingPromise=!0,Promise.resolve().then(()=>Ae(N.preDeny(S,N.validationMessage))).then(ge=>{!1===ge?(I.hideLoading(),ui(I)):I.close({isDenied:!0,value:typeof ge>"u"?S:ge})}).catch(ge=>Di(I||void 0,ge))):I.close({isDenied:!0,value:S})},bs=(I,S)=>{I.close({isConfirmed:!0,value:S})},Di=(I,S)=>{I.rejectPromise(S)},Co=(I,S)=>{const N=kt.innerParams.get(I||void 0);N.showLoaderOnConfirm&&Mt(),N.preConfirm?(I.resetValidationMessage(),I.isAwaitingPromise=!0,Promise.resolve().then(()=>Ae(N.preConfirm(S,N.validationMessage))).then(ge=>{wn(pe())||!1===ge?(I.hideLoading(),ui(I)):bs(I,typeof ge>"u"?S:ge)}).catch(ge=>Di(I||void 0,ge))):bs(I,S)};function wi(){const I=kt.innerParams.get(this);if(!I)return;const S=kt.domCache.get(this);sn(S.loader),An()?I.icon&&Wt(hn()):nh(S),xt([S.popup,S.actions],z.loading),S.popup.removeAttribute("aria-busy"),S.popup.removeAttribute("data-loading"),S.confirmButton.disabled=!1,S.denyButton.disabled=!1,S.cancelButton.disabled=!1}const nh=I=>{const S=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));S.length?Wt(S[0],"inline-block"):!wn(be())&&!wn(Ie())&&!wn(xe())&&sn(I.actions)};function Si(){const I=kt.innerParams.get(this),S=kt.domCache.get(this);return S?Zn(S.popup,I.input):null}function ji(I,S,N){const W=kt.domCache.get(I);S.forEach(ge=>{W[ge].disabled=N})}function Za(I,S){const N=tt();if(N&&I)if("radio"===I.type){const W=N.querySelectorAll('[name="'.concat(z.radio,'"]'));for(let ge=0;ge<W.length;ge++)W[ge].disabled=S}else I.disabled=S}function ws(){ji(this,["confirmButton","denyButton","cancelButton"],!1)}function Rr(){ji(this,["confirmButton","denyButton","cancelButton"],!0)}function _r(){Za(this.getInput(),!1)}function zs(){Za(this.getInput(),!0)}function $s(I){const S=kt.domCache.get(this),N=kt.innerParams.get(this);qt(S.validationMessage,I),S.validationMessage.className=z["validation-message"],N.customClass&&N.customClass.validationMessage&&on(S.validationMessage,N.customClass.validationMessage),Wt(S.validationMessage);const W=this.getInput();W&&(W.setAttribute("aria-invalid","true"),W.setAttribute("aria-describedby",z["validation-message"]),Qi(W),on(W,z.inputerror))}function zc(){const I=kt.domCache.get(this);I.validationMessage&&sn(I.validationMessage);const S=this.getInput();S&&(S.removeAttribute("aria-invalid"),S.removeAttribute("aria-describedby"),xt(S,z.inputerror))}const Ka={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},$c=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Nl={},Rd=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Gc=I=>Object.prototype.hasOwnProperty.call(Ka,I),Fl=I=>-1!==$c.indexOf(I),ih=I=>Nl[I],Xn=I=>{Gc(I)||Ye('Unknown parameter "'.concat(I,'"'))},Sf=I=>{Rd.includes(I)&&Ye('The parameter "'.concat(I,'" is incompatible with toasts'))},rh=I=>{const S=ih(I);S&&_e(I,S)};function Od(I){const S=tt(),N=kt.innerParams.get(this);if(!S||Un(S,N.hideClass.popup))return void Ye("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const W=Pd(I),ge=Object.assign({},N,W);ms(this,ge),kt.innerParams.set(this,ge),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}const Pd=I=>{const S={};return Object.keys(I).forEach(N=>{Fl(N)?S[N]=I[N]:Ye("Invalid parameter to update: ".concat(N))}),S};function Eo(){const I=kt.domCache.get(this),S=kt.innerParams.get(this);S?(I.popup&&ue.swalCloseEventFinishedCallback&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback),"function"==typeof S.didDestroy&&S.didDestroy(),Ll(this)):Gs(this)}const Ll=I=>{Gs(I),delete I.params,delete ue.keydownHandler,delete ue.keydownTarget,delete ue.currentInstance},Gs=I=>{I.isAwaitingPromise?(Qa(kt,I),I.isAwaitingPromise=!0):(Qa(ps,I),Qa(kt,I),delete I.isAwaitingPromise,delete I.disableButtons,delete I.enableButtons,delete I.getInput,delete I.disableInput,delete I.enableInput,delete I.hideLoading,delete I.disableLoading,delete I.showValidationMessage,delete I.resetValidationMessage,delete I.close,delete I.closePopup,delete I.closeModal,delete I.closeToast,delete I.rejectPromise,delete I.update,delete I._destroy)},Qa=(I,S)=>{for(const N in I)I[N].delete(S)};var Xa=Object.freeze({__proto__:null,_destroy:Eo,close:Dn,closeModal:Dn,closePopup:Dn,closeToast:Dn,disableButtons:Rr,disableInput:zs,disableLoading:wi,enableButtons:ws,enableInput:_r,getInput:Si,handleAwaitingPromise:ui,hideLoading:wi,rejectPromise:_s,resetValidationMessage:zc,showValidationMessage:$s,update:Od});const Ja=(I,S,N)=>{S.popup.onclick=()=>{I&&(qs(I)||I.timer||I.input)||N(Bs.close)}},qs=I=>!!(I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton);let Hr=!1;const Nd=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(S){I.container.onmouseup=()=>{},S.target===I.container&&(Hr=!0)}}},Zr=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(S){I.popup.onmouseup=()=>{},(S.target===I.popup||S.target instanceof HTMLElement&&I.popup.contains(S.target))&&(Hr=!0)}}},Ti=(I,S,N)=>{S.container.onclick=W=>{Hr?Hr=!1:W.target===S.container&&Te(I.allowOutsideClick)&&N(Bs.backdrop)}},vr=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const Zs=()=>{if(ue.timeout)return(()=>{const I=Fn();if(!I)return;const S=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const N=parseInt(window.getComputedStyle(I).width);I.style.width="".concat(S/N*100,"%")})(),ue.timeout.stop()},Ia=()=>{if(ue.timeout){const I=ue.timeout.start();return mn(I),I}};let qc=!1;const tc={};const Ks=I=>{for(let S=I.target;S&&S!==document;S=S.parentNode)for(const N in tc){const W=S.getAttribute(N);if(W)return void tc[N].fire({template:W})}};var xs=Object.freeze({__proto__:null,argsToParams:I=>{const S={};return"object"!=typeof I[0]||vr(I[0])?["title","html","icon"].forEach((N,W)=>{const ge=I[W];"string"==typeof ge||vr(ge)?S[N]=ge:void 0!==ge&&Le("Unexpected type of ".concat(N,'! Expected "string" or "Element", got ').concat(typeof ge))}):Object.assign(S,I[0]),S},bindClickHandler:function nc(){tc[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,qc||(document.body.addEventListener("click",Ks),qc=!0)},clickCancel:()=>{var I;return null===(I=xe())||void 0===I?void 0:I.click()},clickConfirm:Ml,clickDeny:()=>{var I;return null===(I=Ie())||void 0===I?void 0:I.click()},enableLoading:Mt,fire:function Bl(){for(var S=arguments.length,N=new Array(S),W=0;W<S;W++)N[W]=arguments[W];return new this(...N)},getActions:ot,getCancelButton:xe,getCloseButton:St,getConfirmButton:be,getContainer:fe,getDenyButton:Ie,getFocusableElements:yt,getFooter:nt,getHtmlContainer:Yn,getIcon:hn,getIconContent:()=>qe(z["icon-content"]),getImage:$n,getInputLabel:()=>qe(z["input-label"]),getLoader:Ne,getPopup:tt,getProgressSteps:_i,getTimerLeft:()=>ue.timeout&&ue.timeout.getTimerLeft(),getTimerProgressBar:Fn,getTitle:Nn,getValidationMessage:pe,increaseTimer:I=>{if(ue.timeout){const S=ue.timeout.increase(I);return mn(S,!0),S}},isDeprecatedParameter:ih,isLoading:()=>{const I=tt();return!!I&&I.hasAttribute("data-loading")},isTimerRunning:()=>!(!ue.timeout||!ue.timeout.isRunning()),isUpdatableParameter:Fl,isValidParameter:Gc,isVisible:()=>wn(tt()),mixin:function ec(I){return class S extends(this){_main(W,ge){return super._main(W,Object.assign({},I,ge))}}},resumeTimer:Ia,showLoading:Mt,stopTimer:Zs,toggleTimer:()=>{const I=ue.timeout;return I&&(I.running?Zs():Ia())}});class ic{constructor(S,N){this.callback=S,this.remaining=N,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(S){const N=this.running;return N&&this.stop(),this.remaining+=S,N&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ul=["swal-title","swal-html","swal-footer"],Tf=I=>{const S={};return Array.from(I.querySelectorAll("swal-param")).forEach(W=>{Sa(W,["name","value"]);const ge=W.getAttribute("name"),_t=W.getAttribute("value");S[ge]="boolean"==typeof Ka[ge]?"false"!==_t:"object"==typeof Ka[ge]?JSON.parse(_t):_t}),S},Bd=I=>{const S={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(W=>{const ge=W.getAttribute("name"),_t=W.getAttribute("value");S[ge]=new Function("return ".concat(_t))()}),S},kf=I=>{const S={};return Array.from(I.querySelectorAll("swal-button")).forEach(W=>{Sa(W,["type","color","aria-label"]);const ge=W.getAttribute("type");S["".concat(ge,"ButtonText")]=W.innerHTML,S["show".concat(Ue(ge),"Button")]=!0,W.hasAttribute("color")&&(S["".concat(ge,"ButtonColor")]=W.getAttribute("color")),W.hasAttribute("aria-label")&&(S["".concat(ge,"ButtonAriaLabel")]=W.getAttribute("aria-label"))}),S},Hl=I=>{const S={},N=I.querySelector("swal-image");return N&&(Sa(N,["src","width","height","alt"]),N.hasAttribute("src")&&(S.imageUrl=N.getAttribute("src")),N.hasAttribute("width")&&(S.imageWidth=N.getAttribute("width")),N.hasAttribute("height")&&(S.imageHeight=N.getAttribute("height")),N.hasAttribute("alt")&&(S.imageAlt=N.getAttribute("alt"))),S},Vd=I=>{const S={},N=I.querySelector("swal-icon");return N&&(Sa(N,["type","color"]),N.hasAttribute("type")&&(S.icon=N.getAttribute("type")),N.hasAttribute("color")&&(S.iconColor=N.getAttribute("color")),S.iconHtml=N.innerHTML),S},Yc=I=>{const S={},N=I.querySelector("swal-input");N&&(Sa(N,["type","label","placeholder","value"]),S.input=N.getAttribute("type")||"text",N.hasAttribute("label")&&(S.inputLabel=N.getAttribute("label")),N.hasAttribute("placeholder")&&(S.inputPlaceholder=N.getAttribute("placeholder")),N.hasAttribute("value")&&(S.inputValue=N.getAttribute("value")));const W=Array.from(I.querySelectorAll("swal-input-option"));return W.length&&(S.inputOptions={},W.forEach(ge=>{Sa(ge,["value"]);const _t=ge.getAttribute("value");S.inputOptions[_t]=ge.innerHTML})),S},oh=(I,S)=>{const N={};for(const W in S){const ge=S[W],_t=I.querySelector(ge);_t&&(Sa(_t,[]),N[ge.replace(/^swal-/,"")]=_t.innerHTML.trim())}return N},Da=I=>{const S=Ul.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(N=>{const W=N.tagName.toLowerCase();S.includes(W)||Ye("Unrecognized element <".concat(W,">"))})},Sa=(I,S)=>{Array.from(I.attributes).forEach(N=>{-1===S.indexOf(N.name)&&Ye(['Unrecognized attribute "'.concat(N.name,'" on <').concat(I.tagName.toLowerCase(),">."),"".concat(S.length?"Allowed attributes are: ".concat(S.join(", ")):"To set the value, use HTML within the element.")])})},rc=I=>{const S=fe(),N=tt();"function"==typeof I.willOpen&&I.willOpen(N);const ge=window.getComputedStyle(document.body).overflowY;oc(S,N,I),setTimeout(()=>{Ud(S,N)},10),Rn()&&(Kc(S,I.scrollbarPadding,ge),Array.from(document.body.children).forEach(S=>{S===fe()||S.contains(fe())||(S.hasAttribute("aria-hidden")&&S.setAttribute("data-previous-aria-hidden",S.getAttribute("aria-hidden")||""),S.setAttribute("aria-hidden","true"))})),!An()&&!ue.previousActiveElement&&(ue.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(N)),xt(S,z["no-transition"])},Zc=I=>{const S=tt();if(I.target!==S||!Y)return;const N=fe();S.removeEventListener(Y,Zc),N.style.overflowY="auto"},Ud=(I,S)=>{Y&&Vi(S)?(I.style.overflowY="hidden",S.addEventListener(Y,Zc)):I.style.overflowY="auto"},Kc=(I,S,N)=>{(()=>{if(ln&&!Un(document.body,z.iosfix)){const I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),on(document.body,z.iosfix),fr()}})(),S&&"hidden"!==N&&Yr(N),setTimeout(()=>{I.scrollTop=0})},oc=(I,S,N)=>{on(I,N.showClass.backdrop),S.style.setProperty("opacity","0","important"),Wt(S,"grid"),setTimeout(()=>{on(S,N.showClass.popup),S.style.removeProperty("opacity")},10),on([document.documentElement,document.body],z.shown),N.heightAuto&&N.backdrop&&!N.toast&&on([document.documentElement,document.body],z["height-auto"])};var Hd={email:(I,S)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(S||"Invalid email address"),url:(I,S)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(S||"Invalid URL")};function zl(I){(function jl(I){I.inputValidator||("email"===I.input&&(I.inputValidator=Hd.email),"url"===I.input&&(I.inputValidator=Hd.url))})(I),I.showLoaderOnConfirm&&!I.preConfirm&&Ye("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Af(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(Ye('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),at(I)}let Io;var Ta=new WeakMap;class hi{constructor(){if(me(this,Ta,{writable:!0,value:void 0}),typeof window>"u")return;Io=this;for(var S=arguments.length,N=new Array(S),W=0;W<S;W++)N[W]=arguments[W];const ge=Object.freeze(this.constructor.argsToParams(N));this.params=ge,this.isAwaitingPromise=!1,V(this,Ta,this._main(Io.params))}_main(S){let N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&Ye('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const S in I)Xn(S),I.toast&&Sf(S),rh(S)})(Object.assign({},N,S)),ue.currentInstance&&(ue.currentInstance._destroy(),Rn()&&Hc()),ue.currentInstance=Io;const W=sc(S,N);zl(W),Object.freeze(W),ue.timeout&&(ue.timeout.stop(),delete ue.timeout),clearTimeout(ue.restoreFocusTimeout);const ge=sh(Io);return ms(Io,W),kt.innerParams.set(Io,W),Qc(Io,ge,W)}then(S){return ke(this,Ta).then(S)}finally(S){return ke(this,Ta).finally(S)}}const Qc=(I,S,N)=>new Promise((W,ge)=>{const _t=dn=>{I.close({isDismissed:!0,dismiss:dn})};ps.swalPromiseResolve.set(I,W),ps.swalPromiseReject.set(I,ge),S.confirmButton.onclick=()=>{(I=>{const S=kt.innerParams.get(I);I.disableButtons(),S.input?js(I,"confirm"):Co(I,!0)})(I)},S.denyButton.onclick=()=>{(I=>{const S=kt.innerParams.get(I);I.disableButtons(),S.returnInputValueOnDeny?js(I,"deny"):bi(I,!1)})(I)},S.cancelButton.onclick=()=>{((I,S)=>{I.disableButtons(),S(Bs.cancel)})(I,_t)},S.closeButton.onclick=()=>{_t(Bs.close)},((I,S,N)=>{I.toast?Ja(I,S,N):(Nd(S),Zr(S),Ti(I,S,N))})(N,S,_t),((I,S,N)=>{Vs(I),S.toast||(I.keydownHandler=W=>tr(S,W,N),I.keydownTarget=S.keydownListenerCapture?window:tt(),I.keydownListenerCapture=S.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(ue,N,_t),((I,S)=>{"select"===S.input||"radio"===S.input?Ri(I,S):["text","email","number","tel","textarea"].some(N=>N===S.input)&&(de(S.inputValue)||je(S.inputValue))&&(Mt(be()),zo(I,S))})(I,N),rc(N),Xs(ue,N,_t),Do(S,N),setTimeout(()=>{S.container.scrollTop=0})}),sc=(I,S)=>{const N=(I=>{const S="string"==typeof I.template?document.querySelector(I.template):I.template;if(!S)return{};const N=S.content;return Da(N),Object.assign(Tf(N),Bd(N),kf(N),Hl(N),Vd(N),Yc(N),oh(N,Ul))})(I),W=Object.assign({},Ka,S,N,I);return W.showClass=Object.assign({},Ka.showClass,W.showClass),W.hideClass=Object.assign({},Ka.hideClass,W.hideClass),W},sh=I=>{const S={popup:tt(),container:fe(),actions:ot(),confirmButton:be(),denyButton:Ie(),cancelButton:xe(),loader:Ne(),closeButton:St(),validationMessage:pe(),progressSteps:_i()};return kt.domCache.set(I,S),S},Xs=(I,S,N)=>{const W=Fn();sn(W),S.timer&&(I.timeout=new ic(()=>{N("timer"),delete I.timeout},S.timer),S.timerProgressBar&&(Wt(W),Gn(W,S,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&mn(S.timer)})))},Do=(I,S)=>{if(!S.toast){if(!Te(S.allowEnterKey))return void jd();Js(I,S)||Bc(-1,1)}},Js=(I,S)=>S.focusDeny&&wn(I.denyButton)?(I.denyButton.focus(),!0):S.focusCancel&&wn(I.cancelButton)?(I.cancelButton.focus(),!0):!(!S.focusConfirm||!wn(I.confirmButton)||(I.confirmButton.focus(),0)),jd=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const I=new Date,S=localStorage.getItem("swal-initiation");S?(I.getTime()-Date.parse(S))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const N=document.createElement("audio");N.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",N.loop=!0,document.body.appendChild(N),setTimeout(()=>{N.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(I))}hi.prototype.disableButtons=Rr,hi.prototype.enableButtons=ws,hi.prototype.getInput=Si,hi.prototype.disableInput=zs,hi.prototype.enableInput=_r,hi.prototype.hideLoading=wi,hi.prototype.disableLoading=wi,hi.prototype.showValidationMessage=$s,hi.prototype.resetValidationMessage=zc,hi.prototype.close=Dn,hi.prototype.closePopup=Dn,hi.prototype.closeModal=Dn,hi.prototype.closeToast=Dn,hi.prototype.rejectPromise=_s,hi.prototype.update=Od,hi.prototype._destroy=Eo,Object.assign(hi,xs),Object.keys(Xa).forEach(I=>{hi[I]=function(){return Io&&Io[I]?Io[I](...arguments):null}}),hi.DismissReason=Bs,hi.version="11.7.32";const Cs=hi;return Cs.default=Cs,Cs}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ke,V){var l=ke.createElement("style");if(ke.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=V);else try{l.innerHTML=V}catch{l.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},5879:(wt,ke,V)=>{"use strict";V.d(ke,{$8M:()=>ru,$WT:()=>gs,$Z:()=>sR,AFp:()=>om,ALo:()=>nO,AaK:()=>z,BQk:()=>cg,CHM:()=>qo,CRH:()=>_O,DdM:()=>eS,EJc:()=>OO,EiD:()=>zE,EpF:()=>ym,F$t:()=>QR,F4k:()=>ZI,FYo:()=>MM,FiY:()=>yh,Gf:()=>pO,GfV:()=>RM,GkF:()=>r0,Gpc:()=>rt,HDt:()=>kS,Hsn:()=>JI,Ikx:()=>xD,JOm:()=>mu,JVY:()=>LE,JZr:()=>Et,KtG:()=>Yd,L6k:()=>BE,LAX:()=>dM,LFG:()=>Vt,Lbi:()=>sm,Lck:()=>KD,MAs:()=>$I,MMx:()=>P0,NdJ:()=>o0,O4$:()=>Aa,Ojb:()=>$p,OlP:()=>ni,Oqu:()=>f0,P3R:()=>bM,PXZ:()=>sH,Q6J:()=>GI,QGY:()=>Dv,QbO:()=>iI,Qsj:()=>tV,R0b:()=>go,RDi:()=>RE,Rgc:()=>iy,SBq:()=>pv,Sil:()=>FO,Suo:()=>gO,TTD:()=>Qc,TgZ:()=>ag,Udp:()=>Rv,VuI:()=>cT,W1O:()=>X0,WFA:()=>s0,X6Q:()=>zS,XFs:()=>xt,Xpm:()=>Vc,Xq5:()=>PR,Xts:()=>em,Y36:()=>Qp,YKP:()=>R0,YNc:()=>jI,Yjl:()=>Hc,Yz7:()=>yt,Z0I:()=>qt,ZZ4:()=>Oy,_Bn:()=>M0,_UZ:()=>t0,_Vd:()=>mv,_c5:()=>vx,_uU:()=>hD,aQg:()=>Py,c2e:()=>yy,cJS:()=>An,cg1:()=>CD,d8E:()=>pg,dDg:()=>oH,dqk:()=>bn,eBb:()=>lM,eFA:()=>ha,eJc:()=>hy,ekj:()=>d0,eoX:()=>FS,f3M:()=>Yt,g9A:()=>Ph,h0i:()=>Ru,hGG:()=>yx,hij:()=>fg,iGM:()=>Z0,ifc:()=>Vr,ip1:()=>RO,jDz:()=>N0,kL8:()=>b1,kcU:()=>ht,lG2:()=>Ca,lcZ:()=>Eg,lqb:()=>Mo,lri:()=>NS,mCW:()=>Up,n5z:()=>Na,n_E:()=>Kh,oAB:()=>xa,oxw:()=>XI,pB0:()=>uM,q3G:()=>Jf,q4F:()=>OM,qFp:()=>lT,qLn:()=>Bh,qOj:()=>jw,qZA:()=>e0,qzn:()=>Oh,rWj:()=>XO,rg0:()=>jl,sBO:()=>Og,s_b:()=>Dg,soG:()=>Ag,tb:()=>dx,tp0:()=>bc,uIk:()=>Ww,vHH:()=>_e,vpe:()=>ad,wAp:()=>_g,xp6:()=>rR,ynx:()=>n0,z2F:()=>Nu,z3N:()=>rd,zSh:()=>tn,zs3:()=>ml});var l=V(8645),oe=V(7394),j=V(5592),se=V(3019),me=V(5619),he=V(2096),ue=V(3020),Be=V(4664),we=V(3997);function q(s){for(let a in s)if(s[a]===q)return a;throw Error("Could not find renamed property on target object.")}function K(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function z(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(z).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function We(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Fe=q({__forward_ref__:q});function rt(s){return s.__forward_ref__=rt,s.toString=function(){return z(this())},s}function Ue(s){return Ye(s)?s():s}function Ye(s){return"function"==typeof s&&s.hasOwnProperty(Fe)&&s.__forward_ref__===rt}function Le(s){return s&&!!s.\u0275providers}const Et="https://g.co/ng/security#xss";class _e extends Error{constructor(a,d){super(function Te(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,d)),this.code=a}}function de(s){return"string"==typeof s?s:null==s?"":String(s)}function qe(s,a){throw new _e(-201,!1)}function ot(s,a){null==s&&function nt(s,a,d,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${d} ${u} ${a} <=Actual]`))}(a,s,null,"!=")}function yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function An(s){return{providers:s.providers||[],imports:s.imports||[]}}function ai(s){return Un(s,Zn)||Un(s,ao)}function qt(s){return null!==ai(s)}function Un(s,a){return s.hasOwnProperty(a)?s[a]:null}function Gn(s){return s&&(s.hasOwnProperty(Qi)||s.hasOwnProperty(on))?s[Qi]:null}const Zn=q({\u0275prov:q}),Qi=q({\u0275inj:q}),ao=q({ngInjectableDef:q}),on=q({ngInjectorDef:q});var xt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(xt||{});let At;function Wt(s){const a=At;return At=s,a}function sn(s,a,d){const u=ai(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:d&xt.Optional?null:void 0!==a?a:void qe(z(s))}const bn=globalThis,et={},at="__NG_DI_FLAG__",Tt="ngTempTokenPath",Z=/\n/gm,ie="__source";let Pe;function ut(s){const a=Pe;return Pe=s,a}function Gt(s,a=xt.Default){if(void 0===Pe)throw new _e(-203,!1);return null===Pe?sn(s,void 0,a):Pe.get(s,a&xt.Optional?null:void 0,a)}function Vt(s,a=xt.Default){return(function Ft(){return At}()||Gt)(Ue(s),a)}function Yt(s,a=xt.Default){return Vt(s,vi(a))}function vi(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function kt(s){const a=[];for(let d=0;d<s.length;d++){const u=Ue(s[d]);if(Array.isArray(u)){if(0===u.length)throw new _e(900,!1);let f,g=xt.Default;for(let y=0;y<u.length;y++){const C=u[y],D=us(C);"number"==typeof D?-1===D?f=C.token:g|=D:f=C}a.push(Vt(f,g))}else a.push(Vt(u))}return a}function Ui(s,a){return s[at]=a,s.prototype[at]=a,s}function us(s){return s[at]}function wo(s){return{toString:s}.toString()}var hs=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(hs||{}),Vr=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Vr||{});const hr={},cn=[],lo=q({\u0275cmp:q}),Ii=q({\u0275dir:q}),$a=q({\u0275pipe:q}),kd=q({\u0275mod:q}),xo=q({\u0275fac:q}),Fs=q({__NG_ELEMENT_ID__:q}),ba=q({__NG_ENV_ID__:q});function kl(s,a,d){let u=s.length;for(;;){const f=s.indexOf(a,d);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const g=a.length;if(f+g===u||s.charCodeAt(f+g)<=32)return f}d=f+1}}function wa(s,a,d){let u=0;for(;u<d.length;){const f=d[u];if("number"==typeof f){if(0!==f)break;u++;const g=d[u++],y=d[u++],C=d[u++];s.setAttribute(a,y,C,g)}else{const g=f,y=d[++u];Wr(g)?s.setProperty(a,g,y):s.setAttribute(a,g,y),u++}}return u}function Fc(s){return 3===s||4===s||6===s}function Wr(s){return 64===s.charCodeAt(0)}function fs(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?d=f:0===d||Ga(s,d,f,null,-1===d||2===d?a[++u]:null)}}return s}function Ga(s,a,d,u,f){let g=0,y=s.length;if(-1===a)y=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===a){y=-1;break}if(C>a){y=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===d){if(null===u)return void(null!==f&&(s[g+1]=f));if(u===s[g+1])return void(s[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==y&&(s.splice(y,0,a),g=y+1),s.splice(g++,0,d),null!==u&&s.splice(g++,0,u),null!==f&&s.splice(g++,0,f)}const Al="ng-template";function yi(s,a,d){let u=0,f=!0;for(;u<s.length;){let g=s[u++];if("string"==typeof g&&f){const y=s[u++];if(d&&"class"===g&&-1!==kl(y.toLowerCase(),a,0))return!0}else{if(1===g){for(;u<s.length&&"string"==typeof(g=s[u++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Ar(s){return 4===s.type&&s.value!==Al}function Ef(s,a,d){return a===(4!==s.type||d?s.value:Al)}function eh(s,a,d){let u=4;const f=s.attrs||[],g=function If(s){for(let a=0;a<s.length;a++)if(Fc(s[a]))return a;return s.length}(f);let y=!1;for(let C=0;C<a.length;C++){const D=a[C];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!Ef(s,D,d)||""===D&&1===a.length){if(Mr(u))return!1;y=!0}}else{const R=8&u?D:a[++C];if(8&u&&null!==s.attrs){if(!yi(s.attrs,R,d)){if(Mr(u))return!1;y=!0}continue}const $=ms(8&u?"class":D,f,Ar(s),d);if(-1===$){if(Mr(u))return!1;y=!0;continue}if(""!==R){let te;te=$>g?"":f[$+1].toLowerCase();const le=8&u?te:null;if(le&&-1!==kl(le,R,0)||2&u&&R!==te){if(Mr(u))return!1;y=!0}}}}else{if(!y&&!Mr(u)&&!Mr(D))return!1;if(y&&Mr(D))continue;y=!1,u=D|1&u}}return Mr(u)||y}function Mr(s){return 0==(1&s)}function ms(s,a,d,u){if(null===a)return-1;let f=0;if(u||!d){let g=!1;for(;f<a.length;){const y=a[f];if(y===s)return f;if(3===y||6===y)g=!0;else{if(1===y||2===y){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=g?1:2}return-1}return function Ls(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const u=s[d];if("number"==typeof u)return-1;if(u===a)return d;d++}return-1}(a,s)}function Lc(s,a,d=!1){for(let u=0;u<a.length;u++)if(eh(s,a[u],d))return!0;return!1}function Bs(s,a){e:for(let d=0;d<a.length;d++){const u=a[d];if(s.length===u.length){for(let f=0;f<s.length;f++)if(s[f]!==u[f])continue e;return!0}}return!1}function Vs(s,a){return s?":not("+a.trim()+")":a}function qa(s){let a=s[0],d=1,u=2,f="",g=!1;for(;d<s.length;){let y=s[d];if("string"==typeof y)if(2&u){const C=s[++d];f+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!Mr(y)&&(a+=Vs(g,f),f=""),u=y,g=g||!Mr(u);d++}return""!==f&&(a+=Vs(g,f)),a}function Vc(s){return wo(()=>{const a=Ol(s),d={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===hs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Vr.Emulated,styles:s.styles||cn,_:null,schemas:s.schemas||null,tView:null,id:""};th(d);const u=s.dependencies;return d.directiveDefs=Wa(u,!1),d.pipeDefs=Wa(u,!0),d.id=function Yr(s){let a=0;const d=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const f of d)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(d),d})}function Rl(s){return ln(s)||di(s)}function Uc(s){return null!==s}function xa(s){return wo(()=>({type:s.type,bootstrap:s.bootstrap||cn,declarations:s.declarations||cn,imports:s.imports||cn,exports:s.exports||cn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ps(s,a){if(null==s)return hr;const d={};for(const u in s)if(s.hasOwnProperty(u)){let f=s[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),d[f]=u,a&&(a[f]=g)}return d}function Ca(s){return wo(()=>{const a=Ol(s);return th(a),a})}function Hc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ln(s){return s[lo]||null}function di(s){return s[Ii]||null}function fr(s){return s[$a]||null}function gs(s){const a=ln(s)||di(s)||fr(s);return null!==a&&a.standalone}function mr(s,a){const d=s[kd]||null;if(!d&&!0===a)throw new Error(`Type ${z(s)} does not have '\u0275mod' property.`);return d}function Ol(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||hr,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||cn,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ps(s.inputs,a),outputs:ps(s.outputs)}}function th(s){s.features?.forEach(a=>a(s))}function Wa(s,a){if(!s)return null;const d=a?fr:Rl;return()=>("function"==typeof s?s():s).map(u=>d(u)).filter(Uc)}const Kn=0,lt=1,Pt=2,Dn=3,pr=4,_s=5,ui=6,Ya=7,gn=8,Ho=9,Us=10,Mt=11,Hi=12,Md=13,jo=14,Qn=15,Pl=16,Hs=17,Ri=18,zo=19,$o=20,vs=21,gr=22,Ea=23,ys=24,Kt=25,js=1,jc=2,bi=7,Di=9,wi=11;function Si(s){return Array.isArray(s)&&"object"==typeof s[js]}function ji(s){return Array.isArray(s)&&!0===s[js]}function Za(s){return 0!=(4&s.flags)}function ws(s){return s.componentOffset>-1}function Rr(s){return 1==(1&s.flags)}function _r(s){return!!s.template}function zs(s){return 0!=(512&s[Pt])}function qs(s,a){return s.hasOwnProperty(xo)?s[xo]:null}let Ti=null,Ws=!1;function vr(s){const a=Ti;return Ti=s,a}const Ys={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ec(s){if(!Ks(s)||s.dirty){if(!s.producerMustRecompute(s)&&!Vl(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function Ia(s){s.dirty=!0,function Fd(s){if(void 0===s.liveConsumerNode)return;const a=Ws;Ws=!0;try{for(const d of s.liveConsumerNode)d.dirty||Ia(d)}finally{Ws=a}}(s),s.consumerMarkedDirty?.(s)}function Ld(s){return s&&(s.nextProducerIndex=0),vr(s)}function Oi(s,a){if(vr(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(Ks(s))for(let d=s.nextProducerIndex;d<s.producerNode.length;d++)nc(s.producerNode[d],s.producerIndexOfThis[d]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function Vl(s){xs(s);for(let a=0;a<s.producerNode.length;a++){const d=s.producerNode[a],u=s.producerLastReadVersion[a];if(u!==d.version||(ec(d),u!==d.version))return!0}return!1}function qc(s){if(xs(s),Ks(s))for(let a=0;a<s.producerNode.length;a++)nc(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function nc(s,a){if(function ic(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),xs(s),1===s.liveConsumerNode.length)for(let u=0;u<s.producerNode.length;u++)nc(s.producerNode[u],s.producerIndexOfThis[u]);const d=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[d],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[d],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const u=s.liveConsumerIndexOfThis[a],f=s.liveConsumerNode[a];xs(f),f.producerIndexOfThis[u]=a}}function Ks(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function xs(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let Vd=null;function jl(s){const a=vr(null);try{return s()}finally{vr(a)}}const zl=()=>{},Io=(()=>({...Ys,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:zl}))();class hi{constructor(a,d,u){this.previousValue=a,this.currentValue=d,this.firstChange=u}isFirstChange(){return this.firstChange}}function Qc(){return sc}function sc(s){return s.type.prototype.ngOnChanges&&(s.setInput=Xs),sh}function sh(){const s=Js(this),a=s?.current;if(a){const d=s.previous;if(d===hr)s.previous=a;else for(let u in a)d[u]=a[u];s.current=null,this.ngOnChanges(a)}}function Xs(s,a,d,u){const f=this.declaredInputs[d],g=Js(s)||function jd(s,a){return s[Do]=a}(s,{previous:hr,current:null}),y=g.current||(g.current={}),C=g.previous,D=C[f];y[f]=new hi(D&&D.currentValue,a,C===hr),s[u]=a}Qc.ngInherit=!0;const Do="__ngSimpleChanges__";function Js(s){return s[Do]||null}const S=function(s,a,d){},N="svg";function ge(s){for(;Array.isArray(s);)s=s[Kn];return s}function dn(s,a){return ge(a[s])}function Xt(s,a){return ge(a[s.index])}function Es(s,a){return s.data[a]}function Go(s,a){return s[a]}function yr(s,a){const d=a[s];return Si(d)?d:d[Kn]}function Kr(s,a){return null==a?null:s[a]}function vp(s){s[Hs]=0}function ah(s){1024&s[Pt]||(s[Pt]|=1024,R_(s,1))}function zd(s){1024&s[Pt]&&(s[Pt]&=-1025,R_(s,-1))}function R_(s,a){let d=s[Dn];if(null===d)return;d[_s]+=a;let u=d;for(d=d[Dn];null!==d&&(1===a&&1===u[_s]||-1===a&&0===u[_s]);)d[_s]+=a,u=d,d=d[Dn]}const Ut={lFrame:lc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function br(){return Ut.bindingsEnabled}function Is(){return null!==Ut.skipHydrationRootTNode}function Ve(){return Ut.lFrame.lView}function _n(){return Ut.lFrame.tView}function qo(s){return Ut.lFrame.contextLView=s,s[gn]}function Yd(s){return Ut.lFrame.contextLView=null,s}function ir(){let s=Zd();for(;null!==s&&64===s.type;)s=s.parent;return s}function Zd(){return Ut.lFrame.currentTNode}function ka(s,a){const d=Ut.lFrame;d.currentTNode=s,d.isParent=a}function ac(){return Ut.lFrame.isParent}function lh(){Ut.lFrame.isParent=!1}function Qr(){const s=Ut.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function cc(){return Ut.lFrame.bindingIndex++}function Kd(s,a){const d=Ut.lFrame;d.bindingIndex=d.bindingRootIndex=s,Qd(a)}function Qd(s){Ut.lFrame.currentDirectiveIndex=s}function Nf(s){const a=Ut.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function Xd(){return Ut.lFrame.currentQueryIndex}function Ff(s){Ut.lFrame.currentQueryIndex=s}function Lf(s){const a=s[lt];return 2===a.type?a.declTNode:1===a.type?s[ui]:null}function bp(s,a,d){if(d&xt.SkipSelf){let f=a,g=s;for(;!(f=f.parent,null!==f||d&xt.Host||(f=Lf(g),null===f||(g=g[jo],10&f.type))););if(null===f)return!1;a=f,s=g}const u=Ut.lFrame=ho();return u.currentTNode=a,u.lView=s,!0}function fi(s){const a=ho(),d=s[lt];Ut.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function ho(){const s=Ut.lFrame,a=null===s?null:s.child;return null===a?lc(s):a}function lc(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Hn(){const s=Ut.lFrame;return Ut.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const pt=Hn;function wr(){const s=Hn();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function xr(){return Ut.lFrame.selectedIndex}function ea(s){Ut.lFrame.selectedIndex=s}function Jn(){const s=Ut.lFrame;return Es(s.tView,s.selectedIndex)}function Aa(){Ut.lFrame.currentNamespace=N}function ht(){!function Bf(){Ut.lFrame.currentNamespace=null}()}let dc=!0;function So(){return dc}function Zo(s){dc=s}function el(s,a){for(let d=a.directiveStart,u=a.directiveEnd;d<u;d++){const g=s.data[d].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:R,ngOnDestroy:F}=g;y&&(s.contentHooks??=[]).push(-d,y),C&&((s.contentHooks??=[]).push(d,C),(s.contentCheckHooks??=[]).push(d,C)),D&&(s.viewHooks??=[]).push(-d,D),R&&((s.viewHooks??=[]).push(d,R),(s.viewCheckHooks??=[]).push(d,R)),null!=F&&(s.destroyHooks??=[]).push(d,F)}}function Ma(s,a,d){wp(s,a,3,d)}function eu(s,a,d,u){(3&s[Pt])===d&&wp(s,a,d,u)}function tl(s,a){let d=s[Pt];(3&d)===a&&(d&=8191,d+=1,s[Pt]=d)}function wp(s,a,d,u){const g=u??-1,y=a.length-1;let C=0;for(let D=void 0!==u?65535&s[Hs]:0;D<y;D++)if("number"==typeof a[D+1]){if(C=a[D],null!=u&&C>=u)break}else a[D]<0&&(s[Hs]+=65536),(C<g||-1==g)&&(hc(s,d,a,D),s[Hs]=(4294901760&s[Hs])+D+2),D++}function uc(s,a){S(4,s,a);const d=vr(null);try{a.call(s)}finally{vr(d),S(5,s,a)}}function hc(s,a,d,u){const f=d[u]<0,g=d[u+1],C=s[f?-d[u]:d[u]];f?s[Pt]>>13<s[Hs]>>16&&(3&s[Pt])===a&&(s[Pt]+=8192,uc(C,g)):uc(C,g)}const Ra=-1;class To{constructor(a,d,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=u}}function mc(s){return s!==Ra}function Ht(s){return 32767&s}function ei(s,a){let d=function mi(s){return s>>16}(s),u=a;for(;d>0;)u=u[jo],d--;return u}let Or=!0;function Bn(s){const a=Or;return Or=s,a}const Gl=255,Uf=5;let ph=0;const Cr={};function ti(s,a){const d=ql(s,a);if(-1!==d)return d;const u=a[lt];u.firstCreatePass&&(s.injectorIndex=a.length,ko(u.data,s),ko(a,null),ko(u.blueprint,null));const f=fo(s,a),g=s.injectorIndex;if(mc(f)){const y=Ht(f),C=ei(f,a),D=C[lt].data;for(let R=0;R<8;R++)a[g+R]=C[y+R]|D[y+R]}return a[g+8]=f,g}function ko(s,a){s.push(0,0,0,0,0,0,0,0,a)}function ql(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function fo(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,u=null,f=a;for(;null!==f;){if(u=vh(f),null===u)return Ra;if(d++,f=f[jo],-1!==u.injectorIndex)return u.injectorIndex|d<<16}return Ra}function pc(s,a,d){!function na(s,a,d){let u;"string"==typeof d?u=d.charCodeAt(0)||0:d.hasOwnProperty(Fs)&&(u=d[Fs]),null==u&&(u=d[Fs]=ph++);const f=u&Gl;a.data[s+(f>>Uf)]|=1<<f}(s,a,d)}function Oa(s,a,d){if(d&xt.Optional||void 0!==s)return s;qe()}function Pa(s,a,d,u){if(d&xt.Optional&&void 0===u&&(u=null),!(d&(xt.Self|xt.Host))){const f=s[Ho],g=Wt(void 0);try{return f?f.get(a,u,d&xt.Optional):sn(a,u,d&xt.Optional)}finally{Wt(g)}}return Oa(u,0,d)}function il(s,a,d,u=xt.Default,f){if(null!==s){if(2048&a[Pt]&&!(u&xt.Self)){const y=function xp(s,a,d,u,f){let g=s,y=a;for(;null!==g&&null!==y&&2048&y[Pt]&&!(512&y[Pt]);){const C=Cn(g,y,d,u|xt.Self,Cr);if(C!==Cr)return C;let D=g.parent;if(!D){const R=y[$o];if(R){const F=R.get(d,Cr,u);if(F!==Cr)return F}D=vh(y),y=y[jo]}g=D}return f}(s,a,d,u,Cr);if(y!==Cr)return y}const g=Cn(s,a,d,u,Cr);if(g!==Cr)return g}return Pa(a,d,u,f)}function Cn(s,a,d,u,f){const g=function rl(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Fs)?s[Fs]:void 0;return"number"==typeof a?a>=0?a&Gl:Qo:a}(d);if("function"==typeof g){if(!bp(a,s,u))return u&xt.Host?Oa(f,0,u):Pa(a,d,u,f);try{let y;if(y=g(u),null!=y||u&xt.Optional)return y;qe()}finally{pt()}}else if("number"==typeof g){let y=null,C=ql(s,a),D=Ra,R=u&xt.Host?a[Qn][ui]:null;for((-1===C||u&xt.SkipSelf)&&(D=-1===C?fo(s,a):a[C+8],D!==Ra&&gh(u,!1)?(y=a[lt],C=Ht(D),a=ei(D,a)):C=-1);-1!==C;){const F=a[lt];if(ia(g,C,F.data)){const $=Jt(C,a,d,y,u,R);if($!==Cr)return $}D=a[C+8],D!==Ra&&gh(u,a[lt].data[C+8]===R)&&ia(g,C,a)?(y=F,C=Ht(D),a=ei(D,a)):C=-1}}return f}function Jt(s,a,d,u,f,g){const y=a[lt],C=y.data[s+8],F=gc(C,y,d,null==u?ws(C)&&Or:u!=y&&0!=(3&C.type),f&xt.Host&&g===C);return null!==F?_c(a,y,F,C):Cr}function gc(s,a,d,u,f){const g=s.providerIndexes,y=a.data,C=1048575&g,D=s.directiveStart,F=g>>20,te=f?C+F:s.directiveEnd;for(let le=u?C:C+F;le<te;le++){const Oe=y[le];if(le<D&&d===Oe||le>=D&&Oe.type===d)return le}if(f){const le=y[D];if(le&&_r(le)&&le.type===d)return D}return null}function _c(s,a,d,u){let f=s[d];const g=a.data;if(function fc(s){return s instanceof To}(f)){const y=f;y.resolving&&function je(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new _e(-200,`Circular dependency in DI detected for ${s}${d}`)}(function Ae(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():de(s)}(g[d]));const C=Bn(y.canSeeViewProviders);y.resolving=!0;const R=y.injectImpl?Wt(y.injectImpl):null;bp(s,u,xt.Default);try{f=s[d]=y.factory(void 0,g,s,u),a.firstCreatePass&&d>=u.directiveStart&&function Ln(s,a,d){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(u){const y=sc(a);(d.preOrderHooks??=[]).push(s,y),(d.preOrderCheckHooks??=[]).push(s,y)}f&&(d.preOrderHooks??=[]).push(0-s,f),g&&((d.preOrderHooks??=[]).push(s,g),(d.preOrderCheckHooks??=[]).push(s,g))}(d,g[d],a)}finally{null!==R&&Wt(R),Bn(C),y.resolving=!1,pt()}}return f}function ia(s,a,d){return!!(d[a+(s>>Uf)]&1<<s)}function gh(s,a){return!(s&xt.Self||s&xt.Host&&a)}class xi{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,u){return il(this._tNode,this._lView,a,vi(u),d)}}function Qo(){return new xi(ir(),Ve())}function Na(s){return wo(()=>{const a=s.prototype.constructor,d=a[xo]||iu(a),u=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==u;){const g=f[xo]||iu(f);if(g&&g!==d)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function iu(s){return Ye(s)?()=>{const a=iu(Ue(s));return a&&a()}:qs(s)}function vh(s){const a=s[lt],d=a.type;return 2===d?a.declTNode:1===d?s[ui]:null}function ru(s){return function nu(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const u=d.length;let f=0;for(;f<u;){const g=d[f];if(Fc(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof d[f];)f++;else{if(g===a)return d[f+1];f+=2}}}return null}(ir(),s)}const sl="__parameters__";function U(s,a,d){return wo(()=>{const u=function P(s){return function(...d){if(s){const u=s(...d);for(const f in u)this[f]=u[f]}}}(a);function f(...g){if(this instanceof f)return u.apply(this,g),this;const y=new f(...g);return C.annotation=y,C;function C(D,R,F){const $=D.hasOwnProperty(sl)?D[sl]:Object.defineProperty(D,sl,{value:[]})[sl];for(;$.length<=F;)$.push(null);return($[F]=$[F]||[]).push(y),D}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}function al(s,a){s.forEach(d=>Array.isArray(d)?al(d,a):a(d))}function F_(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function Cp(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function vc(s,a){const d=[];for(let u=0;u<s;u++)d.push(a);return d}function Xo(s,a,d){let u=ou(s,a);return u>=0?s[1|u]=d:(u=~u,function B_(s,a,d,u){let f=s.length;if(f==a)s.push(d,u);else if(1===f)s.push(u,s[0]),s[0]=d;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=d,s[a+1]=u}}(s,u,a,d)),u}function Ip(s,a){const d=ou(s,a);if(d>=0)return s[1|d]}function ou(s,a){return function Dp(s,a,d){let u=0,f=s.length>>d;for(;f!==u;){const g=u+(f-u>>1),y=s[g<<d];if(a===y)return g<<d;y>a?f=g:u=g+1}return~(f<<d)}(s,a,1)}const yh=Ui(U("Optional"),8),bc=Ui(U("SkipSelf"),4);function fu(s){return 128==(128&s.flags)}var mu=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(mu||{});const Mp=/^>|^->|<!--|-->|--!>|<!-$/g,xc=/(<|>)/g,qf="\u200b$1\u200b";const pu=new Map;let Xb=0;const Th="__ngContext__";function eo(s,a){Si(a)?(s[Th]=a[zo],function po(s){pu.set(s[zo],s)}(a)):s[Th]=a}let Q;function ae(s,a){return Q(s,a)}function Qe(s){const a=s[Dn];return ji(a)?a[Dn]:a}function Ci(s){return dl(s[Hi])}function Jo(s){return dl(s[pr])}function dl(s){for(;null!==s&&!ji(s);)s=s[pr];return s}function nd(s,a,d,u,f){if(null!=u){let g,y=!1;ji(u)?g=u:Si(u)&&(y=!0,u=u[Kn]);const C=ge(u);0===s&&null!==d?null==f?EE(a,d,C):Ah(a,d,C,f||null,!0):1===s&&null!==d?Ah(a,d,C,f||null,!0):2===s?function Q_(s,a,d){const u=K_(s,a);u&&function tM(s,a,d,u){s.removeChild(a,d,u)}(s,u,a,d)}(a,C,y):3===s&&a.destroyNode(C),null!=g&&function iM(s,a,d,u,f){const g=d[bi];g!==ge(d)&&nd(a,s,u,g,f);for(let C=wi;C<d.length;C++){const D=d[C];Lp(D[lt],D,s,a,u,g)}}(a,s,g,d,f)}}function hl(s,a){return s.createComment(function Wf(s){return s.replace(Mp,a=>a.replace(xc,qf))}(a))}function _u(s,a,d){return s.createElement(a,d)}function Y_(s,a){const d=s[Di],u=d.indexOf(a);zd(a),d.splice(u,1)}function Z_(s,a){if(s.length<=wi)return;const d=wi+a,u=s[d];if(u){const f=u[Pl];null!==f&&f!==s&&Y_(f,u),a>0&&(s[d-1][pr]=u[pr]);const g=Cp(s,wi+a);!function q_(s,a){Lp(s,a,a[Mt],2,null,null),a[Kn]=null,a[ui]=null}(u[lt],u);const y=g[Ri];null!==y&&y.detachView(g[lt]),u[Dn]=null,u[pr]=null,u[Pt]&=-129}return u}function nw(s,a){if(!(256&a[Pt])){const d=a[Mt];a[Ea]&&qc(a[Ea]),a[ys]&&qc(a[ys]),d.destroyNode&&Lp(s,a,d,3,null,null),function W_(s){let a=s[Hi];if(!a)return xE(s[lt],s);for(;a;){let d=null;if(Si(a))d=a[Hi];else{const u=a[wi];u&&(d=u)}if(!d){for(;a&&!a[pr]&&a!==s;)Si(a)&&xE(a[lt],a),a=a[Dn];null===a&&(a=s),Si(a)&&xE(a[lt],a),d=a&&a[pr]}a=d}}(a)}}function xE(s,a){if(!(256&a[Pt])){a[Pt]&=-129,a[Pt]|=256,function CE(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let u=0;u<d.length;u+=2){const f=a[d[u]];if(!(f instanceof To)){const g=d[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const C=f[g[y]],D=g[y+1];S(4,C,D);try{D.call(C)}finally{S(5,C,D)}}else{S(4,f,g);try{g.call(f)}finally{S(5,f,g)}}}}}(s,a),function eM(s,a){const d=s.cleanup,u=a[Ya];if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const y=d[g+3];y>=0?u[y]():u[-y].unsubscribe(),g+=2}else d[g].call(u[d[g+1]]);null!==u&&(a[Ya]=null);const f=a[vs];if(null!==f){a[vs]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(s,a),1===a[lt].type&&a[Mt].destroy();const d=a[Pl];if(null!==d&&ji(a[Dn])){d!==a[Dn]&&Y_(d,a);const u=a[Ri];null!==u&&u.detachView(s)}!function td(s){pu.delete(s[zo])}(a)}}function Kf(s,a,d){return function kh(s,a,d){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return d[Kn];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=s.data[u.directiveStart+f];if(g===Vr.None||g===Vr.Emulated)return null}return Xt(u,d)}}(s,a.parent,d)}function Ah(s,a,d,u,f){s.insertBefore(a,d,u,f)}function EE(s,a,d){s.appendChild(a,d)}function IE(s,a,d,u,f){null!==u?Ah(s,a,d,u,f):EE(s,a,d)}function K_(s,a){return s.parentNode(a)}function DE(s,a,d){return iw(s,a,d)}let rw,X_,ME,J_,iw=function SE(s,a,d){return 40&s.type?Xt(s,d):null};function Np(s,a,d,u){const f=Kf(s,u,a),g=a[Mt],C=DE(u.parent||a[ui],u,a);if(null!=f)if(Array.isArray(d))for(let D=0;D<d.length;D++)IE(g,f,d[D],C,!1);else IE(g,f,d,C,!1);void 0!==rw&&rw(g,u,a,d,f)}function fl(s,a){if(null!==a){const d=a.type;if(3&d)return Xt(a,s);if(4&d)return sw(-1,s[a.index]);if(8&d){const u=a.child;if(null!==u)return fl(s,u);{const f=s[a.index];return ji(f)?sw(-1,f):ge(f)}}if(32&d)return ae(a,s)()||ge(s[a.index]);{const u=ow(s,a);return null!==u?Array.isArray(u)?u[0]:fl(Qe(s[Qn]),u):fl(s,a.next)}}return null}function ow(s,a){return null!==a?s[Qn][ui].projection[a.projection]:null}function sw(s,a){const d=wi+s+1;if(d<a.length){const u=a[d],f=u[lt].firstChild;if(null!==f)return fl(u,f)}return a[bi]}function Fp(s,a,d,u,f,g,y){for(;null!=d;){const C=u[d.index],D=d.type;if(y&&0===a&&(C&&eo(ge(C),u),d.flags|=2),32!=(32&d.flags))if(8&D)Fp(s,a,d.child,u,f,g,!1),nd(a,s,f,C,g);else if(32&D){const R=ae(d,u);let F;for(;F=R();)nd(a,s,f,F,g);nd(a,s,f,C,g)}else 16&D?cw(s,a,u,d,f,g):nd(a,s,f,C,g);d=y?d.projectionNext:d.next}}function Lp(s,a,d,u,f,g){Fp(d,u,s.firstChild,a,f,g,!1)}function cw(s,a,d,u,f,g){const y=d[Qn],D=y[ui].projection[u.projection];if(Array.isArray(D))for(let R=0;R<D.length;R++)nd(a,s,f,D[R],g);else{let R=D;const F=y[Dn];fu(u)&&(R.flags|=128),Fp(s,a,R,F,f,g,!0)}}function kE(s,a,d){""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d)}function Bp(s,a,d){const{mergedAttrs:u,classes:f,styles:g}=d;null!==u&&wa(s,a,u),null!==f&&kE(s,a,f),null!==g&&function oM(s,a,d){s.setAttribute(a,"style",d)}(s,a,g)}function Qf(s){return function lw(){if(void 0===X_&&(X_=null,bn.trustedTypes))try{X_=bn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return X_}()?.createHTML(s)||s}function RE(s){ME=s}function NE(s){return function dw(){if(void 0===J_&&(J_=null,bn.trustedTypes))try{J_=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return J_}()?.createScriptURL(s)||s}class Rh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Et})`}}class FE extends Rh{getTypeName(){return"HTML"}}class uw extends Rh{getTypeName(){return"Style"}}class Xf extends Rh{getTypeName(){return"Script"}}class hw extends Rh{getTypeName(){return"URL"}}class cM extends Rh{getTypeName(){return"ResourceURL"}}function rd(s){return s instanceof Rh?s.changingThisBreaksApplicationSecurity:s}function Oh(s,a){const d=function ev(s){return s instanceof Rh&&s.getTypeName()||null}(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${Et})`)}return d===a}function LE(s){return new FE(s)}function BE(s){return new uw(s)}function lM(s){return new Xf(s)}function dM(s){return new hw(s)}function uM(s){return new cM(s)}class tv{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(Qf(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class hM{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=Qf(a),d}}const Vp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Up(s){return(s=String(s)).match(Vp)?s:"unsafe:"+s}function od(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function Hp(...s){const a={};for(const d of s)for(const u in d)d.hasOwnProperty(u)&&(a[u]=!0);return a}const UE=od("area,br,col,hr,img,wbr"),HE=od("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aa=od("rp,rt"),nv=Hp(UE,Hp(HE,od("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hp(aa,od("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hp(aa,HE)),mw=od("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gM=Hp(mw,od("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),od("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_M=od("script,style,template");class pw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,u=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?u=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,u&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!nv.hasOwnProperty(d))return this.sanitizedSomething=!0,!_M.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const u=a.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),y=g.name,C=y.toLowerCase();if(!gM.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=g.value;mw[C]&&(D=Up(D)),this.buf.push(" ",y,'="',gw(D),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();nv.hasOwnProperty(d)&&!UE.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(gw(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const jE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HB=/([^\#-~ |!])/g;function gw(s){return s.replace(/&/g,"&amp;").replace(jE,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(HB,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fa;function zE(s,a){let d=null;try{Fa=Fa||function VE(s){const a=new hM(s);return function fM(){try{return!!(new window.DOMParser).parseFromString(Qf(""),"text/html")}catch{return!1}}()?new tv(a):a}(s);let u=a?String(a):"";d=Fa.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=d.innerHTML,d=Fa.getInertBodyElement(u)}while(u!==g);return Qf((new pw).sanitizeChildren($E(d)||d))}finally{if(d){const u=$E(d)||d;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function $E(s){return"content"in s&&function jB(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Jf=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Jf||{});function iv(s){const a=jp();return a?a.sanitize(Jf.URL,s)||"":Oh(s,"URL")?rd(s):Up(de(s))}function WE(s){const a=jp();if(a)return NE(a.sanitize(Jf.RESOURCE_URL,s)||"");if(Oh(s,"ResourceURL"))return NE(rd(s));throw new _e(904,!1)}function bM(s,a,d){return function yM(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?WE:iv}(a,d)(s)}function jp(){const s=Ve();return s&&s[Us].sanitizer}class ni{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=yt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const em=new ni("ENVIRONMENT_INITIALIZER"),ZE=new ni("INJECTOR",-1),KE=new ni("INJECTOR_DEF_TYPES");class rv{get(a,d=et){if(d===et){const u=new Error(`NullInjectorError: No provider for ${z(a)}!`);throw u.name="NullInjectorError",u}return d}}function wM(...s){return{\u0275providers:XE(0,s),\u0275fromNgModule:!0}}function XE(s,...a){const d=[],u=new Set;let f;const g=y=>{d.push(y)};return al(a,y=>{const C=y;ov(C,g,[],u)&&(f||=[],f.push(C))}),void 0!==f&&JE(f,g),d}function JE(s,a){for(let d=0;d<s.length;d++){const{ngModule:u,providers:f}=s[d];_w(f,g=>{a(g,u)})}}function ov(s,a,d,u){if(!(s=Ue(s)))return!1;let f=null,g=Gn(s);const y=!g&&ln(s);if(g||y){if(y&&!y.standalone)return!1;f=s}else{const D=s.ngModule;if(g=Gn(D),!g)return!1;f=D}const C=u.has(f);if(y){if(C)return!1;if(u.add(f),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const R of D)ov(R,a,d,u)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let R;u.add(f);try{al(g.imports,F=>{ov(F,a,d,u)&&(R||=[],R.push(F))})}finally{}void 0!==R&&JE(R,a)}if(!C){const R=qs(f)||(()=>new f);a({provide:f,useFactory:R,deps:cn},f),a({provide:KE,useValue:f,multi:!0},f),a({provide:em,useValue:()=>Vt(f),multi:!0},f)}const D=g.providers;if(null!=D&&!C){const R=s;_w(D,F=>{a(F,R)})}}}return f!==s&&void 0!==s.providers}function _w(s,a){for(let d of s)Le(d)&&(d=d.\u0275providers),Array.isArray(d)?_w(d,a):a(d)}const $B=q({provide:String,useValue:q});function eI(s){return null!==s&&"object"==typeof s&&$B in s}function tm(s){return"function"==typeof s}const tn=new ni("Set Injector scope."),Ss={},IM={};let nm;function $i(){return void 0===nm&&(nm=new rv),nm}class Mo{}class vw extends Mo{get destroyed(){return this._destroyed}constructor(a,d,u,f){super(),this.parent=d,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nI(a,y=>this.processProvider(y)),this.records.set(ZE,Ei(void 0,this)),f.has("environment")&&this.records.set(Mo,Ei(void 0,this));const g=this.records.get(tn);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(KE.multi,cn,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const d=ut(this),u=Wt(void 0);try{return a()}finally{ut(d),Wt(u)}}get(a,d=et,u=xt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(ba))return a[ba](this);u=vi(u);const g=ut(this),y=Wt(void 0);try{if(!(u&xt.SkipSelf)){let D=this.records.get(a);if(void 0===D){const R=function tI(s){return"function"==typeof s||"object"==typeof s&&s instanceof ni}(a)&&ai(a);D=R&&this.injectableDefInScope(R)?Ei(sv(a),Ss):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(u&xt.Self?$i():this.parent).get(a,d=u&xt.Optional&&d===et?null:d)}catch(C){if("NullInjectorError"===C.name){if((C[Tt]=C[Tt]||[]).unshift(z(a)),g)throw C;return function ya(s,a,d,u){const f=s[Tt];throw a[ie]&&f.unshift(a[ie]),s.message=function Tl(s,a,d,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=z(a);if(Array.isArray(a))f=a.map(z).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let C=a[y];g.push(y+":"+("string"==typeof C?JSON.stringify(C):z(C)))}f=`{${g.join(", ")}}`}return`${d}${u?"("+u+")":""}[${f}]: ${s.replace(Z,"\n  ")}`}("\n"+s.message,f,d,u),s.ngTokenPath=f,s[Tt]=null,s}(C,a,"R3InjectorError",this.source)}throw C}finally{Wt(y),ut(g)}}resolveInjectorInitializers(){const a=ut(this),d=Wt(void 0);try{const f=this.get(em.multi,cn,xt.Self);for(const g of f)g()}finally{ut(a),Wt(d)}}toString(){const a=[],d=this.records;for(const u of d.keys())a.push(z(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(a){let d=tm(a=Ue(a))?a:Ue(a&&a.provide);const u=function zp(s){return eI(s)?Ei(void 0,s.useValue):Ei(av(s),Ss)}(a);if(tm(a)||!0!==a.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Ei(void 0,Ss,!0),f.factory=()=>kt(f.multi),this.records.set(d,f)),d=a,f.multi.push(a)}this.records.set(d,u)}hydrate(a,d){return d.value===Ss&&(d.value=IM,d.value=d.factory()),"object"==typeof d.value&&d.value&&function rm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=Ue(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(a){const d=this._onDestroyHooks.indexOf(a);-1!==d&&this._onDestroyHooks.splice(d,1)}}function sv(s){const a=ai(s),d=null!==a?a.factory:qs(s);if(null!==d)return d;if(s instanceof ni)throw new _e(204,!1);if(s instanceof Function)return function im(s){const a=s.length;if(a>0)throw vc(a,"?"),new _e(204,!1);const d=function ur(s){return s&&(s[Zn]||s[ao])||null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new _e(204,!1)}function av(s,a,d){let u;if(tm(s)){const f=Ue(s);return qs(f)||sv(f)}if(eI(s))u=()=>Ue(s.useValue);else if(function EM(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...kt(s.deps||[]));else if(function CM(s){return!(!s||!s.useExisting)}(s))u=()=>Vt(Ue(s.useExisting));else{const f=Ue(s&&(s.useClass||s.provide));if(!function qB(s){return!!s.deps}(s))return qs(f)||sv(f);u=()=>new f(...kt(s.deps))}return u}function Ei(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function nI(s,a){for(const d of s)Array.isArray(d)?nI(d,a):d&&Le(d)?nI(d.\u0275providers,a):a(d)}const om=new ni("AppId",{providedIn:"root",factory:()=>DM}),DM="ng",Ph=new ni("Platform Initializer"),sm=new ni("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iI=new ni("AnimationModuleType"),$p=new ni("CSP nonce",{providedIn:"root",factory:()=>function Mh(){if(void 0!==ME)return ME;if(typeof document<"u")return document;throw new _e(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hv=(s,a,d)=>null;function bu(s,a,d=!1){return hv(s,a,d)}class Ew{}class Iw{}class JB{resolveComponentFactory(a){throw function Dw(s){const a=Error(`No component factory found for ${z(s)}.`);return a.ngComponent=s,a}(a)}}let mv=(()=>{class s{static#e=this.NULL=new JB}return s})();function AM(){return lm(ir(),Ve())}function lm(s,a){return new pv(Xt(s,a))}let pv=(()=>{class s{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=AM}return s})();function eV(s){return s instanceof pv?s.nativeElement:s}class MM{}let tV=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function nV(){const s=Ve(),d=yr(ir().index,s);return(Si(d)?d:s)[Mt]}()}return s})(),iV=(()=>{class s{static#e=this.\u0275prov=yt({token:s,providedIn:"root",factory:()=>null})}return s})();class RM{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const OM=new RM("16.2.10"),Tw={};function LM(s,a=null,d=null,u){const f=BM(s,a,d,u);return f.resolveInjectorInitializers(),f}function BM(s,a=null,d=null,u,f=new Set){const g=[d||cn,wM(s)];return u=u||("object"==typeof s?void 0:z(s)),new vw(g,a||$i(),u||null,f)}let ml=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=et;static#t=this.NULL=new rv;static create(d,u){if(Array.isArray(d))return LM({name:""},u,d,"");{const f=d.name??"";return LM({name:f},d.parent,d.providers,f)}}static#n=this.\u0275prov=yt({token:s,providedIn:"any",factory:()=>Vt(ZE)});static#i=this.__NG_ELEMENT_ID__=-1}return s})();function lI(s){return s.ngOriginalError}class Bh{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&lI(a);for(;d&&lI(d);)d=lI(d);return d||null}}function uI(s){return a=>{setTimeout(s,void 0,a)}}const ad=class lV extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,u){let f=a,g=d||(()=>null),y=u;if(a&&"object"==typeof a){const D=a;f=D.next?.bind(D),g=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(g=uI(g),f&&(f=uI(f)),y&&(y=uI(y)));const C=super.subscribe({next:f,error:g,complete:y});return a instanceof oe.w0&&a.add(C),C}};function UM(...s){}class go{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ad(!1),this.onMicrotaskEmpty=new ad(!1),this.onStable=new ad(!1),this.onError=new ad(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&d,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function dV(){const s="function"==typeof bn.requestAnimationFrame;let a=bn[s?"requestAnimationFrame":"setTimeout"],d=bn[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&d){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=d[Zone.__symbol__("OriginalDelegate")];f&&(d=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function hV(s){const a=()=>{!function HM(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(bn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,hI(s),s.isCheckStableRunning=!0,kw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),hI(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,u,f,g,y,C)=>{if(function mV(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(C))return d.invokeTask(f,g,y,C);try{return jM(s),d.invokeTask(f,g,y,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),zM(s)}},onInvoke:(d,u,f,g,y,C,D)=>{try{return jM(s),d.invoke(f,g,y,C,D)}finally{s.shouldCoalesceRunChangeDetection&&a(),zM(s)}},onHasTask:(d,u,f,g)=>{d.hasTask(f,g),u===f&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,hI(s),kw(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,u,f,g)=>(d.handleError(f,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(go.isInAngularZone())throw new _e(909,!1)}run(a,d,u){return this._inner.run(a,d,u)}runTask(a,d,u,f){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+f,a,uV,UM,UM);try{return g.runTask(y,d,u)}finally{g.cancelTask(y)}}runGuarded(a,d,u){return this._inner.runGuarded(a,d,u)}runOutsideAngular(a){return this._outer.run(a)}}const uV={};function kw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function hI(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function jM(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function zM(s){s._nesting--,kw(s)}class fV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ad,this.onMicrotaskEmpty=new ad,this.onStable=new ad,this.onError=new ad}run(a,d,u){return a.apply(d,u)}runGuarded(a,d,u){return a.apply(d,u)}runOutsideAngular(a){return a()}runTask(a,d,u,f){return a.apply(d,u)}}const $M=new ni("",{providedIn:"root",factory:GM});function GM(){const s=Yt(go);let a=!0;const d=new j.y(f=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{f.next(a),f.complete()})}),u=new j.y(f=>{let g;s.runOutsideAngular(()=>{g=s.onStable.subscribe(()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const y=s.onUnstable.subscribe(()=>{go.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});return(0,se.T)(d,u.pipe((0,ue.B)()))}function wu(s){return s instanceof Function?s():s}let fI=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=yt({token:s,providedIn:"root",factory:()=>new s})}return s})();function gv(s){for(;s;){s[Pt]|=64;const a=Qe(s);if(zs(s)&&!a)return s;s=a}return null}const KM=new ni("",{providedIn:"root",factory:()=>!1});let Mw=null;function eR(s,a){return s[a]??iR()}function tR(s,a){const d=iR();d.producerNode?.length&&(s[a]=Mw,d.lView=s,Mw=nR())}const EV={...Ys,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{gv(s.lView)},lView:null};function nR(){return Object.create(EV)}function iR(){return Mw??=nR(),Mw}const un={};function rR(s){oR(_n(),Ve(),xr()+s,!1)}function oR(s,a,d,u){if(!u)if(3==(3&a[Pt])){const g=s.preOrderCheckHooks;null!==g&&Ma(a,g,d)}else{const g=s.preOrderHooks;null!==g&&eu(a,g,0,d)}ea(d)}function Qp(s,a=xt.Default){const d=Ve();return null===d?Vt(s,a):il(ir(),d,Ue(s),a)}function sR(){throw new Error("invalid")}function Rw(s,a,d,u,f,g,y,C,D,R,F){const $=a.blueprint.slice();return $[Kn]=f,$[Pt]=140|u,(null!==R||s&&2048&s[Pt])&&($[Pt]|=2048),vp($),$[Dn]=$[jo]=s,$[gn]=d,$[Us]=y||s&&s[Us],$[Mt]=C||s&&s[Mt],$[Ho]=D||s&&s[Ho]||null,$[ui]=g,$[zo]=function Sh(){return Xb++}(),$[gr]=F,$[$o]=R,$[Qn]=2==a.type?s[Qn]:$,$}function Xp(s,a,d,u,f){let g=s.data[a];if(null===g)g=function mI(s,a,d,u,f){const g=Zd(),y=ac(),D=s.data[a]=function TV(s,a,d,u,f,g){let y=a?a.injectorIndex:-1,C=0;return Is()&&(C|=128),{type:d,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,d,a,u,f);return null===s.firstChild&&(s.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(s,a,d,u,f),function uh(){return Ut.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=d,g.value=u,g.attrs=f;const y=function Jc(){const s=Ut.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return ka(g,!0),g}function _v(s,a,d,u){if(0===d)return-1;const f=a.length;for(let g=0;g<d;g++)a.push(u),s.blueprint.push(u),s.data.push(null);return f}function aR(s,a,d,u,f){const g=eR(a,Ea),y=xr(),C=2&u;try{ea(-1),C&&a.length>Kt&&oR(s,a,Kt,!1),S(C?2:0,f);const R=C?g:null,F=Ld(R);try{null!==R&&(R.dirty=!1),d(u,f)}finally{Oi(R,F)}}finally{C&&null===a[Ea]&&tR(a,Ea),ea(y),S(C?3:1,f)}}function pI(s,a,d){if(Za(a)){const u=vr(null);try{const g=a.directiveEnd;for(let y=a.directiveStart;y<g;y++){const C=s.data[y];C.contentQueries&&C.contentQueries(1,d[y],y)}}finally{vr(u)}}}function Ow(s,a,d){br()&&(function mR(s,a,d,u){const f=d.directiveStart,g=d.directiveEnd;ws(d)&&function yR(s,a,d){const u=Xt(a,s),f=Jp(d);let y=16;d.signals?y=4096:d.onPush&&(y=64);const C=Bw(s,Rw(s,f,null,y,u,a,null,s[Us].rendererFactory.createRenderer(u,d),null,null,null));s[a.index]=C}(a,d,s.data[f+d.componentOffset]),s.firstCreatePass||ti(d,a),eo(u,a);const y=d.initialInputs;for(let C=f;C<g;C++){const D=s.data[C],R=_c(a,s,C,d);eo(R,a),null!==y&&bR(0,C-f,R,D,0,y),_r(D)&&(yr(d.index,a)[gn]=_c(a,s,C,d))}}(s,a,d,Xt(d,a)),64==(64&d.flags)&&bI(s,a,d))}function xu(s,a,d=Xt){const u=a.localNames;if(null!==u){let f=a.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],C=-1===y?d(a,s):s[y];s[f++]=C}}}function Jp(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=vv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function vv(s,a,d,u,f,g,y,C,D,R,F){const $=Kt+u,te=$+f,le=function cR(s,a){const d=[];for(let u=0;u<a;u++)d.push(u<s?null:un);return d}($,te),Oe="function"==typeof R?R():R;return le[lt]={type:s,blueprint:le,template:d,queries:null,viewQuery:C,declTNode:a,data:le.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Oe,incompleteFirstPass:!1,ssrId:F}}let Nw=s=>null;function vI(s,a,d,u){for(let f in s)if(s.hasOwnProperty(f)){d=null===d?{}:d;const g=s[f];null===u?lR(d,a,f,g):u.hasOwnProperty(f)&&lR(d,a,u[f],g)}return d}function lR(s,a,d,u){s.hasOwnProperty(d)?s[d].push(a,u):s[d]=[a,u]}function La(s,a,d,u,f,g,y,C){const D=Xt(a,d);let F,R=a.inputs;!C&&null!=R&&(F=R[u])?(Cu(s,d,F,u,f),ws(a)&&function AV(s,a){const d=yr(a,s);16&d[Pt]||(d[Pt]|=64)}(d,a.index)):3&a.type&&(u=function kV(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),f=null!=y?y(f,a.value||"",u):f,g.setProperty(D,u,f))}function eg(s,a,d,u){if(br()){const f=null===u?null:{"":-1},g=function gR(s,a){const d=s.directiveRegistry;let u=null,f=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];if(Lc(a,y.selectors,!1))if(u||(u=[]),_r(y))if(null!==y.findHostDirectiveDefs){const C=[];f=f||new Map,y.findHostDirectiveDefs(y,C,f),u.unshift(...C,y),Fw(s,a,C.length)}else u.unshift(y),Fw(s,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,u,f),u.push(y)}return null===u?null:[u,f]}(s,d);let y,C;null===g?y=C=null:[y,C]=g,null!==y&&hR(s,a,d,y,f,C),f&&function _R(s,a,d){if(a){const u=s.localNames=[];for(let f=0;f<a.length;f+=2){const g=d[a[f+1]];if(null==g)throw new _e(-301,!1);u.push(a[f],g)}}}(d,u,f)}d.mergedAttrs=fs(d.mergedAttrs,d.attrs)}function hR(s,a,d,u,f,g){for(let R=0;R<u.length;R++)pc(ti(d,a),s,u[R].type);!function xI(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}(d,s.data.length,u.length);for(let R=0;R<u.length;R++){const F=u[R];F.providersResolver&&F.providersResolver(F)}let y=!1,C=!1,D=_v(s,a,u.length,null);for(let R=0;R<u.length;R++){const F=u[R];d.mergedAttrs=fs(d.mergedAttrs,F.hostAttrs),vR(s,d,a,D,F),wI(D,F,f),null!==F.contentQueries&&(d.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(d.flags|=64);const $=F.type.prototype;!y&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks??=[]).push(d.index),y=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(d.index),C=!0),D++}!function dR(s,a,d){const f=a.directiveEnd,g=s.data,y=a.attrs,C=[];let D=null,R=null;for(let F=a.directiveStart;F<f;F++){const $=g[F],te=d?d.get($):null,Oe=te?te.outputs:null;D=vI($.inputs,F,D,te?te.inputs:null),R=vI($.outputs,F,R,Oe);const Ze=null===D||null===y||Ar(a)?null:MV(D,F,y);C.push(Ze)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=8),D.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=D,a.outputs=R}(s,d,g)}function bI(s,a,d){const u=d.directiveStart,f=d.directiveEnd,g=d.index,y=function N_(){return Ut.lFrame.currentDirectiveIndex}();try{ea(g);for(let C=u;C<f;C++){const D=s.data[C],R=a[C];Qd(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&pR(D,R)}}finally{ea(-1),Qd(y)}}function pR(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Fw(s,a,d){a.componentOffset=d,(s.components??=[]).push(a.index)}function wI(s,a,d){if(d){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)d[a.exportAs[u]]=s;_r(a)&&(d[""]=s)}}function vR(s,a,d,u,f){s.data[u]=f;const g=f.factory||(f.factory=qs(f.type)),y=new To(g,_r(f),Qp);s.blueprint[u]=y,d[u]=y,function yI(s,a,d,u,f){const g=f.hostBindings;if(g){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const C=~a.index;(function fR(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(y)!=C&&y.push(C),y.push(d,u,g)}}(s,a,u,_v(s,d,f.hostVars,un),f)}function pl(s,a,d,u,f,g){const y=Xt(s,a);!function Lw(s,a,d,u,f,g,y){if(null==g)s.removeAttribute(a,f,d);else{const C=null==y?de(g):y(g,u||"",f);s.setAttribute(a,f,C,d)}}(a[Mt],y,g,s.value,d,u,f)}function bR(s,a,d,u,f,g){const y=g[a];if(null!==y)for(let C=0;C<y.length;)wR(u,d,y[C++],y[C++],y[C++])}function wR(s,a,d,u,f){const g=vr(null);try{const y=s.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(f=y[u].call(a,f)),null!==s.setInput?s.setInput(a,f,d,u):a[u]=f}finally{vr(g)}}function MV(s,a,d){let u=null,f=0;for(;f<d.length;){const g=d[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===u&&(u=[]);const y=s[g];for(let C=0;C<y.length;C+=2)if(y[C]===a){u.push(g,y[C+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function xR(s,a,d,u){return[s,!0,!1,a,null,0,u,d,null,null,null]}function CR(s,a){const d=s.contentQueries;if(null!==d)for(let u=0;u<d.length;u+=2){const g=d[u+1];if(-1!==g){const y=s.data[g];Ff(d[u]),y.contentQueries(2,a[g],g)}}}function Bw(s,a){return s[Hi]?s[Md][pr]=a:s[Hi]=a,s[Md]=a,a}function CI(s,a,d){Ff(0);const u=vr(null);try{a(s,d)}finally{vr(u)}}function yv(s){return s[Ya]||(s[Ya]=[])}function II(s){return s.cleanup||(s.cleanup=[])}function DI(s,a,d){return(null===s||_r(s))&&(d=function _t(s){for(;Array.isArray(s);){if("object"==typeof s[js])return s;s=s[Kn]}return null}(d[a.index])),d[Mt]}function Vw(s,a){const d=s[Ho],u=d?d.get(Bh,null):null;u&&u.handleError(a)}function Cu(s,a,d,u,f){for(let g=0;g<d.length;){const y=d[g++],C=d[g++];wR(s.data[y],a[y],u,C,f)}}function RV(s,a){const d=yr(a,s),u=d[lt];!function ER(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])}(u,d);const f=d[Kn];null!==f&&null===d[gr]&&(d[gr]=bu(f,d[Ho])),SI(u,d,d[gn])}function SI(s,a,d){fi(a);try{const u=s.viewQuery;null!==u&&CI(1,u,d);const f=s.template;null!==f&&aR(s,a,f,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&CR(s,a),s.staticViewQueries&&CI(2,s.viewQuery,d);const g=s.components;null!==g&&function OV(s,a){for(let d=0;d<a.length;d++)RV(s,a[d])}(a,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{a[Pt]&=-5,wr()}}let IR=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(d,u,f){const g=typeof Zone>"u"?null:Zone.current,y=function Af(s,a,d){const u=Object.create(Io);d&&(u.consumerAllowSignalWrites=!0),u.fn=s,u.schedule=a;const f=y=>{u.cleanupFn=y};return u.ref={notify:()=>Ia(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Vl(u))return;u.hasRun=!0;const y=Ld(u);try{u.cleanupFn(),u.cleanupFn=zl,u.fn(f)}finally{Oi(u,y)}},cleanup:()=>u.cleanupFn()},u.ref}(d,R=>{this.all.has(R)&&this.queue.set(R,g)},f);let C;this.all.add(y),y.notify();const D=()=>{y.cleanup(),C?.(),this.all.delete(y),this.queue.delete(y)};return C=u?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[d,u]of this.queue)this.queue.delete(d),u?u.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=yt({token:s,providedIn:"root",factory:()=>new s})}return s})();function bv(s,a,d){let u=d?s.styles:null,f=d?s.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const C=a[y];"number"==typeof C?g=C:1==g?f=We(f,C):2==g&&(u=We(u,C+": "+a[++y]+";"))}d?s.styles=u:s.stylesWithoutHost=u,d?s.classes=f:s.classesWithoutHost=f}function Eu(s,a,d,u,f=!1){for(;null!==d;){const g=a[d.index];null!==g&&u.push(ge(g)),ji(g)&&Vh(g,u);const y=d.type;if(8&y)Eu(s,a,d.child,u);else if(32&y){const C=ae(d,a);let D;for(;D=C();)u.push(D)}else if(16&y){const C=ow(a,d);if(Array.isArray(C))u.push(...C);else{const D=Qe(a[Qn]);Eu(D[lt],D,C,u,!0)}}d=f?d.projectionNext:d.next}return u}function Vh(s,a){for(let d=wi;d<s.length;d++){const u=s[d],f=u[lt].firstChild;null!==f&&Eu(u[lt],u,f,a)}s[bi]!==s[Kn]&&a.push(s[bi])}function Uw(s,a,d,u=!0){const f=a[Us],g=f.rendererFactory,y=f.afterRenderEventManager;g.begin?.(),y?.begin();try{wv(s,a,s.template,d)}catch(D){throw u&&Vw(a,D),D}finally{g.end?.(),f.effectManager?.flush(),y?.end()}}function wv(s,a,d,u){const f=a[Pt];if(256!=(256&f)){a[Us].effectManager?.flush(),fi(a);try{vp(a),function Pf(s){return Ut.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&aR(s,a,d,2,u);const y=3==(3&f);if(y){const R=s.preOrderCheckHooks;null!==R&&Ma(a,R,null)}else{const R=s.preOrderHooks;null!==R&&eu(a,R,0,null),tl(a,0)}if(function SR(s){for(let a=Ci(s);null!==a;a=Jo(a)){if(!a[jc])continue;const d=a[Di];for(let u=0;u<d.length;u++){ah(d[u])}}}(a),Hw(a,2),null!==s.contentQueries&&CR(s,a),y){const R=s.contentCheckHooks;null!==R&&Ma(a,R)}else{const R=s.contentHooks;null!==R&&eu(a,R,1),tl(a,1)}!function IV(s,a){const d=s.hostBindingOpCodes;if(null===d)return;const u=eR(a,ys);try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)ea(~g);else{const y=g,C=d[++f],D=d[++f];Kd(C,y),u.dirty=!1;const R=Ld(u);try{D(2,a[y])}finally{Oi(u,R)}}}}finally{null===a[ys]&&tR(a,ys),ea(-1)}}(s,a);const C=s.components;null!==C&&AI(a,C,0);const D=s.viewQuery;if(null!==D&&CI(2,D,u),y){const R=s.viewCheckHooks;null!==R&&Ma(a,R)}else{const R=s.viewHooks;null!==R&&eu(a,R,2),tl(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Pt]&=-73,zd(a)}finally{wr()}}}function Hw(s,a){for(let d=Ci(s);null!==d;d=Jo(d))for(let u=wi;u<d.length;u++)kI(d[u],a)}function TR(s,a,d){kI(yr(a,s),d)}function kI(s,a){if(!function Xc(s){return 128==(128&s[Pt])}(s))return;const d=s[lt],u=s[Pt];if(80&u&&0===a||1024&u||2===a)wv(d,s,d.template,s[gn]);else if(s[_s]>0){Hw(s,1);const f=d.components;null!==f&&AI(s,f,1)}}function AI(s,a,d){for(let u=0;u<a.length;u++)TR(s,a[u],d)}class tg{get rootNodes(){const a=this._lView,d=a[lt];return Eu(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(a){this._lView[gn]=a}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Dn];if(ji(a)){const d=a[8],u=d?d.indexOf(this):-1;u>-1&&(Z_(a,u),Cp(d,u))}this._attachedToViewContainer=!1}nw(this._lView[lt],this._lView)}onDestroy(a){!function oi(s,a){if(256==(256&s[Pt]))throw new _e(911,!1);null===s[vs]&&(s[vs]=[]),s[vs].push(a)}(this._lView,a)}markForCheck(){gv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){Uw(this._lView[lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function id(s,a){Lp(s,a,a[Mt],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=a}}class Iu extends tg{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Uw(a[lt],a,a[gn],!1)}checkNoChanges(){}get context(){return null}}class kR extends mv{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=ln(a);return new xv(d,this.ngModule)}}function dm(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class NV{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,u){u=vi(u);const f=this.injector.get(a,Tw,u);return f!==Tw||d===Tw?f:this.parentInjector.get(a,d,u)}}class xv extends Iw{get inputs(){const a=this.componentDef,d=a.inputTransforms,u=dm(a.inputs);if(null!==d)for(const f of u)d.hasOwnProperty(f.propName)&&(f.transform=d[f.propName]);return u}get outputs(){return dm(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function Bc(s){return s.map(qa).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,u,f){let g=(f=f||this.ngModule)instanceof Mo?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new NV(a,g):a,C=y.get(MM,null);if(null===C)throw new _e(407,!1);const $={rendererFactory:C,sanitizer:y.get(iV,null),effectManager:y.get(IR,null),afterRenderEventManager:y.get(fI,null)},te=C.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",Oe=u?function gI(s,a,d,u){const g=u.get(KM,!1)||d===Vr.ShadowDom,y=s.selectRootElement(a,g);return function Pw(s){Nw(s)}(y),y}(te,u,this.componentDef.encapsulation,y):_u(te,le,function MI(s){const a=s.toLowerCase();return"svg"===a?N:"math"===a?"math":null}(le)),Rt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ze=null;null!==Oe&&(ze=bu(Oe,y,!0));const Qt=vv(0,null,null,1,0,null,null,null,null,null,null),vn=Rw(null,Qt,null,Rt,null,null,$,te,y,null,ze);let si,oo;fi(vn);try{const yl=this.componentDef;let yd,nf=null;yl.findHostDirectiveDefs?(yd=[],nf=new Map,yl.findHostDirectiveDefs(yl,yd,nf),yd.push(yl)):yd=[yl];const rf=function LV(s,a){const d=s[lt],u=Kt;return s[u]=a,Xp(d,u,2,"#host",null)}(vn,Oe),Sx=function BV(s,a,d,u,f,g,y){const C=f[lt];!function VV(s,a,d,u){for(const f of s)a.mergedAttrs=fs(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(bv(a,a.mergedAttrs,!0),null!==d&&Bp(u,d,a))}(u,s,a,y);let D=null;null!==a&&(D=bu(a,f[Ho]));const R=g.rendererFactory.createRenderer(a,d);let F=16;d.signals?F=4096:d.onPush&&(F=64);const $=Rw(f,Jp(d),null,F,f[s.index],s,g,R,null,null,D);return C.firstCreatePass&&Fw(C,s,u.length-1),Bw(f,$),f[s.index]=$}(rf,Oe,yl,yd,vn,$,te);oo=Es(Qt,Kt),Oe&&function HV(s,a,d,u){if(u)wa(s,d,["ng-version",OM.full]);else{const{attrs:f,classes:g}=function Ur(s){const a=[],d=[];let u=1,f=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===f?""!==g&&a.push(g,s[++u]):8===f&&d.push(g);else{if(!Mr(f))break;f=g}u++}return{attrs:a,classes:d}}(a.selectors[0]);f&&wa(s,d,f),g&&g.length>0&&kE(s,d,g.join(" "))}}(te,yl,Oe,u),void 0!==d&&function RI(s,a,d){const u=s.projection=[];for(let f=0;f<a.length;f++){const g=d[f];u.push(null!=g?Array.from(g):null)}}(oo,this.ngContentSelectors,d),si=function UV(s,a,d,u,f,g){const y=ir(),C=f[lt],D=Xt(y,f);hR(C,f,y,d,null,u);for(let F=0;F<d.length;F++)eo(_c(f,C,y.directiveStart+F,y),f);bI(C,f,y),D&&eo(D,f);const R=_c(f,C,y.directiveStart+y.componentOffset,y);if(s[gn]=f[gn]=R,null!==g)for(const F of g)F(R,a);return pI(C,y,s),R}(Sx,yl,yd,nf,vn,[AR]),SI(Qt,vn,null)}finally{wr()}return new FV(this.componentType,si,lm(oo,vn),vn,oo)}}class FV extends Ew{constructor(a,d,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new Iu(f),this.componentType=a}setInput(a,d){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),d))return;const g=this._rootLView;Cu(g[lt],g,f,a,d),this.previousInputValues.set(a,d),gv(yr(this._tNode.index,g))}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function AR(){const s=ir();el(Ve()[lt],s)}function jw(s){let a=function OI(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const u=[s];for(;a;){let f;if(_r(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new _e(903,!1);f=a.\u0275dir}if(f){if(d){u.push(f);const y=s;y.inputs=In(s.inputs),y.inputTransforms=In(s.inputTransforms),y.declaredInputs=In(s.declaredInputs),y.outputs=In(s.outputs);const C=f.hostBindings;C&&$V(s,C);const D=f.viewQuery,R=f.contentQueries;if(D&&jV(s,D),R&&zV(s,R),K(s.inputs,f.inputs),K(s.declaredInputs,f.declaredInputs),K(s.outputs,f.outputs),null!==f.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),K(y.inputTransforms,f.inputTransforms)),_r(f)&&f.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let y=0;y<g.length;y++){const C=g[y];C&&C.ngInherit&&C(s),C===jw&&(d=!1)}}a=Object.getPrototypeOf(a)}!function MR(s){let a=0,d=null;for(let u=s.length-1;u>=0;u--){const f=s[u];f.hostVars=a+=f.hostVars,f.hostAttrs=fs(f.hostAttrs,d=fs(d,f.hostAttrs))}}(u)}function In(s){return s===hr?{}:s===cn?[]:s}function jV(s,a){const d=s.viewQuery;s.viewQuery=d?(u,f)=>{a(u,f),d(u,f)}:a}function zV(s,a){const d=s.contentQueries;s.contentQueries=d?(u,f,g)=>{a(u,f,g),d(u,f,g)}:a}function $V(s,a){const d=s.hostBindings;s.hostBindings=d?(u,f)=>{a(u,f),d(u,f)}:a}function PR(s){const a=s.inputConfig,d={};for(const u in a)if(a.hasOwnProperty(u)){const f=a[u];Array.isArray(f)&&f[2]&&(d[u]=f[2])}s.inputTransforms=d}function qw(s){return!!NI(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function NI(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ld(s,a,d){return s[a]=d}function es(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function Ww(s,a,d,u){const f=Ve();return es(f,cc(),a)&&(_n(),pl(Jn(),f,s,a,d,u)),Ww}function jI(s,a,d,u,f,g,y,C){const D=Ve(),R=_n(),F=s+Kt,$=R.firstCreatePass?function oU(s,a,d,u,f,g,y,C,D){const R=a.consts,F=Xp(a,s,4,y||null,Kr(R,C));eg(a,d,F,Kr(R,D)),el(a,F);const $=F.tView=vv(2,F,u,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,R,null);return null!==a.queries&&(a.queries.template(a,F),$.queries=a.queries.embeddedTView(F)),F}(F,R,D,a,d,u,f,g,y):R.data[F];ka($,!1);const te=zI(R,D,$,s);So()&&Np(R,D,te,$),eo(te,D),Bw(D,D[F]=xR(te,D,te,$)),Rr($)&&Ow(R,D,$),null!=y&&xu(D,$,C)}let zI=function Iv(s,a,d,u){return Zo(!0),a[Mt].createComment("")};function $I(s){return Go(function yp(){return Ut.lFrame.contextLView}(),Kt+s)}function GI(s,a,d){const u=Ve();return es(u,cc(),a)&&La(_n(),Jn(),u,s,a,u[Mt],d,!1),GI}function Jw(s,a,d,u,f){const y=f?"class":"style";Cu(s,d,a.inputs[y],y,u)}function ag(s,a,d,u){const f=Ve(),g=_n(),y=Kt+s,C=f[Mt],D=g.firstCreatePass?function qI(s,a,d,u,f,g){const y=a.consts,D=Xp(a,s,2,u,Kr(y,f));return eg(a,d,D,Kr(y,g)),null!==D.attrs&&bv(D,D.attrs,!1),null!==D.mergedAttrs&&bv(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(y,g,f,a,d,u):g.data[y],R=WR(g,f,D,C,a,s);f[y]=R;const F=Rr(D);return ka(D,!0),Bp(C,R,D),32!=(32&D.flags)&&So()&&Np(g,f,R,D),0===function $d(){return Ut.lFrame.elementDepthCount}()&&eo(R,f),function nr(){Ut.lFrame.elementDepthCount++}(),F&&(Ow(g,f,D),pI(g,D,f)),null!==u&&xu(f,D),ag}function e0(){let s=ir();ac()?lh():(s=s.parent,ka(s,!1));const a=s;(function Gd(s){return Ut.skipHydrationRootTNode===s})(a)&&function ch(){Ut.skipHydrationRootTNode=null}(),function Of(){Ut.lFrame.elementDepthCount--}();const d=_n();return d.firstCreatePass&&(el(d,s),Za(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ta(s){return 0!=(8&s.flags)}(a)&&Jw(d,a,Ve(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ko(s){return 0!=(16&s.flags)}(a)&&Jw(d,a,Ve(),a.stylesWithoutHost,!1),e0}function t0(s,a,d,u){return ag(s,a,d,u),e0(),t0}let WR=(s,a,d,u,f,g)=>(Zo(!0),_u(u,f,function fh(){return Ut.lFrame.currentNamespace}()));function n0(s,a,d){const u=Ve(),f=_n(),g=s+Kt,y=f.firstCreatePass?function WI(s,a,d,u,f){const g=a.consts,y=Kr(g,u),C=Xp(a,s,8,"ng-container",y);return null!==y&&bv(C,y,!0),eg(a,d,C,Kr(g,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,f,u,a,d):f.data[g];ka(y,!0);const C=YI(f,u,y,s);return u[g]=C,So()&&Np(f,u,C,y),eo(C,u),Rr(y)&&(Ow(f,u,y),pI(f,y,u)),null!=d&&xu(u,y),n0}function cg(){let s=ir();const a=_n();return ac()?lh():(s=s.parent,ka(s,!1)),a.firstCreatePass&&(el(a,s),Za(s)&&a.queries.elementEnd(s)),cg}function r0(s,a,d){return n0(s,a,d),cg(),r0}let YI=(s,a,d,u)=>(Zo(!0),hl(a[Mt],""));function ym(){return Ve()}function Dv(s){return!!s&&"function"==typeof s.then}function ZI(s){return!!s&&"function"==typeof s.subscribe}function o0(s,a,d,u){const f=Ve(),g=_n(),y=ir();return bm(g,f,f[Mt],y,s,a,u),o0}function s0(s,a){const d=ir(),u=Ve(),f=_n();return bm(f,u,DI(Nf(f.data),d,u),d,s,a),s0}function bm(s,a,d,u,f,g,y){const C=Rr(u),R=s.firstCreatePass&&II(s),F=a[gn],$=yv(a);let te=!0;if(3&u.type||y){const Ze=Xt(u,a),dt=y?y(Ze):Ze,Rt=$.length,ze=y?vn=>y(ge(vn[u.index])):u.index;let Qt=null;if(!y&&C&&(Qt=function KI(s,a,d,u){const f=s.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const y=f[g];if(y===d&&f[g+1]===u){const C=a[Ya],D=f[g+2];return C.length>D?C[D]:null}"string"==typeof y&&(g+=2)}return null}(s,a,f,u.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=g,Qt.__ngLastListenerFn__=g,te=!1;else{g=a0(u,a,F,g,!1);const vn=d.listen(dt,f,g);$.push(g,vn),R&&R.push(f,ze,Rt,Rt+1)}}else g=a0(u,a,F,g,!1);const le=u.outputs;let Oe;if(te&&null!==le&&(Oe=le[f])){const Ze=Oe.length;if(Ze)for(let dt=0;dt<Ze;dt+=2){const si=a[Oe[dt]][Oe[dt+1]].subscribe(g),oo=$.length;$.push(g,si),R&&R.push(f,u.index,oo,-(oo+1))}}}function QI(s,a,d,u){try{return S(6,a,d),!1!==d(u)}catch(f){return Vw(s,f),!1}finally{S(7,a,d)}}function a0(s,a,d,u,f){return function g(y){if(y===Function)return u;gv(s.componentOffset>-1?yr(s.index,a):a);let D=QI(a,d,u,y),R=g.__ngNextListenerFn__;for(;R;)D=QI(a,d,R,y)&&D,R=R.__ngNextListenerFn__;return f&&!1===D&&y.preventDefault(),D}}function XI(s=1){return function Jd(s){return(Ut.lFrame.contextLView=function $l(s,a){for(;s>0;)a=a[jo],s--;return a}(s,Ut.lFrame.contextLView))[gn]}(s)}function KR(s,a){let d=null;const u=function Ml(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(s);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===u?Lc(s,g,!0):Bs(u,g))return f}else d=f}return d}function QR(s){const a=Ve()[Qn][ui];if(!a.projection){const u=a.projection=vc(s?s.length:1,null),f=u.slice();let g=a.child;for(;null!==g;){const y=s?KR(g,s):0;null!==y&&(f[y]?f[y].projectionNext=g:u[y]=g,f[y]=g),g=g.next}}}function JI(s,a=0,d){const u=Ve(),f=_n(),g=Xp(f,Kt+s,16,null,d||null);null===g.projection&&(g.projection=a),lh(),(!u[gr]||Is())&&32!=(32&g.flags)&&function aw(s,a,d){cw(a[Mt],0,a,d,Kf(s,d,a),DE(d.parent||a[ui],d,a))}(f,u,g)}function xm(s,a){return s<<17|a<<2}function Gh(s){return s>>17&32767}function l0(s){return 2|s}function Tu(s){return(131068&s)>>2}function Tv(s,a){return-131069&s|a<<2}function oD(s){return 1|s}function sD(s,a,d,u,f){const g=s[d+1],y=null===a;let C=u?Gh(g):Tu(g),D=!1;for(;0!==C&&(!1===D||y);){const F=s[C+1];kv(s[C],a)&&(D=!0,s[C+1]=u?oD(F):l0(F)),C=u?Gh(F):Tu(F)}D&&(s[d+1]=u?l0(g):oD(g))}function kv(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&ou(s,a)>=0}function Rv(s,a,d){return Ba(s,a,d,!1),Rv}function d0(s,a){return Ba(s,a,null,!0),d0}function Ba(s,a,d,u){const f=Ve(),g=_n(),y=function Wo(s){const a=Ut.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}(2);g.firstUpdatePass&&function ug(s,a,d,u){const f=s.data;if(null===f[d+1]){const g=f[xr()],y=function Er(s,a){return a>=s.expandoStartIndex}(s,d);(function uD(s,a){return 0!=(s.flags&(a?8:16))})(g,u)&&null===a&&!y&&(a=!1),a=function Ir(s,a,d,u){const f=Nf(s);let g=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(d=Pv(d=Ov(null,s,a,d,u),a.attrs,u),g=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==f)if(d=Ov(f,s,a,d,u),null===g){let D=function _U(s,a,d){const u=d?a.classBindings:a.styleBindings;if(0!==Tu(u))return s[Gh(u)]}(s,a,u);void 0!==D&&Array.isArray(D)&&(D=Ov(null,s,a,D[1],u),D=Pv(D,a.attrs,u),function cD(s,a,d,u){s[Gh(d?a.classBindings:a.styleBindings)]=u}(s,a,u,D))}else g=function vU(s,a,d){let u;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)u=Pv(u,s[g].hostAttrs,d);return Pv(u,a.attrs,d)}(s,a,u)}return void 0!==g&&(u?a.residualClasses=g:a.residualStyles=g),d}(f,g,a,u),function uU(s,a,d,u,f,g){let y=g?a.classBindings:a.styleBindings,C=Gh(y),D=Tu(y);s[u]=d;let F,R=!1;if(Array.isArray(d)?(F=d[1],(null===F||ou(d,F)>0)&&(R=!0)):F=d,f)if(0!==D){const te=Gh(s[C+1]);s[u+1]=xm(te,C),0!==te&&(s[te+1]=Tv(s[te+1],u)),s[C+1]=function e1(s,a){return 131071&s|a<<17}(s[C+1],u)}else s[u+1]=xm(C,0),0!==C&&(s[C+1]=Tv(s[C+1],u)),C=u;else s[u+1]=xm(D,0),0===C?C=u:s[D+1]=Tv(s[D+1],u),D=u;R&&(s[u+1]=l0(s[u+1])),sD(s,F,u,!0),sD(s,F,u,!1),function hU(s,a,d,u,f){const g=f?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&ou(g,a)>=0&&(d[u+1]=oD(d[u+1]))}(a,F,s,u,g),y=xm(C,D),g?a.classBindings=y:a.styleBindings=y}(f,g,a,d,y,u)}}(g,s,y,u),a!==un&&es(f,y,a)&&function lD(s,a,d,u,f,g,y,C){if(!(3&a.type))return;const D=s.data,R=D[C+1],F=function dU(s){return 1==(1&s)}(R)?dD(D,a,d,f,Tu(R),y):void 0;Fv(F)||(Fv(g)||function JR(s){return 2==(2&s)}(R)&&(g=dD(D,null,d,f,C,y)),function rM(s,a,d,u,f){if(a)f?s.addClass(d,u):s.removeClass(d,u);else{let g=-1===u.indexOf("-")?void 0:mu.DashCase;null==f?s.removeStyle(d,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=mu.Important),s.setStyle(d,u,f,g))}}(u,y,dn(xr(),d),f,g))}(g,g.data[xr()],f,f[Mt],s,f[y+1]=function s1(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=z(rd(s)))),s}(a,d),u,y)}function Ov(s,a,d,u,f){let g=null;const y=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<y&&(g=a[C],u=Pv(u,g.hostAttrs,f),g!==s);)C++;return null!==s&&(d.directiveStylingLast=C),u}function Pv(s,a,d){const u=d?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?f=y:f===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Xo(s,y,!!d||a[++g]))}return void 0===s?null:s}function dD(s,a,d,u,f,g){const y=null===a;let C;for(;f>0;){const D=s[f],R=Array.isArray(D),F=R?D[1]:D,$=null===F;let te=d[f+1];te===un&&(te=$?cn:void 0);let le=$?Ip(te,u):F===u?te:void 0;if(R&&!Fv(le)&&(le=Ip(D,u)),Fv(le)&&(C=le,y))return C;const Oe=s[f+1];f=y?Gh(Oe):Tu(Oe)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(C=Ip(D,u))}return C}function Fv(s){return void 0!==s}function hD(s,a=""){const d=Ve(),u=_n(),f=s+Kt,g=u.firstCreatePass?Xp(u,f,1,a,null):u.data[f],y=fD(u,d,g,a,s);d[f]=y,So()&&Np(u,d,y,g),ka(g,!1)}let fD=(s,a,d,u,f)=>(Zo(!0),function gu(s,a){return s.createText(a)}(a[Mt],u));function f0(s){return fg("",s,""),f0}function fg(s,a,d){const u=Ve(),f=function fm(s,a,d,u){return es(s,cc(),d)?a+de(d)+u:un}(u,s,a,d);return f!==un&&function cd(s,a,d){const u=dn(a,s);!function ul(s,a,d){s.setValue(a,d)}(s[Mt],u,d)}(u,xr(),f),fg}function xD(s,a,d){const u=Ve();return es(u,cc(),a)&&La(_n(),Jn(),u,s,a,u[Mt],d,!0),xD}function pg(s,a,d){const u=Ve();if(es(u,cc(),a)){const g=_n(),y=Jn();La(g,y,u,s,a,DI(Nf(g.data),y,u),d,!0)}return pg}const hd=void 0;var _1=["en",[["a","p"],["AM","PM"],hd],[["AM","PM"],hd,hd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hd,"{1} 'at' {0}",hd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wU(s){const d=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===u?1:5}];let gg={};function CD(s){const a=function w1(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=ED(a);if(d)return d;const u=a.split("-")[0];if(d=ED(u),d)return d;if("en"===u)return _1;throw new _e(701,!1)}function b1(s){return CD(s)[_g.PluralCase]}function ED(s){return s in gg||(gg[s]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[s]),gg[s]}var _g=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(_g||{});const Im="en-US";let C1=Im;function Wv(s,a,d,u,f){if(s=Ue(s),Array.isArray(s))for(let g=0;g<s.length;g++)Wv(s[g],a,d,u,f);else{const g=_n(),y=Ve(),C=ir();let D=tm(s)?s:Ue(s.provide);const R=av(s),F=1048575&C.providerIndexes,$=C.directiveStart,te=C.providerIndexes>>20;if(tm(s)||!s.multi){const le=new To(R,f,Qp),Oe=A0(D,a,f?F:F+te,$);-1===Oe?(pc(ti(C,y),g,D),no(g,s,a.length),a.push(D),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),d.push(le),y.push(le)):(d[Oe]=le,y[Oe]=le)}else{const le=A0(D,a,F+te,$),Oe=A0(D,a,F,F+te),dt=Oe>=0&&d[Oe];if(f&&!dt||!f&&!(le>=0&&d[le])){pc(ti(C,y),g,D);const Rt=function ZD(s,a,d,u,f){const g=new To(s,d,Qp);return g.multi=[],g.index=a,g.componentProviders=0,fd(g,f,u&&!d),g}(f?YD:G1,d.length,f,u,R);!f&&dt&&(d[Oe].providerFactory=Rt),no(g,s,a.length,0),a.push(D),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),d.push(Rt),y.push(Rt)}else no(g,s,le>-1?le:Oe,fd(d[f?Oe:le],R,!f&&u));!f&&u&&dt&&d[Oe].componentProviders++}}}function no(s,a,d,u){const f=tm(a),g=function GB(s){return!!s.useClass}(a);if(f||g){const D=(g?Ue(a.useClass):a).prototype.ngOnDestroy;if(D){const R=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const F=R.indexOf(d);-1===F?R.push(d,[u,D]):R[F+1].push(u,D)}else R.push(d,D)}}}function fd(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function A0(s,a,d,u){for(let f=d;f<u;f++)if(a[f]===s)return f;return-1}function G1(s,a,d,u){return Yv(this.multi,[])}function YD(s,a,d,u){const f=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=_c(d,d[lt],this.providerFactory.index,u);g=C.slice(0,y),Yv(f,g);for(let D=y;D<C.length;D++)g.push(C[D])}else g=[],Yv(f,g);return g}function Yv(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function M0(s,a=[]){return d=>{d.providersResolver=(u,f)=>function Mu(s,a,d){const u=_n();if(u.firstCreatePass){const f=_r(s);Wv(d,u.data,u.blueprint,f,!0),Wv(a,u.data,u.blueprint,f,!1)}}(u,f?f(s):s,a)}}class Ru{}class R0{}function KD(s,a){return new Dm(s,a??null,[])}class Dm extends Ru{constructor(a,d,u){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kR(this);const f=mr(a);this._bootstrapComponents=wu(f.bootstrap),this._r3Injector=BM(a,d,[{provide:Ru,useValue:this},{provide:mv,useValue:this.componentFactoryResolver},...u],z(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Zv extends R0{constructor(a){super(),this.moduleType=a}create(a){return new Dm(this.moduleType,a,[])}}class O0 extends Ru{constructor(a){super(),this.componentFactoryResolver=new kR(this),this.instance=null;const d=new vw([...a.providers,{provide:Ru,useValue:this},{provide:mv,useValue:this.componentFactoryResolver}],a.parent||$i(),a.debugName,new Set(["environment"]));this.injector=d,a.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function P0(s,a,d=null){return new O0({providers:s,parent:a,debugName:d,runEnvironmentInitializers:!0}).injector}let W1=(()=>{class s{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const u=XE(0,d.type),f=u.length>0?P0([u],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,f)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yt({token:s,providedIn:"environment",factory:()=>new s(Vt(Mo))})}return s})();function N0(s){s.getStandaloneInjector=a=>a.get(W1).getOrCreateStandaloneInjector(s)}function eS(s,a,d){const u=Qr()+s,f=Ve();return f[u]===un?ld(f,u,d?a.call(d):a()):function um(s,a){return s[a]}(f,u)}function J1(s,a,d,u,f,g){const y=a+d;return es(s,y,f)?ld(s,y+1,g?u.call(g,f):u(f)):function ty(s,a){const d=s[a];return d===un?void 0:d}(s,y+1)}function nO(s,a){const d=_n();let u;const f=s+Kt;d.firstCreatePass?(u=function zU(s,a){if(a)for(let d=a.length-1;d>=0;d--){const u=a[d];if(s===u.name)return u}}(a,d.pipeRegistry),d.data[f]=u,u.onDestroy&&(d.destroyHooks??=[]).push(f,u.onDestroy)):u=d.data[f];const g=u.factory||(u.factory=qs(u.type)),C=Wt(Qp);try{const D=Bn(!1),R=g();return Bn(D),function aU(s,a,d,u){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),a[d]=u}(d,Ve(),f,R),R}finally{Wt(C)}}function Eg(s,a,d){const u=s+Kt,f=Ve(),g=Go(f,u);return function Zh(s,a){return s[lt].data[a].pure}(f,u)?J1(f,Qr(),a,g.transform,d,g):g.transform(d)}function rO(){return this._results[Symbol.iterator]()}class Kh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ad)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Kh.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=rO)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const u=this;u.dirty=!1;const f=function Jr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ds(s,a,d){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++){let f=s[u],g=a[u];if(d&&(f=d(f),g=d(g)),g!==f)return!1}return!0}(u._results,f,d))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function iS(s,a,d,u=!0){const f=a[lt];if(function tw(s,a,d,u){const f=wi+u,g=d.length;u>0&&(d[f-1][pr]=a),u<g-wi?(a[pr]=d[f],F_(d,wi+u,a)):(d.push(a),a[pr]=null),a[Dn]=d;const y=a[Pl];null!==y&&d!==y&&function Op(s,a){const d=s[Di];a[Qn]!==a[Dn][Dn][Qn]&&(s[jc]=!0),null===d?s[Di]=[a]:d.push(a)}(y,a);const C=a[Ri];null!==C&&C.insertView(s),a[Pt]|=128}(f,a,s,d),u){const g=sw(d,s),y=a[Mt],C=K_(y,s[bi]);null!==C&&function vu(s,a,d,u,f,g){u[Kn]=f,u[ui]=a,Lp(s,u,d,1,f,g)}(f,s[ui],y,a,C,g)}}let iy=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=GU}return s})();const $U=iy,sO=class extends $U{constructor(a,d,u){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,d){return this.createEmbeddedViewImpl(a,d)}createEmbeddedViewImpl(a,d,u){const f=function nS(s,a,d,u){const f=a.tView,C=Rw(s,f,d,4096&s[Pt]?4096:16,null,a,null,null,null,u?.injector??null,u?.hydrationInfo??null);C[Pl]=s[a.index];const R=s[Ri];return null!==R&&(C[Ri]=R.createEmbeddedView(f)),SI(f,C,d),C}(this._declarationLView,this._declarationTContainer,a,{injector:d,hydrationInfo:u});return new tg(f)}};function GU(){return Ou(ir(),Ve())}function Ou(s,a){return 4&s.type?new sO(a,s,lm(s,a)):null}let Dg=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=lO}return s})();function lO(){return ly(ir(),Ve())}const sS=Dg,aS=class extends sS{constructor(a,d,u){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=u}get element(){return lm(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){const a=fo(this._hostTNode,this._hostLView);if(mc(a)){const d=ei(a,this._hostLView),u=Ht(a);return new xi(d[lt].data[u+8],d)}return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=dO(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-wi}createEmbeddedView(a,d,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const C=a.createEmbeddedViewImpl(d||{},g,null);return this.insertImpl(C,f,false),C}createComponent(a,d,u,f,g){const y=a&&!function or(s){return"function"==typeof s}(a);let C;if(y)C=d;else{const Ze=d||{};C=Ze.index,u=Ze.injector,f=Ze.projectableNodes,g=Ze.environmentInjector||Ze.ngModuleRef}const D=y?a:new xv(ln(a)),R=u||this.parentInjector;if(!g&&null==D.ngModule){const dt=(y?R:this.parentInjector).get(Mo,null);dt&&(g=dt)}ln(D.componentType??{});const le=D.create(R,f,null,g);return this.insertImpl(le.hostView,C,false),le}insert(a,d){return this.insertImpl(a,d,!1)}insertImpl(a,d,u){const f=a._lView;if(function _p(s){return ji(s[Dn])}(f)){const D=this.indexOf(a);if(-1!==D)this.detach(D);else{const R=f[Dn],F=new aS(R,R[ui],R[Dn]);F.detach(F.indexOf(a))}}const y=this._adjustIndex(d),C=this._lContainer;return iS(C,f,y,!u),a.attachToViewContainerRef(),F_(G0(C),y,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=dO(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),u=Z_(this._lContainer,d);u&&(Cp(G0(this._lContainer),d),nw(u[lt],u))}detach(a){const d=this._adjustIndex(a,-1),u=Z_(this._lContainer,d);return u&&null!=Cp(G0(this._lContainer),d)?new tg(u):null}_adjustIndex(a,d=0){return a??this.length+d}};function dO(s){return s[8]}function G0(s){return s[8]||(s[8]=[])}function ly(s,a){let d;const u=a[s.index];return ji(u)?d=u:(d=xR(u,a,null,s),a[s.index]=d,Bw(a,d)),uO(d,a,s,u),new aS(d,s,a)}let uO=function dy(s,a,d,u){if(s[bi])return;let f;f=8&d.type?ge(u):function qU(s,a){const d=s[Mt],u=d.createComment(""),f=Xt(a,s);return Ah(d,K_(d,f),u,function nM(s,a){return s.nextSibling(a)}(d,f),!1),u}(a,d),s[bi]=f};class Sg{constructor(a){this.queryList=a,this.matches=null}clone(){return new Sg(this.queryList)}setDirty(){this.queryList.setDirty()}}class q0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const u=null!==a.contentQueries?a.contentQueries[0]:d.length,f=[];for(let g=0;g<u;g++){const y=d.getByIndex(g);f.push(this.queries[y.indexInDeclarationView].clone())}return new q0(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==Q0(a,d).matches&&this.queries[d].setDirty()}}class fO{constructor(a,d,u=null){this.predicate=a,this.flags=d,this.read=u}}class W0{constructor(a=[]){this.queries=a}elementStart(a,d){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let u=0;u<this.length;u++){const f=null!==d?d.length:0,g=this.getByIndex(u).embeddedTView(a,f);g&&(g.indexInDeclarationView=u,null!==d?d.push(g):d=[g])}return null!==d?new W0(d):null}template(a,d){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Xh{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new Xh(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==d;)u=u.parent;return d===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(a,d,uy(d,g)),this.matchTNodeWithReadOption(a,d,gc(d,a,g,!1,!1))}else u===iy?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,gc(d,a,u,!1,!1))}matchTNodeWithReadOption(a,d,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===pv||f===Dg||f===iy&&4&d.type)this.addMatch(d.index,-2);else{const g=gc(d,a,f,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,u)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function uy(s,a){const d=s.localNames;if(null!==d)for(let u=0;u<d.length;u+=2)if(d[u]===a)return d[u+1];return null}function dS(s,a,d,u){return-1===d?function lS(s,a){return 11&s.type?lm(s,a):4&s.type?Ou(s,a):null}(a,s):-2===d?function uS(s,a,d){return d===pv?lm(a,s):d===iy?Ou(a,s):d===Dg?ly(a,s):void 0}(s,a,u):_c(s,s[lt],d,a)}function mO(s,a,d,u){const f=a[Ri].queries[u];if(null===f.matches){const g=s.data,y=d.matches,C=[];for(let D=0;D<y.length;D+=2){const R=y[D];C.push(R<0?null:dS(a,g[R],y[D+1],d.metadata.read))}f.matches=C}return f.matches}function Y0(s,a,d,u){const f=s.queries.getByIndex(d),g=f.matches;if(null!==g){const y=mO(s,a,f,d);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)u.push(y[C/2]);else{const R=g[C+1],F=a[-D];for(let $=wi;$<F.length;$++){const te=F[$];te[Pl]===te[Dn]&&Y0(te[lt],te,R,u)}if(null!==F[Di]){const $=F[Di];for(let te=0;te<$.length;te++){const le=$[te];Y0(le[lt],le,R,u)}}}}}return u}function Z0(s){const a=Ve(),d=_n(),u=Xd();Ff(u+1);const f=Q0(d,u);if(s.dirty&&function gp(s){return 4==(4&s[Pt])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const g=f.crossesNgTemplate?Y0(d,a,u,[]):mO(d,a,f,u);s.reset(g,eV),s.notifyOnChanges()}return!0}return!1}function pO(s,a,d){const u=_n();u.firstCreatePass&&(K0(u,new fO(s,a,d),-1),2==(2&a)&&(u.staticViewQueries=!0)),hS(u,Ve(),a)}function gO(s,a,d,u){const f=_n();if(f.firstCreatePass){const g=ir();K0(f,new fO(a,d,u),g.index),function vO(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(f,s),2==(2&d)&&(f.staticContentQueries=!0)}hS(f,Ve(),d)}function _O(){return function WU(s,a){return s[Ri].queries[a].queryList}(Ve(),Xd())}function hS(s,a,d){const u=new Kh(4==(4&d));(function _I(s,a,d,u){const f=yv(a);f.push(d),s.firstCreatePass&&II(s).push(u,f.length-1)})(s,a,u,u.destroy),null===a[Ri]&&(a[Ri]=new q0),a[Ri].queries.push(new Sg(u))}function K0(s,a,d){null===s.queries&&(s.queries=new W0),s.queries.track(new Xh(a,d))}function Q0(s,a){return s.queries.getByIndex(a)}function X0(s,a){return Ou(s,a)}function hy(s){return!!mr(s)}const RO=new ni("Application Initializer");let TS=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,u)=>{this.resolve=d,this.reject=u}),this.appInits=Yt(RO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const f of this.appInits){const g=f();if(Dv(g))d.push(g);else if(ZI(g)){const y=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});d.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{u()}).catch(f=>{this.reject(f)}),0===d.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||s)};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),yy=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(u){return new(u||s)};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const Ag=new ni("LocaleId",{providedIn:"root",factory:()=>Yt(Ag,xt.Optional|xt.SkipSelf)||function sx(){return typeof $localize<"u"&&$localize.locale||Im}()}),OO=new ni("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let kS=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||s)};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class NO{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let FO=(()=>{class s{compileModuleSync(d){return new Zv(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const u=this.compileModuleSync(d),g=wu(mr(d).declarations).reduce((y,C)=>{const D=ln(C);return D&&y.push(new xv(D)),y},[]);return new NO(u,g)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(u){return new(u||s)};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const NS=new ni(""),XO=new ni("");let cx,oH=(()=>{class s{constructor(d,u,f){this._ngZone=d,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,cx||(function JO(s){cx=s}(f),f.addToWindow(u)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(d)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),d(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:f})}whenStable(d,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,u,f){return[]}static#e=this.\u0275fac=function(u){return new(u||s)(Vt(go),Vt(FS),Vt(XO))};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac})}return s})(),FS=(()=>{class s{constructor(){this._applications=new Map}registerApplication(d,u){this._applications.set(d,u)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,u=!0){return cx?.findTestabilityInTree(this,d,u)??null}static#e=this.\u0275fac=function(u){return new(u||s)};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),Pu=null;const LS=new ni("AllowMultipleToken"),lx=new ni("PlatformDestroyListeners"),dx=new ni("appBootstrapListener");class sH{constructor(a,d){this.name=a,this.token=d}}function ha(s,a,d=[]){const u=`Platform: ${a}`,f=new ni(u);return(g=[])=>{let y=ft();if(!y||y.injector.get(LS,!1)){const C=[...d,...g,{provide:f,useValue:!0}];s?s(C):function BS(s){if(Pu&&!Pu.get(LS,!1))throw new _e(400,!1);(function wy(){!function oh(s){Vd=s}(()=>{throw new _e(600,!1)})})(),Pu=s;const a=s.get(xy);(function gd(s){s.get(Ph,null)?.forEach(d=>d())})(s)}(function VS(s=[],a){return ml.create({name:a,providers:[{provide:tn,useValue:"platform"},{provide:lx,useValue:new Set([()=>Pu=null])},...s]})}(C,u))}return function H(s){const a=ft();if(!a)throw new _e(401,!1);return a}()}}function ft(){return Pu?.get(xy)??null}let xy=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,u){const f=function Cy(s="zone.js",a){return"noop"===s?new fV:"zone.js"===s?new go(a):s}(u?.ngZone,function rn(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function QD(s,a,d){return new Dm(s,a,d)}(d.moduleType,this.injector,function _d(s){return[{provide:go,useFactory:s},{provide:em,multi:!0,useFactory:()=>{const a=Yt(Iy,{optional:!0});return()=>a.initialize()}},{provide:jS,useFactory:Ro},{provide:$M,useFactory:GM}]}(()=>f)),y=g.injector.get(Bh,null);return f.runOutsideAngular(()=>{const C=f.onError.subscribe({next:D=>{y.handleError(D)}});g.onDestroy(()=>{Ey(this._modules,g),C.unsubscribe()})}),function Am(s,a,d){try{const u=d();return Dv(u)?u.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>s.handleError(u)),u}}(y,f,()=>{const C=g.injector.get(TS);return C.runInitializers(),C.donePromise.then(()=>(function E1(s){ot(s,"Expected localeId to be defined"),"string"==typeof s&&(C1=s.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Ag,Im)||Im),this._moduleDoBootstrap(g),g))})})}bootstrapModule(d,u=[]){const f=US({},u);return function eP(s,a,d){const u=new Zv(d);return Promise.resolve(u)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(d){const u=d.injector.get(Nu);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new _e(-403,!1);d.instance.ngDoBootstrap(u)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const d=this._injector.get(lx,null);d&&(d.forEach(u=>u()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||s)(Vt(ml))};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function US(s,a){return Array.isArray(a)?a.reduce(US,s):{...s,...a}}let Nu=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yt(jS),this.zoneIsStable=Yt($M),this.componentTypes=[],this.components=[],this.isStable=Yt(kS).hasPendingTasks.pipe((0,Be.w)(d=>d?(0,he.of)(!1):this.zoneIsStable),(0,we.x)(),(0,ue.B)()),this._injector=Yt(Mo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,u){const f=d instanceof Iw;if(!this._injector.get(TS).done)throw!f&&gs(d),new _e(405,!1);let y;y=f?d:this._injector.get(mv).resolveComponentFactory(d),this.componentTypes.push(y.componentType);const C=function zr(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Ru),R=y.create(ml.NULL,[],u||y.selector,C),F=R.location.nativeElement,$=R.injector.get(NS,null);return $?.registerApplication(F),R.onDestroy(()=>{this.detachView(R.hostView),Ey(this.components,R),$?.unregisterApplication(F)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const u=d;this._views.push(u),u.attachToAppRef(this)}detachView(d){const u=d;Ey(this._views,u),u.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const u=this._injector.get(dx,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Ey(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new _e(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||s)};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Ey(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}const jS=new ni("",{providedIn:"root",factory:()=>Yt(Bh).handleError.bind(void 0)});function Ro(){const s=Yt(go),a=Yt(Bh);return d=>s.runOutsideAngular(()=>a.handleError(d))}let Iy=(()=>{class s{constructor(){this.zone=Yt(go),this.applicationRef=Yt(Nu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||s)};static#t=this.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function zS(){return!1}let Og=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Dy}return s})();function Dy(s){return function vl(s,a,d){if(ws(s)&&!d){const u=yr(s.index,a);return new tg(u,u)}return 47&s.type?new tg(a[Qn],a):null}(ir(),Ve(),16==(16&s))}class Bg{constructor(){}supports(a){return qw(a)}create(a){return new oP(a)}}const fx=(s,a)=>a;class oP{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||fx}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,u=this._removalsHead,f=0,g=null;for(;d||u;){const y=!u||d&&d.currentIndex<Vg(u,f,g)?d:u,C=Vg(y,f,g),D=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(d=d._next,null==y.previousIndex)f++;else{g||(g=[]);const R=C-f,F=D-f;if(R!=F){for(let te=0;te<R;te++){const le=te<g.length?g[te]:g[te]=0,Oe=le+te;F<=Oe&&Oe<R&&(g[te]=le+1)}g[y.previousIndex]=F-R}}C!==D&&a(y,C,D)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!qw(a))throw new _e(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,y,d=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],y=this._trackByFn(C,g),null!==d&&Object.is(d.trackById,y)?(u&&(d=this._verifyReinsertion(d,g,y,C)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,y,C),u=!0),d=d._next}else f=0,function YV(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[Symbol.iterator]();let u;for(;!(u=d.next()).done;)a(u.value)}}(a,C=>{y=this._trackByFn(f,C),null!==d&&Object.is(d.trackById,y)?(u&&(d=this._verifyReinsertion(d,C,y,f)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,y,f),u=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,u,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,g,f)):a=this._addAfter(new ZS(d,u),g,f),a}_verifyReinsertion(a,d,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,d,u),this._addToMoves(a,u),a}_moveAfter(a,d,u){return this._unlink(a),this._insertAfter(a,d,u),this._addToMoves(a,u),a}_addAfter(a,d,u){return this._insertAfter(a,d,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,u){const f=null===d?this._itHead:d._next;return a._next=f,a._prev=d,null===f?this._itTail=a:f._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new mx),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,u=a._next;return null===d?this._itHead=u:d._next=u,null===u?this._itTail=d:u._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mx),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class ZS{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KS{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===d||d<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const d=a._prevDup,u=a._nextDup;return null===d?this._head=u:d._nextDup=u,null===u?this._tail=d:u._prevDup=d,null===this._head}}class mx{constructor(){this.map=new Map}put(a){const d=a.trackById;let u=this.map.get(d);u||(u=new KS,this.map.set(d,u)),u.add(a)}get(a,d){const f=this.map.get(a);return f?f.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vg(s,a,d){const u=s.previousIndex;if(null===u)return u;let f=0;return d&&u<d.length&&(f=d[u]),u+a+f}class My{constructor(){}supports(a){return a instanceof Map||NI(a)}create(){return new px}}class px{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||NI(a)))throw new _e(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,u),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(f,u);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let u=d;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const u=a._prev;return d._next=a,d._prev=u,a._prev=d,u&&(u._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,d);const g=f._prev,y=f._next;return g&&(g._next=y),y&&(y._prev=g),f._next=null,f._prev=null,f}const u=new gx(a);return this._records.set(a,u),u.currentValue=d,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(u=>d(a[u],u))}}class gx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ry(){return new Oy([new Bg])}let Oy=(()=>{class s{static#e=this.\u0275prov=yt({token:s,providedIn:"root",factory:Ry});constructor(d){this.factories=d}static create(d,u){if(null!=u){const f=u.factories.slice();d=d.concat(f)}return new s(d)}static extend(d){return{provide:s,useFactory:u=>s.create(d,u||Ry()),deps:[[s,new bc,new yh]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(null!=u)return u;throw new _e(901,!1)}}return s})();function QS(){return new Py([new My])}let Py=(()=>{class s{static#e=this.\u0275prov=yt({token:s,providedIn:"root",factory:QS});constructor(d){this.factories=d}static create(d,u){if(u){const f=u.factories.slice();d=d.concat(f)}return new s(d)}static extend(d){return{provide:s,useFactory:u=>s.create(d,u||QS()),deps:[[s,new bc,new yh]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(u)return u;throw new _e(901,!1)}}return s})();const vx=ha(null,"core",[]);let yx=(()=>{class s{constructor(d){}static#e=this.\u0275fac=function(u){return new(u||s)(Vt(Nu))};static#t=this.\u0275mod=xa({type:s});static#n=this.\u0275inj=An({})}return s})();function cT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function lT(s){const a=ln(s);if(!a)return null;const d=new xv(a);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(wt,ke,V)=>{"use strict";V.d(ke,{Z:()=>rt});var l=V(9058),oe=V(4537),j=V(7592),se=V(7879);class me{constructor(Ye,Le){this._delegate=Ye,this.firebase=Le,(0,j._addComponent)(Ye,new oe.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Ye,Le=j._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Ye);return!Et.isInitialized()&&"EXPLICIT"===(null===(Ct=Et.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Le})}_removeServiceInstance(Ye,Le=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Le)}_addComponent(Ye){(0,j._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,j._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function we(){const Ue=function Be(Ue){const Ye={},Le={__esModule:!0,initializeApp:function _e(je,fe={}){const ne=j.initializeApp(je,fe);if((0,l.r3)(Ye,ne.name))return Ye[ne.name];const qe=new Ue(ne,Le);return Ye[ne.name]=qe,qe},app:Et,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function de(je){const fe=je.name,ne=fe.replace("-compat","");if(j._registerComponent(je)&&"PUBLIC"===je.type){const qe=(tt=Et())=>{if("function"!=typeof tt[ne])throw ue.create("invalid-app-argument",{appName:fe});return tt[ne]()};void 0!==je.serviceProps&&(0,l.ZB)(qe,je.serviceProps),Le[ne]=qe,Ue.prototype[ne]=function(...tt){return this._getService.bind(this,fe).apply(this,je.multipleInstances?tt:[])}}return"PUBLIC"===je.type?Le[ne]:null},removeApp:function Ct(je){delete Ye[je]},useAsService:function Ae(je,fe){return"serverAuth"===fe?null:fe},modularAPIs:j}};function Et(je){if(!(0,l.r3)(Ye,je=je||j._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return Ye[je]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function Te(){return Object.keys(Ye).map(je=>Ye[je])}}),Et.App=Ue,Le}(me);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Ye(Le){(0,l.ZB)(Ue,Le)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ue}(),K=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=q;!function Fe(Ue){(0,j.registerVersion)("@firebase/app-compat","0.2.13",Ue)}()},7592:(wt,ke,V)=>{"use strict";V.r(ke),V.d(ke,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>An,_DEFAULT_ENTRY_NAME:()=>pe,_addComponent:()=>Re,_addOrOverwriteComponent:()=>Ne,_apps:()=>xe,_clearComponents:()=>St,_components:()=>Ie,_getProvider:()=>nt,_registerComponent:()=>ot,_removeServiceInstance:()=>Fn,deleteApp:()=>ur,getApp:()=>qt,getApps:()=>Un,initializeApp:()=>ai,onLog:()=>Qi,registerVersion:()=>Zn,setLogLevel:()=>ao});var l=V(5861),oe=V(4537),j=V(7879),se=V(9058),me=V(1878);class he{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function ue(Se){const J=Se.getComponent();return"VERSION"===J?.type}(De)){const et=De.getImmediate();return`${et.library}/${et.version}`}return null}).filter(De=>De).join(" ")}}const Be="@firebase/app",q=new j.Yd("@firebase/app"),pe="[DEFAULT]",be={[Be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xe=new Map,Ie=new Map;function Re(Se,J){try{Se.container.addComponent(J)}catch(De){q.debug(`Component ${J.name} failed to register with FirebaseApp ${Se.name}`,De)}}function Ne(Se,J){Se.container.addOrOverwriteComponent(J)}function ot(Se){const J=Se.name;if(Ie.has(J))return q.debug(`There were multiple attempts to register component ${J}.`),!1;Ie.set(J,Se);for(const De of xe.values())Re(De,Se);return!0}function nt(Se,J){const De=Se.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),Se.container.getProvider(J)}function Fn(Se,J,De=pe){nt(Se,J).clearInstance(De)}function St(){Ie.clear()}const yt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(J,De,et){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const An="9.23.0";function ai(Se,J={}){let De=Se;"object"!=typeof J&&(J={name:J});const et=Object.assign({name:pe,automaticDataCollectionEnabled:!1},J),at=et.name;if("string"!=typeof at||!at)throw yt.create("bad-app-name",{appName:String(at)});if(De||(De=(0,se.aH)()),!De)throw yt.create("no-options");const Tt=xe.get(at);if(Tt){if((0,se.vZ)(De,Tt.options)&&(0,se.vZ)(et,Tt.config))return Tt;throw yt.create("duplicate-app",{appName:at})}const En=new oe.H0(at);for(const Y of Ie.values())En.addComponent(Y);const Z=new Rn(De,et,En);return xe.set(at,Z),Z}function qt(Se=pe){const J=xe.get(Se);if(!J&&Se===pe&&(0,se.aH)())return ai();if(!J)throw yt.create("no-app",{appName:Se});return J}function Un(){return Array.from(xe.values())}function ur(Se){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(Se){const J=Se.name;xe.has(J)&&(xe.delete(J),yield Promise.all(Se.container.getProviders().map(De=>De.delete())),Se.isDeleted=!0)})).apply(this,arguments)}function Zn(Se,J,De){var et;let at=null!==(et=be[Se])&&void 0!==et?et:Se;De&&(at+=`-${De}`);const Tt=at.match(/\s|\//),En=J.match(/\s|\//);if(Tt||En){const Z=[`Unable to register library "${at}" with version "${J}":`];return Tt&&Z.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Tt&&En&&Z.push("and"),En&&Z.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void q.warn(Z.join(" "))}ot(new oe.wA(`${at}-version`,()=>({library:at,version:J}),"VERSION"))}function Qi(Se,J){if(null!==Se&&"function"!=typeof Se)throw yt.create("invalid-log-argument");(0,j.Am)(Se,J)}function ao(Se){(0,j.Ub)(Se)}const on="firebase-heartbeat-database",xt=1,At="firebase-heartbeat-store";let Ft=null;function Wt(){return Ft||(Ft=(0,me.X3)(on,xt,{upgrade:(Se,J)=>{0===J&&Se.createObjectStore(At)}}).catch(Se=>{throw yt.create("idb-open",{originalErrorMessage:Se.message})})),Ft}function li(){return(li=(0,l.Z)(function*(Se){try{return yield(yield Wt()).transaction(At).objectStore(At).get(bo(Se))}catch(J){if(J instanceof se.ZR)q.warn(J.message);else{const De=yt.create("idb-get",{originalErrorMessage:J?.message});q.warn(De.message)}}})).apply(this,arguments)}function bn(Se,J){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(Se,J){try{const et=(yield Wt()).transaction(At,"readwrite");yield et.objectStore(At).put(J,bo(Se)),yield et.done}catch(De){if(De instanceof se.ZR)q.warn(De.message);else{const et=yt.create("idb-set",{originalErrorMessage:De?.message});q.warn(et.message)}}})).apply(this,arguments)}function bo(Se){return`${Se.name}!${Se.options.appId}`}class mn{constructor(J){this.container=J,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new Vo(De),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var J=this;return(0,l.Z)(function*(){const et=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=kr();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==at&&!J._heartbeatsCache.heartbeats.some(Tt=>Tt.date===at))return J._heartbeatsCache.heartbeats.push({date:at,agent:et}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Tt=>{const En=new Date(Tt.date).valueOf();return Date.now()-En<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,l.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const De=kr(),{heartbeatsToSend:et,unsentEntries:at}=function co(Se,J=1024){const De=[];let et=Se.slice();for(const at of Se){const Tt=De.find(En=>En.agent===at.agent);if(Tt){if(Tt.dates.push(at.date),Xi(De)>J){Tt.dates.pop();break}}else if(De.push({agent:at.agent,dates:[at.date]}),Xi(De)>J){De.pop();break}et=et.slice(1)}return{heartbeatsToSend:De,unsentEntries:et}}(J._heartbeatsCache.heartbeats),Tt=(0,se.L)(JSON.stringify({version:2,heartbeats:et}));return J._heartbeatsCache.lastSentHeartbeatDate=De,at.length>0?(J._heartbeatsCache.heartbeats=at,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Tt})()}}function kr(){return(new Date).toISOString().substring(0,10)}class Vo{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,l.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function sn(Se){return li.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var De=this;return(0,l.Z)(function*(){var et;if(yield De._canUseIndexedDBPromise){const Tt=yield De.read();return bn(De.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Tt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var De=this;return(0,l.Z)(function*(){var et;if(yield De._canUseIndexedDBPromise){const Tt=yield De.read();return bn(De.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...J.heartbeats]})}})()}}function Xi(Se){return(0,se.L)(JSON.stringify({version:2,heartbeats:Se})).length}!function Ji(Se){ot(new oe.wA("platform-logger",J=>new he(J),"PRIVATE")),ot(new oe.wA("heartbeat",J=>new mn(J),"PRIVATE")),Zn(Be,"0.9.13",Se),Zn(Be,"0.9.13","esm2017"),Zn("fire-js","")}("")},4097:(wt,ke,V)=>{"use strict";V.d(ke,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=V(7592);(0,l.registerVersion)("firebase","9.23.0","app")},120:(wt,ke,V)=>{"use strict";V.d(ke,{Z:()=>l.Z});var l=V(3399);l.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(wt,ke,V)=>{"use strict";V.r(ke);var l=V(5861),oe=V(3399),j=V(9058),se=V(7592),me=V(7582),he=V(7879),ue=V(4537);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const rt=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ue=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new he.Yd("@firebase/auth");function _e(b,...p){Ct.logLevel<=he.in.ERROR&&Ct.error(`Auth (${se.SDK_VERSION}): ${b}`,...p)}function Te(b,...p){throw fe(b,...p)}function de(b,...p){return fe(b,...p)}function Ae(b,p,_){const x=Object.assign(Object.assign({},Ue()),{[p]:_});return new j.LL("auth","Firebase",x).create(p,{appName:b.name})}function je(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Te(b,"argument-error"),Ae(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fe(b,...p){if("string"!=typeof b){const _=p[0],x=[...p.slice(1)];return x[0]&&(x[0].appName=b.name),b._errorFactory.create(_,...x)}return Ye.create(b,...p)}function ne(b,p,..._){if(!b)throw fe(p,..._)}function qe(b){const p="INTERNAL ASSERTION FAILED: "+b;throw _e(p),new Error(p)}function tt(b,p){b||qe(p)}function hn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Vn(){return"http:"===Nn()||"https:"===Nn()}function Nn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class _i{constructor(p,_){this.shortDelay=p,this.longDelay=_,tt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Yn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vn()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pe(b,p){tt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class be{static initialize(p,_,x){this.fetchImpl=p,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new _i(3e4,6e4);function Re(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Ne(b,p,_,x){return ot.apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(b,p,_,x,M={}){return nt(b,M,(0,l.Z)(function*(){let L={},Q={};x&&("GET"===p?Q=x:L={body:JSON.stringify(x)});const ae=(0,j.xO)(Object.assign({key:b.config.apiKey},Q)).slice(1),Ge=yield b._getAdditionalHeaders();return Ge["Content-Type"]="application/json",b.languageCode&&(Ge["X-Firebase-Locale"]=b.languageCode),be.fetch()(yt(b,b.config.apiHost,_,ae),Object.assign({method:p,headers:Ge,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function nt(b,p,_){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(b,p,_){b._canInitEmulator=!1;const x=Object.assign(Object.assign({},xe),p);try{const M=new Rn(b),L=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Q=yield L.json();if("needConfirmation"in Q)throw An(b,"account-exists-with-different-credential",Q);if(L.ok&&!("errorMessage"in Q))return Q;{const ae=L.ok?Q.errorMessage:Q.error.message,[Ge,Qe]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw An(b,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Ge)throw An(b,"email-already-in-use",Q);if("USER_DISABLED"===Ge)throw An(b,"user-disabled",Q);const vt=x[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Ae(b,vt,Qe);Te(b,vt)}}catch(M){if(M instanceof j.ZR)throw M;Te(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function St(b,p,_,x){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(b,p,_,x,M={}){const L=yield Ne(b,p,_,x,M);return"mfaPendingCredential"in L&&Te(b,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function yt(b,p,_,x){const M=`${p}${_}?${x}`;return b.config.emulator?pe(b.config,M):`${b.config.apiScheme}://${M}`}class Rn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(de(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(b,p,_){const x={appName:b.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const M=de(b,p,x);return M.customData._tokenResponse=_,M}function qt(){return(qt=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Qi(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function xt(){return(xt=(0,l.Z)(function*(b,p=!1){const _=(0,j.m9)(b),x=yield _.getIdToken(p),M=Ft(x);ne(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,Q=L?.sign_in_provider;return{claims:M,token:x,authTime:Qi(At(M.auth_time)),issuedAtTime:Qi(At(M.iat)),expirationTime:Qi(At(M.exp)),signInProvider:Q||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function At(b){return 1e3*Number(b)}function Ft(b){const[p,_,x]=b.split(".");if(void 0===p||void 0===_||void 0===x)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(_e("Failed to decode base64 JWT payload"),null)}catch(M){return _e("Caught error parsing JWT payload as JSON",M?.toString()),null}}function sn(b,p){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(x){throw x instanceof j.ZR&&function bn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(x)&&b.auth.currentUser===b&&(yield b.auth.signOut()),x}})).apply(this,arguments)}class wn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),x)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class bo{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qi(this.lastLoginAt),this.creationTime=Qi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fn(b){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,l.Z)(function*(b){var p;const _=b.auth,x=yield b.getIdToken(),M=yield sn(b,function Gn(b,p){return Zn.apply(this,arguments)}(_,{idToken:x}));ne(M?.users.length,_,"internal-error");const L=M.users[0];b._notifyReloadListener(L);const Q=null!==(p=L.providerUserInfo)&&void 0!==p&&p.length?function Vo(b){return b.map(p=>{var{providerId:_}=p,x=(0,me._T)(p,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(L.providerUserInfo):[],ae=function co(b,p){return[...b.filter(x=>!p.some(M=>M.providerId===x.providerId)),...p]}(b.providerData,Q),vt=!!b.isAnonymous&&!(b.email&&L.passwordHash||ae?.length),bt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ae,metadata:new bo(L.createdAt,L.lastLoginAt),isAnonymous:vt};Object.assign(b,bt)}),Vi.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(b){const p=(0,j.m9)(b);yield fn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(b,p){const _=yield nt(b,{},(0,l.Z)(function*(){const x=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:L}=b.config,Q=yt(b,M,"/v1/token",`key=${L}`),ae=yield b._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",be.fetch()(Q,{method:"POST",headers:ae,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ne(p.idToken,"internal-error"),ne(typeof p.idToken<"u","internal-error"),ne(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Wt(b){const p=Ft(b);return ne(p,"internal-error"),ne(typeof p.exp<"u","internal-error"),ne(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var x=this;return(0,l.Z)(function*(){return ne(!x.accessToken||x.refreshToken,p,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(p,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var x=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:Q}=yield function Xi(b,p){return Ji.apply(this,arguments)}(p,_);x.updateTokensAndExpiration(M,L,Number(Q))})()}updateTokensAndExpiration(p,_,x){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(p,_){const{refreshToken:x,accessToken:M,expirationTime:L}=_,Q=new Se;return x&&(ne("string"==typeof x,"internal-error",{appName:p}),Q.refreshToken=x),M&&(ne("string"==typeof M,"internal-error",{appName:p}),Q.accessToken=M),L&&(ne("number"==typeof L,"internal-error",{appName:p}),Q.expirationTime=L),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return qe("not implemented")}}function J(b,p){ne("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class De{constructor(p){var{uid:_,auth:x,stsTokenManager:M}=p,L=(0,me._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new bo(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const x=yield sn(_,_.stsTokenManager.getToken(_.auth,p));return ne(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(p){return function on(b){return xt.apply(this,arguments)}(this,p)}reload(){return function mn(b){return kr.apply(this,arguments)}(this)}_assign(p){this!==p&&(ne(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new De(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var x=this;return(0,l.Z)(function*(){let M=!1;p.idToken&&p.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield fn(x)),yield x.auth._persistUserIfCurrent(x),M&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield sn(p,function ai(b,p){return qt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var x,M,L,Q,ae,Ge,Qe,vt;const bt=null!==(x=_.displayName)&&void 0!==x?x:void 0,Ci=null!==(M=_.email)&&void 0!==M?M:void 0,Jo=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,dl=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,nd=null!==(ae=_.tenantId)&&void 0!==ae?ae:void 0,gu=null!==(Ge=_._redirectEventId)&&void 0!==Ge?Ge:void 0,ul=null!==(Qe=_.createdAt)&&void 0!==Qe?Qe:void 0,hl=null!==(vt=_.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:_u,emailVerified:q_,isAnonymous:vu,providerData:id,stsTokenManager:W_}=_;ne(_u&&W_,p,"internal-error");const tw=Se.fromJSON(this.name,W_);ne("string"==typeof _u,p,"internal-error"),J(bt,p.name),J(Ci,p.name),ne("boolean"==typeof q_,p,"internal-error"),ne("boolean"==typeof vu,p,"internal-error"),J(Jo,p.name),J(dl,p.name),J(nd,p.name),J(gu,p.name),J(ul,p.name),J(hl,p.name);const Op=new De({uid:_u,auth:p,email:Ci,emailVerified:q_,displayName:bt,isAnonymous:vu,photoURL:dl,phoneNumber:Jo,tenantId:nd,stsTokenManager:tw,createdAt:ul,lastLoginAt:hl});return id&&Array.isArray(id)&&(Op.providerData=id.map(Y_=>Object.assign({},Y_))),gu&&(Op._redirectEventId=gu),Op}static _fromIdTokenResponse(p,_,x=!1){return(0,l.Z)(function*(){const M=new Se;M.updateFromServerResponse(_);const L=new De({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:x});return yield fn(L),L})()}}const et=new Map;function at(b){tt(b instanceof Function,"Expected a class definition");let p=et.get(b);return p?(tt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,et.set(b,p),p)}const En=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,x){var M=this;return(0,l.Z)(function*(){M.storage[_]=x})()}_get(_){var x=this;return(0,l.Z)(function*(){const M=x.storage[_];return void 0===M?null:M})()}_remove(_){var x=this;return(0,l.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return b.type="NONE",b})();function Z(b,p,_){return`firebase:${b}:${p}:${_}`}class Y{constructor(p,_,x){this.persistence=p,this.auth=_,this.userKey=x;const{config:M,name:L}=this.auth;this.fullUserKey=Z(this.userKey,M.apiKey,L),this.fullPersistenceKey=Z("persistence",M.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?De._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,x="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Y(at(En),p,x);const M=(yield Promise.all(_.map(function(){var Qe=(0,l.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let L=M[0]||at(En);const Q=Z(x,p.config.apiKey,p.name);let ae=null;for(const Qe of _)try{const vt=yield Qe._get(Q);if(vt){const bt=De._fromJSON(p,vt);Qe!==L&&(ae=bt),L=Qe;break}}catch{}const Ge=M.filter(Qe=>Qe._shouldAllowMigration);return L._shouldAllowMigration&&Ge.length?(L=Ge[0],ae&&(yield L._set(Q,ae.toJSON())),yield Promise.all(_.map(function(){var Qe=(0,l.Z)(function*(vt){if(vt!==L)try{yield vt._remove(Q)}catch{}});return function(vt){return Qe.apply(this,arguments)}}())),new Y(L,p,x)):new Y(L,p,x)})()}}function ie(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Gt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Pe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(er(p))return"Blackberry";if(Yt(p))return"Webos";if(ye(p))return"Safari";if((p.includes("chrome/")||ut(p))&&!p.includes("edge/"))return"Chrome";if(Vt(p))return"Android";{const x=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function Pe(b=(0,j.z$)()){return/firefox\//i.test(b)}function ye(b=(0,j.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ut(b=(0,j.z$)()){return/crios\//i.test(b)}function Gt(b=(0,j.z$)()){return/iemobile/i.test(b)}function Vt(b=(0,j.z$)()){return/android/i.test(b)}function er(b=(0,j.z$)()){return/blackberry/i.test(b)}function Yt(b=(0,j.z$)()){return/webos/i.test(b)}function vi(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ya(b=(0,j.z$)()){return vi(b)||Vt(b)||Yt(b)||er(b)||/windows phone/i.test(b)||Gt(b)}function wo(b,p=[]){let _;switch(b){case"Browser":_=ie((0,j.z$)());break;case"Worker":_=`${ie((0,j.z$)())}-${b}`;break;default:_=b}const x=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${se.SDK_VERSION}/${x}`}function Vr(){return(Vr=(0,l.Z)(function*(b){return(yield Ne(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hr(b,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(b,p){return Ne(b,"GET","/v2/recaptchaConfig",Re(b,p))})).apply(this,arguments)}function lo(b){return void 0!==b&&void 0!==b.getResponse}function Ii(b){return void 0!==b&&void 0!==b.enterprise}class $a{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function xo(b){return new Promise((p,_)=>{const x=document.createElement("script");x.setAttribute("src",b),x.onload=p,x.onerror=M=>{const L=de("internal-error");L.customData=M,_(L)},x.type="text/javascript",x.charset="UTF-8",function kd(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(x)})}function Fs(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Fc{constructor(p){this.type="recaptcha-enterprise",this.auth=yi(p)}verify(p="verify",_=!1){var x=this;return(0,l.Z)(function*(){function L(){return L=(0,l.Z)(function*(ae){if(!_){if(null==ae.tenantId&&null!=ae._agentRecaptchaConfig)return ae._agentRecaptchaConfig.siteKey;if(null!=ae.tenantId&&void 0!==ae._tenantRecaptchaConfigs[ae.tenantId])return ae._tenantRecaptchaConfigs[ae.tenantId].siteKey}return new Promise(function(){var Ge=(0,l.Z)(function*(Qe,vt){hr(ae,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(bt=>{if(void 0!==bt.recaptchaKey){const Ci=new $a(bt);return null==ae.tenantId?ae._agentRecaptchaConfig=Ci:ae._tenantRecaptchaConfigs[ae.tenantId]=Ci,Qe(Ci.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(bt=>{vt(bt)})});return function(Qe,vt){return Ge.apply(this,arguments)}}())}),L.apply(this,arguments)}function Q(ae,Ge,Qe){const vt=window.grecaptcha;Ii(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(ae,{action:p}).then(bt=>{Ge(bt)}).catch(()=>{Ge("NO_RECAPTCHA")})}):Qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ae,Ge)=>{(function M(ae){return L.apply(this,arguments)})(x.auth).then(Qe=>{if(!_&&Ii(window.grecaptcha))Q(Qe,ae,Ge);else{if(typeof window>"u")return void Ge(new Error("RecaptchaVerifier is only supported in browser"));xo("https://www.google.com/recaptcha/enterprise.js?render="+Qe).then(()=>{Q(Qe,ae,Ge)}).catch(vt=>{Ge(vt)})}}).catch(Qe=>{Ge(Qe)})})})()}}function Wr(b,p,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(b,p,_,x=!1){const M=new Fc(b);let L;try{L=yield M.verify(_)}catch{L=yield M.verify(_,!0)}const Q=Object.assign({},p);return Object.assign(Q,x?{captchaResp:L}:{captchaResponse:L}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class Ga{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const x=L=>new Promise((Q,ae)=>{try{Q(p(L))}catch(Ge){ae(Ge)}});x.onAbort=_,this.queue.push(x);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===p)return;const x=[];try{for(const M of _.queue)yield M(p),M.onAbort&&x.push(M.onAbort)}catch(M){x.reverse();for(const L of x)try{L()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Al{constructor(p,_,x,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=x,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ar(this),this.idTokenSubscription=new Ar(this),this.beforeStateQueue=new Ga(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var x=this;return _&&(this._popupRedirectResolver=at(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,L;if(!x._deleted&&(x.persistenceManager=yield Y.create(x,p),!x._deleted)){if(null!==(M=x._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(L=x.currentUser)||void 0===L?void 0:L.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var x;const M=yield _.assertedPersistence.getCurrentUser();let L=M,Q=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ae=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,Ge=L?._redirectEventId,Qe=yield _.tryRedirectSignIn(p);(!ae||ae===Ge)&&Qe?.user&&(L=Qe.user,Q=!0)}if(!L)return _.directlySetCurrentUser(null);if(!L._redirectEventId){if(Q)try{yield _.beforeStateQueue.runMiddleware(L)}catch(ae){L=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ae))}return L?_.reloadAndSetCurrentUserOrClear(L):_.directlySetCurrentUser(null)}return ne(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===L._redirectEventId?_.directlySetCurrentUser(L):_.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){try{yield fn(p)}catch(x){if("auth/network-request-failed"!==x?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function $n(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const x=p?(0,j.m9)(p):null;return x&&ne(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(p,_=!1){var x=this;return(0,l.Z)(function*(){if(!x._deleted)return p&&ne(x.tenantId===p.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(p)),x.queue((0,l.Z)(function*(){yield x.directlySetCurrentUser(p),x.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(at(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const _=yield hr(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new $a(_);null==p.tenantId?p._agentRecaptchaConfig=x:p._tenantRecaptchaConfigs[p.tenantId]=x,x.emailPasswordEnabled&&new Fc(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,x){return this.registerStateListener(this.authStateSubscription,p,_,x)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,x){return this.registerStateListener(this.idTokenSubscription,p,_,x)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var x=this;return(0,l.Z)(function*(){const M=yield x.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const x=p&&at(p)||_._popupRedirectResolver;ne(x,_,"argument-error"),_.redirectPersistenceManager=yield Y.create(_,[at(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var x,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,x,M){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(Q,this,"internal-error"),Q.then(()=>L(this.currentUser)),"function"==typeof _?p.addObserver(_,x,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=wo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const x={"X-Client-Version":p.clientVersion};p.app.options.appId&&(x["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(x["X-Firebase-Client"]=M);const L=yield p._getAppCheckToken();return L&&(x["X-Firebase-AppCheck"]=L),x})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var _;const x=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return x?.error&&function Et(b,...p){Ct.logLevel<=he.in.WARN&&Ct.warn(`Auth (${se.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function yi(b){return(0,j.m9)(b)}class Ar{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ms(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Ml(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Ls{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return qe("not implemented")}_getIdTokenResponse(p){return qe("not implemented")}_linkToIdToken(p,_){return qe("not implemented")}_getReauthenticationResolver(p){return qe("not implemented")}}function Bs(b,p){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:resetPassword",Re(b,p))})).apply(this,arguments)}function qa(b,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vc(){return(Vc=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:update",Re(b,p))})).apply(this,arguments)}function tr(b,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,l.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithPassword",Re(b,p))})).apply(this,arguments)}function Uc(b,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:sendOobCode",Re(b,p))})).apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(b,p){return Uc(b,p)})).apply(this,arguments)}function Ca(b,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(b,p){return Uc(b,p)})).apply(this,arguments)}function ln(b,p){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(b,p){return Uc(b,p)})).apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(b,p){return Uc(b,p)})).apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithEmailLink",Re(b,p))})).apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithEmailLink",Re(b,p))})).apply(this,arguments)}class Uo extends Ls{constructor(p,_,x,M=null){super("password",x),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Uo(p,_,"password")}static _fromEmailAndCode(p,_,x=null){return new Uo(p,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){var x;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=p._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const L=yield Wr(p,M,"signInWithPassword");return tr(p,L)}return tr(p,M).catch(function(){var L=(0,l.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ae=yield Wr(p,M,"signInWithPassword");return tr(p,ae)}return Promise.reject(Q)});return function(Q){return L.apply(this,arguments)}}());case"emailLink":return function mr(b,p){return Ol.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,_){var x=this;return(0,l.Z)(function*(){switch(x.signInMethod){case"password":return qa(p,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function th(b,p){return Wa.apply(this,arguments)}(p,{idToken:_,email:x._email,oobCode:x._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Yr(b,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithIdp",Re(b,p))})).apply(this,arguments)}class Pt extends Ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Pt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:M}=_,L=(0,me._T)(_,["providerId","signInMethod"]);if(!x||!M)return null;const Q=new Pt(x,M);return Q.idToken=L.idToken||void 0,Q.accessToken=L.accessToken||void 0,Q.secret=L.secret,Q.nonce=L.nonce,Q.pendingToken=L.pendingToken||null,Q}_getIdTokenResponse(p){return Yr(p,this.buildRequest())}_linkToIdToken(p,_){const x=this.buildRequest();return x.idToken=_,Yr(p,x)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Yr(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function pr(){return(pr=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:sendVerificationCode",Re(b,p))})).apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithPhoneNumber",Re(b,p))})).apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(b,p){const _=yield St(b,"POST","/v1/accounts:signInWithPhoneNumber",Re(b,p));if(_.temporaryProof)throw An(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ho={USER_NOT_FOUND:"user-not-found"};function Mt(){return(Mt=(0,l.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithPhoneNumber",Re(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ho)})).apply(this,arguments)}class Hi extends Ls{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Hi({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Hi({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function _s(b,p){return ui.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Ya(b,p){return gn.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Us(b,p){return Mt.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:x,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:x,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:x,phoneNumber:M,temporaryProof:L}=p;return x||_||M||L?new Hi({verificationId:_,verificationCode:x,phoneNumber:M,temporaryProof:L}):null}}class Qn{constructor(p){var _,x,M,L,Q,ae;const Ge=(0,j.zd)((0,j.pd)(p)),Qe=null!==(_=Ge.apiKey)&&void 0!==_?_:null,vt=null!==(x=Ge.oobCode)&&void 0!==x?x:null,bt=function Md(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ge.mode)&&void 0!==M?M:null);ne(Qe&&vt&&bt,"argument-error"),this.apiKey=Qe,this.operation=bt,this.code=vt,this.continueUrl=null!==(L=Ge.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(Q=Ge.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ae=Ge.tenantId)&&void 0!==ae?ae:null}static parseLink(p){const _=function jo(b){const p=(0,j.zd)((0,j.pd)(b)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,x=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(x?(0,j.zd)((0,j.pd)(x)).link:null)||x||_||p||b}(p);try{return new Qn(_)}catch{return null}}}let Hs=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,x){return Uo._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const M=Qn.parseLink(x);return ne(M,"argument-error"),Uo._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ri{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class zo extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $o extends zo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ne("providerId"in _&&"signInMethod"in _,"argument-error"),Pt._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ne(p.idToken||p.accessToken,"argument-error"),Pt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $o.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $o.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:M,pendingToken:L,nonce:Q,providerId:ae}=p;if(!x&&!M&&!_&&!L||!ae)return null;try{return new $o(ae)._credential({idToken:_,accessToken:x,nonce:Q,pendingToken:L})}catch{return null}}}let vs=(()=>{class b extends zo{constructor(){super("facebook.com")}static credential(_){return Pt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),gr=(()=>{class b extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return Pt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:M}=_;if(!x&&!M)return null;try{return b.credential(x,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ea=(()=>{class b extends zo{constructor(){super("github.com")}static credential(_){return Pt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Kt extends Ls{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Yr(p,this.buildRequest())}_linkToIdToken(p,_){const x=this.buildRequest();return x.idToken=_,Yr(p,x)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Yr(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:M,pendingToken:L}=_;return x&&M&&L&&x===M?new Kt(x,L):null}static _create(p,_){return new Kt(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class js extends Ri{constructor(p){ne(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return js.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return js.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Kt.fromJSON(p);return ne(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:x}=p;if(!_||!x)return null;try{return Kt._create(x,_)}catch{return null}}}let jc=(()=>{class b extends zo{constructor(){super("twitter.com")}static credential(_,x){return Pt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:M}=_;if(!x||!M)return null;try{return b.credential(x,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function bi(b,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signUp",Re(b,p))})).apply(this,arguments)}class Di{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,x,M=!1){return(0,l.Z)(function*(){const L=yield De._fromIdTokenResponse(p,x,M),Q=Co(x);return new Di({user:L,providerId:Q,_tokenResponse:x,operationType:_})})()}static _forOperation(p,_,x){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(x,!0);const M=Co(x);return new Di({user:p,providerId:M,_tokenResponse:x,operationType:_})})()}}function Co(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function nh(){return(nh=(0,l.Z)(function*(b){var p;const _=yi(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Di({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield bi(_,{returnSecureToken:!0}),M=yield Di._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Si extends j.ZR{constructor(p,_,x,M){var L;super(_.code,_.message),this.operationType=x,this.user=M,Object.setPrototypeOf(this,Si.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(p,_,x,M){return new Si(p,_,x,M)}}function ji(b,p,_,x){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Si._fromErrorAndOperation(b,L,p,x):L})}function Za(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Rr(){return Rr=(0,l.Z)(function*(b,p){const _=(0,j.m9)(b);yield $s(!0,_,p);const{providerUserInfo:x}=yield function Un(b,p){return ur.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=Za(x||[]);return _.providerData=_.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Rr.apply(this,arguments)}function _r(b,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(b,p,_=!1){const x=yield sn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Di._forOperation(b,"link",x)})).apply(this,arguments)}function $s(b,p,_){return zc.apply(this,arguments)}function zc(){return(zc=(0,l.Z)(function*(b,p,_){yield fn(p);const M=!1===b?"provider-already-linked":"no-such-provider";ne(Za(p.providerData).has(_)===b,p.auth,M)})).apply(this,arguments)}function Ka(b,p){return $c.apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(b,p,_=!1){const{auth:x}=b,M="reauthenticate";try{const L=yield sn(b,ji(x,M,p,b),_);ne(L.idToken,x,"internal-error");const Q=Ft(L.idToken);ne(Q,x,"internal-error");const{sub:ae}=Q;return ne(b.uid===ae,x,"user-mismatch"),Di._forOperation(b,M,L)}catch(L){throw"auth/user-not-found"===L?.code&&Te(x,"user-mismatch"),L}})).apply(this,arguments)}function Nl(b,p){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,l.Z)(function*(b,p,_=!1){const x="signIn",M=yield ji(b,x,p),L=yield Di._fromIdTokenResponse(b,x,M);return _||(yield b._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Gc(b,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(b,p){return Nl(yi(b),p)})).apply(this,arguments)}function ih(b,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(b,p){const _=(0,j.m9)(b);return yield $s(!1,_,p.providerId),_r(_,p)})).apply(this,arguments)}function Sf(b,p){return rh.apply(this,arguments)}function rh(){return(rh=(0,l.Z)(function*(b,p){return Ka((0,j.m9)(b),p)})).apply(this,arguments)}function Od(){return(Od=(0,l.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithCustomToken",Re(b,p))})).apply(this,arguments)}function Eo(){return Eo=(0,l.Z)(function*(b,p){const _=yi(b),x=yield function mp(b,p){return Od.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),M=yield Di._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(M.user),M}),Eo.apply(this,arguments)}class Ll{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Gs._fromServerResponse(p,_):"totpInfo"in _?Qa._fromServerResponse(p,_):Te(p,"internal-error")}}class Gs extends Ll{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Gs(_)}}class Qa extends Ll{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new Qa(_)}}function Xa(b,p,_){var x;ne((null===(x=_.url)||void 0===x?void 0:x.length)>0,b,"invalid-continue-uri"),ne(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ne(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ne(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Ja(){return Ja=(0,l.Z)(function*(b,p,_){var x;const M=yi(b),L={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Q=yield Wr(M,L,"getOobCode",!0);_&&Xa(M,Q,_),yield Ca(M,Q)}else _&&Xa(M,L,_),yield Ca(M,L).catch(function(){var Q=(0,l.Z)(function*(ae){if("auth/missing-recaptcha-token"!==ae.code)return Promise.reject(ae);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ge=yield Wr(M,L,"getOobCode",!0);_&&Xa(M,Ge,_),yield Ca(M,Ge)}});return function(ae){return Q.apply(this,arguments)}}())}),Ja.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(b,p,_){yield Bs((0,j.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function Zr(){return Zr=(0,l.Z)(function*(b,p){yield function Ur(b,p){return Vc.apply(this,arguments)}((0,j.m9)(b),{oobCode:p})}),Zr.apply(this,arguments)}function Ti(b,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(b,p){const _=(0,j.m9)(b),x=yield Bs(_,{oobCode:p}),M=x.requestType;switch(ne(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(x.mfaInfo,_,"internal-error");default:ne(x.email,_,"internal-error")}let L=null;return x.mfaInfo&&(L=Ll._fromServerResponse(yi(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(b,p){const{data:_}=yield Ti((0,j.m9)(b),p);return _.email})).apply(this,arguments)}function ec(){return ec=(0,l.Z)(function*(b,p,_){var x;const M=yi(b),L={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Qe=yield Wr(M,L,"signUpPassword");Q=bi(M,Qe)}else Q=bi(M,L).catch(function(){var Qe=(0,l.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const bt=yield Wr(M,L,"signUpPassword");return bi(M,bt)}return Promise.reject(vt)});return function(vt){return Qe.apply(this,arguments)}}());const ae=yield Q.catch(Qe=>Promise.reject(Qe)),Ge=yield Di._fromIdTokenResponse(M,"signIn",ae);return yield M._updateCurrentUser(Ge.user),Ge}),ec.apply(this,arguments)}function Ia(){return Ia=(0,l.Z)(function*(b,p,_){var x;const M=yi(b),L={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(ae,Ge){ne(Ge.handleCodeInApp,M,"argument-error"),Ge&&Xa(M,ae,Ge)}if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const ae=yield Wr(M,L,"getOobCode",!0);Q(ae,_),yield ln(M,ae)}else Q(L,_),yield ln(M,L).catch(function(){var ae=(0,l.Z)(function*(Ge){if("auth/missing-recaptcha-token"!==Ge.code)return Promise.reject(Ge);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Qe=yield Wr(M,L,"getOobCode",!0);Q(Qe,_),yield ln(M,Qe)}});return function(Ge){return ae.apply(this,arguments)}}())}),Ia.apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(b,p,_){const x=(0,j.m9)(b),M=Hs.credentialWithLink(p,_||hn());return ne(M._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Gc(x,M)})).apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:createAuthUri",Re(b,p))})).apply(this,arguments)}function Ks(){return Ks=(0,l.Z)(function*(b,p){const x={identifier:p,continueUri:Vn()?hn():"http://localhost"},{signinMethods:M}=yield function qc(b,p){return tc.apply(this,arguments)}((0,j.m9)(b),x);return M||[]}),Ks.apply(this,arguments)}function ic(){return ic=(0,l.Z)(function*(b,p){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Xa(_.auth,M,p);const{email:L}=yield function Ad(b,p){return ps.apply(this,arguments)}(_.auth,M);L!==b.email&&(yield b.reload())}),ic.apply(this,arguments)}function Wc(){return Wc=(0,l.Z)(function*(b,p,_){const x=(0,j.m9)(b),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Xa(x.auth,L,_);const{email:Q}=yield function fr(b,p){return gs.apply(this,arguments)}(x.auth,L);Q!==b.email&&(yield b.reload())}),Wc.apply(this,arguments)}function Bd(){return(Bd=(0,l.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Hl(){return Hl=(0,l.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const x=(0,j.m9)(b),L={idToken:yield x.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Q=yield sn(x,function Tf(b,p){return Bd.apply(this,arguments)}(x.auth,L));x.displayName=Q.displayName||null,x.photoURL=Q.photoUrl||null;const ae=x.providerData.find(({providerId:Ge})=>"password"===Ge);ae&&(ae.displayName=x.displayName,ae.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Q)}),Hl.apply(this,arguments)}function oh(b,p,_){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(b,p,_){const{auth:x}=b,L={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(L.email=p),_&&(L.password=_);const Q=yield sn(b,qa(x,L));yield b._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Qs{constructor(p,_,x={}){this.isNewUser=p,this.providerId=_,this.profile=x}}class rc extends Qs{constructor(p,_,x,M){super(p,_,x),this.username=M}}class Zc extends Qs{constructor(p,_){super(p,"facebook.com",_)}}class Ud extends rc{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Kc extends Qs{constructor(p,_){super(p,"google.com",_)}}class oc extends rc{constructor(p,_,x){super(p,"twitter.com",_,x)}}function Hd(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Sa(b){var p,_;if(!b)return null;const{providerId:x}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},L=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!x&&b?.idToken){const Q=null===(_=null===(p=Ft(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new Qs(L,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!x)return null;switch(x){case"facebook.com":return new Zc(L,M);case"github.com":return new Ud(L,M);case"google.com":return new Kc(L,M);case"twitter.com":return new oc(L,M,b.screenName||null);case"custom":case"anonymous":return new Qs(L,null);default:return new Qs(L,x,M)}}(_)}class Do{constructor(p,_,x){this.type=p,this.credential=_,this.auth=x}static _fromIdtoken(p,_){return new Do("enroll",p,_)}static _fromMfaPendingCredential(p){return new Do("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,x;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Do._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(x=p.multiFactorSession)&&void 0!==x&&x.idToken)return Do._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Js{constructor(p,_,x){this.session=p,this.hints=_,this.signInResolver=x}static _fromError(p,_){const x=yi(p),M=_.customData._serverResponse,L=(M.mfaInfo||[]).map(ae=>Ll._fromServerResponse(x,ae));ne(M.mfaPendingCredential,x,"internal-error");const Q=Do._fromMfaPendingCredential(M.mfaPendingCredential);return new Js(Q,L,function(){var ae=(0,l.Z)(function*(Ge){const Qe=yield Ge._process(x,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(_.operationType){case"signIn":const bt=yield Di._fromIdTokenResponse(x,_.operationType,vt);return yield x._updateCurrentUser(bt.user),bt;case"reauthenticate":return ne(_.user,x,"internal-error"),Di._forOperation(_.user,_.operationType,vt);default:Te(x,"internal-error")}});return function(Ge){return ae.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}class ge{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>Ll._fromServerResponse(p.auth,x)))})}static _fromUser(p){return new ge(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Do._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var x=this;return(0,l.Z)(function*(){const M=p,L=yield x.getSession(),Q=yield sn(x.user,M._process(x.user.auth,L,_));return yield x.user._updateTokensIfNecessary(Q),x.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const x="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const L=yield sn(_.user,function W(b,p){return Ne(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(b,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Q})=>Q!==x),yield _.user._updateTokensIfNecessary(L),yield _.user.reload()}catch(L){throw L}})()}}const _t=new WeakMap,Xt="__sak";class ri{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Xt,"1"),this.storage.removeItem(Xt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xc=(()=>{class b extends ri{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Es(){const b=(0,j.z$)();return ye(b)||vi(b)}()&&function Tl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ya(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const M=this.storage.getItem(x),L=this.localCache[x];M!==L&&_(x,L,M)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((ae,Ge,Qe)=>{this.notifyListeners(ae,Qe)});const M=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(M);if(_.newValue!==ae)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!x)return}const L=()=>{const ae=this.storage.getItem(M);!x&&this.localCache[M]===ae||this.notifyListeners(M,ae)},Q=this.storage.getItem(M);!function us(){return(0,j.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?L():setTimeout(L,10)}notifyListeners(_,x){this.localCache[_]=x;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var M=()=>super._set,L=this;return(0,l.Z)(function*(){yield M().call(L,_,x),L.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,M=this;return(0,l.Z)(function*(){const L=yield x().call(M,_);return M.localCache[_]=JSON.stringify(L),L})()}_remove(_){var x=()=>super._remove,M=this;return(0,l.Z)(function*(){yield x().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Kr=(()=>{class b extends ri{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return b.type="SESSION",b})();let ah=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(L=>L.isListeningto(_));if(x)return x;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,l.Z)(function*(){const M=_,{eventId:L,eventType:Q,data:ae}=M.data,Ge=x.handlersMap[Q];if(!Ge?.size)return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:Q});const Qe=Array.from(Ge).map(function(){var bt=(0,l.Z)(function*(Ci){return Ci(M.origin,ae)});return function(Ci){return bt.apply(this,arguments)}}()),vt=yield function vp(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return p.apply(this,arguments)}}()))}(Qe);M.ports[0].postMessage({status:"done",eventId:L,eventType:Q,response:vt})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function zd(b="",p=10){let _="";for(let x=0;x<p;x++)_+=Math.floor(10*Math.random());return b+_}class R_{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,x=50){var M=this;return(0,l.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let Q,ae;return new Promise((Ge,Qe)=>{const vt=zd("",20);L.port1.start();const bt=setTimeout(()=>{Qe(new Error("unsupported_event"))},x);ae={messageChannel:L,onMessage(Ci){const Jo=Ci;if(Jo.data.eventId===vt)switch(Jo.data.status){case"ack":clearTimeout(bt),Q=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Ge(Jo.data.response);break;default:clearTimeout(bt),clearTimeout(Q),Qe(new Error("invalid_response"))}}},M.handlers.add(ae),L.port1.addEventListener("message",ae.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:_},[L.port2])}).finally(()=>{ae&&M.removeMessageHandler(ae)})})()}}function oi(){return window}function Ut(){return typeof oi().WorkerGlobalScope<"u"&&"function"==typeof oi().importScripts}function Rf(){return(Rf=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Of="firebaseLocalStorageDb",Is="firebaseLocalStorage",Gd="fbase_key";class qd{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Wd(b,p){return b.transaction([Is],p?"readwrite":"readonly").objectStore(Is)}function ch(){const b=indexedDB.open(Of,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const x=b.result;try{x.createObjectStore(Is,{keyPath:Gd})}catch(M){_(M)}}),b.addEventListener("success",(0,l.Z)(function*(){const x=b.result;x.objectStoreNames.contains(Is)?p(x):(x.close(),yield function P_(){const b=indexedDB.deleteDatabase(Of);return new qd(b).toPromise()}(),p(yield ch()))}))})}function Ve(b,p,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(b,p,_){const x=Wd(b,!0).put({[Gd]:p,value:_});return new qd(x).toPromise()})).apply(this,arguments)}function Yd(){return(Yd=(0,l.Z)(function*(b,p){const _=Wd(b,!1).get(p),x=yield new qd(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function ir(b,p){const _=Wd(b,!0).delete(p);return new qd(_).toPromise()}const ac=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ch()),_.db})()}_withRetries(_){var x=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const L=yield x._openDb();return yield _(L)}catch(L){if(M++>3)throw L;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Ut()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=ah._getInstance(function nr(){return Ut()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,l.Z)(function*(M,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(M,L){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,l.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var x,M;if(_.activeServiceWorker=yield function Mf(){return Rf.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new R_(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);L&&null!==(x=L[0])&&void 0!==x&&x.fulfilled&&null!==(M=L[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,l.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function $d(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ch();return yield Ve(_,Xt,"1"),yield ir(_,Xt),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,l.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(L=>Ve(L,_,x)),M.localCache[_]=x,M.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,l.Z)(function*(){const M=yield x._withRetries(L=>function qo(b,p){return Yd.apply(this,arguments)}(L,_));return x.localCache[_]=M,M})()}_remove(_){var x=this;return(0,l.Z)(function*(){return x._withPendingWrite((0,l.Z)(function*(){return yield x._withRetries(M=>ir(M,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const x=yield _._withRetries(Q=>{const ae=Wd(Q,!1).getAll();return new qd(ae).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:Q,value:ae}of x)L.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(ae)&&(_.notifyListeners(Q,ae),M.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!L.has(Q)&&(_.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(_,x){this.localCache[_]=x;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),uo=1e12;class Pf{constructor(p){this.auth=p,this.counter=uo,this._widgets=new Map}render(p,_){const x=this.counter;return this._widgets.set(x,new cc(p,this.auth.name,_||{})),this.counter++,x}reset(p){var _;const x=p||uo;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(p){var _;return(null===(_=this._widgets.get(p||uo))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var x;return null===(x=_._widgets.get(p||uo))||void 0===x||x.execute(),""})()}}class cc{constructor(p,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;ne(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wo(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<b;x++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uh=Fs("rcb"),hh=new _i(3e4,6e4);class N_{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=oi().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return ne(function Qd(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&lo(oi().grecaptcha)?Promise.resolve(oi().grecaptcha):new Promise((x,M)=>{const L=oi().setTimeout(()=>{M(de(p,"network-request-failed"))},hh.get());oi()[uh]=()=>{oi().clearTimeout(L),delete oi()[uh];const ae=oi().grecaptcha;if(!ae||!lo(ae))return void M(de(p,"internal-error"));const Ge=ae.render;ae.render=(Qe,vt)=>{const bt=Ge(Qe,vt);return this.counter++,bt},this.hostLanguage=_,x(ae)},xo(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:uh,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),M(de(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=oi().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nf{load(p){return(0,l.Z)(function*(){return new Pf(p)})()}clearedOneInstance(){}}const Xd="recaptcha",Ff={theme:"light",type:"image"};class Lf{constructor(p,_=Object.assign({},Ff),x){this.parameters=_,this.type=Xd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yi(x),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;ne(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nf:new N_,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),x=p.getAssertedRecaptcha();return x.getResponse(_)||new Promise(L=>{const Q=ae=>{ae&&(p.tokenChangeListeners.delete(Q),L(ae))};p.tokenChangeListeners.add(Q),p.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof p)p(_);else if("string"==typeof p){const x=oi()[p];"function"==typeof x&&x(_)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ne(Vn()&&!Ut(),p.auth,"internal-error"),yield function bp(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function hs(b){return Vr.apply(this,arguments)}(p.auth);ne(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fi{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Hi._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function lc(){return(lc=(0,l.Z)(function*(b,p,_){const x=yi(b),M=yield $l(x,p,(0,j.m9)(_));return new fi(M,L=>Gc(x,L))})).apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(b,p,_){const x=(0,j.m9)(b);yield $s(!1,x,"phone");const M=yield $l(x.auth,p,(0,j.m9)(_));return new fi(M,L=>ih(x,L))})).apply(this,arguments)}function Jd(){return(Jd=(0,l.Z)(function*(b,p,_){const x=(0,j.m9)(b),M=yield $l(x.auth,p,(0,j.m9)(_));return new fi(M,L=>Sf(x,L))})).apply(this,arguments)}function $l(b,p,_){return xr.apply(this,arguments)}function xr(){return xr=(0,l.Z)(function*(b,p,_){var x;const M=yield _.verify();try{let L;if(ne("string"==typeof M,b,"argument-error"),ne(_.type===Xd,b,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const Q=L.session;if("phoneNumber"in L)return ne("enroll"===Q.type,b,"internal-error"),(yield function Cs(b,p){return Ne(b,"POST","/v2/accounts/mfaEnrollment:start",Re(b,p))}(b,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ne("signin"===Q.type,b,"internal-error");const ae=(null===(x=L.multiFactorHint)||void 0===x?void 0:x.uid)||L.multiFactorUid;return ne(ae,b,"missing-multi-factor-info"),(yield function lh(b,p){return Ne(b,"POST","/v2/accounts/mfaSignIn:start",Re(b,p))}(b,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function Dn(b,p){return pr.apply(this,arguments)}(b,{phoneNumber:L.phoneNumber,recaptchaToken:M});return Q}}finally{_._reset()}}),xr.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(b,p){yield _r((0,j.m9)(b),p)})).apply(this,arguments)}let Aa=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=yi(_)}verifyPhoneNumber(_,x){return $l(this.auth,_,(0,j.m9)(x))}static credential(_,x){return Hi._fromVerification(_,x)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:M}=_;return x&&M?Hi._fromTokenResponse(x,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Yo(b,p){return p?at(p):(ne(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ht extends Ls{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Yr(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Yr(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Yr(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Bf(b){return Nl(b.auth,new ht(b),b.bypassAuthState)}function fh(b){const{auth:p,user:_}=b;return ne(_,p,"internal-error"),Ka(_,new ht(b),b.bypassAuthState)}function dc(b){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(b){const{auth:p,user:_}=b;return ne(_,p,"internal-error"),_r(_,new ht(b),b.bypassAuthState)})).apply(this,arguments)}class Zo{constructor(p,_,x,M,L=!1){this.auth=p,this.resolver=x,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(x,M){p.pendingPromise={resolve:x,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(x,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:x,sessionId:M,postBody:L,tenantId:Q,error:ae,type:Ge}=p;if(ae)return void _.reject(ae);const Qe={auth:_.auth,requestUri:x,sessionId:M,tenantId:Q||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ge)(Qe))}catch(vt){_.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Bf;case"linkViaPopup":case"linkViaRedirect":return dc;case"reauthViaPopup":case"reauthViaRedirect":return fh;default:Te(this.auth,"internal-error")}}resolve(p){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ln=new _i(2e3,1e4);function Ma(){return(Ma=(0,l.Z)(function*(b,p,_){const x=yi(b);je(b,p,Ri);const M=Yo(x,_);return new hc(x,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(b,p,_){const x=(0,j.m9)(b);je(x.auth,p,Ri);const M=Yo(x.auth,_);return new hc(x.auth,"reauthViaPopup",p,M,x).executeNotNull()})).apply(this,arguments)}function uc(){return(uc=(0,l.Z)(function*(b,p,_){const x=(0,j.m9)(b);je(x.auth,p,Ri);const M=Yo(x.auth,_);return new hc(x.auth,"linkViaPopup",p,M,x).executeNotNull()})).apply(this,arguments)}let hc=(()=>{class b extends Zo{constructor(_,x,M,L,Q){super(_,x,L,Q),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const x=yield _.execute();return ne(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,l.Z)(function*(){tt(1===_.filter.length,"Popup operations only handle one event");const x=zd();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(de(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,M;this.pollId=null!==(M=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Ln.get())};_()}}return b.currentPopupAction=null,b})();const Ra="pendingRedirect",To=new Map;class fc extends Zo{constructor(p,_,x=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let x=To.get(_.auth._key());if(!x){try{const L=(yield function mh(b,p){return tu.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;x=()=>Promise.resolve(L)}catch(M){x=()=>Promise.reject(M)}To.set(_.auth._key(),x)}return _.bypassAuthState||To.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,x=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(x,p);if("unknown"!==p.type){if(p.eventId){const M=yield x.auth._redirectUserForId(p.eventId);if(M)return x.user=M,_().call(x,p);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function tu(){return(tu=(0,l.Z)(function*(b,p){const _=mc(p),x=Vf(b);if(!(yield x._isAvailable()))return!1;const M="true"===(yield x._get(_));return yield x._remove(_),M})).apply(this,arguments)}function nl(b,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(b,p){return Vf(b)._set(mc(p),"true")})).apply(this,arguments)}function zi(b,p){To.set(b._key(),p)}function Vf(b){return at(b._redirectPersistence)}function mc(b){return Z(Ra,b.config.apiKey,b.name)}function Ht(b,p,_){return function mi(b,p,_){return ei.apply(this,arguments)}(b,p,_)}function ei(){return(ei=(0,l.Z)(function*(b,p,_){const x=yi(b);je(b,p,Ri),yield x._initializationPromise;const M=Yo(x,_);return yield nl(M,x),M._openRedirect(x,p,"signInViaRedirect")})).apply(this,arguments)}function Or(b,p,_){return function Bn(b,p,_){return rr.apply(this,arguments)}(b,p,_)}function rr(){return(rr=(0,l.Z)(function*(b,p,_){const x=(0,j.m9)(b);je(x.auth,p,Ri),yield x.auth._initializationPromise;const M=Yo(x.auth,_);yield nl(M,x.auth);const L=yield ql(x);return M._openRedirect(x.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function Gl(b,p,_){return function Uf(b,p,_){return ph.apply(this,arguments)}(b,p,_)}function ph(){return(ph=(0,l.Z)(function*(b,p,_){const x=(0,j.m9)(b);je(x.auth,p,Ri),yield x.auth._initializationPromise;const M=Yo(x.auth,_);yield $s(!1,x,p.providerId),yield nl(M,x.auth);const L=yield ql(x);return M._openRedirect(x.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(b,p){return yield yi(b)._initializationPromise,ti(b,p,!1)})).apply(this,arguments)}function ti(b,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(b,p,_=!1){const x=yi(b),M=Yo(x,p),Q=yield new fc(x,M,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield x._persistUserIfCurrent(Q.user),yield x._setRedirectUser(null,p)),Q})).apply(this,arguments)}function ql(b){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(b){const p=zd(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class nu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(p,x)&&(_=!0,this.sendToConsumer(p,x),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function il(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pa(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var x;if(p.error&&!Pa(p)){const M=(null===(x=p.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(de(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const x=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&x}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oa(p))}saveEventToCache(p){this.cachedEventUids.add(Oa(p)),this.lastProcessedEventTime=Date.now()}}function Oa(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Pa({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Cn(b){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,l.Z)(function*(b,p={}){return Ne(b,"GET","/v1/projects",p)})).apply(this,arguments)}const gc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_c=/^https?/;function ia(){return(ia=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Cn(b);for(const _ of p)try{if(gh(_))return}catch{}Te(b,"unauthorized-domain")})).apply(this,arguments)}function gh(b){const p=hn(),{protocol:_,hostname:x}=new URL(p);if(b.startsWith("chrome-extension://")){const Q=new URL(b);return""===Q.hostname&&""===x?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===x}if(!_c.test(_))return!1;if(gc.test(b))return x===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(x)}const Xr=new _i(3e4,6e4);function _h(){const b=oi().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Qo=null;const iu=new _i(5e3,15e3),xp="__/auth/iframe",vh="emulator/auth/iframe",ru={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ol=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sl(b){const p=b.config;ne(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?pe(p,vh):`https://${b.config.authDomain}/${xp}`,x={apiKey:p.apiKey,appName:b.name,v:se.SDK_VERSION},M=ol.get(b.config.apiHost);M&&(x.eid=M);const L=b._getFrameworks();return L.length&&(x.fw=L.join(",")),`${_}?${(0,j.xO)(x).slice(1)}`}function k(){return k=(0,l.Z)(function*(b){const p=yield function Na(b){return Qo=Qo||function xi(b){return new Promise((p,_)=>{var x,M,L;function Q(){_h(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_h(),_(de(b,"network-request-failed"))},timeout:Xr.get()})}if(null!==(M=null===(x=oi().gapi)||void 0===x?void 0:x.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(L=oi().gapi)||void 0===L||!L.load){const ae=Fs("iframefcb");return oi()[ae]=()=>{gapi.load?Q():_(de(b,"network-request-failed"))},xo(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Ge=>_(Ge))}Q()}}).catch(p=>{throw Qo=null,p})}(b),Qo}(b),_=oi().gapi;return ne(_,b,"internal-error"),p.open({where:document.body,url:sl(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ru,dontclear:!0},x=>new Promise(function(){var M=(0,l.Z)(function*(L,Q){yield x.restyle({setHideOnLeave:!1});const ae=de(b,"network-request-failed"),Ge=oi().setTimeout(()=>{Q(ae)},iu.get());function Qe(){oi().clearTimeout(Ge),L(x)}x.ping(Qe).then(Qe,()=>{Q(ae)})});return function(L,Q){return M.apply(this,arguments)}}()))}),k.apply(this,arguments)}const P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ct{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zt="__/auth/handler",zt="emulator/auth/handler",ki=encodeURIComponent("fac");function Pi(b,p,_,x,M,L){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(b,p,_,x,M,L){ne(b.config.authDomain,b,"auth-domain-config-required"),ne(b.config.apiKey,b,"invalid-api-key");const Q={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:x,v:se.SDK_VERSION,eventId:M};if(p instanceof Ri){p.setDefaultLanguage(b.languageCode),Q.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[vt,bt]of Object.entries(L||{}))Q[vt]=bt}if(p instanceof zo){const vt=p.getScopes().filter(bt=>""!==bt);vt.length>0&&(Q.scopes=vt.join(","))}b.tenantId&&(Q.tid=b.tenantId);const ae=Q;for(const vt of Object.keys(ae))void 0===ae[vt]&&delete ae[vt];const Ge=yield b._getAppCheckToken(),Qe=Ge?`#${ki}=${encodeURIComponent(Ge)}`:"";return`${function Ai({config:b}){return b.emulator?pe(b,zt):`https://${b.authDomain}/${Zt}`}(b)}?${(0,j.xO)(ae).slice(1)}${Qe}`})).apply(this,arguments)}const oa="webStorageSupport",Ds=class or{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kr,this._completeRedirectFn=ti,this._overrideRedirectResult=zi}_openPopup(p,_,x,M){var L=this;return(0,l.Z)(function*(){var Q;tt(null===(Q=L.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ae=yield Pi(p,_,x,hn(),M);return function it(b,p,_,x=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-x)/2,0).toString();let ae="";const Ge=Object.assign(Object.assign({},P),{width:x.toString(),height:M.toString(),top:L,left:Q}),Qe=(0,j.z$)().toLowerCase();_&&(ae=ut(Qe)?"_blank":_),Pe(Qe)&&(p=p||"http://localhost",Ge.scrollbars="yes");const vt=Object.entries(Ge).reduce((Ci,[Jo,dl])=>`${Ci}${Jo}=${dl},`,"");if(function Ui(b=(0,j.z$)()){var p;return vi(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Qe)&&"_self"!==ae)return function It(b,p){const _=document.createElement("a");_.href=b,_.target=p;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(p||"",ae),new ct(null);const bt=window.open(p||"",ae,vt);ne(bt,b,"popup-blocked");try{bt.focus()}catch{}return new ct(bt)}(p,ae,zd())})()}_openRedirect(p,_,x,M){var L=this;return(0,l.Z)(function*(){return yield L._originValidation(p),function O_(b){oi().location.href=b}(yield Pi(p,_,x,hn(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:L}=this.eventManagers[_];return M?Promise.resolve(M):(tt(L,"If manager is not set, promise should be"),L)}const x=this.initAndGetManager(p);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const x=yield function E(b){return k.apply(this,arguments)}(p),M=new nu(p);return x.register("authEvent",L=>(ne(L?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=x,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(oa,{type:oa},M=>{var L;const Q=null===(L=M?.[0])||void 0===L?void 0:L[oa];void 0!==Q&&_(!!Q),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function rl(b){return ia.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return ya()||ye()||vi()}};class Jr{constructor(p){this.factorId=p}_process(p,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,x);case"signin":return this._finalizeSignIn(p,_.credential);default:return qe("unexpected MultiFactorSessionType")}}}class al extends Jr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new al(p)}_finalizeEnroll(p,_,x){return function I(b,p){return Ne(b,"POST","/v2/accounts/mfaEnrollment:finalize",Re(b,p))}(p,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function yp(b,p){return Ne(b,"POST","/v2/accounts/mfaSignIn:finalize",Re(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let F_=(()=>{class b{constructor(){}static assertion(_){return al._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var B_="@firebase/auth";class Xo{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(x=>{p(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cl(){return window}(0,j.Pz)("authIdTokenMaxAge"),function ou(b){(0,se._registerComponent)(new ue.wA("auth",(p,{options:_})=>{const x=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),L=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:ae}=x.options;ne(Q&&!Q.includes(":"),"invalid-api-key",{appName:x.name});const Ge={apiKey:Q,authDomain:ae,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wo(b)},Qe=new Al(x,M,L,Ge);return function eh(b,p){const _=p?.persistence||[],x=(Array.isArray(_)?_:[_]).map(at);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(x,p?.popupRedirectResolver)}(Qe,_),Qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,x)=>{p.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ue.wA("auth-internal",p=>{const _=yi(p.getProvider("auth").getImmediate());return new Xo(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(B_,"0.23.2",function Ip(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,se.registerVersion)(B_,"0.23.2","esm2017")}("Browser");function yc(){return yc=(0,l.Z)(function*(b,p,_){var x;const{BuildInfo:M}=cl();tt(p.sessionId,"AuthEvent did not contain a session ID");const L=yield function H_(b){return bh.apply(this,arguments)}(p.sessionId),Q={};return vi()?Q.ibi=M.packageName:Vt()?Q.apn=M.packageName:Te(b,"operation-not-supported-in-this-environment"),M.displayName&&(Q.appDisplayName=M.displayName),Q.sessionId=L,Pi(b,_,p.type,void 0,null!==(x=p.eventId)&&void 0!==x?x:void 0,Q)}),yc.apply(this,arguments)}function jf(){return(jf=(0,l.Z)(function*(b){const{BuildInfo:p}=cl(),_={};vi()?_.iosBundleId=p.packageName:Vt()?_.androidPackageName=p.packageName:Te(b,"operation-not-supported-in-this-environment"),yield Cn(b,_)})).apply(this,arguments)}function bc(){return(bc=(0,l.Z)(function*(b,p,_){const{cordova:x}=cl();let M=()=>{};try{yield new Promise((L,Q)=>{let ae=null;function Ge(){var bt;L();const Ci=null===(bt=x.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof Ci&&Ci(),"function"==typeof _?.close&&_.close()}function Qe(){ae||(ae=window.setTimeout(()=>{Q(de(b,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===document?.visibilityState&&Qe()}p.addPassiveListener(Ge),document.addEventListener("resume",Qe,!1),Vt()&&document.addEventListener("visibilitychange",vt,!1),M=()=>{p.removePassiveListener(Ge),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",vt,!1),ae&&window.clearTimeout(ae)}})}finally{M()}})).apply(this,arguments)}function bh(){return(bh=(0,l.Z)(function*(b){const p=function wh(b){if(tt(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const p=new ArrayBuffer(b.length),_=new Uint8Array(p);for(let x=0;x<b.length;x++)_[x]=b.charCodeAt(x);return _}(b),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class qb extends nu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Yl(b){return zf.apply(this,arguments)}function zf(){return(zf=(0,l.Z)(function*(b){const p=yield lu()._get(wc(b));return p&&(yield lu()._remove(wc(b))),p})).apply(this,arguments)}function sa(){const b=[];for(let _=0;_<20;_++){const x=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(x))}return b.join("")}function lu(){return at(Xc)}function wc(b){return Z("authEvent",b.config.apiKey,b.name)}function Zl(b){if(!b?.includes("?"))return{};const[p,..._]=b.split("?");return(0,j.zd)(_.join("?"))}const Wb=class j_{constructor(){this._redirectPersistence=Kr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ti,this._overrideRedirectResult=zi}_initialize(p){var _=this;return(0,l.Z)(function*(){const x=p._key();let M=_.eventManagers.get(x);return M||(M=new qb(p),_.eventManagers.set(x,M),_.attachCallbackListeners(p,M)),M})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,x,M){var L=this;return(0,l.Z)(function*(){!function Gb(b){var p,_,x,M,L,Q,ae,Ge,Qe,vt;const bt=cl();ne("function"==typeof(null===(p=bt?.universalLinks)||void 0===p?void 0:p.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof(null===(_=bt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(L=null===(M=null===(x=bt?.cordova)||void 0===x?void 0:x.plugins)||void 0===M?void 0:M.browsertab)||void 0===L?void 0:L.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Ge=null===(ae=null===(Q=bt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Ge?void 0:Ge.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(vt=null===(Qe=bt?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===vt?void 0:vt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Q=yield L._initialize(p);yield Q.initialized(),Q.resetRedirect(),function Ko(){To.clear()}(),yield L._originValidation(p);const ae=function Sp(b,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:sa(),postBody:null,tenantId:b.tenantId,error:de(b,"no-auth-event")}}(p,x,M);yield function cu(b,p){return lu()._set(wc(b),p)}(p,ae);const Ge=yield function Hf(b,p,_){return yc.apply(this,arguments)}(p,ae,_),Qe=yield function yh(b){const{cordova:p}=cl();return new Promise(_=>{p.plugins.browsertab.isAvailable(x=>{let M=null;x?p.plugins.browsertab.openUrl(b):M=p.InAppBrowser.open(b,function kt(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(M)})})}(Ge);return function $b(b,p,_){return bc.apply(this,arguments)}(p,Q,Qe)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function su(b){return jf.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:x,handleOpenURL:M,BuildInfo:L}=cl(),Q=setTimeout((0,l.Z)(function*(){yield Yl(p),_.onEvent(Tp())}),500),ae=function(){var vt=(0,l.Z)(function*(bt){clearTimeout(Q);const Ci=yield Yl(p);let Jo=null;Ci&&bt?.url&&(Jo=function $f(b,p){var _,x;const M=function du(b){const p=Zl(b),_=p.link?decodeURIComponent(p.link):void 0,x=Zl(_).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Zl(M).link||M||x||_||b}(p);if(M.includes("/__/auth/callback")){const L=Zl(M),Q=L.firebaseError?function xh(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,ae=null===(x=null===(_=Q?.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],Ge=ae?de(ae):null;return Ge?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:M,postBody:null}}return null}(Ci,bt.url)),_.onEvent(Jo||Tp())});return function(Ci){return vt.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,ae);const Ge=M,Qe=`${L.packageName.toLowerCase()}://`;cl().handleOpenURL=function(){var vt=(0,l.Z)(function*(bt){if(bt.toLowerCase().startsWith(Qe)&&ae({url:bt}),"function"==typeof Ge)try{Ge(bt)}catch(Ci){console.error(Ci)}});return function(bt){return vt.apply(this,arguments)}}()}};function Tp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:de("no-auth-event")}}function Eh(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function Zb(b=(0,j.z$)()){return!("file:"!==Eh()&&"ionic:"!==Eh()&&"capacitor:"!==Eh()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qb(){try{const b=self.localStorage,p=zd();if(b)return b.setItem(p,"1"),b.removeItem(p),!function JA(b=(0,j.z$)()){return function Ih(){return(0,j.w1)()&&11===document?.documentMode}()||function $_(b=(0,j.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,j.hl)()}catch{return uu()&&(0,j.hl)()}return!1}function uu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ap(){return(function kp(){return"http:"===Eh()||"https:"===Eh()}()||(0,j.ru)()||Zb())&&!function Kb(){return(0,j.b$)()||(0,j.UG)()}()&&Qb()&&!uu()}function Gf(){return Zb()&&typeof document<"u"}function Ao(){return(Ao=(0,l.Z)(function*(){return!!Gf()&&new Promise(b=>{const p=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),b(!0)})})})).apply(this,arguments)}const mo={LOCAL:"local",NONE:"none",SESSION:"session"},Ql=ne,Xl="persistence";function Dh(b){return fu.apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(b){yield b._initializationPromise;const p=mu(),_=Z(Xl,b.config.apiKey,b.name);p&&p.setItem(_,b._getPersistence())})).apply(this,arguments)}function mu(){var b;try{return(null===(b=function Kl(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Mp=ne;class xc{constructor(){this.browserResolver=at(Ds),this.cordovaResolver=at(Wb),this.underlyingResolver=null,this._redirectPersistence=Kr,this._completeRedirectFn=ti,this._overrideRedirectResult=zi}_initialize(p){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,x,M){var L=this;return(0,l.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(p,_,x,M)})()}_openRedirect(p,_,x,M){var L=this;return(0,l.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(p,_,x,M)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Gf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const _=yield function hu(){return Ao.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function qf(b){return b.unwrap()}function pu(b){return Sh(b)}function Sh(b){const{_tokenResponse:p}=b instanceof j.ZR?b.customData:b;if(!p)return null;if(!(b instanceof j.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Aa.credentialFromResult(b);const _=p.providerId;if(!_||_===we.PASSWORD)return null;let x;switch(_){case we.GOOGLE:x=gr;break;case we.FACEBOOK:x=vs;break;case we.GITHUB:x=Ea;break;case we.TWITTER:x=jc;break;default:const{oauthIdToken:M,oauthAccessToken:L,oauthTokenSecret:Q,pendingToken:ae,nonce:Ge}=p;return L||Q||M||ae?ae?_.startsWith("saml.")?Kt._create(_,ae):Pt._fromParams({providerId:_,signInMethod:_,pendingToken:ae,idToken:M,accessToken:L}):new $o(_).credential({idToken:M,accessToken:L,rawNonce:Ge}):null}return b instanceof j.ZR?x.credentialFromError(b):x.credentialFromResult(b)}function po(b,p){return p.catch(_=>{throw _ instanceof j.ZR&&function Xb(b,p){var _;const x=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Jb(b,function jd(b,p){var _;const x=(0,j.m9)(b),M=p;return ne(p.customData.operationType,x,"argument-error"),ne(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),Js._fromError(x,M)}(b,p));else if(x){const M=Sh(p),L=p;M&&(L.credential=M,L.tenantId=x.tenantId||void 0,L.email=x.email||void 0,L.phoneNumber=x.phoneNumber||void 0)}}(b,_),_}).then(_=>{const M=_.user;return{operationType:_.operationType,credential:pu(_),additionalUserInfo:Hd(_),user:Ni.getOrCreate(M)}})}function Yf(b,p){return td.apply(this,arguments)}function td(){return(td=(0,l.Z)(function*(b,p){const _=yield p;return{verificationId:_.verificationId,confirm:x=>po(b,_.confirm(x))}})).apply(this,arguments)}class Jb{constructor(p,_){this.resolver=_,this.auth=function Wf(b){return b.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return po(qf(this.auth),this.resolver.resolveSignIn(p))}}class Ni{constructor(p){this._delegate=p,this.multiFactor=function dn(b){const p=(0,j.m9)(b);return _t.has(p)||_t.set(p,ge._fromUser(p)),_t.get(p)}(p)}static getOrCreate(p){return Ni.USER_MAP.has(p)||Ni.USER_MAP.set(p,new Ni(p)),Ni.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,l.Z)(function*(){return po(_.auth,ih(_._delegate,p))})()}linkWithPhoneNumber(p,_){var x=this;return(0,l.Z)(function*(){return Yf(x.auth,function Hn(b,p,_){return pt.apply(this,arguments)}(x._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,l.Z)(function*(){return po(_.auth,function wp(b,p,_){return uc.apply(this,arguments)}(_._delegate,p,xc))})()}linkWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield Dh(yi(_.auth)),Gl(_._delegate,p,xc)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,l.Z)(function*(){return po(_.auth,Sf(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return Yf(this.auth,function wr(b,p,_){return Jd.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return po(this.auth,function eu(b,p,_){return tl.apply(this,arguments)}(this._delegate,p,xc))}reauthenticateWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield Dh(yi(_.auth)),Or(_._delegate,p,xc)})()}sendEmailVerification(p){return function xs(b,p){return ic.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,l.Z)(function*(){return yield function ws(b,p){return Rr.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function Vd(b,p){return oh((0,j.m9)(b),p,null)}(this._delegate,p)}updatePassword(p){return function Yc(b,p){return oh((0,j.m9)(b),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ea(b,p){return Jn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function kf(b,p){return Hl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function Ul(b,p,_){return Wc.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ni.USER_MAP=new WeakMap;const Cc=ne;let Zf=(()=>{class b{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=_.options;Cc(M,"invalid-api-key",{appName:_.name}),Cc(M,"invalid-api-key",{appName:_.name});const L=typeof window<"u"?xc:void 0;this._delegate=x.initialize({options:{persistence:eo(M,_.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ni.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function Mr(b,p,_){const x=yi(b);ne(x._canInitEmulator,x,"emulator-config-failed"),ne(/^https?:\/\//.test(p),x,"invalid-emulator-scheme");const M=!!_?.disableWarnings,L=ms(p),{host:Q,port:ae}=function Lc(b){const p=ms(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(x);if(M){const L=M[1];return{host:L,port:Ml(x.substr(L.length+1))}}{const[L,Q]=x.split(":");return{host:L,port:Ml(Q)}}}(p);x.config.emulator={url:`${L}//${Q}${null===ae?"":`:${ae}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Q,port:ae,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function If(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,x)}applyActionCode(_){return function Nd(b,p){return Zr.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Ti(this._delegate,_)}confirmPasswordReset(_,x){return function qs(b,p,_){return Hr.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var M=this;return(0,l.Z)(function*(){return po(M._delegate,function Bl(b,p,_){return ec.apply(this,arguments)}(M._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function nc(b,p){return Ks.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Ld(b,p){const _=Qn.parseLink(p);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Cc(Ap(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function Cr(b,p){return na.apply(this,arguments)}(_._delegate,xc);return x?po(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function yE(b,p){yi(b)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,x,M){const{next:L,error:Q,complete:ae}=Th(_,x,M);return this._delegate.onAuthStateChanged(L,Q,ae)}onIdTokenChanged(_,x,M){const{next:L,error:Q,complete:ae}=Th(_,x,M);return this._delegate.onIdTokenChanged(L,Q,ae)}sendSignInLinkToEmail(_,x){return function Zs(b,p,_){return Ia.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function pp(b,p,_){return Ja.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,l.Z)(function*(){let M;switch(function Jl(b,p){Ql(Object.values(mo).includes(p),b,"invalid-persistence-type"),(0,j.b$)()?Ql(p!==mo.SESSION,b,"unsupported-persistence-type"):(0,j.UG)()?Ql(p===mo.NONE,b,"unsupported-persistence-type"):uu()?Ql(p===mo.NONE||p===mo.LOCAL&&(0,j.hl)(),b,"unsupported-persistence-type"):Ql(p===mo.NONE||Qb(),b,"unsupported-persistence-type")}(x._delegate,_),_){case mo.SESSION:M=Kr;break;case mo.LOCAL:M=(yield at(ac)._isAvailable())?ac:Xc;break;case mo.NONE:M=En;break;default:return Te("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return po(this._delegate,function wi(b){return nh.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return po(this._delegate,Gc(this._delegate,_))}signInWithCustomToken(_){return po(this._delegate,function Pd(b,p){return Eo.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return po(this._delegate,function Fd(b,p,_){return Gc((0,j.m9)(b),Hs.credential(p,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return po(this._delegate,function Oi(b,p,_){return Vl.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return Yf(this._delegate,function ho(b,p,_){return lc.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,l.Z)(function*(){return Cc(Ap(),x._delegate,"operation-not-supported-in-this-environment"),po(x._delegate,function el(b,p,_){return Ma.apply(this,arguments)}(x._delegate,_,xc))})()}signInWithRedirect(_){var x=this;return(0,l.Z)(function*(){return Cc(Ap(),x._delegate,"operation-not-supported-in-this-environment"),yield Dh(x._delegate),Ht(x._delegate,_,xc)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function vr(b,p){return Ys.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=mo,b})();function Th(b,p,_){let x=b;"function"!=typeof b&&({next:x,error:p,complete:_}=b);const M=x;return{next:Q=>M(Q&&Ni.getOrCreate(Q)),error:p,complete:_}}function eo(b,p){const _=function ed(b,p){const _=mu();if(!_)return[];const x=Z(Xl,b,p);switch(_.getItem(x)){case mo.NONE:return[En];case mo.LOCAL:return[ac,Kr];case mo.SESSION:return[Kr];default:return[]}}(b,p);if(typeof self<"u"&&!_.includes(ac)&&_.push(ac),typeof window<"u")for(const x of[Xc,Kr])_.includes(x)||_.push(x);return _.includes(En)||_.push(En),_}class ll{constructor(){this.providerId="phone",this._delegate=new Aa(qf(oe.Z.auth()))}static credential(p,_){return Aa.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}ll.PHONE_SIGN_IN_METHOD=Aa.PHONE_SIGN_IN_METHOD,ll.PROVIDER_ID=Aa.PROVIDER_ID;const Rp=ne;class G_{constructor(p,_,x=oe.Z.app()){var M;Rp(null===(M=x.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new Lf(p,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ew(b){b.INTERNAL.registerComponent(new ue.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),x=p.getProvider("auth");return new Zf(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hs,FacebookAuthProvider:vs,GithubAuthProvider:Ea,GoogleAuthProvider:gr,OAuthProvider:$o,SAMLAuthProvider:js,PhoneAuthProvider:ll,PhoneMultiFactorGenerator:F_,RecaptchaVerifier:G_,TwitterAuthProvider:jc,Auth:Zf,AuthCredential:Ls,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(oe.Z)},4303:(wt,ke,V)=>{"use strict";V.r(ke),V.d(ke,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>An,_DEFAULT_ENTRY_NAME:()=>pe,_addComponent:()=>Re,_addOrOverwriteComponent:()=>Ne,_apps:()=>xe,_clearComponents:()=>St,_components:()=>Ie,_getProvider:()=>nt,_registerComponent:()=>ot,_removeServiceInstance:()=>Fn,deleteApp:()=>ur,getApp:()=>qt,getApps:()=>Un,initializeApp:()=>ai,onLog:()=>Qi,registerVersion:()=>Zn,setLogLevel:()=>ao});var l=V(5861),oe=V(4537),j=V(7879),se=V(9058),me=V(1878);class he{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function ue(Se){const J=Se.getComponent();return"VERSION"===J?.type}(De)){const et=De.getImmediate();return`${et.library}/${et.version}`}return null}).filter(De=>De).join(" ")}}const Be="@firebase/app",q=new j.Yd("@firebase/app"),pe="[DEFAULT]",be={[Be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xe=new Map,Ie=new Map;function Re(Se,J){try{Se.container.addComponent(J)}catch(De){q.debug(`Component ${J.name} failed to register with FirebaseApp ${Se.name}`,De)}}function Ne(Se,J){Se.container.addOrOverwriteComponent(J)}function ot(Se){const J=Se.name;if(Ie.has(J))return q.debug(`There were multiple attempts to register component ${J}.`),!1;Ie.set(J,Se);for(const De of xe.values())Re(De,Se);return!0}function nt(Se,J){const De=Se.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),Se.container.getProvider(J)}function Fn(Se,J,De=pe){nt(Se,J).clearInstance(De)}function St(){Ie.clear()}const yt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(J,De,et){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const An="10.5.0";function ai(Se,J={}){let De=Se;"object"!=typeof J&&(J={name:J});const et=Object.assign({name:pe,automaticDataCollectionEnabled:!1},J),at=et.name;if("string"!=typeof at||!at)throw yt.create("bad-app-name",{appName:String(at)});if(De||(De=(0,se.aH)()),!De)throw yt.create("no-options");const Tt=xe.get(at);if(Tt){if((0,se.vZ)(De,Tt.options)&&(0,se.vZ)(et,Tt.config))return Tt;throw yt.create("duplicate-app",{appName:at})}const En=new oe.H0(at);for(const Y of Ie.values())En.addComponent(Y);const Z=new Rn(De,et,En);return xe.set(at,Z),Z}function qt(Se=pe){const J=xe.get(Se);if(!J&&Se===pe&&(0,se.aH)())return ai();if(!J)throw yt.create("no-app",{appName:Se});return J}function Un(){return Array.from(xe.values())}function ur(Se){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(Se){const J=Se.name;xe.has(J)&&(xe.delete(J),yield Promise.all(Se.container.getProviders().map(De=>De.delete())),Se.isDeleted=!0)})).apply(this,arguments)}function Zn(Se,J,De){var et;let at=null!==(et=be[Se])&&void 0!==et?et:Se;De&&(at+=`-${De}`);const Tt=at.match(/\s|\//),En=J.match(/\s|\//);if(Tt||En){const Z=[`Unable to register library "${at}" with version "${J}":`];return Tt&&Z.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Tt&&En&&Z.push("and"),En&&Z.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void q.warn(Z.join(" "))}ot(new oe.wA(`${at}-version`,()=>({library:at,version:J}),"VERSION"))}function Qi(Se,J){if(null!==Se&&"function"!=typeof Se)throw yt.create("invalid-log-argument");(0,j.Am)(Se,J)}function ao(Se){(0,j.Ub)(Se)}const on="firebase-heartbeat-database",xt=1,At="firebase-heartbeat-store";let Ft=null;function Wt(){return Ft||(Ft=(0,me.X3)(on,xt,{upgrade:(Se,J)=>{0===J&&Se.createObjectStore(At)}}).catch(Se=>{throw yt.create("idb-open",{originalErrorMessage:Se.message})})),Ft}function li(){return(li=(0,l.Z)(function*(Se){try{return yield(yield Wt()).transaction(At).objectStore(At).get(bo(Se))}catch(J){if(J instanceof se.ZR)q.warn(J.message);else{const De=yt.create("idb-get",{originalErrorMessage:J?.message});q.warn(De.message)}}})).apply(this,arguments)}function bn(Se,J){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(Se,J){try{const et=(yield Wt()).transaction(At,"readwrite");yield et.objectStore(At).put(J,bo(Se)),yield et.done}catch(De){if(De instanceof se.ZR)q.warn(De.message);else{const et=yt.create("idb-set",{originalErrorMessage:De?.message});q.warn(et.message)}}})).apply(this,arguments)}function bo(Se){return`${Se.name}!${Se.options.appId}`}class mn{constructor(J){this.container=J,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new Vo(De),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var J=this;return(0,l.Z)(function*(){const et=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=kr();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==at&&!J._heartbeatsCache.heartbeats.some(Tt=>Tt.date===at))return J._heartbeatsCache.heartbeats.push({date:at,agent:et}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Tt=>{const En=new Date(Tt.date).valueOf();return Date.now()-En<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,l.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const De=kr(),{heartbeatsToSend:et,unsentEntries:at}=function co(Se,J=1024){const De=[];let et=Se.slice();for(const at of Se){const Tt=De.find(En=>En.agent===at.agent);if(Tt){if(Tt.dates.push(at.date),Xi(De)>J){Tt.dates.pop();break}}else if(De.push({agent:at.agent,dates:[at.date]}),Xi(De)>J){De.pop();break}et=et.slice(1)}return{heartbeatsToSend:De,unsentEntries:et}}(J._heartbeatsCache.heartbeats),Tt=(0,se.L)(JSON.stringify({version:2,heartbeats:et}));return J._heartbeatsCache.lastSentHeartbeatDate=De,at.length>0?(J._heartbeatsCache.heartbeats=at,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Tt})()}}function kr(){return(new Date).toISOString().substring(0,10)}class Vo{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,l.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function sn(Se){return li.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var De=this;return(0,l.Z)(function*(){var et;if(yield De._canUseIndexedDBPromise){const Tt=yield De.read();return bn(De.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Tt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var De=this;return(0,l.Z)(function*(){var et;if(yield De._canUseIndexedDBPromise){const Tt=yield De.read();return bn(De.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...J.heartbeats]})}})()}}function Xi(Se){return(0,se.L)(JSON.stringify({version:2,heartbeats:Se})).length}!function Ji(Se){ot(new oe.wA("platform-logger",J=>new he(J),"PRIVATE")),ot(new oe.wA("heartbeat",J=>new mn(J),"PRIVATE")),Zn(Be,"0.9.20",Se),Zn(Be,"0.9.20","esm2017"),Zn("fire-js","")}("")},4537:(wt,ke,V)=>{"use strict";V.d(ke,{H0:()=>Be,wA:()=>j,zt:()=>me});var l=V(5861),oe=V(9058);class j{constructor(q,K,z){this.name=q,this.instanceFactory=K,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const se="[DEFAULT]";class me{constructor(q,K){this.name=q,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const K=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(K)){const z=new oe.BH;if(this.instancesDeferred.set(K,z),this.isInitialized(K)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:K});We&&z.resolve(We)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(q){var K;const z=this.normalizeInstanceIdentifier(q?.identifier),We=null!==(K=q?.optional)&&void 0!==K&&K;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(Fe){if(We)return null;throw Fe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ue(we){return"EAGER"===we.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[K,z]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(K);try{const Fe=this.getOrInitializeService({instanceIdentifier:We});z.resolve(Fe)}catch{}}}}clearInstance(q=se){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,l.Z)(function*(){const K=Array.from(q.instances.values());yield Promise.all([...K.filter(z=>"INTERNAL"in z).map(z=>z.INTERNAL.delete()),...K.filter(z=>"_delete"in z).map(z=>z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=se){return this.instances.has(q)}getOptions(q=se){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:K={}}=q,z=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:z,options:K});for(const[Fe,rt]of this.instancesDeferred.entries())z===this.normalizeInstanceIdentifier(Fe)&&rt.resolve(We);return We}onInit(q,K){var z;const We=this.normalizeInstanceIdentifier(K),Fe=null!==(z=this.onInitCallbacks.get(We))&&void 0!==z?z:new Set;Fe.add(q),this.onInitCallbacks.set(We,Fe);const rt=this.instances.get(We);return rt&&q(rt,We),()=>{Fe.delete(q)}}invokeOnInitCallbacks(q,K){const z=this.onInitCallbacks.get(K);if(z)for(const We of z)try{We(q,K)}catch{}}getOrInitializeService({instanceIdentifier:q,options:K={}}){let z=this.instances.get(q);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(we=q,we===se?void 0:we),options:K}),this.instances.set(q,z),this.instancesOptions.set(q,K),this.invokeOnInitCallbacks(z,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,z)}catch{}var we;return z||null}normalizeInstanceIdentifier(q=se){return this.component?this.component.multipleInstances?q:se:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const K=this.getProvider(q.name);if(K.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);K.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const K=new me(q,this);return this.providers.set(q,K),K}getProviders(){return Array.from(this.providers.values())}}},7879:(wt,ke,V)=>{"use strict";V.d(ke,{Am:()=>we,Ub:()=>Be,Yd:()=>ue,in:()=>oe});const l=[];var oe=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(oe||{});const j={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},se=oe.INFO,me={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},he=(q,K,...z)=>{if(K<q.logLevel)return;const We=(new Date).toISOString(),Fe=me[K];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Fe](`[${We}]  ${q.name}:`,...z)};class ue{constructor(K){this.name=K,this._logLevel=se,this._logHandler=he,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in oe))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?j[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...K),this._logHandler(this,oe.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...K),this._logHandler(this,oe.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...K),this._logHandler(this,oe.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...K),this._logHandler(this,oe.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...K),this._logHandler(this,oe.ERROR,...K)}}function Be(q){l.forEach(K=>{K.setLogLevel(q)})}function we(q,K){for(const z of l){let We=null;K&&K.level&&(We=j[K.level]),z.userLogHandler=null===q?null:(Fe,rt,...Ue)=>{const Ye=Ue.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");rt>=(We??Fe.logLevel)&&q({level:oe[rt].toLowerCase(),message:Ye,args:Ue,type:Fe.name})}}}},1878:(wt,ke,V)=>{"use strict";V.d(ke,{X3:()=>Et});var l=V(5861);const oe=(fe,ne)=>ne.some(qe=>fe instanceof qe);let j,se;const ue=new WeakMap,Be=new WeakMap,we=new WeakMap,q=new WeakMap,K=new WeakMap;let Fe={get(fe,ne,qe){if(fe instanceof IDBTransaction){if("done"===ne)return Be.get(fe);if("objectStoreNames"===ne)return fe.objectStoreNames||we.get(fe);if("store"===ne)return qe.objectStoreNames[1]?void 0:qe.objectStore(qe.objectStoreNames[0])}return Le(fe[ne])},set:(fe,ne,qe)=>(fe[ne]=qe,!0),has:(fe,ne)=>fe instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in fe};function Ye(fe){return"function"==typeof fe?function Ue(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...ne){return fe.apply(Ct(this),ne),Le(ue.get(this))}:function(...ne){return Le(fe.apply(Ct(this),ne))}:function(ne,...qe){const tt=fe.call(Ct(this),ne,...qe);return we.set(tt,ne.sort?ne.sort():[ne]),Le(tt)}}(fe):(fe instanceof IDBTransaction&&function We(fe){if(Be.has(fe))return;const ne=new Promise((qe,tt)=>{const hn=()=>{fe.removeEventListener("complete",Vn),fe.removeEventListener("error",Nn),fe.removeEventListener("abort",Nn)},Vn=()=>{qe(),hn()},Nn=()=>{tt(fe.error||new DOMException("AbortError","AbortError")),hn()};fe.addEventListener("complete",Vn),fe.addEventListener("error",Nn),fe.addEventListener("abort",Nn)});Be.set(fe,ne)}(fe),oe(fe,function me(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Fe):fe)}function Le(fe){if(fe instanceof IDBRequest)return function z(fe){const ne=new Promise((qe,tt)=>{const hn=()=>{fe.removeEventListener("success",Vn),fe.removeEventListener("error",Nn)},Vn=()=>{qe(Le(fe.result)),hn()},Nn=()=>{tt(fe.error),hn()};fe.addEventListener("success",Vn),fe.addEventListener("error",Nn)});return ne.then(qe=>{qe instanceof IDBCursor&&ue.set(qe,fe)}).catch(()=>{}),K.set(ne,fe),ne}(fe);if(q.has(fe))return q.get(fe);const ne=Ye(fe);return ne!==fe&&(q.set(fe,ne),K.set(ne,fe)),ne}const Ct=fe=>K.get(fe);function Et(fe,ne,{blocked:qe,upgrade:tt,blocking:hn,terminated:Vn}={}){const Nn=indexedDB.open(fe,ne),Yn=Le(Nn);return tt&&Nn.addEventListener("upgradeneeded",$n=>{tt(Le(Nn.result),$n.oldVersion,$n.newVersion,Le(Nn.transaction),$n)}),qe&&Nn.addEventListener("blocked",$n=>qe($n.oldVersion,$n.newVersion,$n)),Yn.then($n=>{Vn&&$n.addEventListener("close",()=>Vn()),hn&&$n.addEventListener("versionchange",_i=>hn(_i.oldVersion,_i.newVersion,_i))}).catch(()=>{}),Yn}const Te=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],Ae=new Map;function je(fe,ne){if(!(fe instanceof IDBDatabase)||ne in fe||"string"!=typeof ne)return;if(Ae.get(ne))return Ae.get(ne);const qe=ne.replace(/FromIndex$/,""),tt=ne!==qe,hn=de.includes(qe);if(!(qe in(tt?IDBIndex:IDBObjectStore).prototype)||!hn&&!Te.includes(qe))return;const Vn=function(){var Nn=(0,l.Z)(function*(Yn,...$n){const _i=this.transaction(Yn,hn?"readwrite":"readonly");let pe=_i.store;return tt&&(pe=pe.index($n.shift())),(yield Promise.all([pe[qe](...$n),hn&&_i.done]))[0]});return function($n){return Nn.apply(this,arguments)}}();return Ae.set(ne,Vn),Vn}!function rt(fe){Fe=fe(Fe)}(fe=>({...fe,get:(ne,qe,tt)=>je(ne,qe)||fe.get(ne,qe,tt),has:(ne,qe)=>!!je(ne,qe)||fe.has(ne,qe)}))},5861:(wt,ke,V)=>{"use strict";function l(j,se,me,he,ue,Be,we){try{var q=j[Be](we),K=q.value}catch(z){return void me(z)}q.done?se(K):Promise.resolve(K).then(he,ue)}function oe(j){return function(){var se=this,me=arguments;return new Promise(function(he,ue){var Be=j.apply(se,me);function we(K){l(Be,he,ue,we,q,"next",K)}function q(K){l(Be,he,ue,we,q,"throw",K)}we(void 0)})}}V.d(ke,{Z:()=>oe})},7582:(wt,ke,V)=>{"use strict";function se(pe,be){var xe={};for(var Ie in pe)Object.prototype.hasOwnProperty.call(pe,Ie)&&be.indexOf(Ie)<0&&(xe[Ie]=pe[Ie]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(Ie=Object.getOwnPropertySymbols(pe);Re<Ie.length;Re++)be.indexOf(Ie[Re])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ie[Re])&&(xe[Ie[Re]]=pe[Ie[Re]])}return xe}function z(pe,be,xe,Ie){return new(xe||(xe=Promise))(function(Ne,ot){function nt(pn){try{St(Ie.next(pn))}catch(yt){ot(yt)}}function Fn(pn){try{St(Ie.throw(pn))}catch(yt){ot(yt)}}function St(pn){pn.done?Ne(pn.value):function Re(Ne){return Ne instanceof xe?Ne:new xe(function(ot){ot(Ne)})}(pn.value).then(nt,Fn)}St((Ie=Ie.apply(pe,be||[])).next())})}function _e(pe){return this instanceof _e?(this.v=pe,this):new _e(pe)}function Te(pe,be,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ie=xe.apply(pe,be||[]),Ne=[];return Re={},ot("next"),ot("throw"),ot("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function ot(Rn){Ie[Rn]&&(Re[Rn]=function(An){return new Promise(function(ai,qt){Ne.push([Rn,An,ai,qt])>1||nt(Rn,An)})})}function nt(Rn,An){try{!function Fn(Rn){Rn.value instanceof _e?Promise.resolve(Rn.value.v).then(St,pn):yt(Ne[0][2],Rn)}(Ie[Rn](An))}catch(ai){yt(Ne[0][3],ai)}}function St(Rn){nt("next",Rn)}function pn(Rn){nt("throw",Rn)}function yt(Rn,An){Rn(An),Ne.shift(),Ne.length&&nt(Ne[0][0],Ne[0][1])}}function Ae(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,be=pe[Symbol.asyncIterator];return be?be.call(pe):(pe=function Ue(pe){var be="function"==typeof Symbol&&Symbol.iterator,xe=be&&pe[be],Ie=0;if(xe)return xe.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Ie>=pe.length&&(pe=void 0),{value:pe&&pe[Ie++],done:!pe}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),xe={},Ie("next"),Ie("throw"),Ie("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Ie(Ne){xe[Ne]=pe[Ne]&&function(ot){return new Promise(function(nt,Fn){!function Re(Ne,ot,nt,Fn){Promise.resolve(Fn).then(function(St){Ne({value:St,done:nt})},ot)}(nt,Fn,(ot=pe[Ne](ot)).done,ot.value)})}}}V.d(ke,{FC:()=>Te,KL:()=>Ae,_T:()=>se,mG:()=>z,qq:()=>_e}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=450)}]);