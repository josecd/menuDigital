(self.webpackChunkmenuDigital=self.webpackChunkmenuDigital||[]).push([[179],{6304:(wt,ke,V)=>{"use strict";V.d(ke,{Dh:()=>Ve,GT:()=>de,cc:()=>Le,hO:()=>We,on:()=>q,pX:()=>me,xv:()=>we});var c=V(5879),se=V(120),j=V(2793);wt=V.hmd(wt);const oe=["ngOnDestroy"],me=(Be,Ct,Et,_e={})=>new Proxy(Be,{get:(Te,ue)=>Et.runOutsideAngular(()=>{var Me;if(Be[ue])return!(null===(Me=_e?.spy)||void 0===Me)&&Me.get&&_e.spy.get(ue,Be[ue]),Be[ue];if(oe.indexOf(ue)>-1)return()=>{};const je=Ct.toPromise().then(fe=>{const ne=fe&&fe[ue];return"function"==typeof ne?ne.bind(fe):ne&&ne.then?ne.then(qe=>Et.run(()=>qe)):Et.run(()=>ne)});return new Proxy(()=>{},{get:(fe,ne)=>je[ne],apply:(fe,ne,qe)=>je.then(tt=>{var fn;const Vn=tt&&tt(...qe);return!(null===(fn=_e?.spy)||void 0===fn)&&fn.apply&&_e.spy.apply(ue,qe,Vn),Vn})})})}),de=(Be,Ct)=>{Ct.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(_e=>{Object.defineProperty(Be.prototype,_e,Object.getOwnPropertyDescriptor(Et.prototype||Et,_e))})})};class he{constructor(Ct){return Ct}}const Ve=new c.OlP("angularfire2.app.options"),we=new c.OlP("angularfire2.app.name");function q(Be,Ct,Et){const Te="object"==typeof Et&&Et||{};Te.name=Te.name||"string"==typeof Et&&Et||"[DEFAULT]";const Me=se.Z.apps.filter(je=>je&&je.name===Te.name)[0]||Ct.runOutsideAngular(()=>se.Z.initializeApp(Be,Te));try{JSON.stringify(Be)!==JSON.stringify(Me.options)&&Q("error",`${Me.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(Me)}const Q=(Be,...Ct)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Be](...Ct)},z={provide:he,useFactory:q,deps:[Ve,c.R0b,[new c.FiY,we]]};let We=(()=>{class Be{constructor(Et){se.Z.registerVersion("angularfire",j.q4.full,"core"),se.Z.registerVersion("angularfire",j.q4.full,"app-compat"),se.Z.registerVersion("angular",c.q4F.full,Et.toString())}static initializeApp(Et,_e){return{ngModule:Be,providers:[{provide:Ve,useValue:Et},{provide:we,useValue:_e}]}}}return Be.\u0275fac=function(Et){return new(Et||Be)(c.LFG(c.Lbi))},Be.\u0275mod=c.oAB({type:Be}),Be.\u0275inj=c.cJS({providers:[z]}),Be})();function Le(Be,Ct,Et,_e,Te){const[,ue,Me]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Be)||[];if(ue)return function rt(Be,Ct){try{return Be.toString()===Ct.toString()}catch{return Be===Ct}}(Te,Me)||(Ye("error",`${Ct} was already initialized on the ${Et} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:Te,was:Me})),ue;{const je=_e();return globalThis.\u0275AngularfireInstanceCache.push([Be,je,Te]),je}}const He=!!wt.hot,Ye=(Be,...Ct)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Be](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(wt,ke,V)=>{"use strict";V.d(ke,{q4:()=>Ps,iC:()=>Ch,fc:()=>cu,HU:()=>xh,vb:()=>cc,JM:()=>xl});var c=V(5879),se=V(4097),j=V(5861),oe=V(4303),me=V(9058),de=V(4537),he=V(7879);const Ve=(E,k)=>k.some(P=>E instanceof P);let we,q;const We=new WeakMap,Le=new WeakMap,rt=new WeakMap,He=new WeakMap,Ye=new WeakMap;let Et={get(E,k,P){if(E instanceof IDBTransaction){if("done"===k)return Le.get(E);if("objectStoreNames"===k)return E.objectStoreNames||rt.get(E);if("store"===k)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Me(E[k])},set:(E,k,P)=>(E[k]=P,!0),has:(E,k)=>E instanceof IDBTransaction&&("done"===k||"store"===k)||k in E};function ue(E){return"function"==typeof E?function Te(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...k){return E.apply(je(this),k),Me(We.get(this))}:function(...k){return Me(E.apply(je(this),k))}:function(k,...P){const U=E.call(je(this),k,...P);return rt.set(U,k.sort?k.sort():[k]),Me(U)}}(E):(E instanceof IDBTransaction&&function Ct(E){if(Le.has(E))return;const k=new Promise((P,U)=>{const ee=()=>{E.removeEventListener("complete",le),E.removeEventListener("error",Ce),E.removeEventListener("abort",Ce)},le=()=>{P(),ee()},Ce=()=>{U(E.error||new DOMException("AbortError","AbortError")),ee()};E.addEventListener("complete",le),E.addEventListener("error",Ce),E.addEventListener("abort",Ce)});Le.set(E,k)}(E),Ve(E,function Q(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Et):E)}function Me(E){if(E instanceof IDBRequest)return function Be(E){const k=new Promise((P,U)=>{const ee=()=>{E.removeEventListener("success",le),E.removeEventListener("error",Ce)},le=()=>{P(Me(E.result)),ee()},Ce=()=>{U(E.error),ee()};E.addEventListener("success",le),E.addEventListener("error",Ce)});return k.then(P=>{P instanceof IDBCursor&&We.set(P,E)}).catch(()=>{}),Ye.set(k,E),k}(E);if(He.has(E))return He.get(E);const k=ue(E);return k!==E&&(He.set(E,k),Ye.set(k,E)),k}const je=E=>Ye.get(E),qe=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],fn=new Map;function Vn(E,k){if(!(E instanceof IDBDatabase)||k in E||"string"!=typeof k)return;if(fn.get(k))return fn.get(k);const P=k.replace(/FromIndex$/,""),U=k!==P,ee=tt.includes(P);if(!(P in(U?IDBIndex:IDBObjectStore).prototype)||!ee&&!qe.includes(P))return;const le=function(){var Ce=(0,j.Z)(function*(lt,...it){const It=this.transaction(lt,ee?"readwrite":"readonly");let Zt=It.store;return U&&(Zt=Zt.index(it.shift())),(yield Promise.all([Zt[P](...it),ee&&It.done]))[0]});return function(it){return Ce.apply(this,arguments)}}();return fn.set(k,le),le}!function _e(E){Et=E(Et)}(E=>({...E,get:(k,P,U)=>Vn(k,P)||E.get(k,P,U),has:(k,P)=>!!Vn(k,P)||E.has(k,P)}));const Nn="@firebase/installations",Kn="0.6.4",Gn=1e4,_i=`w:${Kn}`,pe="FIS_v2",be="https://firebaseinstallations.googleapis.com/v1",xe=36e5,st=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(E){return E instanceof me.ZR&&E.code.includes("request-failed")}function Ln({projectId:E}){return`${be}/projects/${E}/installations`}function St(E){return{token:E.token,requestStatus:2,expiresIn:Un(E.expiresIn),creationTime:Date.now()}}function gn(E,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,j.Z)(function*(E,k){const U=(yield k.json()).error;return st.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function On({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ai(E){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,j.Z)(function*(E){const k=yield E();return k.status>=500&&k.status<600?E():k})).apply(this,arguments)}function Un(E){return Number(E.replace("s","000"))}function Zn(){return(Zn=(0,j.Z)(function*({appConfig:E,heartbeatServiceProvider:k},{fid:P}){const U=Ln(E),ee=On(E),le=k.getImmediate({optional:!0});if(le){const It=yield le.getHeartbeatsHeader();It&&ee.append("x-firebase-client",It)}const lt={method:"POST",headers:ee,body:JSON.stringify({fid:P,authVersion:pe,appId:E.appId,sdkVersion:_i})},it=yield ai(()=>fetch(U,lt));if(it.ok){const It=yield it.json();return{fid:It.fid||P,registrationStatus:2,refreshToken:It.refreshToken,authToken:St(It.authToken)}}throw yield gn("Create Installation",it)})).apply(this,arguments)}function Xi(E){return new Promise(k=>{setTimeout(k,E)})}const sn=/^[cdef][\w-]{21}$/,xt="";function kt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const P=function Nt(E){return function hs(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return sn.test(P)?P:xt}catch{return xt}}function Yt(E){return`${E.appName}!${E.appId}`}const on=new Map;function di(E,k){const P=Yt(E);Es(P,k),function mn(E,k){const P=function pn(){return!Vi&&"BroadcastChannel"in self&&(Vi=new BroadcastChannel("[Firebase] FID Change"),Vi.onmessage=E=>{Es(E.data.key,E.data.fid)}),Vi}();P&&P.postMessage({key:E,fid:k}),function Or(){0===on.size&&Vi&&(Vi.close(),Vi=null)}()}(P,k)}function Es(E,k){const P=on.get(E);if(P)for(const U of P)U(k)}let Vi=null;const fs="firebase-installations-database",Gs=1,Ji="firebase-installations-store";let er=null;function Se(){return er||(er=function fe(E,k,{blocked:P,upgrade:U,blocking:ee,terminated:le}={}){const Ce=indexedDB.open(E,k),lt=Me(Ce);return U&&Ce.addEventListener("upgradeneeded",it=>{U(Me(Ce.result),it.oldVersion,it.newVersion,Me(Ce.transaction))}),P&&Ce.addEventListener("blocked",()=>P()),lt.then(it=>{le&&it.addEventListener("close",()=>le()),ee&&it.addEventListener("versionchange",()=>ee())}).catch(()=>{}),lt}(fs,Gs,{upgrade:(E,k)=>{0===k&&E.createObjectStore(Ji)}})),er}function J(E,k){return De.apply(this,arguments)}function De(){return(De=(0,j.Z)(function*(E,k){const P=Yt(E),ee=(yield Se()).transaction(Ji,"readwrite"),le=ee.objectStore(Ji),Ce=yield le.get(P);return yield le.put(k,P),yield ee.done,(!Ce||Ce.fid!==k.fid)&&di(E,k.fid),k})).apply(this,arguments)}function et(E){return at.apply(this,arguments)}function at(){return(at=(0,j.Z)(function*(E){const k=Yt(E),U=(yield Se()).transaction(Ji,"readwrite");yield U.objectStore(Ji).delete(k),yield U.done})).apply(this,arguments)}function Tt(E,k){return En.apply(this,arguments)}function En(){return(En=(0,j.Z)(function*(E,k){const P=Yt(E),ee=(yield Se()).transaction(Ji,"readwrite"),le=ee.objectStore(Ji),Ce=yield le.get(P),lt=k(Ce);return void 0===lt?yield le.delete(P):yield le.put(lt,P),yield ee.done,lt&&(!Ce||Ce.fid!==lt.fid)&&di(E,lt.fid),lt})).apply(this,arguments)}function K(E){return Y.apply(this,arguments)}function Y(){return Y=(0,j.Z)(function*(E){let k;const P=yield Tt(E.appConfig,U=>{const ee=function ie(E){return Kt(E||{fid:kt(),registrationStatus:0})}(U),le=function Fe(E,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(st.create("app-offline"))};const P={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},U=function ye(E,k){return ut.apply(this,arguments)}(E,P);return{installationEntry:P,registrationPromise:U}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:qt(E)}:{installationEntry:k}}(E,ee);return k=le.registrationPromise,le.installationEntry});return P.fid===xt?{installationEntry:yield k}:{installationEntry:P,registrationPromise:k}}),Y.apply(this,arguments)}function ut(){return ut=(0,j.Z)(function*(E,k){try{const P=yield function $n(E,k){return Zn.apply(this,arguments)}(E,k);return J(E.appConfig,P)}catch(P){throw nt(P)&&409===P.customData.serverCode?yield et(E.appConfig):yield J(E.appConfig,{fid:k.fid,registrationStatus:0}),P}}),ut.apply(this,arguments)}function qt(E){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,j.Z)(function*(E){let k=yield tr(E.appConfig);for(;1===k.registrationStatus;)yield Xi(100),k=yield tr(E.appConfig);if(0===k.registrationStatus){const{installationEntry:P,registrationPromise:U}=yield K(E);return U||P}return k})).apply(this,arguments)}function tr(E){return Tt(E,k=>{if(!k)throw st.create("installation-not-found");return Kt(k)})}function Kt(E){return function vi(E){return 1===E.registrationStatus&&E.registrationTime+Gn<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Ui(){return(Ui=(0,j.Z)(function*({appConfig:E,heartbeatServiceProvider:k},P){const U=function go(E,{fid:k}){return`${Ln(E)}/${k}/authTokens:generate`}(E,P),ee=function Mn(E,{refreshToken:k}){const P=On(E);return P.append("Authorization",function mr(E){return`${pe} ${E}`}(k)),P}(E,P),le=k.getImmediate({optional:!0});if(le){const It=yield le.getHeartbeatsHeader();It&&ee.append("x-firebase-client",It)}const lt={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:_i,appId:E.appId}})},it=yield ai(()=>fetch(U,lt));if(it.ok)return St(yield it.json());throw yield gn("Generate Auth Token",it)})).apply(this,arguments)}function Ia(E){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,j.Z)(function*(E,k=!1){let P;const U=yield Tt(E.appConfig,le=>{if(!ms(le))throw st.create("not-registered");const Ce=le.authToken;if(!k&&function Ii(E){return 2===E.requestStatus&&!function Ka(E){const k=Date.now();return k<E.creationTime||E.creationTime+E.expiresIn<k+xe}(E)}(Ce))return le;if(1===Ce.requestStatus)return P=function Is(E,k){return _o.apply(this,arguments)}(E,k),le;{if(!navigator.onLine)throw st.create("app-offline");const lt=function Nd(E){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:k})}(le);return P=function pr(E,k){return cn.apply(this,arguments)}(E,lt),lt}});return P?yield P:U.authToken}),Oc.apply(this,arguments)}function _o(){return(_o=(0,j.Z)(function*(E,k){let P=yield Gr(E.appConfig);for(;1===P.authToken.requestStatus;)yield Xi(100),P=yield Gr(E.appConfig);const U=P.authToken;return 0===U.requestStatus?Ia(E,k):U})).apply(this,arguments)}function Gr(E){return Tt(E,k=>{if(!ms(k))throw st.create("not-registered");return function Ds(E){return 1===E.requestStatus&&E.requestTime+Gn<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function cn(){return cn=(0,j.Z)(function*(E,k){try{const P=yield function At(E,k){return Ui.apply(this,arguments)}(E,k),U=Object.assign(Object.assign({},k),{authToken:P});return yield J(E.appConfig,U),P}catch(P){if(!nt(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const U=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield J(E.appConfig,U)}else yield et(E.appConfig);throw P}}),cn.apply(this,arguments)}function ms(E){return void 0!==E&&2===E.registrationStatus}function Da(){return(Da=(0,j.Z)(function*(E){const k=E,{installationEntry:P,registrationPromise:U}=yield K(k);return U?U.catch(console.error):Ia(k).catch(console.error),P.fid})).apply(this,arguments)}function vo(){return vo=(0,j.Z)(function*(E,k=!1){const P=E;return yield function Hl(E){return Xr.apply(this,arguments)}(P),(yield Ia(P,k)).token}),vo.apply(this,arguments)}function Xr(){return(Xr=(0,j.Z)(function*(E){const{registrationPromise:k}=yield K(E);k&&(yield k)})).apply(this,arguments)}function bo(E){return st.create("missing-app-config-values",{valueName:E})}const jl="installations",Of=E=>{const k=E.getProvider("app").getImmediate(),P=function Fr(E){if(!E||!E.options)throw bo("App Configuration");if(!E.name)throw bo("App Name");const k=["projectId","apiKey","appId"];for(const P of k)if(!E.options[P])throw bo(P);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(k);return{app:k,appConfig:P,heartbeatServiceProvider:(0,oe._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},zo=E=>{const k=E.getProvider("app").getImmediate(),P=(0,oe._getProvider)(k,jl).getImmediate();return{getId:()=>function jo(E){return Da.apply(this,arguments)}(P),getToken:ee=>function Pc(E){return vo.apply(this,arguments)}(P,ee)}};(function Go(){(0,oe._registerComponent)(new de.wA(jl,Of,"PUBLIC")),(0,oe._registerComponent)(new de.wA("installations-internal",zo,"PRIVATE"))})(),(0,oe.registerVersion)(Nn,Kn),(0,oe.registerVersion)(Nn,Kn,"esm2017");const $s="@firebase/remote-config",nr=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pt{constructor(k,P,U,ee){this.client=k,this.storage=P,this.storageCache=U,this.logger=ee}isCachedDataFresh(k,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-P,ee=U<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${ee}.`),ee}fetch(k){var P=this;return(0,j.Z)(function*(){const[U,ee]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(ee&&P.isCachedDataFresh(k.cacheMaxAgeMillis,U))return ee;k.eTag=ee&&ee.eTag;const le=yield P.client.fetch(k),Ce=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ce.push(P.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ce),le})()}}function Dn(E=navigator){return E.languages&&E.languages[0]||E.language}class vr{constructor(k,P,U,ee,le,Ce){this.firebaseInstallations=k,this.sdkVersion=P,this.namespace=U,this.projectId=ee,this.apiKey=le,this.appId=Ce}fetch(k){var P=this;return(0,j.Z)(function*(){const[U,ee]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},it={sdk_version:P.sdkVersion,app_instance_id:U,app_instance_id_token:ee,app_id:P.appId,language_code:Dn()},It={method:"POST",headers:lt,body:JSON.stringify(it)},Zt=fetch(Ce,It),Gt=new Promise((ar,Oo)=>{k.signal.addEventListener(()=>{const rs=new Error("The operation was aborted.");rs.name="AbortError",Oo(rs)})});let Ai;try{yield Promise.race([Zt,Gt]),Ai=yield Zt}catch(ar){let Oo="fetch-client-network";throw"AbortError"===ar?.name&&(Oo="fetch-timeout"),nr.create(Oo,{originalErrorMessage:ar?.message})}let Pi=Ai.status;const ca=Ai.headers.get("ETag")||void 0;let ki,da;if(200===Ai.status){let ar;try{ar=yield Ai.json()}catch(Oo){throw nr.create("fetch-client-parse",{originalErrorMessage:Oo?.message})}ki=ar.entries,da=ar.state}if("INSTANCE_STATE_UNSPECIFIED"===da?Pi=500:"NO_CHANGE"===da?Pi=304:("NO_TEMPLATE"===da||"EMPTY_CONFIG"===da)&&(ki={}),304!==Pi&&200!==Pi)throw nr.create("fetch-status",{httpStatus:Pi});return{status:Pi,eTag:ca,config:ki}})()}}class Ja{constructor(k,P){this.client=k,this.storage=P}fetch(k){var P=this;return(0,j.Z)(function*(){const U=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(k,U)})()}attemptFetch(k,{throttleEndTimeMillis:P,backoffCount:U}){var ee=this;return(0,j.Z)(function*(){yield function Co(E,k){return new Promise((P,U)=>{const ee=Math.max(k-Date.now(),0),le=setTimeout(P,ee);E.addEventListener(()=>{clearTimeout(le),U(nr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,P);try{const le=yield ee.client.fetch(k);return yield ee.storage.deleteThrottleMetadata(),le}catch(le){if(!function hi(E){if(!(E instanceof me.ZR&&E.customData))return!1;const k=Number(E.customData.httpStatus);return 429===k||500===k||503===k||504===k}(le))throw le;const Ce={throttleEndTimeMillis:Date.now()+(0,me.$s)(U),backoffCount:U+1};return yield ee.storage.setThrottleMetadata(Ce),ee.attemptFetch(k,Ce)}})()}}class $o{constructor(k,P,U,ee,le){this.app=k,this._client=P,this._storageCache=U,this._storage=ee,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mt(E,k){const P=E.target.error||void 0;return nr.create(k,{originalErrorMessage:P&&P?.message})}const Hi="app_namespace_store";class Vc{constructor(k,P,U,ee=function Xn(){return new Promise((E,k)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=U=>{k(Mt(U,"storage-open"))},P.onsuccess=U=>{E(U.target.result)},P.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Hi,{keyPath:"compositeKey"})}}catch(P){k(nr.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=k,this.appName=P,this.namespace=U,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var P=this;return(0,j.Z)(function*(){const U=yield P.openDbPromise;return new Promise((ee,le)=>{const lt=U.transaction([Hi],"readonly").objectStore(Hi),it=P.createCompositeKey(k);try{const It=lt.get(it);It.onerror=Zt=>{le(Mt(Zt,"storage-get"))},It.onsuccess=Zt=>{const Gt=Zt.target.result;ee(Gt?Gt.value:void 0)}}catch(It){le(nr.create("storage-get",{originalErrorMessage:It?.message}))}})})()}set(k,P){var U=this;return(0,j.Z)(function*(){const ee=yield U.openDbPromise;return new Promise((le,Ce)=>{const it=ee.transaction([Hi],"readwrite").objectStore(Hi),It=U.createCompositeKey(k);try{const Zt=it.put({compositeKey:It,value:P});Zt.onerror=Gt=>{Ce(Mt(Gt,"storage-set"))},Zt.onsuccess=()=>{le()}}catch(Zt){Ce(nr.create("storage-set",{originalErrorMessage:Zt?.message}))}})})()}delete(k){var P=this;return(0,j.Z)(function*(){const U=yield P.openDbPromise;return new Promise((ee,le)=>{const lt=U.transaction([Hi],"readwrite").objectStore(Hi),it=P.createCompositeKey(k);try{const It=lt.delete(it);It.onerror=Zt=>{le(Mt(Zt,"storage-delete"))},It.onsuccess=()=>{ee()}}catch(It){le(nr.create("storage-delete",{originalErrorMessage:It?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class qo{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,j.Z)(function*(){const P=k.storage.getLastFetchStatus(),U=k.storage.getLastSuccessfulFetchTimestampMillis(),ee=k.storage.getActiveConfig(),le=yield P;le&&(k.lastFetchStatus=le);const Ce=yield U;Ce&&(k.lastSuccessfulFetchTimestampMillis=Ce);const lt=yield ee;lt&&(k.activeConfig=lt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Io(){return br.apply(this,arguments)}function br(){return(br=(0,j.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function Ri(){(0,oe._registerComponent)(new de.wA("remote-config",function E(k,{instanceIdentifier:P}){const U=k.getProvider("app").getImmediate(),ee=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw nr.create("registration-window");if(!(0,me.hl)())throw nr.create("indexed-db-unavailable");const{projectId:le,apiKey:Ce,appId:lt}=U.options;if(!le)throw nr.create("registration-project-id");if(!Ce)throw nr.create("registration-api-key");if(!lt)throw nr.create("registration-app-id");const it=new Vc(lt,U.name,P=P||"firebase"),It=new qo(it),Zt=new he.Yd($s);Zt.logLevel=he.in.ERROR;const Gt=new vr(ee,oe.SDK_VERSION,P,le,Ce,lt),Ai=new Ja(Gt,it),Pi=new Pt(Ai,it,It,Zt),ca=new $o(U,Pi,It,it,Zt);return function gr(E){const k=(0,me.m9)(E);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(ca),ca},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)($s,"0.4.4"),(0,oe.registerVersion)($s,"0.4.4","esm2017")}();const Aa=(E,k)=>k.some(P=>E instanceof P);let Do,Qt;const Wl=new WeakMap,bi=new WeakMap,So=new WeakMap,Di=new WeakMap,Ss=new WeakMap;let Si={get(E,k,P){if(E instanceof IDBTransaction){if("done"===k)return bi.get(E);if("objectStoreNames"===k)return E.objectStoreNames||So.get(E);if("store"===k)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Nr(E[k])},set:(E,k,P)=>(E[k]=P,!0),has:(E,k)=>E instanceof IDBTransaction&&("done"===k||"store"===k)||k in E};function To(E){return"function"==typeof E?function el(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Wo(){return Qt||(Qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...k){return E.apply(wr(this),k),Nr(Wl.get(this))}:function(...k){return Nr(E.apply(wr(this),k))}:function(k,...P){const U=E.call(wr(this),k,...P);return So.set(U,k.sort?k.sort():[k]),Nr(U)}}(E):(E instanceof IDBTransaction&&function ah(E){if(bi.has(E))return;const k=new Promise((P,U)=>{const ee=()=>{E.removeEventListener("complete",le),E.removeEventListener("error",Ce),E.removeEventListener("abort",Ce)},le=()=>{P(),ee()},Ce=()=>{U(E.error||new DOMException("AbortError","AbortError")),ee()};E.addEventListener("complete",le),E.addEventListener("error",Ce),E.addEventListener("abort",Ce)});bi.set(E,k)}(E),Aa(E,function Pf(){return Do||(Do=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Si):E)}function Nr(E){if(E instanceof IDBRequest)return function wi(E){const k=new Promise((P,U)=>{const ee=()=>{E.removeEventListener("success",le),E.removeEventListener("error",Ce)},le=()=>{P(Nr(E.result)),ee()},Ce=()=>{U(E.error),ee()};E.addEventListener("success",le),E.addEventListener("error",Ce)});return k.then(P=>{P instanceof IDBCursor&&Wl.set(P,E)}).catch(()=>{}),Ss.set(k,E),k}(E);if(Di.has(E))return Di.get(E);const k=To(E);return k!==E&&(Di.set(E,k),Ss.set(k,E)),k}const wr=E=>Ss.get(E);function Yo(E,k,{blocked:P,upgrade:U,blocking:ee,terminated:le}={}){const Ce=indexedDB.open(E,k),lt=Nr(Ce);return U&&Ce.addEventListener("upgradeneeded",it=>{U(Nr(Ce.result),it.oldVersion,it.newVersion,Nr(Ce.transaction))}),P&&Ce.addEventListener("blocked",()=>P()),lt.then(it=>{le&&it.addEventListener("close",()=>le()),ee&&it.addEventListener("versionchange",()=>ee())}).catch(()=>{}),lt}function Ko(E,{blocked:k}={}){const P=indexedDB.deleteDatabase(E);return k&&P.addEventListener("blocked",()=>k()),Nr(P).then(()=>{})}const Yl=["get","getKey","getAll","getAllKeys","count"],tl=["put","add","delete","clear"],Kl=new Map;function Uc(E,k){if(!(E instanceof IDBDatabase)||k in E||"string"!=typeof k)return;if(Kl.get(k))return Kl.get(k);const P=k.replace(/FromIndex$/,""),U=k!==P,ee=tl.includes(P);if(!(P in(U?IDBIndex:IDBObjectStore).prototype)||!ee&&!Yl.includes(P))return;const le=function(){var Ce=(0,j.Z)(function*(lt,...it){const It=this.transaction(lt,ee?"readwrite":"readonly");let Zt=It.store;return U&&(Zt=Zt.index(it.shift())),(yield Promise.all([Zt[P](...it),ee&&It.done]))[0]});return function(it){return Ce.apply(this,arguments)}}();return Kl.set(k,le),le}!function ji(E){Si=E(Si)}(E=>({...E,get:(k,P,U)=>Uc(k,P)||E.get(k,P,U),has:(k,P)=>!!Uc(k,P)||E.has(k,P)}));const Bd="/firebase-messaging-sw.js",Zl="/firebase-cloud-messaging-push-scope",Hc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lh="https://fcmregistrations.googleapis.com/v1",Jn="google.c.a.c_id",Ff="google.c.a.c_l",ch="google.c.a.ts";var Ud=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Ud||{});function Ts(E){const k=new Uint8Array(E);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jc(E){const P=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(P),ee=new Uint8Array(U.length);for(let le=0;le<U.length;++le)ee[le]=U.charCodeAt(le);return ee}const Zo="fcm_token_details_db",nl=5,il="fcm_token_object_Store";function rl(){return rl=(0,j.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Zo))return null;let k=null;return(yield Yo(Zo,nl,{upgrade:(U=(0,j.Z)(function*(ee,le,Ce,lt){var it;if(le<2||!ee.objectStoreNames.contains(il))return;const It=lt.objectStore(il),Zt=yield It.index("fcmSenderId").get(E);if(yield It.clear(),Zt)if(2===le){const Gt=Zt;if(!Gt.auth||!Gt.p256dh||!Gt.endpoint)return;k={token:Gt.fcmToken,createTime:null!==(it=Gt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:Gt.auth,p256dh:Gt.p256dh,endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:"string"==typeof Gt.vapidKey?Gt.vapidKey:Ts(Gt.vapidKey)}}}else if(3===le){const Gt=Zt;k={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:Ts(Gt.auth),p256dh:Ts(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:Ts(Gt.vapidKey)}}}else if(4===le){const Gt=Zt;k={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:Ts(Gt.auth),p256dh:Ts(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:Ts(Gt.vapidKey)}}}}),function(le,Ce,lt,it){return U.apply(this,arguments)})})).close(),yield Ko(Zo),yield Ko("fcm_vapid_details_db"),yield Ko("undefined"),function Qo(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:k}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var U}),rl.apply(this,arguments)}const qr="firebase-messaging-database",Hd=1,es="firebase-messaging-store";let Ti=null;function Xo(){return Ti||(Ti=Yo(qr,Hd,{upgrade:(E,k)=>{0===k&&E.createObjectStore(es)}})),Ti}function xr(E){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,j.Z)(function*(E){const k=ka(E),U=yield(yield Xo()).transaction(es).objectStore(es).get(k);if(U)return U;{const ee=yield function xp(E){return rl.apply(this,arguments)}(E.appConfig.senderId);if(ee)return yield zc(E,ee),ee}}),Jo.apply(this,arguments)}function zc(E,k){return sl.apply(this,arguments)}function sl(){return(sl=(0,j.Z)(function*(E,k){const P=ka(E),ee=(yield Xo()).transaction(es,"readwrite");return yield ee.objectStore(es).put(k,P),yield ee.done,k})).apply(this,arguments)}function ea(){return(ea=(0,j.Z)(function*(E){const k=ka(E),U=(yield Xo()).transaction(es,"readwrite");yield U.objectStore(es).delete(k),yield U.done})).apply(this,arguments)}function ka({appConfig:E}){return E.appId}const Oi=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gc(E,k){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,j.Z)(function*(E,k){const P=yield $c(E),U=Nf(k),ee={method:"POST",headers:P,body:JSON.stringify(U)};let le;try{le=yield(yield fetch(ll(E.appConfig),ee)).json()}catch(Ce){throw Oi.create("token-subscribe-failed",{errorInfo:Ce?.toString()})}if(le.error)throw Oi.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Oi.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function al(){return(al=(0,j.Z)(function*(E,k){const P=yield $c(E),U=Nf(k.subscriptionOptions),ee={method:"PATCH",headers:P,body:JSON.stringify(U)};let le;try{le=yield(yield fetch(`${ll(E.appConfig)}/${k.token}`,ee)).json()}catch(Ce){throw Oi.create("token-update-failed",{errorInfo:Ce?.toString()})}if(le.error)throw Oi.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Oi.create("token-update-no-token");return le.token})).apply(this,arguments)}function ta(E,k){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,j.Z)(function*(E,k){const U={method:"DELETE",headers:yield $c(E)};try{const le=yield(yield fetch(`${ll(E.appConfig)}/${k}`,U)).json();if(le.error)throw Oi.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(ee){throw Oi.create("token-unsubscribe-failed",{errorInfo:ee?.toString()})}})).apply(this,arguments)}function ll({projectId:E}){return`${lh}/projects/${E}/registrations`}function $c(E){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,j.Z)(function*({appConfig:E,installations:k}){const P=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Nf({p256dh:E,auth:k,endpoint:P,vapidKey:U}){const ee={web:{endpoint:P,auth:k,p256dh:E}};return U!==Hc&&(ee.web.applicationPubKey=U),ee}const Gd=6048e5;function qc(){return qc=(0,j.Z)(function*(E){const k=yield function cl(E,k){return ec.apply(this,arguments)}(E.swRegistration,E.vapidKey),P={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:k.endpoint,auth:Ts(k.getKey("auth")),p256dh:Ts(k.getKey("p256dh"))},U=yield xr(E.firebaseDependencies);if(U){if(function qd(E,k){return k.vapidKey===E.vapidKey&&k.endpoint===E.endpoint&&k.auth===E.auth&&k.p256dh===E.p256dh}(U.subscriptionOptions,P))return Date.now()>=U.createTime+Gd?function dh(E,k){return Ma.apply(this,arguments)}(E,{token:U.token,createTime:Date.now(),subscriptionOptions:P}):U.token;try{yield ta(E.firebaseDependencies,U.token)}catch(ee){console.warn(ee)}return Ra(E.firebaseDependencies,P)}return Ra(E.firebaseDependencies,P)}),qc.apply(this,arguments)}function Jl(){return Jl=(0,j.Z)(function*(E){const k=yield xr(E.firebaseDependencies);k&&(yield ta(E.firebaseDependencies,k.token),yield function jd(E){return ea.apply(this,arguments)}(E.firebaseDependencies));const P=yield E.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()}),Jl.apply(this,arguments)}function Ma(){return Ma=(0,j.Z)(function*(E,k){try{const P=yield function ol(E,k){return al.apply(this,arguments)}(E.firebaseDependencies,k),U=Object.assign(Object.assign({},k),{token:P,createTime:Date.now()});return yield zc(E.firebaseDependencies,U),P}catch(P){throw yield function $d(E){return Jl.apply(this,arguments)}(E),P}}),Ma.apply(this,arguments)}function Ra(E,k){return na.apply(this,arguments)}function na(){return(na=(0,j.Z)(function*(E,k){const U={token:yield Gc(E,k),createTime:Date.now(),subscriptionOptions:k};return yield zc(E,U),U.token})).apply(this,arguments)}function ec(){return(ec=(0,j.Z)(function*(E,k){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jc(k)})})).apply(this,arguments)}function tc(E){const k={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function dl(E,k){if(!k.notification)return;E.notification={};const P=k.notification.title;P&&(E.notification.title=P);const U=k.notification.body;U&&(E.notification.body=U);const ee=k.notification.image;ee&&(E.notification.image=ee);const le=k.notification.icon;le&&(E.notification.icon=le)}(k,E),function Wd(E,k){k.data&&(E.data=k.data)}(k,E),function Wc(E,k){var P,U,ee,le,Ce;if(!(k.fcmOptions||null!==(P=k.notification)&&void 0!==P&&P.click_action))return;E.fcmOptions={};const lt=null!==(ee=null===(U=k.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==ee?ee:null===(le=k.notification)||void 0===le?void 0:le.click_action;lt&&(E.fcmOptions.link=lt);const it=null===(Ce=k.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;it&&(E.fcmOptions.analyticsLabel=it)}(k,E),k}function Yc(E,k){const P=[];for(let U=0;U<E.length;U++)P.push(E.charAt(U)),U<k.length&&P.push(k.charAt(U));return P.join("")}function Oa(E){return Oi.create("missing-app-config-values",{valueName:E})}Yc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fi{constructor(k,P,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function As(E){if(!E||!E.options)throw Oa("App Configuration Object");if(!E.name)throw Oa("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:P}=E;for(const U of k)if(!P[U])throw Oa(U);return{appName:E.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:ee,installations:P,analyticsProvider:U}}_delete(){return Promise.resolve()}}function ul(){return(ul=(0,j.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Bd,{scope:Zl}),E.swRegistration.update().catch(()=>{})}catch(k){throw Oi.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function ia(){return(ia=(0,j.Z)(function*(E,k){if(!k&&!E.swRegistration&&(yield function nc(E){return ul.apply(this,arguments)}(E)),k||!E.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Oi.create("invalid-sw-registration");E.swRegistration=k}})).apply(this,arguments)}function ra(){return(ra=(0,j.Z)(function*(E,k){k?E.vapidKey=k:E.vapidKey||(E.vapidKey=Hc)})).apply(this,arguments)}function ko(){return ko=(0,j.Z)(function*(E,k){if(!navigator)throw Oi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Oi.create("permission-blocked");return yield function ks(E,k){return ra.apply(this,arguments)}(E,k?.vapidKey),yield function uh(E,k){return ia.apply(this,arguments)}(E,k?.serviceWorkerRegistration),function Lf(E){return qc.apply(this,arguments)}(E)}),ko.apply(this,arguments)}function S(){return(S=(0,j.Z)(function*(E,k,P){const U=function F(E){switch(E){case Ud.NOTIFICATION_CLICKED:return"notification_open";case Ud.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:P[Jn],message_name:P[Ff],message_time:P[ch],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ge(){return ge=(0,j.Z)(function*(E,k){const P=k.data;if(!P.isFirebaseMessaging)return;E.onMessageHandler&&P.messageType===Ud.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(tc(P)):E.onMessageHandler.next(tc(P)));const U=P.data;(function Bf(E){return"object"==typeof E&&!!E&&Jn in E})(U)&&"1"===U["google.c.a.e"]&&(yield function I(E,k,P){return S.apply(this,arguments)}(E,P.messageType,U))}),ge.apply(this,arguments)}const _t="@firebase/messaging",Jt=E=>{const k=new fi(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function W(E,k){return ge.apply(this,arguments)}(k,P)),k},ri=E=>{const k=E.getProvider("messaging").getImmediate();return{getToken:U=>function Yd(E,k){return ko.apply(this,arguments)}(k,U)}};function Zs(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,j.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mo(){(0,oe._registerComponent)(new de.wA("messaging",Jt,"PUBLIC")),(0,oe._registerComponent)(new de.wA("messaging-internal",ri,"PRIVATE")),(0,oe.registerVersion)(_t,"0.12.4"),(0,oe.registerVersion)(_t,"0.12.4","esm2017")}();const si="analytics",H_="firebase_id",Ht="origin",Vf=6e4,Uf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zd="https://www.googletagmanager.com/gtag/js",ir=new he.Yd("@firebase/analytics"),Er=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ro(E){if(!E.startsWith(Zd)){const k=Er.create("invalid-gtag-resource",{gtagURL:E});return ir.warn(k.message),""}return E}function Qd(E){return Promise.all(E.map(k=>k.catch(P=>P)))}function Ue(){return(Ue=(0,j.Z)(function*(E,k,P,U,ee,le){const Ce=U[ee];try{if(Ce)yield k[Ce];else{const it=(yield Qd(P)).find(It=>It.measurementId===ee);it&&(yield k[it.appId])}}catch(lt){ir.error(lt)}E("config",ee,le)})).apply(this,arguments)}function Qs(){return(Qs=(0,j.Z)(function*(E,k,P,U,ee){try{let le=[];if(ee&&ee.send_to){let Ce=ee.send_to;Array.isArray(Ce)||(Ce=[Ce]);const lt=yield Qd(P);for(const it of Ce){const It=lt.find(Gt=>Gt.measurementId===it),Zt=It&&k[It.appId];if(!Zt){le=[];break}le.push(Zt)}}0===le.length&&(le=Object.values(k)),yield Promise.all(le),E("event",U,ee||{})}catch(le){ir.error(le)}})).apply(this,arguments)}const rc=30,mh=new class hl{constructor(k={},P=1e3){this.throttleMetadata=k,this.intervalMillis=P}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,P){this.throttleMetadata[k]=P}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Dp(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function ph(){return(ph=(0,j.Z)(function*(E){var k;const{appId:P,apiKey:U}=E,ee={method:"GET",headers:Dp(U)},le=Uf.replace("{app-id}",P),Ce=yield fetch(le,ee);if(200!==Ce.status&&304!==Ce.status){let lt="";try{const it=yield Ce.json();null!==(k=it.error)&&void 0!==k&&k.message&&(lt=it.error.message)}catch{}throw Er.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:lt})}return Ce.json()})).apply(this,arguments)}function ps(){return(ps=(0,j.Z)(function*(E,k=mh,P){const{appId:U,apiKey:ee,measurementId:le}=E.options;if(!U)throw Er.create("no-app-id");if(!ee){if(le)return{measurementId:le,appId:U};throw Er.create("no-api-key")}const Ce=k.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new _h;return setTimeout((0,j.Z)(function*(){lt.abort()}),void 0!==P?P:Vf),jf({appId:U,apiKey:ee,measurementId:le},Ce,lt,k)})).apply(this,arguments)}function jf(E,k,P){return fl.apply(this,arguments)}function fl(){return fl=(0,j.Z)(function*(E,{throttleEndTimeMillis:k,backoffCount:P},U,ee=mh){var le;const{appId:Ce,measurementId:lt}=E;try{yield function Ms(E,k){return new Promise((P,U)=>{const ee=Math.max(k-Date.now(),0),le=setTimeout(P,ee);E.addEventListener(()=>{clearTimeout(le),U(Er.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(U,k)}catch(it){if(lt)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:Ce,measurementId:lt};throw it}try{const it=yield function Qb(E){return ph.apply(this,arguments)}(E);return ee.deleteThrottleMetadata(Ce),it}catch(it){const It=it;if(!function gh(E){if(!(E instanceof me.ZR&&E.customData))return!1;const k=Number(E.customData.httpStatus);return 429===k||500===k||503===k||504===k}(It)){if(ee.deleteThrottleMetadata(Ce),lt)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${It?.message}]`),{appId:Ce,measurementId:lt};throw it}const Zt=503===Number(null===(le=It?.customData)||void 0===le?void 0:le.httpStatus)?(0,me.$s)(P,ee.intervalMillis,rc):(0,me.$s)(P,ee.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+Zt,backoffCount:P+1};return ee.setThrottleMetadata(Ce,Gt),ir.debug(`Calling attemptFetch again in ${Zt} millis`),jf(E,Gt,U,ee)}}),fl.apply(this,arguments)}class _h{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let nu,sr;function iu(){return(iu=(0,j.Z)(function*(E,k,P,U,ee){if(ee&&ee.global)E("event",P,U);else{const le=yield k;E("event",P,Object.assign(Object.assign({},U),{send_to:le}))}})).apply(this,arguments)}function sa(){return(sa=(0,j.Z)(function*(){if(!(0,me.hl)())return ir.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(E){return ir.warn(Er.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fa(){return Fa=(0,j.Z)(function*(E,k,P,U,ee,le,Ce){var lt;const it=function ns(E){return ps.apply(this,arguments)}(E);it.then(Pi=>{P[Pi.measurementId]=Pi.appId,E.options.measurementId&&Pi.measurementId!==E.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Pi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pi=>ir.error(Pi)),k.push(it);const It=function Ir(){return sa.apply(this,arguments)}().then(Pi=>{if(Pi)return U.getId()}),[Zt,Gt]=yield Promise.all([it,It]);(function tu(E){const k=window.document.getElementsByTagName("script");for(const P of Object.values(k))if(P.src&&P.src.includes(Zd)&&P.src.includes(E))return P;return null})(le)||function Jd(E,k){const P=function Xd(E,k){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(E,k)),P}("firebase-js-sdk-policy",{createScriptURL:Ro}),U=document.createElement("script"),ee=`${Zd}?l=${E}&id=${k}`;U.src=P?P?.createScriptURL(ee):ee,U.async=!0,document.head.appendChild(U)}(le,Zt.measurementId),sr&&(ee("consent","default",sr),function su(E){sr=E}(void 0)),ee("js",new Date);const Ai=null!==(lt=Ce?.config)&&void 0!==lt?lt:{};return Ai[Ht]="firebase",Ai.update=!0,null!=Gt&&(Ai[H_]=Gt),ee("config",Zt.measurementId,Ai),nu&&(ee("set",nu),function Kc(E){nu=E}(void 0)),Zt.measurementId}),Fa.apply(this,arguments)}class Xs{constructor(k){this.app=k}_delete(){return delete ht[this.app.options.appId],Promise.resolve()}}let ht={},qf=[];const vh={};let Js,Bn,pl="dataLayer",sc=!1;function oc(E,k,P){!function ou(){const E=[];if((0,me.ru)()&&E.push("This is a browser extension environment."),(0,me.zI)()||E.push("Cookies are not available."),E.length>0){const k=E.map((U,ee)=>`(${ee+1}) ${U}`).join(" "),P=Er.create("invalid-analytics-context",{errorInfo:k});ir.warn(P.message)}}();const U=E.options.appId;if(!U)throw Er.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Er.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ht[U])throw Er.create("already-exists",{id:U});if(!sc){!function j_(E){let k=[];Array.isArray(window[E])?k=window[E]:window[E]=k}(pl);const{wrappedGtag:le,gtagCore:Ce}=function rr(E,k,P,U,ee){let le=function(...Ce){window[U].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(le=window[ee]),window[ee]=function eu(E,k,P,U){function le(){return le=(0,j.Z)(function*(Ce,...lt){try{if("event"===Ce){const[it,It]=lt;yield function vn(E,k,P,U,ee){return Qs.apply(this,arguments)}(E,k,P,it,It)}else if("config"===Ce){const[it,It]=lt;yield function fh(E,k,P,U,ee,le){return Ue.apply(this,arguments)}(E,k,P,U,it,It)}else if("consent"===Ce){const[it]=lt;E("consent","update",it)}else if("get"===Ce){const[it,It,Zt]=lt;E("get",it,It,Zt)}else if("set"===Ce){const[it]=lt;E("set",it)}else E(Ce,...lt)}catch(it){ir.error(it)}}),le.apply(this,arguments)}return function ee(Ce){return le.apply(this,arguments)}}(le,E,k,P),{gtagCore:le,wrappedGtag:window[ee]}}(ht,qf,vh,pl,"gtag");Bn=le,Js=Ce,sc=!0}return ht[U]=function ei(E,k,P,U,ee,le,Ce){return Fa.apply(this,arguments)}(E,qf,vh,k,Js,pl,P),new Xs(E)}function _l(){return La.apply(this,arguments)}function La(){return(La=(0,j.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const yl="@firebase/analytics";!function mi(){(0,oe._registerComponent)(new de.wA(si,(k,{options:P})=>oc(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,oe._registerComponent)(new de.wA("analytics-internal",function E(k){try{const P=k.getProvider(si).getImmediate();return{logEvent:(U,ee,le)=>function zi(E,k,P,U){E=(0,me.m9)(E),function z_(E,k,P,U,ee){return iu.apply(this,arguments)}(Bn,ht[E.app.options.appId],k,P,U).catch(ee=>ir.error(ee))}(P,U,ee,le)}}catch(P){throw Er.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,oe.registerVersion)(yl,"0.10.0"),(0,oe.registerVersion)(yl,"0.10.0","esm2017")}();var ti=V(1954),An=V(2631);const Zc=new class or extends An.v{}(class Lr extends ti.o{constructor(k,P){super(k,P),this.scheduler=k,this.work=P}schedule(k,P=0){return P>0?super.schedule(k,P):(this.delay=P,this.state=k,this.scheduler.flush(this),this)}execute(k,P){return P>0||this.closed?super.execute(k,P):this._execute(k,P)}requestAsyncId(k,P,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(k,P,U):(k.flush(this),0)}});var bh=V(6321),Dr=V(9397),aa=V(3093),qn=V(5137);const Ps=new c.GfV("7.6.1"),Qc="__angularfire_symbol__analyticsIsSupportedValue",_s="__angularfire_symbol__analyticsIsSupported",bl="__angularfire_symbol__remoteConfigIsSupportedValue",lu="__angularfire_symbol__remoteConfigIsSupported",Ba="__angularfire_symbol__messagingIsSupportedValue",Va="__angularfire_symbol__messagingIsSupported";function xl(E,k,P){if(k){if(1===k.length)return k[0];const le=k.filter(Ce=>Ce.app===P);if(1===le.length)return le[0]}return P.container.getProvider(E).getImmediate({optional:!0})}globalThis[_s]||(globalThis[_s]=_l().then(E=>globalThis[Qc]=E).catch(()=>globalThis[Qc]=!1)),globalThis[Va]||(globalThis[Va]=Zs().then(E=>globalThis[Ba]=E).catch(()=>globalThis[Ba]=!1)),globalThis[lu]||(globalThis[lu]=Io().then(E=>globalThis[bl]=E).catch(()=>globalThis[bl]=!1));const cc=(E,k)=>{const P=k?[k]:(0,se.C6)(),U=[];return P.forEach(ee=>{ee.container.getProvider(E).instances.forEach(Ce=>{U.includes(Ce)||U.push(Ce)})}),U};function la(){}class wh{constructor(k,P=Zc){this.zone=k,this.delegate=P}now(){return this.delegate.now()}schedule(k,P,U){const ee=this.zone;return this.delegate.schedule(function(Ce){ee.runGuarded(()=>{k.apply(this,[Ce])})},P,U)}}class is{constructor(k){this.zone=k,this.task=null}call(k,P){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la)),P.pipe((0,Dr.b)({next:U,complete:U,error:U})).subscribe(k).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xh=(()=>{class E{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new wh(Zone.current)),this.insideAngular=P.run(()=>new wh(Zone.current,bh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(P){return new(P||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function xi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function cu(E){return E.pipe((0,aa.Q)(xi().outsideAngular))}function Ch(E){return xi(),function du(E){return function(P){return(P=P.lift(new is(E.ngZone))).pipe((0,qn.R)(E.outsideAngular),(0,aa.Q)(E.insideAngular))}}(xi())(E)}},9058:(wt,ke,V)=>{"use strict";V.d(ke,{$s:()=>et,BH:()=>ue,DV:()=>Un,Dv:()=>Es,G6:()=>_i,GJ:()=>ai,L:()=>we,LL:()=>Ne,Pz:()=>Te,Sg:()=>Me,UG:()=>ne,UI:()=>$n,US:()=>de,Wj:()=>pn,Wl:()=>St,Yr:()=>Gn,ZB:()=>z,ZR:()=>Oe,aH:()=>_e,b$:()=>fn,cI:()=>Ln,dS:()=>fs,eu:()=>be,g5:()=>j,gK:()=>mn,gQ:()=>Nt,h$:()=>Ve,hl:()=>pe,hu:()=>se,jU:()=>qe,lb:()=>Or,m9:()=>En,ne:()=>Yt,p$:()=>Q,pd:()=>kt,r3:()=>Wt,ru:()=>tt,tV:()=>q,uI:()=>fe,ug:()=>Gs,vZ:()=>Zn,w1:()=>Nn,w9:()=>Mn,xO:()=>sn,xb:()=>mr,z$:()=>je,zI:()=>xe,zd:()=>xt});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},se=function(K,Y){if(!K)throw j(Y)},j=function(K){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+K)},oe=function(K){const Y=[];let ie=0;for(let Fe=0;Fe<K.length;Fe++){let ye=K.charCodeAt(Fe);ye<128?Y[ie++]=ye:ye<2048?(Y[ie++]=ye>>6|192,Y[ie++]=63&ye|128):55296==(64512&ye)&&Fe+1<K.length&&56320==(64512&K.charCodeAt(Fe+1))?(ye=65536+((1023&ye)<<10)+(1023&K.charCodeAt(++Fe)),Y[ie++]=ye>>18|240,Y[ie++]=ye>>12&63|128,Y[ie++]=ye>>6&63|128,Y[ie++]=63&ye|128):(Y[ie++]=ye>>12|224,Y[ie++]=ye>>6&63|128,Y[ie++]=63&ye|128)}return Y},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,Y){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[];for(let ye=0;ye<K.length;ye+=3){const ut=K[ye],qt=ye+1<K.length,Ut=qt?K[ye+1]:0,tr=ye+2<K.length,Kt=tr?K[ye+2]:0;let Ui=(15&Ut)<<2|Kt>>6,go=63&Kt;tr||(go=64,qt||(Ui=64)),Fe.push(ie[ut>>2],ie[(3&ut)<<4|Ut>>4],ie[Ui],ie[go])}return Fe.join("")},encodeString(K,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(K):this.encodeByteArray(oe(K),Y)},decodeString(K,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(K):function(K){const Y=[];let ie=0,Fe=0;for(;ie<K.length;){const ye=K[ie++];if(ye<128)Y[Fe++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const ut=K[ie++];Y[Fe++]=String.fromCharCode((31&ye)<<6|63&ut)}else if(ye>239&&ye<365){const tr=((7&ye)<<18|(63&K[ie++])<<12|(63&K[ie++])<<6|63&K[ie++])-65536;Y[Fe++]=String.fromCharCode(55296+(tr>>10)),Y[Fe++]=String.fromCharCode(56320+(1023&tr))}else{const ut=K[ie++],qt=K[ie++];Y[Fe++]=String.fromCharCode((15&ye)<<12|(63&ut)<<6|63&qt)}}return Y.join("")}(this.decodeStringToByteArray(K,Y))},decodeStringToByteArray(K,Y){this.init_();const ie=Y?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[];for(let ye=0;ye<K.length;){const ut=ie[K.charAt(ye++)],Ut=ye<K.length?ie[K.charAt(ye)]:0;++ye;const Kt=ye<K.length?ie[K.charAt(ye)]:64;++ye;const At=ye<K.length?ie[K.charAt(ye)]:64;if(++ye,null==ut||null==Ut||null==Kt||null==At)throw new he;Fe.push(ut<<2|Ut>>4),64!==Kt&&(Fe.push(Ut<<4&240|Kt>>2),64!==At&&Fe.push(Kt<<6&192|At))}return Fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(K){const Y=oe(K);return de.encodeByteArray(Y,!0)},we=function(K){return Ve(K).replace(/\./g,"")},q=function(K){try{return de.decodeString(K,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function Q(K){return z(void 0,K)}function z(K,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return Y}for(const ie in Y)!Y.hasOwnProperty(ie)||!We(ie)||(K[ie]=z(K[ie],Y[ie]));return K}function We(K){return"__proto__"!==K}const Be=()=>{try{return function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=K&&q(K[1]);return Y&&JSON.parse(Y)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},_e=()=>{var K;return null===(K=Be())||void 0===K?void 0:K.config},Te=K=>{var Y;return null===(Y=Be())||void 0===Y?void 0:Y[`_${K}`]};class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,ie)=>{this.resolve=Y,this.reject=ie})}wrapCallback(Y){return(ie,Fe)=>{ie?this.reject(ie):this.resolve(Fe),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(ie):Y(ie,Fe))}}}function Me(K,Y){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Fe=Y||"demo-project",ye=K.iat||0,ut=K.sub||K.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qt=Object.assign({iss:`https://securetoken.google.com/${Fe}`,aud:Fe,iat:ye,exp:ye+3600,auth_time:ye,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},K);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(qt)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ne(){var K;const Y=null===(K=Be())||void 0===K?void 0:K.forceEnvironment;if("node"===Y)return!0;if("browser"===Y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function tt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function fn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nn(){const K=je();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Gn(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function _i(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){try{return"object"==typeof indexedDB}catch{return!1}}function be(){return new Promise((K,Y)=>{try{let ie=!0;const Fe="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(Fe);ye.onsuccess=()=>{ye.result.close(),ie||self.indexedDB.deleteDatabase(Fe),K(!0)},ye.onupgradeneeded=()=>{ie=!1},ye.onerror=()=>{var ut;Y((null===(ut=ye.error)||void 0===ut?void 0:ut.message)||"")}}catch(ie){Y(ie)}})}function xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Oe extends Error{constructor(Y,ie,Fe){super(ie),this.code=Y,this.customData=Fe,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(Y,ie,Fe){this.service=Y,this.serviceName=ie,this.errors=Fe}create(Y,...ie){const Fe=ie[0]||{},ye=`${this.service}/${Y}`,ut=this.errors[Y],qt=ut?function st(K,Y){return K.replace(nt,(ie,Fe)=>{const ye=Y[Fe];return null!=ye?String(ye):`<${Fe}?>`})}(ut,Fe):"Error";return new Oe(ye,`${this.serviceName}: ${qt} (${ye}).`,Fe)}}const nt=/\{\$([^}]+)}/g;function Ln(K){return JSON.parse(K)}function St(K){return JSON.stringify(K)}const gn=function(K){let Y={},ie={},Fe={},ye="";try{const ut=K.split(".");Y=Ln(q(ut[0])||""),ie=Ln(q(ut[1])||""),ye=ut[2],Fe=ie.d||{},delete ie.d}catch{}return{header:Y,claims:ie,data:Fe,signature:ye}},Mn=function(K){const ie=gn(K).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},ai=function(K){const Y=gn(K).claims;return"object"==typeof Y&&!0===Y.admin};function Wt(K,Y){return Object.prototype.hasOwnProperty.call(K,Y)}function Un(K,Y){if(Object.prototype.hasOwnProperty.call(K,Y))return K[Y]}function mr(K){for(const Y in K)if(Object.prototype.hasOwnProperty.call(K,Y))return!1;return!0}function $n(K,Y,ie){const Fe={};for(const ye in K)Object.prototype.hasOwnProperty.call(K,ye)&&(Fe[ye]=Y.call(ie,K[ye],ye,K));return Fe}function Zn(K,Y){if(K===Y)return!0;const ie=Object.keys(K),Fe=Object.keys(Y);for(const ye of ie){if(!Fe.includes(ye))return!1;const ut=K[ye],qt=Y[ye];if(Xi(ut)&&Xi(qt)){if(!Zn(ut,qt))return!1}else if(ut!==qt)return!1}for(const ye of Fe)if(!ie.includes(ye))return!1;return!0}function Xi(K){return null!==K&&"object"==typeof K}function sn(K){const Y=[];for(const[ie,Fe]of Object.entries(K))Array.isArray(Fe)?Fe.forEach(ye=>{Y.push(encodeURIComponent(ie)+"="+encodeURIComponent(ye))}):Y.push(encodeURIComponent(ie)+"="+encodeURIComponent(Fe));return Y.length?"&"+Y.join("&"):""}function xt(K){const Y={};return K.replace(/^\?/,"").split("&").forEach(Fe=>{if(Fe){const[ye,ut]=Fe.split("=");Y[decodeURIComponent(ye)]=decodeURIComponent(ut)}}),Y}function kt(K){const Y=K.indexOf("?");if(!Y)return"";const ie=K.indexOf("#",Y);return K.substring(Y,ie>0?ie:void 0)}class Nt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,ie){ie||(ie=0);const Fe=this.W_;if("string"==typeof Y)for(let At=0;At<16;At++)Fe[At]=Y.charCodeAt(ie)<<24|Y.charCodeAt(ie+1)<<16|Y.charCodeAt(ie+2)<<8|Y.charCodeAt(ie+3),ie+=4;else for(let At=0;At<16;At++)Fe[At]=Y[ie]<<24|Y[ie+1]<<16|Y[ie+2]<<8|Y[ie+3],ie+=4;for(let At=16;At<80;At++){const Ui=Fe[At-3]^Fe[At-8]^Fe[At-14]^Fe[At-16];Fe[At]=4294967295&(Ui<<1|Ui>>>31)}let Kt,vi,ye=this.chain_[0],ut=this.chain_[1],qt=this.chain_[2],Ut=this.chain_[3],tr=this.chain_[4];for(let At=0;At<80;At++){At<40?At<20?(Kt=Ut^ut&(qt^Ut),vi=1518500249):(Kt=ut^qt^Ut,vi=1859775393):At<60?(Kt=ut&qt|Ut&(ut|qt),vi=2400959708):(Kt=ut^qt^Ut,vi=3395469782);const Ui=(ye<<5|ye>>>27)+Kt+tr+vi+Fe[At]&4294967295;tr=Ut,Ut=qt,qt=4294967295&(ut<<30|ut>>>2),ut=ye,ye=Ui}this.chain_[0]=this.chain_[0]+ye&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+qt&4294967295,this.chain_[3]=this.chain_[3]+Ut&4294967295,this.chain_[4]=this.chain_[4]+tr&4294967295}update(Y,ie){if(null==Y)return;void 0===ie&&(ie=Y.length);const Fe=ie-this.blockSize;let ye=0;const ut=this.buf_;let qt=this.inbuf_;for(;ye<ie;){if(0===qt)for(;ye<=Fe;)this.compress_(Y,ye),ye+=this.blockSize;if("string"==typeof Y){for(;ye<ie;)if(ut[qt]=Y.charCodeAt(ye),++qt,++ye,qt===this.blockSize){this.compress_(ut),qt=0;break}}else for(;ye<ie;)if(ut[qt]=Y[ye],++qt,++ye,qt===this.blockSize){this.compress_(ut),qt=0;break}}this.inbuf_=qt,this.total_+=ie}digest(){const Y=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ye=this.blockSize-1;ye>=56;ye--)this.buf_[ye]=255&ie,ie/=256;this.compress_(this.buf_);let Fe=0;for(let ye=0;ye<5;ye++)for(let ut=24;ut>=0;ut-=8)Y[Fe]=this.chain_[ye]>>ut&255,++Fe;return Y}}function Yt(K,Y){const ie=new on(K,Y);return ie.subscribe.bind(ie)}class on{constructor(Y,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{Y(this)}).catch(Fe=>{this.error(Fe)})}next(Y){this.forEachObserver(ie=>{ie.next(Y)})}error(Y){this.forEachObserver(ie=>{ie.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,ie,Fe){let ye;if(void 0===Y&&void 0===ie&&void 0===Fe)throw new Error("Missing Observer.");ye=function wn(K,Y){if("object"!=typeof K||null===K)return!1;for(const ie of Y)if(ie in K&&"function"==typeof K[ie])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:ie,complete:Fe},void 0===ye.next&&(ye.next=xn),void 0===ye.error&&(ye.error=xn),void 0===ye.complete&&(ye.complete=xn);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch{}}),this.observers.push(ye),ut}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,Y)}sendOne(Y,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{ie(this.observers[Y])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}const Es=function(K,Y,ie,Fe){let ye;if(Fe<Y?ye="at least "+Y:Fe>ie&&(ye=0===ie?"none":"no more than "+ie),ye)throw new Error(K+" failed: Was called with "+Fe+(1===Fe?" argument.":" arguments.")+" Expects "+ye+".")};function mn(K,Y){return`${K} failed: ${Y} argument `}function pn(K,Y,ie,Fe){if((!Fe||ie)&&"function"!=typeof ie)throw new Error(mn(K,Y)+"must be a valid function.")}function Or(K,Y,ie,Fe){if((!Fe||ie)&&("object"!=typeof ie||null===ie))throw new Error(mn(K,Y)+"must be a valid context object.")}const fs=function(K){const Y=[];let ie=0;for(let Fe=0;Fe<K.length;Fe++){let ye=K.charCodeAt(Fe);if(ye>=55296&&ye<=56319){const ut=ye-55296;Fe++,se(Fe<K.length,"Surrogate pair missing trail surrogate."),ye=65536+(ut<<10)+(K.charCodeAt(Fe)-56320)}ye<128?Y[ie++]=ye:ye<2048?(Y[ie++]=ye>>6|192,Y[ie++]=63&ye|128):ye<65536?(Y[ie++]=ye>>12|224,Y[ie++]=ye>>6&63|128,Y[ie++]=63&ye|128):(Y[ie++]=ye>>18|240,Y[ie++]=ye>>12&63|128,Y[ie++]=ye>>6&63|128,Y[ie++]=63&ye|128)}return Y},Gs=function(K){let Y=0;for(let ie=0;ie<K.length;ie++){const Fe=K.charCodeAt(ie);Fe<128?Y++:Fe<2048?Y+=2:Fe>=55296&&Fe<=56319?(Y+=4,ie++):Y+=3}return Y},er=1e3,Se=2,J=144e5,De=.5;function et(K,Y=er,ie=Se){const Fe=Y*Math.pow(ie,K),ye=Math.round(De*Fe*(Math.random()-.5)*2);return Math.min(J,Fe+ye)}function En(K){return K&&K._delegate?K._delegate:K}},872:(wt,ke,V)=>{"use strict";var c=V(5879);let se=null;function j(){return se}class me{}const de=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(we)},providedIn:"platform"})}return n})();const Ve=new c.OlP("Location Initialized");let we=(()=>{class n extends he{constructor(){super(),this._doc=(0,c.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(e){const i=j().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=j().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function q(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Q(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function z(n){return n&&"?"!==n[0]?"?"+n:n}let We=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(rt)},providedIn:"root"})}return n})();const Le=new c.OlP("appBaseHref");let rt=(()=>{class n extends We{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return q(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+z(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const l=this.prepareExternalUrl(r+z(s));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){const l=this.prepareExternalUrl(r+z(s));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(he),c.LFG(Le,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),He=(()=>{class n extends We{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=q(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let l=this.prepareExternalUrl(r+z(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){let l=this.prepareExternalUrl(r+z(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(he),c.LFG(Le,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})(),Ye=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function _e(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Q(Et(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+z(i))}normalize(e){return n.stripTrailingSlash(function Ct(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Et(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+z(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+z(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=z;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=Q;static#i=this.\u0275fac=function(i){return new(i||n)(c.LFG(We))};static#r=this.\u0275prov=c.Yz7({token:n,factory:function(){return function Be(){return new Ye((0,c.LFG)(We))}()},providedIn:"root"})}return n})();function Et(n){return n.replace(/\/index.html$/,"")}const Da=/\s+/,Pc=[];let vo=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Pc,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Da):Pc}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Da):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Da).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class yo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Za=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new yo(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,l),Fc(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Fc(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Fc(n,t){n.context.$implicit=t.item}let Pr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Rf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){sh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){sh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Rf{constructor(){this.$implicit=null,this.ngIf=null}}function sh(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let Qa=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return n})();class Gl{createSubscription(t,e){return(0,c.rg0)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,c.rg0)(()=>t.unsubscribe())}}class nr{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Lc=new nr,$l=new Gl;let Sa=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,c.QGY)(e))return Lc;if((0,c.F4k)(e))return $l;throw function $r(n,t){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.sBO,16))};static#t=this.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})(),_n=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({})}return n})();const Ws="browser";function Eo(n){return n===Ws}function yr(n){return"server"===n}let Ri=(()=>{class n{static#e=this.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Ys((0,c.LFG)(de),window)})}return n})();class Ys{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ks(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qd extends me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tc extends qd{static makeCurrent(){!function oe(n){se||(se=n)}(new tc)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Wd(){return dl=dl||document.querySelector("base"),dl?dl.getAttribute("href"):null}();return null==e?null:function Bf(n){Wc=Wc||document.createElement("a"),Wc.setAttribute("href",n);const t=Wc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){dl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function jo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Wc,dl=null,As=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();const Oa=new c.OlP("EventManagerPlugins");let fi=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Oa),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();class nc{constructor(t){this._doc=t}}const ul="ng-app-id";let uh=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yr(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${ul}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(ul),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(ul,this.appId),l}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,l=s.get(i)?.elements;l?l.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();const ia={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ks=/%COMP%/g,S=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ge(n,t){return t.map(e=>e.replace(ks,n))}let _t=(()=>{class n{constructor(e,i,r,s,l,h,m,v=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=h,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=yr(h),this.defaultRenderer=new un(e,l,m,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===c.ifc.ShadowDom&&(i={...i,encapsulation:c.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Cp?r.applyToHost(e):r instanceof Cr&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.doc,h=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,T=this.platformIsServer;switch(i.encapsulation){case c.ifc.Emulated:s=new Cp(m,v,i,this.appId,w,l,h,T);break;case c.ifc.ShadowDom:return new Zs(m,v,e,i,l,h,this.nonce,T);default:s=new Cr(m,v,i,w,l,h,T)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(fi),c.LFG(uh),c.LFG(c.AFp),c.LFG(S),c.LFG(de),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();class un{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ia[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Mo(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Mo(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new c.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ia[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ia[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=j().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Mo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Zs extends un{constructor(t,e,i,r,s,l,h,m){super(t,s,l,m),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=ge(r.id,r.styles);for(const w of v){const T=document.createElement("style");h&&T.setAttribute("nonce",h),T.textContent=w,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cr extends un{constructor(t,e,i,r,s,l,h,m){super(t,s,l,h),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=m?ge(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Cp extends Cr{constructor(t,e,i,r,s,l,h,m){const v=r+"-"+i.id;super(t,e,i,s,l,h,m,v),this.contentAttr=function F(n){return"_ngcontent-%COMP%".replace(ks,n)}(v),this.hostAttr=function W(n){return"_nghost-%COMP%".replace(ks,n)}(v)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let ic=(()=>{class n extends nc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ep=["alt","control","meta","shift"],ts={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ip={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hh=(()=>{class n extends nc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),l="code."),Ep.forEach(v=>{const w=i.indexOf(v);w>-1&&(i.splice(w,1),l+=v+".")}),l+=s,0!=i.length||0===s.length)return null;const m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(e,i){let r=ts[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ep.forEach(l=>{l!==r&&(0,Ip[l])(e)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();const ir=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ws},{provide:c.g9A,useValue:function Ht(){tc.makeCurrent()},multi:!0},{provide:de,useFactory:function Uf(){return(0,c.RDi)(document),document},deps:[]}]),Hf=new c.OlP(""),Er=[{provide:c.rWj,useClass:class Yc{addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new c.vHH(5103,!1);return s},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const h=function(m){l=l||m,s--,0==s&&i(l)};r.forEach(m=>{m.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?j().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Ro=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Vf(){return new c.qLn},deps:[]},{provide:Oa,useClass:ic,multi:!0,deps:[de,c.R0b,c.Lbi]},{provide:Oa,useClass:hh,multi:!0,deps:[de]},_t,uh,fi,{provide:c.FYo,useExisting:_t},{provide:class br{},useClass:As,deps:[]},[]];let Qd=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Hf,12))};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[...Ro,...Er],imports:[_n,c.hGG]})}return n})(),Ue=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function fh(){return new Ue((0,c.LFG)(de))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Ms=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):c.LFG(_h),r},providedIn:"root"})}return n})(),_h=(()=>{class n extends Ms{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function gh(n){return new _h(n.get(de))}(c.LFG(c.zs3)),r},providedIn:"root"})}return n})();var li=V(5592),gs=V(4674);var Hn=V(2459),pt=V(2096),sr=V(5619);const{isArray:su}=Array,{getPrototypeOf:Kc,prototype:Ir,keys:sa}=Object;function ei(n){if(1===n.length){const t=n[0];if(su(t))return{args:t,keys:null};if(function Fa(n){return n&&"object"==typeof n&&Kc(n)===Ir}(t)){const e=sa(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Xs=V(2737),ht=V(7398);const{isArray:qf}=Array;function pl(n){return(0,ht.U)(t=>function vh(n,t){return qf(t)?n(...t):n(t)}(n,t))}var Rs=V(9940);function Js(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Bn=V(8251),sc=V(7103);function Na(...n){const t=(0,Rs.yG)(n),e=(0,Rs.jO)(n),{args:i,keys:r}=ei(n);if(0===i.length)return(0,Hn.D)([],t);const s=new li.y(function ou(n,t,e=Xs.y){return i=>{oc(t,()=>{const{length:r}=n,s=new Array(r);let l=r,h=r;for(let m=0;m<r;m++)oc(t,()=>{const v=(0,Hn.D)(n[m],t);let w=!1;v.subscribe((0,Bn.x)(i,T=>{s[m]=T,w||(w=!0,h--),h||i.next(e(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>Js(r,l):Xs.y));return e?s.pipe(pl(e)):s}function oc(n,t,e){n?(0,sc.f)(e,n,t):t()}const gl=(0,V(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _l=V(7537);function Os(...n){return function La(){return(0,_l.J)(1)}()((0,Hn.D)(n,(0,Rs.yG)(n)))}var vl=V(4829);function yh(n){return new li.y(t=>{(0,vl.Xf)(n()).subscribe(t)})}var au=V(8407);function ac(n,t){const e=(0,gs.m)(n)?n:()=>n,i=r=>r.error(e());return new li.y(t?r=>t.schedule(i,0,r):i)}var oa=V(6232),eo=V(7394),zi=V(9360);function Wf(){return(0,zi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Bn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class yl extends li.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,zi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new eo.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Bn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=eo.w0.EMPTY)}return t}refCount(){return Wf()(this)}}var Lt=V(8645),mi=V(4664);function ti(n){return n<=0?()=>oa.E:(0,zi.e)((t,e)=>{let i=0;t.subscribe((0,Bn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Lr(...n){const t=(0,Rs.yG)(n);return(0,zi.e)((e,i)=>{(t?Os(n,e,t):Os(n,e)).subscribe(i)})}function An(n,t){return(0,zi.e)((e,i)=>{let r=0;e.subscribe((0,Bn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var or=V(1631);function Zc(n){return(0,zi.e)((t,e)=>{let i=!1;t.subscribe((0,Bn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Yf(n=bh){return(0,zi.e)((t,e)=>{let i=!1;t.subscribe((0,Bn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function bh(){return new gl}function Dr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?An((r,s)=>n(r,s,i)):Xs.y,ti(1),e?Zc(t):Yf(()=>new gl))}function aa(n,t){return(0,gs.m)(t)?(0,or.z)(n,t,1):(0,or.z)(n,1)}var qn=V(9397);function Ps(n){return(0,zi.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Bn.x)(e,void 0,void 0,l=>{s=(0,vl.Xf)(n(l,Ps(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function _s(n,t){return(0,zi.e)(function Qc(n,t,e,i,r){return(s,l)=>{let h=e,m=t,v=0;s.subscribe((0,Bn.x)(l,w=>{const T=v++;m=h?n(m,w,T):(h=!0,w),i&&l.next(m)},r&&(()=>{h&&l.next(m),l.complete()})))}}(n,t,arguments.length>=2,!0))}function bl(n){return n<=0?()=>oa.E:(0,zi.e)((t,e)=>{let i=[];t.subscribe((0,Bn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Ba(n){return(0,ht.U)(()=>n)}function Va(n){return(0,zi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var lc=V(2420);function an(n){return(0,zi.e)((t,e)=>{(0,vl.Xf)(n).subscribe((0,Bn.x)(e,()=>e.complete(),lc.Z)),!e.closed&&t.subscribe(e)})}const en="primary",wl=Symbol("RouteTitle");class xl{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function cc(n){return new xl(n)}function la(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],h=n[s];if(l.startsWith(":"))r[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function is(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!xh(n[r],t[r]))return!1;return!0}function xh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function xi(n){return n.length>0?n[n.length-1]:null}function to(n){return function ml(n){return!!n&&(n instanceof li.y||(0,gs.m)(n.lift)&&(0,gs.m)(n.subscribe))}(n)?n:(0,c.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):(0,pt.of)(n)}const Ua={exact:function du(n,t,e){if(!Ce(n.segments,t.segments)||!k(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!du(n.children[i],t.children[i],e))return!1;return!0},subset:uc},cu={exact:function Ch(n,t){return is(n,t)},subset:function dc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>xh(n[e],t[e]))},ignored:()=>!0};function Ap(n,t,e){return Ua[e.paths](n.root,t.root,e.matrixParams)&&cu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function uc(n,t,e){return E(n,t,t.segments,e)}function E(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ce(r,e)||t.hasChildren()||!k(r,e,i))}if(n.segments.length===e.length){if(!Ce(n.segments,e)||!k(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!uc(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Ce(n.segments,r)&&k(n.segments,r,i)&&n.children[en])&&E(n.children[en],t,s,i)}}function k(n,t,e){return t.every((i,r)=>cu[e](n[r].parameters,i.parameters))}class P{constructor(t=new U([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cc(this.queryParams)),this._queryParamMap}toString(){return Zt.serialize(this)}}class U{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gt(this)}}class ee{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=cc(this.parameters)),this._parameterMap}toString(){return rs(this)}}function Ce(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let it=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(){return new It},providedIn:"root"})}return n})();class It{parse(t){const e=new uu(t);return new P(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ai(t.root,!0)}`,i=function G_(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ca(e)}=${ca(r)}`).join("&"):`${ca(e)}=${ca(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ki(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Zt=new It;function Gt(n){return n.segments.map(t=>rs(t)).join("/")}function Ai(n,t){if(!n.hasChildren())return Gt(n);if(t){const e=n.children[en]?Ai(n.children[en],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==en&&i.push(`${r}:${Ai(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function lt(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===en&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==en&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===en?[Ai(n.children[en],!1)]:[`${r}:${Ai(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${Gt(n)}/${e[0]}`:`${Gt(n)}/(${e.join("//")})`}}function Pi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ca(n){return Pi(n).replace(/%3B/gi,";")}function da(n){return Pi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ar(n){return decodeURIComponent(n)}function Oo(n){return ar(n.replace(/\+/g,"%20"))}function rs(n){return`${da(n.path)}${function hc(n){return Object.keys(n).map(t=>`;${da(t)}=${da(n[t])}`).join("")}(n.parameters)}`}const kp=/^[^\/()?;#]+/;function Cl(n){const t=n.match(kp);return t?t[0]:""}const $_=/^[^\/()?;=#]+/,q_=/^[^=?&#]+/,no=/^[^&#]+/;class uu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new U([],{}):new U([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[en]=new U(t,e)),i}parseSegment(){const t=Cl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new ee(ar(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Mp(n){const t=n.match($_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Cl(this.remaining);r&&(i=r,this.capture(i))}t[ar(e)]=ar(i)}parseQueryParam(t){const e=function Xb(n){const t=n.match(q_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function Rp(n){const t=n.match(no);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Oo(e),s=Oo(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Cl(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=en);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[en]:new U([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function Jb(n){return n.segments.length>0?new U([],{[en]:n}):n}function Op(n){const t={};for(const i of Object.keys(n.children)){const s=Op(n.children[i]);if(i===en&&0===s.segments.length&&s.hasChildren())for(const[l,h]of Object.entries(s.children))t[l]=h;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function W_(n){if(1===n.numberOfChildren&&n.children[en]){const t=n.children[en];return new U(n.segments.concat(t.segments),t.children)}return n}(new U(n.segments,t))}function Xc(n){return n instanceof P}function fc(n){let t;const r=Jb(function e(s){const l={};for(const m of s.children){const v=e(m);l[m.outlet]=v}const h=new U(s.url,l);return s===n&&(t=h),h}(n.root));return t??r}function Y_(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return hu(r,r,r,e,i);const s=function ew(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Eh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([m,v])=>{h[m]="string"==typeof v?v.split("/"):v}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new Eh(e,t,i)}(t);if(s.toRoot())return hu(r,r,new U([],{}),e,i);const l=function tw(n,t,e){if(n.isAbsolute)return new Il(t,!0,0);if(!e)return new Il(t,!1,NaN);if(null===e.parent)return new Il(e,!0,0);const i=Kf(n.commands[0])?0:1;return function K_(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Il(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),h=l.processChildren?fu(l.segmentGroup,l.index,s.commands):Dh(l.segmentGroup,l.index,s.commands);return hu(r,l.segmentGroup,h,e,i)}function Kf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function El(n){return"object"==typeof n&&null!=n&&n.outlets}function hu(n,t,e,i,r){let l,s={};i&&Object.entries(i).forEach(([m,v])=>{s[m]=Array.isArray(v)?v.map(w=>`${w}`):`${v}`}),l=n===t?e:Zf(n,t,e);const h=Jb(Op(l));return new P(h,s,r)}function Zf(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:Zf(s,t,e)}),new U(n.segments,i)}class Eh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Kf(i[0]))throw new c.vHH(4003,!1);const r=i.find(El);if(r&&r!==xi(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Il{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Dh(n,t,e){if(n||(n=new U([],{})),0===n.segments.length&&n.hasChildren())return fu(n,t,e);const i=function nw(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const l=n.segments[r],h=e[i];if(El(h))break;const m=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Qf(m,v,l))return s;i+=2}else{if(!Qf(m,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new U(n.segments.slice(0,i.pathIndex),{});return s.children[en]=new U(n.segments.slice(i.pathIndex),n.children),fu(s,0,r)}return i.match&&0===r.length?new U(n.segments,{}):i.match&&!n.hasChildren()?Pp(n,t,e):i.match?fu(n,0,r):Pp(n,t,e)}function fu(n,t,e){if(0===e.length)return new U(n.segments,{});{const i=function Ih(n){return El(n[0])?n[0].outlets:{[en]:n}}(e),r={};if(Object.keys(i).some(s=>s!==en)&&n.children[en]&&1===n.numberOfChildren&&0===n.children[en].segments.length){const s=fu(n.children[en],t,e);return new U(n.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=Dh(n.children[s],t,l))}),Object.entries(n.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new U(n.segments,r)}}function Pp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(El(s)){const m=mu(s.outlets);return new U(i,m)}if(0===r&&Kf(e[0])){i.push(new ee(n.segments[t].path,Jc(e[0]))),r++;continue}const l=El(s)?s.outlets[en]:`${s}`,h=r<e.length-1?e[r+1]:null;l&&h&&Kf(h)?(i.push(new ee(l,Jc(h))),r+=2):(i.push(new ee(l,{})),r++)}return new U(i,{})}function mu(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Pp(new U([],{}),0,i))}),t}function Jc(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Qf(n,t,e){return n==e.path&&is(t,e.parameters)}const Xf="imperative";class ua{constructor(t,e){this.id=t,this.url=e}}class pu extends ua{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dl extends ua{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sh extends ua{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gu extends ua{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class ed extends ua{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Th extends ua{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z_ extends ua{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iw extends ua{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fp extends ua{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ME extends ua{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RE{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ah{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Np{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sw{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ow{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kh{}class X_{constructor(t){this.url=t}}class aw{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _u,this.attachRef=null}}let _u=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new aw,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Lp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Jf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Jf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=vu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return vu(t,this._root).map(e=>e.value)}}function Jf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Jf(n,e);if(i)return i}return null}function vu(n,t){if(n===t.value)return[t];for(const e of t.children){const i=vu(n,e);if(i.length)return i.unshift(t),i}return[]}class Fs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function td(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class vs extends Lp{constructor(t,e){super(t),this.snapshot=e,Bp(this,t)}toString(){return this.snapshot.toString()}}function nd(n,t){const e=function id(n,t){const l=new sd([],{},{},"",{},en,t,null,{});return new bu("",new Fs(l,[]))}(0,t),i=new sr.X([new ee("",{})]),r=new sr.X({}),s=new sr.X({}),l=new sr.X({}),h=new sr.X(""),m=new rd(i,r,l,h,s,en,t,e.root);return m.snapshot=e.root,new vs(new Fs(m,[]),e)}class rd{constructor(t,e,i,r,s,l,h,m){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,ht.U)(v=>v[wl]))??(0,pt.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(t=>cc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(t=>cc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function yu(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class sd{get title(){return this.data?.[wl]}constructor(t,e,i,r,s,l,h,m,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=h,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bu extends Lp{constructor(t,e){super(e),this.url=t,Bp(this,e)}toString(){return Sl(this._root)}}function Bp(n,t){t.value._routerState=n,t.children.forEach(e=>Bp(n,e))}function Sl(n){const t=n.children.length>0?` { ${n.children.map(Sl).join(", ")} } `:"";return`${n.value}${t}`}function em(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,is(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),is(t.params,e.params)||n.paramsSubject.next(e.params),function wh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!is(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),is(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function tm(n,t){const e=is(n.params,t.params)&&function le(n,t){return Ce(n,t)&&n.every((e,i)=>is(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||tm(n.parent,t.parent))}let wu=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(_u),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Rh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new lw(e,h,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return n})();class lw{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===rd?this.route:t===_u?this.childContexts:this.parent.get(t,e)}}const Rh=new c.OlP("");let ys=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Na([i.queryParams,i.params,i.data]).pipe((0,mi.w)(([s,l,h],m)=>(h={...s,...l,...h},0===m?(0,pt.of)(h):Promise.resolve(h)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const l=(0,c.qFp)(i.component);if(l)for(const{templateName:h}of l.inputs)e.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();function od(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function cw(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return od(n,i,r);return od(n,i)})}(n,t,e);return new Fs(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(h=>od(n,h)),l}}const i=function Fi(n){return new rd(new sr.X(n.url),new sr.X(n.params),new sr.X(n.queryParams),new sr.X(n.fragment),new sr.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>od(n,s));return new Fs(i,r)}}const Tl="ngNavigationCancelingError";function im(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Xc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Oh(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Oh(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Tl]=!0,i.cancellationCode=t,e&&(i.url=e),i}function mc(n){return n&&n[Tl]}let Vp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(i,r){1&i&&c._UZ(0,"router-outlet")},dependencies:[wu],encapsulation:2})}return n})();function X(n){const t=n.children&&n.children.map(X),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==en&&(e.component=Vp),e}function ae(n){return n.outlet||en}function Je(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ci{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),em(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=td(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=td(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=td(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=td(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new sw(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Ah(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(em(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),em(h.route.value),this.activateChildRoutes(t,null,l.children)}else{const h=Je(r.snapshot);l.attachRef=null,l.route=r,l.injector=h,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class io{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pc{constructor(t,e){this.component=t,this.route=e}}function ad(n,t,e){const i=n._root;return _c(i,t?t._root:null,e,[i.value])}function gc(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:i}function _c(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=td(t);return n.children.forEach(l=>{(function Cu(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const m=function ev(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ce(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ce(n.url,t.url)||!is(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tm(n,t)||!is(n.queryParams,t.queryParams);default:return!tm(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new io(i)):(s.data=l.data,s._resolvedData=l._resolvedData),_c(n,t,s.component?h?h.children:null:e,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new pc(h.outlet.component,l))}else l&&Eu(t,h,r),r.canActivateChecks.push(new io(i)),_c(n,null,s.component?h?h.children:null:e,i,r)})(l,s[l.value.outlet],e,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,h])=>Eu(h,e.getContext(l),r)),r}function Eu(n,t,e){const i=td(n),r=n.value;Object.entries(i).forEach(([s,l])=>{Eu(l,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new pc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function ld(n){return"function"==typeof n}function FE(n){return n instanceof gl||"EmptyError"===n?.name}const rm=Symbol("INITIAL_VALUE");function Ph(){return(0,mi.w)(n=>Na(n.map(t=>t.pipe(ti(1),Lr(rm)))).pipe((0,ht.U)(t=>{for(const e of t)if(!0!==e){if(e===rm)return rm;if(!1===e||e instanceof P)return e}return!0}),An(t=>t!==rm),ti(1)))}function fw(n){return(0,au.z)((0,qn.b)(t=>{if(Xc(t))throw im(0,t)}),(0,ht.U)(t=>!0===t))}class Hp{constructor(t){this.segmentGroup=t||null}}class jp{constructor(t){this.urlTree=t}}function vc(n){return ac(new Hp(n))}function pw(n){return ac(new jp(n))}class UE{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new c.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,pt.of)(i);if(r.numberOfChildren>1||!r.children[en])return ac(new c.vHH(4e3,!1));r=r.children[en]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new P(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[r]=e[h]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let l={};return Object.entries(e.children).forEach(([h,m])=>{l[h]=this.createSegmentGroup(t,m,i,r)}),new U(s,l)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new c.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const zp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gp(n,t,e,i,r){const s=_w(n,t,e);return s.matched?(i=function J_(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function mw(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,pt.of)(!0);const s=r.map(l=>{const h=gc(l,n);return to(function hw(n){return n&&ld(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))});return(0,pt.of)(s).pipe(Ph(),fw())}(i,t,e).pipe((0,ht.U)(l=>!0===l?s:{...zp}))):(0,pt.of)(s)}function _w(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...zp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||la)(e,n,t);if(!r)return{...zp};const s={};Object.entries(r.posParams??{}).forEach(([h,m])=>{s[h]=m.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function vw(n,t,e,i){return e.length>0&&function bM(n,t,e){return e.some(i=>$p(n,t,i)&&ae(i)!==en)}(n,e,i)?{segmentGroup:new U(t,yM(i,new U(e,n.children))),slicedSegments:[]}:0===e.length&&function HE(n,t,e){return e.some(i=>$p(n,t,i))}(n,e,i)?{segmentGroup:new U(n.segments,vM(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new U(n.segments,n.children),slicedSegments:e}}function vM(n,t,e,i,r){const s={};for(const l of i)if($p(n,e,l)&&!r[ae(l)]){const h=new U([],{});s[ae(l)]=h}return{...r,...s}}function yM(n,t){const e={};e[en]=t;for(const i of n)if(""===i.path&&ae(i)!==en){const r=new U([],{});e[ae(i)]=r}return e}function $p(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class wM{constructor(t,e,i,r,s,l,h){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new UE(this.urlSerializer,this.urlTree)}noMatchError(t){return new c.vHH(4002,!1)}recognize(){const t=vw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,en).pipe(Ps(e=>{if(e instanceof jp)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Hp?this.noMatchError(e):e}),(0,ht.U)(e=>{const i=new sd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,{}),r=new Fs(i,e),s=new bu("",r),l=function kE(n,t,e=null,i=null){return Y_(fc(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,en).pipe(Ps(i=>{throw i instanceof Hp?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=Mh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Hn.D)(r).pipe(aa(s=>{const l=i.children[s],h=function $e(n,t){const e=n.filter(i=>ae(i)===t);return e.push(...n.filter(i=>ae(i)!==t)),e}(e,s);return this.processSegmentGroup(t,h,l,s)}),_s((s,l)=>(s.push(...l),s)),Zc(null),function lu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?An((r,s)=>n(r,s,i)):Xs.y,bl(1),e?Zc(t):Yf(()=>new gl))}(),(0,or.z)(s=>{if(null===s)return vc(i);const l=jE(s);return function xM(n){n.sort((t,e)=>t.value.outlet===en?-1:e.value.outlet===en?1:t.value.outlet.localeCompare(e.value.outlet))}(l),(0,pt.of)(l)}))}processSegment(t,e,i,r,s,l){return(0,Hn.D)(e).pipe(aa(h=>this.processSegmentAgainstRoute(h._injector??t,e,h,i,r,s,l).pipe(Ps(m=>{if(m instanceof Hp)return(0,pt.of)(null);throw m}))),Dr(h=>!!h),Ps(h=>{if(FE(h))return function yw(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?(0,pt.of)([]):vc(i);throw h}))}processSegmentAgainstRoute(t,e,i,r,s,l,h){return function ov(n,t,e,i){return!!(ae(n)===i||i!==en&&$p(t,e,n))&&("**"===n.path||_w(t,n,e).matched)}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,l):vc(r):vc(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?pw(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,or.z)(l=>{const h=new U(l,{});return this.processSegment(t,e,h,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:w}=_w(e,r,s);if(!h)return vc(e);const T=this.applyRedirects.applyRedirectCommands(m,r.redirectTo,w);return r.redirectTo.startsWith("/")?pw(T):this.applyRedirects.lineralizeSegments(r,T).pipe((0,or.z)(O=>this.processSegment(t,i,e,O.concat(v),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,l){let h;if("**"===i.path){const m=r.length>0?xi(r).parameters:{},v=new sd(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GE(i),ae(i),i.component??i._loadedComponent??null,i,Nh(i));h=(0,pt.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),e.children={}}else h=Gp(e,i,r,t).pipe((0,ht.U)(({matched:m,consumedSegments:v,remainingSegments:w,parameters:T})=>m?{snapshot:new sd(v,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GE(i),ae(i),i.component??i._loadedComponent??null,i,Nh(i)),consumedSegments:v,remainingSegments:w}:null));return h.pipe((0,mi.w)(m=>null===m?vc(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,mi.w)(({routes:v})=>{const w=i._loadedInjector??t,{snapshot:T,consumedSegments:O,remainingSegments:B}=m,{segmentGroup:$,slicedSegments:Z}=vw(e,O,B,v);if(0===Z.length&&$.hasChildren())return this.processChildren(w,v,$).pipe((0,ht.U)(Ae=>null===Ae?null:[new Fs(T,Ae)]));if(0===v.length&&0===Z.length)return(0,pt.of)([new Fs(T,[])]);const re=ae(i)===s;return this.processSegment(w,v,$,Z,re?en:s,!0).pipe((0,ht.U)(Ae=>[new Fs(T,Ae)]))}))))}getChildConfig(t,e,i){return e.children?(0,pt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,pt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function VE(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,pt.of)(!0);const s=r.map(l=>{const h=gc(l,n);return to(function uw(n){return n&&ld(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))});return(0,pt.of)(s).pipe(Ph(),fw())}(t,e,i).pipe((0,or.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,qn.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function sv(n){return ac(Oh(!1,3))}())):(0,pt.of)({routes:[],injector:t})}}function aV(n){const t=n.value.routeConfig;return t&&""===t.path}function jE(n){const t=[],e=new Set;for(const i of n){if(!aV(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=jE(i.children);t.push(new Fs(i.value,r))}return t.filter(i=>!e.has(i))}function GE(n){return n.data||{}}function Nh(n){return n.resolve||{}}function YE(n){return"string"==typeof n.title||null===n.title}function ww(n){return(0,mi.w)(t=>{const e=n(t);return e?(0,Hn.D)(e).pipe((0,ht.U)(()=>t)):(0,pt.of)(t)})}const om=new c.OlP("ROUTES");let xw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,pt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=to(e.loadComponent()).pipe((0,ht.U)(Bh),(0,qn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Va(()=>{this.componentLoaders.delete(e)})),r=new yl(i,()=>new Lt.x).pipe(Wf());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,pt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function CM(n,t,e,i){return to(n.loadChildren()).pipe((0,ht.U)(Bh),(0,or.z)(r=>r instanceof c.YKP||Array.isArray(r)?(0,pt.of)(r):(0,Hn.D)(t.compileModuleAsync(r))),(0,ht.U)(r=>{i&&i(n);let s,l,h=!1;return Array.isArray(r)?(l=r,!0):(s=r.create(e).injector,l=s.get(om,[],{optional:!0,self:!0}).flat()),{routes:l.map(X),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Va(()=>{this.childrenLoaders.delete(i)})),l=new yl(s,()=>new Lt.x).pipe(Wf());return this.childrenLoaders.set(i,l),l}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bh(n){return function cd(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lt.x,this.transitionAbortSubject=new Lt.x,this.configLoader=(0,c.f3M)(xw),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(it),this.rootContexts=(0,c.f3M)(_u),this.inputBindingEnabled=null!==(0,c.f3M)(Rh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new RE(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Q_(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new sr.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(s=>0!==s.id),(0,ht.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),(0,mi.w)(s=>{this.currentTransition=s;let l=!1,h=!1;return(0,pt.of)(s).pipe((0,qn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mi.w)(m=>{const v=m.currentBrowserUrl.toString(),w=!e.navigated||m.extractedUrl.toString()!==v||v!==m.currentUrlTree.toString();if(!w&&"reload"!==(m.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const O="";return this.events.next(new gu(m.id,this.urlSerializer.serialize(m.rawUrl),O,0)),m.resolve(null),oa.E}if(e.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,pt.of)(m).pipe((0,mi.w)(O=>{const B=this.transitions?.getValue();return this.events.next(new pu(O.id,this.urlSerializer.serialize(O.extractedUrl),O.source,O.restoredState)),B!==this.transitions?.getValue()?oa.E:Promise.resolve(O)}),function av(n,t,e,i,r,s){return(0,or.z)(l=>function sm(n,t,e,i,r,s,l="emptyOnly"){return new wM(n,t,e,i,r,l,s).recognize()}(n,t,e,i,l.extractedUrl,r,s).pipe((0,ht.U)(({state:h,tree:m})=>({...l,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,qn.b)(O=>{s.targetSnapshot=O.targetSnapshot,s.urlAfterRedirects=O.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects};const B=new Th(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(B)}));if(w&&e.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:O,extractedUrl:B,source:$,restoredState:Z,extras:re}=m,Ae=new pu(O,this.urlSerializer.serialize(B),$,Z);this.events.next(Ae);const Ze=nd(0,this.rootComponentType).snapshot;return this.currentTransition=s={...m,targetSnapshot:Ze,urlAfterRedirects:B,extras:{...re,skipLocationChange:!1,replaceUrl:!1}},(0,pt.of)(s)}{const O="";return this.events.next(new gu(m.id,this.urlSerializer.serialize(m.extractedUrl),O,1)),m.resolve(null),oa.E}}),(0,qn.b)(m=>{const v=new Z_(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),(0,ht.U)(m=>(this.currentTransition=s={...m,guards:ad(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},s)),function Fh(n,t){return(0,or.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?(0,pt.of)({...e,guardsResult:!0}):function NE(n,t,e,i){return(0,Hn.D)(n).pipe((0,or.z)(r=>function BE(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,pt.of)(!0);const l=s.map(h=>{const m=Je(t)??r,v=gc(h,m);return to(function iv(n){return n&&ld(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):m.runInContext(()=>v(n,t,e,i))).pipe(Dr())});return(0,pt.of)(l).pipe(Ph())}(r.component,r.route,e,t,i)),Dr(r=>!0!==r,!0))}(l,i,r,n).pipe((0,or.z)(h=>h&&function tv(n){return"boolean"==typeof n}(h)?function LE(n,t,e,i){return(0,Hn.D)(t).pipe(aa(r=>Os(function oV(n,t){return null!==n&&t&&t(new rw(n)),(0,pt.of)(!0)}(r.route.parent,i),function gM(n,t){return null!==n&&t&&t(new Np(n)),(0,pt.of)(!0)}(r.route,i),function _M(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function xu(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>yh(()=>{const h=l.guards.map(m=>{const v=Je(l.node)??e,w=gc(m,v);return to(function nv(n){return n&&ld(n.canActivateChild)}(w)?w.canActivateChild(i,n):v.runInContext(()=>w(i,n))).pipe(Dr())});return(0,pt.of)(h).pipe(Ph())}));return(0,pt.of)(s).pipe(Ph())}(n,r.path,e),function rv(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,pt.of)(!0);const r=i.map(s=>yh(()=>{const l=Je(t)??e,h=gc(s,l);return to(function Up(n){return n&&ld(n.canActivate)}(h)?h.canActivate(t,n):l.runInContext(()=>h(t,n))).pipe(Dr())}));return(0,pt.of)(r).pipe(Ph())}(n,r.route,e))),Dr(r=>!0!==r,!0))}(i,s,n,t):(0,pt.of)(h)),(0,ht.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,m=>this.events.next(m)),(0,qn.b)(m=>{if(s.guardsResult=m.guardsResult,Xc(m.guardsResult))throw im(0,m.guardsResult);const v=new iw(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),An(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),ww(m=>{if(m.guards.canActivateChecks.length)return(0,pt.of)(m).pipe((0,qn.b)(v=>{const w=new Fp(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}),(0,mi.w)(v=>{let w=!1;return(0,pt.of)(v).pipe(function bw(n,t){return(0,or.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,pt.of)(e);let s=0;return(0,Hn.D)(r).pipe(aa(l=>function $E(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!YE(r)&&(s[wl]=r.title),function qE(n,t,e,i){const r=function WE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,pt.of)({});const s={};return(0,Hn.D)(r).pipe((0,or.z)(l=>function Lh(n,t,e,i){const r=Je(t)??i,s=gc(n,r);return to(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[l],t,e,i).pipe(Dr(),(0,qn.b)(h=>{s[l]=h}))),bl(1),Ba(s),Ps(l=>FE(l)?oa.E:ac(l)))}(s,n,t,i).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=Mh(n,e).resolve,r&&YE(r)&&(n.data[wl]=r.title),null)))}(l.route,i,n,t)),(0,qn.b)(()=>s++),bl(1),(0,or.z)(l=>s===r.length?(0,pt.of)(e):oa.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,qn.b)({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(v,"",2)}}))}),(0,qn.b)(v=>{const w=new ME(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}))}),ww(m=>{const v=w=>{const T=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,qn.b)(O=>{w.component=O}),(0,ht.U)(()=>{})));for(const O of w.children)T.push(...v(O));return T};return Na(v(m.targetSnapshot.root)).pipe(Zc(),ti(1))}),ww(()=>this.afterPreactivation()),(0,ht.U)(m=>{const v=function nm(n,t,e){const i=od(n,t._root,e?e._root:void 0);return new vs(i,t)}(e.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=s={...m,targetRouterState:v},s}),(0,qn.b)(()=>{this.events.next(new kh)}),((n,t,e,i)=>(0,ht.U)(r=>(new Ci(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),ti(1),(0,qn.b)({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),e.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),an(this.transitionAbortSubject.pipe((0,qn.b)(m=>{throw m}))),Va(()=>{l||h||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ps(m=>{if(h=!0,mc(m))this.events.next(new Sh(s.id,this.urlSerializer.serialize(s.extractedUrl),m.message,m.cancellationCode)),function ss(n){return mc(n)&&Xc(n.url)}(m)?this.events.next(new X_(m.url)):s.resolve(!1);else{this.events.next(new ed(s.id,this.urlSerializer.serialize(s.extractedUrl),m,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(m))}catch(v){s.reject(v)}}return oa.E}))}))}cancelNavigationTransition(e,i,r){const s=new Sh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KE(n){return n!==Xf}let ZE=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===en);return i}getResolvedTitleForRoute(e){return e.data[wl]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(EM)},providedIn:"root"})}return n})(),EM=(()=>{class n extends ZE{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Ue))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(QE)},providedIn:"root"})}return n})();class DM{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let QE=(()=>{class n extends DM{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cv=new c.OlP("",{providedIn:"root",factory:()=>({})});let SM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(TM)},providedIn:"root"})}return n})(),TM=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qp||{});function Wp(n,t){n.events.pipe(An(e=>e instanceof Dl||e instanceof Sh||e instanceof ed||e instanceof gu),(0,ht.U)(e=>e instanceof Dl||e instanceof gu?qp.COMPLETE:e instanceof Sh&&(0===e.code||1===e.code)?qp.REDIRECTING:qp.FAILED),An(e=>e!==qp.REDIRECTING),ti(1)).subscribe(()=>{t()})}function dd(n){throw n}function Yp(n,t,e){return t.parse("/")}const XE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ha=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this._events=new Lt.x,this.options=(0,c.f3M)(cv,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||dd,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yp,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(SM),this.routeReuseStrategy=(0,c.f3M)(IM),this.titleStrategy=(0,c.f3M)(ZE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(om,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(lv),this.urlSerializer=(0,c.f3M)(it),this.location=(0,c.f3M)(Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Rh,{optional:!0}),this.eventsSubscription=new eo.w0,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new P,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nd(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(AM(i)&&this._events.next(i));if(i instanceof pu)KE(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof gu)this.rawUrlTree=r.rawUrl;else if(i instanceof Th){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof kh)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Sh)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof X_){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||KE(r.source)};this.scheduleNavigation(s,Xf,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof ed&&this.restoreHistory(r,!0),i instanceof Dl&&(this.navigated=!0),AM(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const h=this.parseUrl(e);this.scheduleNavigation(h,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(X),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:m}=i,v=m?this.currentUrlTree.fragment:l;let T,w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}null!==w&&(w=this.removeEmptyProps(w));try{T=fc(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),T=this.currentUrlTree.root}return Y_(T,e,w,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Xc(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Xf,null,i)}navigate(e,i={skipLocationChange:!1}){return function lV(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new c.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...XE}:!1===i?{...JE}:i,Xc(e))return Ap(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Ap(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let h,m,v;l?(h=l.resolve,m=l.reject,v=l.promise):v=new Promise((T,O)=>{h=T,m=O});const w=this.pendingTasks.add();return Wp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(T=>Promise.reject(T))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AM(n){return!(n instanceof kh||n instanceof X_)}let Cw=(()=>{class n{constructor(e,i,r,s,l,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new Lt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(v=>{v instanceof Dl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(ha),c.Y36(rd),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(We))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&c.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&i&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return n})(),dv=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,l){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof Dl&&this.update()})}ngAfterContentInit(){(0,pt.of)(this.links.changes,(0,pt.of)(null)).pipe((0,_l.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Hn.D)(e).pipe((0,_l.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Ew(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(ha),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Cw,8))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&c.Suo(s,Cw,5),2&i){let l;c.iGM(l=c.CRH())&&(r.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]})}return n})();class kM{}let RM=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(An(e=>e instanceof Dl),aa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,c.MMx)(s.providers,e,`Route: ${s.path}`));const l=s._injector??e,h=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,Hn.D)(r).pipe((0,_l.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,pt.of)(null);const s=r.pipe((0,or.z)(l=>null===l?(0,pt.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,Hn.D)([s,l]).pipe((0,_l.J)())}return s})}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(ha),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(kM),c.LFG(xw))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Iw=new c.OlP("");let eI=(()=>{class n{constructor(e,i,r,s,l={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof pu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof gu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ow&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ow(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();function Ha(n,t){return{\u0275kind:n,\u0275providers:t}}function iI(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const i=n.get(ha),r=n.get(rI);1===n.get(uv)&&i.initialNavigation(),n.get(oI,null,c.XFs.Optional)?.setUpPreloading(),n.get(Iw,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const rI=new c.OlP("",{factory:()=>new Lt.x}),uv=new c.OlP("",{providedIn:"root",factory:()=>1}),oI=new c.OlP("");function PM(n){return Ha(0,[{provide:oI,useExisting:RM},{provide:kM,useExisting:n}])}const lm=new c.OlP("ROUTER_FORROOT_GUARD"),aI=[Ye,{provide:it,useClass:It},ha,_u,{provide:rd,useFactory:function Dw(n){return n.routerState.root},deps:[ha]},xw,[]];function lI(){return new c.PXZ("Router",ha)}let hv=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[aI,[],{provide:om,multi:!0,useValue:e},{provide:lm,useFactory:uI,deps:[[ha,new c.FiY,new c.tp0]]},{provide:cv,useValue:i||{}},i?.useHash?{provide:We,useClass:He}:{provide:We,useClass:rt},{provide:Iw,useFactory:()=>{const n=(0,c.f3M)(Ri),t=(0,c.f3M)(c.R0b),e=(0,c.f3M)(cv),i=(0,c.f3M)(lv),r=(0,c.f3M)(it);return e.scrollOffset&&n.setOffset(e.scrollOffset),new eI(r,i,n,t,e)}},i?.preloadingStrategy?PM(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:lI},i?.initialNavigation?fv(i):[],i?.bindToComponentInputs?Ha(8,[ys,{provide:Rh,useExisting:ys}]).\u0275providers:[],[{provide:LM,useFactory:iI},{provide:c.tb,multi:!0,useExisting:LM}]]}}static forChild(e){return{ngModule:n,providers:[{provide:om,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(lm,8))};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({})}return n})();function uI(n){return"guarded"}function fv(n){return["disabled"===n.initialNavigation?Ha(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(ha);return()=>{t.setUpLocationChangeListener()}}},{provide:uv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ha(2,[{provide:uv,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(Ve,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(ha),s=t.get(rI);Wp(r,()=>{i(!0)}),t.get(lv).afterPreactivation=()=>(i(!0),s.closed?(0,pt.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const LM=new c.OlP("");function jt(n){return null!=n&&"false"!=`${n}`}function Al(n,t=0){return function UM(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function dm(n){return Array.isArray(n)?n:[n]}function Gi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ns(n){return n instanceof c.SBq?n.nativeElement:n}function mv(n){return An((t,e)=>n<=e)}var um=V(6321);function Zp(n,t=um.z){return(0,zi.e)((e,i)=>{let r=null,s=null,l=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function m(){const v=l+n,w=t.now();if(w<v)return r=this.schedule(void 0,v-w),void i.add(r);h()}e.subscribe((0,Bn.x)(i,v=>{s=v,l=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}let pv;try{pv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pv=!1}let fm,mm,pm,Aw,Ei=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Eo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vh(n){return function HM(){if(null==fm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fm=!0}))}finally{fm=fm||!1}return fm}()?n:!!n.capture}function pI(){if(null==pm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pm=!1,pm;if("scrollBehavior"in document.documentElement.style)pm=!0;else{const n=Element.prototype.scrollTo;pm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return pm}function Qp(){if("object"!=typeof document||!document)return 0;if(null==mm){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),mm=0,0===n.scrollLeft&&(n.scrollLeft=1,mm=0===n.scrollLeft?1:2),n.remove()}return mm}function Iu(n){return n.composedPath?n.composedPath()[0]:n.target}function Xp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Uh=new Set;let ud,kw=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_v}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jp(n,t){if(!Uh.has(n))try{ud||(ud=document.createElement("style"),t&&(ud.nonce=t),ud.setAttribute("type","text/css"),document.head.appendChild(ud)),ud.sheet&&(ud.sheet.insertRule(`@media ${n} {body{ }}`,0),Uh.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Ei),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _v(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Hh=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Lt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return vv(dm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Na(vv(dm(e)).map(l=>this._registerQuery(l).observable));return s=Os(s.pipe(ti(1)),s.pipe(mv(1),Zp(0))),s.pipe((0,ht.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:v})=>{h.matches=h.matches||m,h.breakpoints[v]=m}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new li.y(l=>{const h=m=>this._zone.run(()=>l.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Lr(i),(0,ht.U)(({matches:l})=>({query:e,matches:l})),an(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(kw),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vv(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var yv=V(4552);class _V extends Lt.x{constructor(t=1/0,e=1/0,i=yv.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;e||(i.push(t),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!t.closed;l+=i?1:2)t.next(s[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=e.now();let h=0;for(let m=1;m<i.length&&i[m]<=l;m+=2)h=m;h&&i.splice(0,h+1)}}}var eg=V(3020);function jh(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,eg.B)({connector:()=>new _V(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Tu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var og=V(3997);let Dv=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ER=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ns(e);return new li.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Lt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Dv))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TI=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=jt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Al(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Zp(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(ER),c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),Gw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[Dv]})}return n})();class SR{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Lt.x,this._typeaheadSubscription=eo.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Lt.x,this.change=new Lt.x,t instanceof c.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,qn.b)(e=>this._pressedLetters.push(e)),Zp(t),An(()=>this._pressedLetters.length>0),(0,ht.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,l=i[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((r||Tu(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class ag extends SR{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let MI=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function kR(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function AR(n){try{return n.frameElement}catch{return null}}(function bc(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===PI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=PI(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function PR(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function FR(n){return!function MR(n){return function qw(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function RI(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function RR(n){return function OR(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||OI(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Ei))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OI(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function PI(n){if(!OI(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Ww{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ti(1)).subscribe(t)}}let NR=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Ww(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(MI),c.LFG(c.R0b),c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NI(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Sv(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const LI=new c.OlP("cdk-input-modality-detector-options"),BI={ignoreKeys:[18,17,224,91,16]},Au=Vh({passive:!0,capture:!0});let fd=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new sr.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(h=>h===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Iu(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(NI(l)?"keyboard":"mouse"),this._mostRecentTarget=Iu(l))},this._onTouchstart=l=>{Sv(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Iu(l))},this._options={...BI,...s},this.modalityDetected=this._modality.pipe(mv(1)),this.modalityChanged=this.modalityDetected.pipe((0,og.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Au),r.addEventListener("mousedown",this._onMousedown,Au),r.addEventListener("touchstart",this._onTouchstart,Au)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Au),document.removeEventListener("mousedown",this._onMousedown,Au),document.removeEventListener("touchstart",this._onTouchstart,Au))}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Ei),c.LFG(c.R0b),c.LFG(de),c.LFG(LI,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Tv=new c.OlP("cdk-focus-monitor-default-options"),ku=Vh({passive:!0,capture:!0});let Gh=(()=>{class n{constructor(e,i,r,s,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Lt.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=Iu(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=Ns(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,pt.of)();const s=function gV(n){if(function pV(){if(null==Aw){const n=typeof document<"u"?document.head:null;Aw=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Aw}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const h={checkChildren:i,subject:new Lt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Ns(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Ns(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Iu(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ku),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ku)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(an(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ku),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ku),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(c.R0b),c.LFG(Ei),c.LFG(fd),c.LFG(de,8),c.LFG(Tv,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jR="cdk-high-contrast-black-on-white",UI="cdk-high-contrast-white-on-black",Av="cdk-high-contrast-active";let Qw=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,c.f3M)(Hh).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Av,jR,UI),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Av,jR):2===i&&e.add(Av,UI)}}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Ei),c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zR=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Qw))};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[Gw]})}return n})();const GR=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function HI(){return(0,c.f3M)(de)}}),jI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let md=(()=>{class n{constructor(e){this.value="ltr",this.change=new c.vpe,e&&(this.value=function lg(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?jI.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(GR,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$h=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({})}return n})();const WR=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Xw(){return!0}});let In=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Xp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Qw),c.LFG(WR,8),c.LFG(de))};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[$h,$h]})}return n})();function Jw(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=jt(t)}constructor(...t){super(...t),this._disabled=!1}}}function cg(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function e0(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=jt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function t0(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Al(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}let vm=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fa=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,In]})}return n})();class r0{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qh=Vh({passive:!0,capture:!0});class bm{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Iu(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,qh)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,qh)))}}const Wh={enterDuration:225,exitDuration:150},Yh=Vh({passive:!0,capture:!0}),Kh=["mousedown","touchstart"],Zh=["mouseup","mouseleave","touchend","touchcancel"];class wc{static#e=this._eventManager=new bm;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ns(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Wh,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function xm(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,m=e-r.top,v=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-l+"px",w.style.top=m-l+"px",w.style.height=2*l+"px",w.style.width=2*l+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(w);const T=window.getComputedStyle(w),B=T.transitionDuration,$="none"===T.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,Z=new r0(this,w,i,$);w.style.transform="scale3d(1, 1, 1)",Z.state=0,i.persistent||(this._mostRecentTransientRipple=Z);let re=null;return!$&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ae=()=>this._finishRippleTransition(Z),Ze=()=>this._destroyRipple(Z);w.addEventListener("transitionend",Ae),w.addEventListener("transitioncancel",Ze),re={onTransitionEnd:Ae,onTransitionCancel:Ze}}),this._activeRipples.set(Z,re),($||!v)&&this._finishRippleTransition(Z),Z}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Wh,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ns(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Kh.forEach(i=>{wc._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Zh.forEach(e=>{this._triggerElement.addEventListener(e,this,Yh)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=NI(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Sv(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Kh.forEach(e=>wc._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&Zh.forEach(e=>t.removeEventListener(e,this,Yh)))}}const Ru=new c.OlP("mat-ripple-global-options");let s0=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new wc(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Ei),c.Y36(Ru,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),Cm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,In]})}return n})(),o0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In]})}return n})(),n1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[Cm,_n,In,o0]})}return n})();const KI={capture:!0},ZI=["focus","click","mouseenter","touchstart"],a0="mat-ripple-loader-uninitialized",dg="mat-ripple-loader-class-name",Em="mat-ripple-loader-centered",Im="mat-ripple-loader-disabled";let ug=(()=>{class n{constructor(){this._document=(0,c.f3M)(de,{optional:!0}),this._animationMode=(0,c.f3M)(c.QbO,{optional:!0}),this._globalRippleOptions=(0,c.f3M)(Ru,{optional:!0}),this._platform=(0,c.f3M)(Ei),this._ngZone=(0,c.f3M)(c.R0b),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${a0}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of ZI)this._document?.addEventListener(e,this._onInteraction,KI)})}ngOnDestroy(){for(const e of ZI)this._document?.removeEventListener(e,this._onInteraction,KI)}configureRipple(e,i){e.setAttribute(a0,""),(i.className||!e.hasAttribute(dg))&&e.setAttribute(dg,i.className||""),i.centered&&e.setAttribute(Em,""),i.disabled&&e.setAttribute(Im,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(Im,""):e.removeAttribute(Im)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(dg)),e.append(i);const r=new s0(new c.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(Em),r.disabled=e.hasAttribute(Im),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(a0),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QI=["*",[["mat-toolbar-row"]]],hg=["*","mat-toolbar-row"],XI=cg(class{constructor(n){this._elementRef=n}});let r1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),fg=(()=>{class n extends XI{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(Ei),c.Y36(de))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&c.Suo(s,r1,5),2&i){let l;c.iGM(l=c.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&c.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:hg,decls:2,vars:0,template:function(i,r){1&i&&(c.F$t(QI),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),s1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,In]})}return n})();const o1=["mat-button",""],JI=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Mv=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],xU=["mat-fab",""],c0=["mat-icon-button",""],a1=["*"],eD=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],tD=cg(Jw(e0(class{constructor(n){this._elementRef=n}})));let Ov=(()=>{class n extends tD{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=jt(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=jt(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,c.f3M)(Gh),this._rippleLoader=(0,c.f3M)(ug),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=e.nativeElement.classList;for(const h of eD)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){c.$Z()};static#t=this.\u0275dir=c.lG2({type:n,features:[c.qOj]})}return n})(),nD=(()=>{class n extends Ov{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(Ei),c.Y36(c.R0b),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:o1,ngContentSelectors:Mv,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(c.F$t(JI),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&i&&c.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const d0=new c.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:rD});function rD(){return{color:"accent"}}const mg=rD();let h0=(()=>{class n extends Ov{get extended(){return this._extended}set extended(e){this._extended=jt(e)}constructor(e,i,r,s,l){super(e,i,r,s),this._options=l,this._isFab=!0,this._options=this._options||mg,this.color=this.defaultColor=this._options.color||mg.color}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(Ei),c.Y36(c.R0b),c.Y36(c.QbO,8),c.Y36(d0,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(i,r){2&i&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[c.qOj],attrs:xU,ngContentSelectors:Mv,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(c.F$t(JI),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&i&&c.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),sD=(()=>{class n extends Ov{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(Ei),c.Y36(c.R0b),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:c0,ngContentSelectors:a1,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),pg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,Cm,In]})}return n})();var m0=V(4266);const oD=["addListener","removeListener"],u1=["addEventListener","removeEventListener"],h1=["on","off"];function Dm(n,t,e,i){if((0,gs.m)(e)&&(i=e,e=void 0),i)return Dm(n,t,e).pipe(pl(i));const[r,s]=function g0(n){return(0,gs.m)(n.addEventListener)&&(0,gs.m)(n.removeEventListener)}(n)?u1.map(l=>h=>n[l](t,h,e)):function aD(n){return(0,gs.m)(n.addListener)&&(0,gs.m)(n.removeListener)}(n)?oD.map(Pv(n,t)):function p0(n){return(0,gs.m)(n.on)&&(0,gs.m)(n.off)}(n)?h1.map(Pv(n,t)):[];if(!r&&(0,m0.z)(n))return(0,or.z)(l=>Dm(l,t,e))((0,vl.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new li.y(l=>{const h=(...m)=>l.next(1<m.length?m:m[0]);return r(h),()=>s(h)})}function Pv(n,t){return e=>i=>n[e](t,i)}var lD=V(1954);const Sm={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Sm;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new eo.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Sm;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Sm;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var _0=V(2631);new class dD extends _0.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class cD extends lD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Sm.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Sm.cancelAnimationFrame(e),t._scheduled=void 0)}});let Fv,uD=1;const Tm={};function v0(n){return n in Tm&&(delete Tm[n],!0)}const hD={setImmediate(n){const t=uD++;return Tm[t]=!0,Fv||(Fv=Promise.resolve()),Fv.then(()=>v0(t)&&n()),t},clearImmediate(n){v0(n)}},{setImmediate:fD,clearImmediate:mD}=hD,gg={setImmediate(...n){const{delegate:t}=gg;return(t?.setImmediate||fD)(...n)},clearImmediate(n){const{delegate:t}=gg;return(t?.clearImmediate||mD)(n)},delegate:void 0},Am=new class gD extends _0.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class pD extends lD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=gg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(gg.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var _1=V(671);function Ou(n=0,t,e=um.P){let i=-1;return null!=t&&((0,_1.K)(t)?e=t:i=t),new li.y(r=>{let s=function y0(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Nv(n,t=um.z){return function g1(n){return(0,zi.e)((t,e)=>{let i=!1,r=null,s=null,l=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const v=r;r=null,e.next(v)}l&&e.complete()},m=()=>{s=null,l&&e.complete()};t.subscribe((0,Bn.x)(e,v=>{i=!0,r=v,s||(0,vl.Xf)(n(v)).subscribe(s=(0,Bn.x)(e,h,m))},()=>{l=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Ou(n,t))}let Lv=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new li.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Nv(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,pt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(An(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ns(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Dm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(c.R0b),c.LFG(Ei),c.LFG(de,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$i=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Lt.x,this._elementScrolled=new li.y(l=>this.ngZone.runOutsideAngular(()=>Dm(this.elementRef.nativeElement,"scroll").pipe(an(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Qp()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Qp()?e.left=e.right:1==Qp()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;pI()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?r:i:"end"==e&&(e=l?i:r),l&&2==Qp()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==Qp()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(Lv),c.Y36(c.R0b),c.Y36(md,8))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),Bv=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Lt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Nv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Ei),c.LFG(c.R0b),c.LFG(de,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({})}return n})(),Vv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[$h,Xh,$h,Xh]})}return n})();var ma=V(3019);class Uv{}class b0{}const os="*";function pa(n,t){return{type:7,name:n,definitions:t,options:{}}}function Wr(n,t=null){return{type:4,styles:t,timings:n}}function za(n,t=null){return{type:2,steps:n,options:t}}function nn(n){return{type:6,styles:n,offset:null}}function Sr(n,t,e){return{type:0,name:n,styles:t,options:e}}function Tr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class yg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class w0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const zv=["*"],wD=["content"];function xD(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Gv(n,t){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const x1=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],CD=["mat-drawer","mat-drawer-content","*"];function ED(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function ID(n,t){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const C1=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],E1=["mat-sidenav","mat-sidenav-content","*"],bg={transformDrawer:pa("transform",[Sr("open, open-instant",nn({transform:"none",visibility:"visible"})),Sr("void",nn({"box-shadow":"none",visibility:"hidden"})),Tr("void => open-instant",Wr("0ms")),Tr("void <=> open, open-instant => void",Wr("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},DD=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function SD(){return!1}}),$v=new c.OlP("MAT_DRAWER_CONTAINER");let wg=(()=>{class n extends $i{constructor(e,i,r,s,l){super(r,s,l),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>I0)),c.Y36(c.SBq),c.Y36(Lv),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&c.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[c._Bn([{provide:$i,useExisting:n}]),c.qOj],ngContentSelectors:zv,decls:1,vars:0,template:function(i,r){1&i&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0})}return n})(),E0=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=jt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=jt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(jt(e))}constructor(e,i,r,s,l,h,m,v){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=l,this._interactivityChecker=h,this._doc=m,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Lt.x,this._animationEnd=new Lt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(An(w=>w),(0,ht.U)(()=>{})),this.openedStart=this._animationStarted.pipe(An(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),Ba(void 0)),this._closedStream=this.openedChange.pipe(An(w=>!w),(0,ht.U)(()=>{})),this.closedStart=this._animationStarted.pipe(An(w=>w.fromState!==w.toState&&"void"===w.toState),Ba(void 0)),this._destroyed=new Lt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new Lt.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Dm(this._elementRef.nativeElement,"keydown").pipe(An(w=>27===w.keyCode&&!this.disableClose&&!Tu(w)),an(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe((0,og.x)((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{const{fromState:T,toState:O}=w;(0===O.indexOf("open")&&"void"===T||"void"===O&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(ti(1)).subscribe(l=>s(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(NR),c.Y36(Gh),c.Y36(Ei),c.Y36(c.R0b),c.Y36(MI),c.Y36(de,8),c.Y36($v,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&c.Gf(wD,5),2&i){let s;c.iGM(s=c.CRH())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&c.WFA("@transform.start",function(l){return r._animationStarted.next(l)})("@transform.done",function(l){return r._animationEnd.next(l)}),2&i&&(c.uIk("align",null),c.d8E("@transform",r._animationState),c.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:zv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[$i],encapsulation:2,data:{animation:[bg.transformDrawer]},changeDetection:0})}return n})(),I0=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=jt(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=null==e?null:jt(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,s,l,h=!1,m){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=m,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new Lt.x,this._doCheckSubject=new Lt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Lt.x,e&&e.change.pipe(an(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(an(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe(Lr(this._allDrawers),an(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Lr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Zp(10),an(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(An(i=>i.fromState!==i.toState),an(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(an(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(an(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ti(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(an((0,ma.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return null!=e&&e.opened}_drawerHasBackdrop(e){return null==this._backdropOverride?!!e&&"side"!==e.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(md,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(Bv),c.Y36(DD),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,s){if(1&i&&(c.Suo(s,wg,5),c.Suo(s,E0,5)),2&i){let l;c.iGM(l=c.CRH())&&(r._content=l.first),c.iGM(l=c.CRH())&&(r._allDrawers=l)}},viewQuery:function(i,r){if(1&i&&c.Gf(wg,5),2&i){let s;c.iGM(s=c.CRH())&&(r._userContent=s.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&c.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:$v,useExisting:n}])],ngContentSelectors:CD,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(c.F$t(x1),c.YNc(0,xD,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,Gv,2,0,"mat-drawer-content",1)),2&i&&(c.Q6J("ngIf",r.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!r._content))},dependencies:[Pr,wg],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),qv=(()=>{class n extends wg{constructor(e,i,r,s,l){super(e,i,r,s,l)}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>AD)),c.Y36(c.SBq),c.Y36(Lv),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&c.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[c._Bn([{provide:$i,useExisting:n}]),c.qOj],ngContentSelectors:zv,decls:1,vars:0,template:function(i,r){1&i&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0})}return n})(),TD=(()=>{class n extends E0{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=jt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Al(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Al(e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(c.uIk("align",null),c.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:zv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[$i],encapsulation:2,data:{animation:[bg.transformDrawer]},changeDetection:0})}return n})(),AD=(()=>{class n extends I0{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,s){if(1&i&&(c.Suo(s,qv,5),c.Suo(s,TD,5)),2&i){let l;c.iGM(l=c.CRH())&&(r._content=l.first),c.iGM(l=c.CRH())&&(r._allDrawers=l)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&c.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:$v,useExisting:n}]),c.qOj],ngContentSelectors:E1,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(c.F$t(C1),c.YNc(0,ED,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,ID,2,0,"mat-sidenav-content",1)),2&i&&(c.Q6J("ngIf",r.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!r._content))},dependencies:[Pr,qv],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),D1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[_n,In,Xh,Xh,In]})}return n})();class D0{}class _d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof _d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new _d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof _d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class S1{encodeKey(t){return MD(t)}encodeValue(t){return MD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const A1=/%(\d[a-f0-9])/gi,k1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MD(n){return encodeURIComponent(n).replace(A1,(t,e)=>k1[e]??t)}function Wv(n){return`${n}`}class Pu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new S1,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function T1(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],m=e.get(l)||[];m.push(h),e.set(l,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Wv):[Wv(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Pu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Wv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Wv(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class M1{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function T0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function A0(n){return typeof Blob<"u"&&n instanceof Blob}function k0(n){return typeof FormData<"u"&&n instanceof FormData}class km{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function R1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new _d),this.context||(this.context=new M1),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+l}}else this.params=new Pu,this.urlWithParams=e}serializeBody(){return null===this.body?null:T0(this.body)||A0(this.body)||k0(this.body)||function RD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||k0(this.body)?null:A0(this.body)?this.body.type||null:T0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,v=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((T,O)=>T.set(O,t.setHeaders[O]),m)),t.setParams&&(v=Object.keys(t.setParams).reduce((T,O)=>T.set(O,t.setParams[O]),v)),new km(e,i,s,{params:v,headers:m,context:w,reportProgress:h,responseType:r,withCredentials:l})}}var Yv=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Yv||{});class OD{constructor(t,e=200,i="OK"){this.headers=t.headers||new _d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Mm extends OD{constructor(t={}){super(t),this.type=Yv.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Mm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function xg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vd=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof km)s=e;else{let m,v;m=r.headers instanceof _d?r.headers:new _d(r.headers),r.params&&(v=r.params instanceof Pu?r.params:new Pu({fromObject:r.params})),s=new km(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,pt.of)(s).pipe(aa(m=>this.handler.handle(m)));if(e instanceof km||"events"===r.observe)return l;const h=l.pipe(An(m=>m instanceof Mm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,ht.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Pu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,xg(r,i))}post(e,i,r={}){return this.request("POST",e,xg(r,i))}put(e,i,r={}){return this.request("PUT",e,xg(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(D0))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();const Dg=["*"];let Qv;function Sg(n){return function J1(){if(void 0===Qv&&(Qv=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Qv=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Qv}()?.createHTML(n)||n}function $D(n){return Error(`Unable to find icon with the name "${n}"`)}function qD(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function L0(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ef{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Xv=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new ef(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const l=this._sanitizer.sanitize(c.q3G.HTML,r);if(!l)throw L0(r);const h=Sg(l);return this._addSvgIconConfig(e,i,new ef("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new ef(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(c.q3G.HTML,i);if(!s)throw L0(i);const l=Sg(s);return this._addSvgIconSetConfig(e,new ef("",l,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw qD(e);const r=this._cachedIconsByUrl.get(i);return r?(0,pt.of)(Ag(r)):this._loadSvgIconFromConfig(new ef(e,null)).pipe((0,qn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,ht.U)(s=>Ag(s)))}getNamedSvgIcon(e,i=""){const r=WD(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(e,l):ac($D(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,pt.of)(Ag(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ht.U)(i=>Ag(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,pt.of)(r):function kD(...n){const t=(0,Rs.jO)(n),{args:e,keys:i}=ei(n),r=new li.y(s=>{const{length:l}=e;if(!l)return void s.complete();const h=new Array(l);let m=l,v=l;for(let w=0;w<l;w++){let T=!1;(0,vl.Xf)(e[w]).subscribe((0,Bn.x)(s,O=>{T||(T=!0,v--),h[w]=O},()=>m--,void 0,()=>{(!m||!T)&&(v||s.next(i?Js(i,h):h),s.complete())}))}});return t?r.pipe(pl(t)):r}(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Ps(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,l.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),(0,pt.of)(null)})))).pipe((0,ht.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,i);if(!l)throw $D(e);return l}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(l,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,qn.b)(i=>e.svgText=i),(0,ht.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,pt.of)(null):this._fetchIcon(e).pipe((0,qn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const h=this._svgElementFromString(Sg("<svg></svg>"));return h.appendChild(l),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Sg("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:l,value:h}=r[s];"id"!==l&&i.setAttribute(l,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function JU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!l)throw qD(i);const h=this._inProgressUrlFetches.get(l);if(h)return h;const m=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,ht.U)(v=>Sg(v)),Va(()=>this._inProgressUrlFetches.delete(l)),(0,eg.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(WD(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return YD(s)?new ef(s.url,null,s.options):new ef(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(vd,8),c.LFG(Ms),c.LFG(de,8),c.LFG(c.qLn))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ag(n){return n.cloneNode(!0)}function WD(n,t){return n+":"+t}function YD(n){return!(!n.url||!n.options)}const eO=cg(class{constructor(n){this._elementRef=n}}),KD=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),tO=new c.OlP("mat-icon-location",{providedIn:"root",factory:function B0(){const n=(0,c.f3M)(de),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),ZD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QD=ZD.map(n=>`[${n}]`).join(", "),XD=/^url\(['"]?#(.*?)['"]?\)$/;let JD=(()=>{class n extends eO{get inline(){return this._inline}set inline(e){this._inline=jt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,l,h){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=eo.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(QD),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)ZD.forEach(l=>{const h=i[s],m=h.getAttribute(l),v=m?m.match(XD):null;if(v){let w=r.get(h);w||(w=[],r.set(h,w)),w.push({name:l,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ti(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(Xv),c.$8M("aria-hidden"),c.Y36(tO),c.Y36(c.qLn),c.Y36(KD,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(c.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),c.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:Dg,decls:1,vars:0,template:function(i,r){1&i&&(c.F$t(),c.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),nO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,In]})}return n})(),iO=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=jt(e)}get inset(){return this._inset}set inset(e){this._inset=jt(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(c.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),c.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),Jv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,In]})}return n})();const _a=new c.OlP("NgValueAccessor"),Sy=["*"],gx='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',Lg=["unscopedContent"],KO=["text"],wH=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],xH=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],jS=new c.OlP("ListOption");let zS=(()=>{class n{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),GS=(()=>{class n{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),lP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),$S=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(jS,8))};static#t=this.\u0275dir=c.lG2({type:n,hostVars:4,hostBindings:function(i,r){2&i&&c.ekj("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),cP=(()=>{class n extends $S{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[c.qOj]})}return n})(),dP=(()=>{class n extends $S{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[c.qOj]})}return n})();const uP=new c.OlP("MAT_LIST_CONFIG");let wd=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,c.f3M)(uP,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=jt(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=jt(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=c.lG2({type:n,hostVars:1,hostBindings:function(i,r){2&i&&c.uIk("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),Vg=(()=>{class n{set lines(e){this._explicitLines=Al(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=jt(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=jt(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,s,l,h){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new eo.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=l||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===h,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new wc(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,ma.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const s=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",s),r.classList.toggle("mdc-list-item__secondary-text",!s)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(wd,8),c.Y36(Ei),c.Y36(Ru,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:n,contentQueries:function(i,r,s){if(1&i&&(c.Suo(s,cP,4),c.Suo(s,dP,4)),2&i){let l;c.iGM(l=c.CRH())&&(r._avatars=l),c.iGM(l=c.CRH())&&(r._icons=l)}},hostVars:4,hostBindings:function(i,r){2&i&&(c.uIk("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),c.ekj("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),qS=(()=>{class n extends wd{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[c._Bn([{provide:wd,useExisting:n}]),c.qOj],ngContentSelectors:Sy,decls:1,vars:0,template:function(i,r){1&i&&(c.F$t(),c.Hsn(0))},styles:[gx],encapsulation:2,changeDetection:0})}return n})(),fP=(()=>{class n extends Vg{get activated(){return this._activated}set activated(e){this._activated=jt(e)}constructor(e,i,r,s,l,h){super(e,i,r,s,l,h),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(wd,8),c.Y36(Ei),c.Y36(Ru,8),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,s){if(1&i&&(c.Suo(s,GS,5),c.Suo(s,zS,5),c.Suo(s,lP,5)),2&i){let l;c.iGM(l=c.CRH())&&(r._lines=l),c.iGM(l=c.CRH())&&(r._titles=l),c.iGM(l=c.CRH())&&(r._meta=l)}},viewQuery:function(i,r){if(1&i&&(c.Gf(Lg,5),c.Gf(KO,5)),2&i){let s;c.iGM(s=c.CRH())&&(r._unscopedContent=s.first),c.iGM(s=c.CRH())&&(r._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,r){2&i&&(c.uIk("aria-current",r._getAriaCurrent()),c.ekj("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:xH,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,r){1&i&&(c.F$t(wH),c.Hsn(0),c.TgZ(1,"span",0),c.Hsn(2,1),c.Hsn(3,2),c.TgZ(4,"span",1,2),c.NdJ("cdkObserveContent",function(){return r._updateItemLines(!0)}),c.Hsn(6,3),c.qZA()(),c.Hsn(7,4),c.Hsn(8,5),c._UZ(9,"div",3))},dependencies:[TI],encapsulation:2,changeDetection:0})}return n})(),YS=(()=>{class n extends wd{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[c._Bn([{provide:wd,useExisting:n}]),c.qOj],ngContentSelectors:Sy,decls:1,vars:0,template:function(i,r){1&i&&(c.F$t(),c.Hsn(0))},styles:[gx],encapsulation:2,changeDetection:0})}return n})(),KS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[Gw,_n,In,Cm,o0,Jv]})}return n})();function yx(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(){c.CHM(e),c.oxw();const r=c.MAs(2);return c.KtG(r.toggle())}),c.TgZ(1,"mat-icon",7),c._uU(2,"menu"),c.qZA()()}}const bx=function(){return["/categoria/lista"]};let gP=(()=>{class n{constructor(){this.breakpointObserver=(0,c.f3M)(Hh),this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,ht.U)(e=>e.matches),jh())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["app-navigation"]],decls:18,vars:15,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","",3,"routerLink","routerLinkActive"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(i,r){1&i&&(c.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),c.ALo(3,"async"),c.ALo(4,"async"),c.ALo(5,"async"),c.TgZ(6,"mat-toolbar"),c._uU(7,"Menu"),c.qZA(),c.TgZ(8,"mat-nav-list")(9,"a",3),c._uU(10,"Categorias"),c.qZA()()(),c.TgZ(11,"mat-sidenav-content")(12,"mat-toolbar",4),c.YNc(13,yx,3,0,"button",5),c.ALo(14,"async"),c.TgZ(15,"span"),c._uU(16,"menuDigital"),c.qZA()(),c._UZ(17,"router-outlet"),c.qZA()()),2&i&&(c.xp6(1),c.Q6J("mode",c.lcZ(4,8,r.isHandset$)?"over":"side")("opened",!1===c.lcZ(5,10,r.isHandset$)),c.uIk("role",c.lcZ(3,6,r.isHandset$)?"dialog":"navigation"),c.xp6(8),c.Q6J("routerLink",c.DdM(14,bx))("routerLinkActive","active-link"),c.xp6(4),c.Q6J("ngIf",c.lcZ(14,12,r.isHandset$)))},dependencies:[Pr,wu,Cw,dv,fg,sD,TD,AD,qv,JD,YS,fP,Sa],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.active-link[_ngcontent-%COMP%]{background-color:gray}"]})}return n})();var Wn=V(2793);function Ay(){return(0,zi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Bn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var ft,Yr=V(6304),ZS=(V(8977),V(3399)),Re=V(5861),xd=V(7592),Ml=V(4537),va=V(7879),H=V(9058),QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xc={},ky=ky||{},rn=QS||self;function My(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Lm(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Uu="closure_uid_"+(1e9*Math.random()>>>0),Ry=0;function JS(n,t,e){return n.call.apply(n.bind,arguments)}function eT(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ls(n,t,e){return(Ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JS:eT).apply(null,arguments)}function Oy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ws(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return t.prototype[r].apply(i,l)}}function Cd(){this.s=this.s,this.o=this.o}Cd.prototype.s=!1,Cd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XS(n){Object.prototype.hasOwnProperty.call(n,Uu)&&n[Uu]||(n[Uu]=++Ry)}(this)},Cd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tT=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function nT(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function vP(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(My(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function lo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}lo.prototype.h=function(){this.defaultPrevented=!0};var iT=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rn.addEventListener("test",()=>{},t),rn.removeEventListener("test",()=>{},t)}catch{}return n}();function Ug(n){return/^[\s\xa0]*$/.test(n)}function Py(){var n=rn.navigator;return n&&(n=n.userAgent)?n:""}function Cc(n){return-1!=Py().indexOf(n)}function rT(n){return rT[" "](n),n}rT[" "]=function(){};var Fy,n,AH=Cc("Opera"),Hg=Cc("Trident")||Cc("MSIE"),yP=Cc("Edge"),wx=yP||Hg,jg=Cc("Gecko")&&!(-1!=Py().toLowerCase().indexOf("webkit")&&!Cc("Edge"))&&!(Cc("Trident")||Cc("MSIE"))&&!Cc("Edge"),bP=-1!=Py().toLowerCase().indexOf("webkit")&&!Cc("Edge");function sT(){var n=rn.document;return n?n.documentMode:void 0}e:{var Ed="",Ny=(n=Py(),jg?/rv:([^\);]+)(\)|;)/.exec(n):yP?/Edge\/([\d\.]+)/.exec(n):Hg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bP?/WebKit\/(\S+)/.exec(n):AH?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ny&&(Ed=Ny?Ny[1]:""),Hg){var zg=sT();if(null!=zg&&zg>parseFloat(Ed)){Fy=String(zg);break e}}Fy=Ed}var xx=rn.document&&Hg&&(sT()||parseInt(Fy,10))||void 0;function cf(n,t){if(lo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(jg){e:{try{rT(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ly[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&cf.$.h.call(this)}}ws(cf,lo);var Ly={2:"touch",3:"pen",4:"mouse"};cf.prototype.h=function(){cf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var By="closure_listenable_"+(1e6*Math.random()|0),kH=0;function MH(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++kH,this.fa=this.ia=!1}function $g(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Cx(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function aT(n){const t={};for(const e in n)t[e]=n[e];return t}const lT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ex(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<lT.length;s++)e=lT[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function qg(n){this.src=n,this.g={},this.h=0}function Vy(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=tT(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&($g(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Ix(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}qg.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=Ix(n,t,i,r);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new MH(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var Dx="closure_lm_"+(1e6*Math.random()|0),Uy={};function Hy(n,t,e,i,r){if(i&&i.once)return jy(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Hy(n,t[s],e,i,r);return null}return e=kx(e),n&&n[By]?n.O(t,e,Lm(i)?!!i.capture:!!i,r):xP(n,t,e,!1,i,r)}function xP(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var l=Lm(r)?!!r.capture:!!r,h=Tx(n);if(h||(n[Dx]=h=new qg(n)),(e=h.add(t,e,i,l,s)).proxy)return e;if(i=function cT(){const t=RH;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)iT||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(CP(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function jy(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)jy(n,t[s],e,i,r);return null}return e=kx(e),n&&n[By]?n.P(t,e,Lm(i)?!!i.capture:!!i,r):xP(n,t,e,!0,i,r)}function dT(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)dT(n,t[s],e,i,r);else i=Lm(i)?!!i.capture:!!i,e=kx(e),n&&n[By]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Ix(s=n.g[t],e,i,r))&&($g(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=Tx(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Ix(t,e,i,r)),(e=-1<n?t[n]:null)&&Sx(e))}function Sx(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[By])Vy(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(CP(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Tx(t))?(Vy(e,n),0==e.h&&(e.src=null,t[Dx]=null)):$g(n)}}}function CP(n){return n in Uy?Uy[n]:Uy[n]="on"+n}function RH(n,t){if(n.fa)n=!0;else{t=new cf(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Sx(n),n=e.call(i,t)}return n}function Tx(n){return(n=n[Dx])instanceof qg?n:null}var Ax="__closure_events_fn_"+(1e9*Math.random()>>>0);function kx(n){return"function"==typeof n?n:(n[Ax]||(n[Ax]=function(t){return n.handleEvent(t)}),n[Ax])}function ls(){Cd.call(this),this.i=new qg(this),this.S=this,this.J=null}function cs(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new lo(t,n);else if(t instanceof lo)t.target=t.target||n;else{var r=t;Ex(t=new lo(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var l=t.g=e[s];r=Wg(l,i,!0,t)&&r}if(r=Wg(l=t.g=n,i,!0,t)&&r,r=Wg(l,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Wg(l=t.g=e[s],i,!1,t)&&r}function Wg(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var l=t[s];if(l&&!l.fa&&l.capture==e){var h=l.listener,m=l.la||l.src;l.ia&&Vy(n.i,l),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}ws(ls,Cd),ls.prototype[By]=!0,ls.prototype.removeEventListener=function(n,t,e,i){dT(this,n,t,e,i)},ls.prototype.N=function(){if(ls.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)$g(e[i]);delete n.g[t],n.h--}}this.J=null},ls.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ls.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Mx=rn.JSON.stringify;function hT(){var n=Ox;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var fT=new class uT{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Rx,n=>n.reset());class Rx{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function mT(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function pT(n){rn.setTimeout(()=>{throw n},0)}let Yg,Hu=!1,Ox=new class OH{constructor(){this.h=this.g=null}add(t,e){const i=fT.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},gT=()=>{const n=rn.Promise.resolve(void 0);Yg=()=>{n.then(_T)}};var _T=()=>{for(var n;n=hT();){try{n.h.call(n.g)}catch(e){pT(e)}var t=fT;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Hu=!1};function Kg(n,t){ls.call(this),this.h=n||1,this.g=t||rn,this.j=Ls(this.qb,this),this.l=Date.now()}function vT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Px(n,t,e){if("function"==typeof n)e&&(n=Ls(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ls(n.handleEvent,n)}return 2147483647<Number(t)?-1:rn.setTimeout(n,t||0)}function EP(n){n.g=Px(()=>{n.g=null,n.i&&(n.i=!1,EP(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ws(Kg,ls),(ft=Kg.prototype).ga=!1,ft.T=null,ft.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cs(this,"tick"),this.ga&&(vT(this),this.start()))}},ft.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.N=function(){Kg.$.N.call(this),vT(this),delete this.g};class IP extends Cd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:EP(this)}N(){super.N(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zy(n){Cd.call(this),this.h=n,this.g={}}ws(zy,Cd);var DP=[];function yT(n,t,e,i){Array.isArray(e)||(e&&(DP[0]=e.toString()),e=DP);for(var r=0;r<e.length;r++){var s=Hy(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function bT(n){Cx(n.g,function(t,e){this.g.hasOwnProperty(e)&&Sx(t)},n),n.g={}}function Fx(){this.g=!0}function Zg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function SP(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return Mx(e)}catch{return t}}(n,e)+(i?" "+i:"")})}zy.prototype.N=function(){zy.$.N.call(this),bT(this)},zy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fx.prototype.Ea=function(){this.g=!1},Fx.prototype.info=function(){};var Bm={},TP=null;function Nx(){return TP=TP||new ls}function AP(n){lo.call(this,Bm.Ta,n)}function Gy(n){const t=Nx();cs(t,new AP(t))}function wT(n,t){lo.call(this,Bm.STAT_EVENT,n),this.stat=t}function Po(n){const t=Nx();cs(t,new wT(t,n))}function o(n,t){lo.call(this,Bm.Ua,n),this.size=t}function a(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){n()},t)}Bm.Ta="serverreachability",ws(AP,lo),Bm.STAT_EVENT="statevent",ws(wT,lo),Bm.Ua="timingevent",ws(o,lo);var d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},u={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function f(){}function y(){}f.prototype.h=null;var N,C={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function D(){lo.call(this,"d")}function R(){lo.call(this,"c")}function G(){}function te(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new zy(this),this.P=Pe,this.V=new Kg(n=wx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}ws(D,lo),ws(R,lo),ws(G,f),G.prototype.g=function(){return new XMLHttpRequest},G.prototype.i=function(){return{}},N=new G;var Pe=45e3,Ke={},dt={};function Rt(n,t,e){n.L=1,n.v=ET(hf(t)),n.s=e,n.S=!0,ze(n,null)}function ze(n,t){n.G=Date.now(),ds(n),n.A=hf(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),zH(e.i,"t",i),n.C=0,e=n.l.J,n.h=new ce,n.g=m3(n.l,e?t:null,!n.s),0<n.O&&(n.M=new IP(Ls(n.Pa,n,n.g),n.O)),yT(n.U,n.g,"readystatechange",n.nb),t=n.I?aT(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Gy(),function PH(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",h=s.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var w=v[0];v=v[1];var T=w.split("_");l=2<=T.length&&"type"==T[1]?l+(w+"=")+v+"&":l+(w+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Xt(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function yn(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=oi(n,e),r==dt){4==t&&(n.o=4,Po(14),i=!1),Zg(n.j,n.m,null,"[Incomplete Response]");break}if(r==Ke){n.o=4,Po(15),Zg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Zg(n.j,n.m,r,null),Lx(n,r)}Xt(n)&&r!=dt&&r!=Ke&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Po(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),NP(t),t.M=!0,Po(11))):(Zg(n.j,n.m,e,"[Invalid Chunked Response]"),uf(n),df(n))}function oi(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?dt:(e=Number(t.substring(e,i)),isNaN(e)?Ke:(i+=1)+e>t.length?dt:(t=t.slice(i,i+e),n.C=i+e,t))}function ds(n){n.Y=Date.now()+n.P,Ec(n,n.P)}function Ec(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=a(Ls(n.lb,n),t)}function Id(n){n.B&&(rn.clearTimeout(n.B),n.B=null)}function df(n){0==n.l.H||n.J||d3(n.l,n)}function uf(n){Id(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,vT(n.V),bT(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function Lx(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||kP(e.i,n)))if(!n.K&&kP(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;kT(e),TT(e)}FP(e),Po(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=a(Ls(e.ib,e),6e3));if(1>=qH(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Xg(e,11)}else if((n.K||e.g==n)&&kT(e),!Ug(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.V=v[0],v=v[1],2==e.H)if("c"==v[0]){e.K=v[1],e.pa=v[2];const w=v[3];null!=w&&(e.ra=w,e.l.info("VER="+e.ra));const T=v[4];null!=T&&(e.Ga=T,e.l.info("SVER="+e.Ga));const O=v[5];null!=O&&"number"==typeof O&&0<O&&(e.L=i=1.5*O,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var s=i.i;s.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(MP(s,s.h),s.h=null))}if(i.F){const Z=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(i.Da=Z,qi(i.I,i.F,Z))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((i=e).wa=f3(i,i.J?i.pa:null,i.Y),l.K){WH(i.i,l);var h=l,m=i.L;m&&h.setTimeout(m),h.B&&(Id(h),ds(h)),i.g=l}else l3(i);0<e.j.length&&AT(e)}else"stop"!=v[0]&&"close"!=v[0]||Xg(e,7);else 3==e.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Xg(e,7):PP(e):"noop"!=v[0]&&e.h&&e.h.Aa(v),e.A=0)}Gy()}catch{}}function LH(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(My(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function bW(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(My(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function yW(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(My(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(ft=te.prototype).setTimeout=function(n){this.P=n},ft.nb=function(n){n=n.target;const t=this.M;t&&3==ju(n)?t.l():this.Pa(n)},ft.Pa=function(n){try{if(n==this.g)e:{const w=ju(this.g);var t=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||wx||this.g&&(this.h.h||this.g.ja()||t3(this.g)))){this.J||4!=w||7==t||Gy(),Id(this);var e=this.g.da();this.ca=e;t:if(Xt(this)){var i=t3(this.g);n="";var r=i.length,s=4==ju(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uf(this),df(this);var l="";break t}this.h.i=new rn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function FH(n,t,e,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,w,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ug(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Po(12),uf(this),df(this);break e}Zg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lx(this,e)}this.S?(yn(this,w,l),wx&&this.i&&3==w&&(yT(this.U,this.V,"tick",this.mb),this.V.start())):(Zg(this.j,this.m,l,null),Lx(this,l)),4==w&&uf(this),this.i&&!this.J&&(4==w?d3(this.l,this):(this.i=!1,ds(this)))}else(function BW(n){const t={};n=(n.g&&2<=ju(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Ug(n[i]))continue;var e=mT(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function wP(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,Po(12)):(this.o=0,Po(13)),uf(this),df(this)}}}catch{}},ft.mb=function(){if(this.g){var n=ju(this.g),t=this.g.ja();this.C<t.length&&(Id(this),yn(this,n,t),this.i&&4!=n&&ds(this))}},ft.cancel=function(){this.J=!0,uf(this)},ft.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function NH(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Gy(),Po(17)),uf(this),this.o=2,df(this)):Ec(this,this.Y-n)};var BH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Qg){this.h=n.h,xT(this,n.j),this.s=n.s,this.g=n.g,CT(this,n.m),this.l=n.l;var t=n.i,e=new Ux;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),VH(this,e),this.o=n.o}else n&&(t=String(n).match(BH))?(this.h=!1,xT(this,t[1]||"",!0),this.s=Bx(t[2]||""),this.g=Bx(t[3]||"",!0),CT(this,t[4]),this.l=Bx(t[5]||"",!0),VH(this,t[6]||"",!0),this.o=Bx(t[7]||"")):(this.h=!1,this.i=new Ux(null,this.h))}function hf(n){return new Qg(n)}function xT(n,t,e){n.j=e?Bx(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function CT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function VH(n,t,e){t instanceof Ux?(n.i=t,function SW(n,t){t&&!n.j&&(Vm(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(HH(this,i),zH(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Vx(t,IW)),n.i=new Ux(t,n.h))}function qi(n,t,e){n.i.set(t,e)}function ET(n){return qi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bx(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vx(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,xW),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xW(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Vx(t,UH,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Vx(t,UH,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Vx(e,"/"==e.charAt(0)?EW:CW,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Vx(e,DW)),n.join("")};var UH=/[#\/\?@]/g,CW=/[#\?:]/g,EW=/[#\?]/g,IW=/[#\?@]/g,DW=/#/g;function Ux(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Vm(n){n.g||(n.g=new Map,n.h=0,n.i&&function wW(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function HH(n,t){Vm(n),t=$y(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function jH(n,t){return Vm(n),t=$y(n,t),n.g.has(t)}function zH(n,t,e){HH(n,t),0<e.length&&(n.i=null,n.g.set($y(n,t),nT(e)),n.h+=e.length)}function $y(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function GH(n){this.l=n||AW,n=rn.PerformanceNavigationTiming?0<(n=rn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rn.g&&rn.g.Ka&&rn.g.Ka()&&rn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Ux.prototype).add=function(n,t){Vm(this),this.i=null,n=$y(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ft.forEach=function(n,t){Vm(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ft.ta=function(){Vm(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},ft.Z=function(n){Vm(this);let t=[];if("string"==typeof n)jH(this,n)&&(t=t.concat(this.g.get($y(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ft.set=function(n,t){return Vm(this),this.i=null,jH(this,n=$y(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ft.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var AW=10;function $H(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qH(n){return n.h?1:n.g?n.g.size:0}function kP(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function MP(n,t){n.g?n.g.add(t):n.h=t}function WH(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function YH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return nT(n.i)}GH.prototype.cancel=function(){if(this.i=YH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var kW=class{stringify(n){return rn.JSON.stringify(n,void 0)}parse(n){return rn.JSON.parse(n,void 0)}};function MW(){this.g=new kW}function RW(n,t,e){const i=e||"";try{LH(n,function(r,s){let l=r;Lm(r)&&(l=Mx(r)),t.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function IT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Hx(n){this.l=n.fc||null,this.j=n.ob||!1}function DT(n,t){ls.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=RP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ws(Hx,f),Hx.prototype.g=function(){return new DT(this.l,this.j)},Hx.prototype.i=function(n){return function(){return n}}({}),ws(DT,ls);var RP=0;function KH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jx(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zx(n)}function zx(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=DT.prototype).open=function(n,t){if(this.readyState!=RP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,zx(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||rn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jx(this)),this.readyState=RP},ft.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zx(this)),this.g&&(this.readyState=3,zx(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ft.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?jx(this):zx(this),3==this.readyState&&KH(this)}},ft.Za=function(n){this.g&&(this.response=this.responseText=n,jx(this))},ft.Ya=function(n){this.g&&(this.response=n,jx(this))},ft.ka=function(){this.g&&jx(this)},ft.setRequestHeader=function(n,t){this.v.append(n,t)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(DT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var PW=rn.JSON.parse;function Br(n){ls.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ZH,this.L=this.M=!1}ws(Br,ls);var ZH="",FW=/^https?$/i,NW=["POST","PUT"];function QH(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,XH(n),ST(n)}function XH(n){n.F||(n.F=!0,cs(n,"complete"),cs(n,"error"))}function JH(n){if(n.h&&typeof ky<"u"&&(!n.C[1]||4!=ju(n)||2!=n.da()))if(n.v&&4==ju(n))Px(n.La,0,n);else if(cs(n,"readystatechange"),4==ju(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.I).match(BH)[1]||null;!r&&rn.self&&rn.self.location&&(r=rn.self.location.protocol.slice(0,-1)),i=!FW.test(r?r.toLowerCase():"")}e=i}if(e)cs(n,"complete"),cs(n,"success");else{n.m=6;try{var s=2<ju(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",XH(n)}}finally{ST(n)}}}function ST(n,t){if(n.g){e3(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||cs(n,"ready");try{e.onreadystatechange=i}catch{}}}function e3(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(rn.clearTimeout(n.A),n.A=null)}function ju(n){return n.g?n.g.readyState:0}function t3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ZH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function n3(n){let t="";return Cx(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function OP(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=n3(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):qi(n,t,e))}function Gx(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function r3(n){this.Ga=0,this.j=[],this.l=new Fx,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gx("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gx("baseRetryDelayMs",5e3,n),this.hb=Gx("retryDelaySeedMs",1e4,n),this.eb=Gx("forwardChannelMaxRetries",2,n),this.xa=Gx("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new GH(n&&n.concurrentRequestLimit),this.Ja=new MW,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function PP(n){if(s3(n),3==n.H){var t=n.W++,e=hf(n.I);if(qi(e,"SID",n.K),qi(e,"RID",t),qi(e,"TYPE","terminate"),$x(n,e),(t=new te(n,n.l,t)).L=2,t.v=ET(hf(e)),e=!1,rn.navigator&&rn.navigator.sendBeacon)try{e=rn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&rn.Image&&((new Image).src=t.v,e=!0),e||(t.g=m3(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ds(t)}h3(n)}function TT(n){n.g&&(NP(n),n.g.cancel(),n.g=null)}function s3(n){TT(n),n.u&&(rn.clearTimeout(n.u),n.u=null),kT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rn.clearTimeout(n.m),n.m=null)}function AT(n){if(!$H(n.i)&&!n.m){n.m=!0;var t=n.Na;Yg||gT(),Hu||(Yg(),Hu=!0),Ox.add(t,n),n.C=0}}function o3(n,t){var e;e=t?t.m:n.W++;const i=hf(n.I);qi(i,"SID",n.K),qi(i,"RID",e),qi(i,"AID",n.V),$x(n,i),n.o&&n.s&&OP(i,n.o,n.s),e=new te(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=a3(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),MP(n.i,e),Rt(e,i,t)}function $x(n,t){n.na&&Cx(n.na,function(e,i){qi(t,i,e)}),n.h&&LH({},function(e,i){qi(t,i,e)})}function a3(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Ls(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+e];-1==s?0<e?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let m=0;m<e;m++){let v=r[m].g;const w=r[m].map;if(v-=s,0>v)s=Math.max(0,r[m].g-100),h=!1;else try{RW(w,l,"req"+v+"_")}catch{i&&i(w)}}if(h){i=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function l3(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Yg||gT(),Hu||(Yg(),Hu=!0),Ox.add(t,n),n.A=0}}function FP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=a(Ls(n.Ma,n),u3(n,n.A)),n.A++,0))}function NP(n){null!=n.B&&(rn.clearTimeout(n.B),n.B=null)}function c3(n){n.g=new te(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=hf(n.wa);qi(t,"RID","rpc"),qi(t,"SID",n.K),qi(t,"AID",n.V),qi(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&qi(t,"TO",n.qa),qi(t,"TYPE","xmlhttp"),$x(n,t),n.o&&n.s&&OP(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=ET(hf(t)),e.s=null,e.S=!0,ze(e,n)}function kT(n){null!=n.v&&(rn.clearTimeout(n.v),n.v=null)}function d3(n,t){var e=null;if(n.g==t){kT(n),NP(n),n.g=null;var i=2}else{if(!kP(n.i,t))return;e=t.F,WH(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;cs(i=Nx(),new o(i,e)),AT(n)}else l3(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function VW(n,t){return!(qH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=a(Ls(n.Na,n,t),u3(n,n.C)),n.C++,0)))}(n,t)||2==i&&FP(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Xg(n,5);break;case 4:Xg(n,10);break;case 3:Xg(n,6);break;default:Xg(n,2)}}function u3(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Xg(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Ls(n.pb,n);e||(e=new Qg("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||xT(e,"https"),ET(e)),function OW(n,t){const e=new Fx;if(rn.Image){const i=new Image;i.onload=Oy(IT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Oy(IT,e,i,"TestLoadImage: error",!1,t),i.onabort=Oy(IT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Oy(IT,e,i,"TestLoadImage: timeout",!1,t),rn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Po(2);n.H=0,n.h&&n.h.za(t),h3(n),s3(n)}function h3(n){if(n.H=0,n.ma=[],n.h){const t=YH(n.i);(0!=t.length||0!=n.j.length)&&(vP(n.ma,t),vP(n.ma,n.j),n.i.i.length=0,nT(n.j),n.j.length=0),n.h.ya()}}function f3(n,t,e){var i=e instanceof Qg?hf(e):new Qg(e);if(""!=i.g)t&&(i.g=t+"."+i.g),CT(i,i.m);else{var r=rn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Qg(null);i&&xT(s,i),t&&(s.g=t),r&&CT(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&qi(i,e,t),qi(i,"VER",n.ra),$x(n,i),i}function m3(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Br(e&&n.Ha&&!n.va?new Hx({ob:!0}):n.va)).Oa(n.J),t}function p3(){}function MT(){if(Hg&&!(10<=Number(xx)))throw Error("Environmental error: no available transport.")}function Rl(n,t){ls.call(this),this.g=new r3(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Ug(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ug(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new qy(this)}function g3(n){D.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function _3(){R.call(this),this.status=1}function qy(n){this.g=n}function Dd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function LP(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],l=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(l<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(t=e+((l=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function pi(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(ft=Br.prototype).Oa=function(n){this.M=n},ft.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():N.g(),this.C=function g(n){return n.h||(n.h=n.i())}(this.u?this.u:N),this.g.onreadystatechange=Ls(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void QH(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=rn.FormData&&n instanceof rn.FormData,!(0<=tT(NW,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of e)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{e3(this),0<this.B&&((this.L=function LW(n){return Hg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ls(this.ua,this)):this.A=Px(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){QH(this,s)}},ft.ua=function(){typeof ky<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cs(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cs(this,"complete"),cs(this,"abort"),ST(this))},ft.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ST(this,!0)),Br.$.N.call(this)},ft.La=function(){this.s||(this.G||this.v||this.l?JH(this):this.kb())},ft.kb=function(){JH(this)},ft.isActive=function(){return!!this.g},ft.da=function(){try{return 2<ju(this)?this.g.status:-1}catch{return-1}},ft.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),PW(t)}},ft.Ia=function(){return this.m},ft.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=r3.prototype).ra=8,ft.H=1,ft.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new te(this,this.l,n);let s=this.s;if(this.U&&(s?(s=aT(s),Ex(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=a3(this,r,t),qi(e=hf(this.I),"RID",n),qi(e,"CVER",22),this.F&&qi(e,"X-HTTP-Session-Id",this.F),$x(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(n3(s)))+"&"+t:this.o&&OP(e,this.o,s)),MP(this.i,r),this.bb&&qi(e,"TYPE","init"),this.P?(qi(e,"$req",t),qi(e,"SID","null"),r.aa=!0,Rt(r,e,null)):Rt(r,e,t),this.H=2}}else 3==this.H&&(n?o3(this,n):0==this.j.length||$H(this.i)||o3(this))},ft.Ma=function(){if(this.u=null,c3(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=a(Ls(this.jb,this),n)}},ft.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Po(10),TT(this),c3(this))},ft.ib=function(){null!=this.v&&(this.v=null,TT(this),FP(this),Po(19))},ft.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Po(2)):(this.l.info("Failed to ping google.com"),Po(1))},ft.isActive=function(){return!!this.h&&this.h.isActive(this)},(ft=p3.prototype).Ba=function(){},ft.Aa=function(){},ft.za=function(){},ft.ya=function(){},ft.isActive=function(){return!0},ft.Va=function(){},MT.prototype.g=function(n,t){return new Rl(n,t)},ws(Rl,ls),Rl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Po(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=f3(n,null,n.Y),AT(n)},Rl.prototype.close=function(){PP(this.g)},Rl.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Mx(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&AT(t)},Rl.prototype.N=function(){this.g.h=null,delete this.j,PP(this.g),delete this.g,Rl.$.N.call(this)},ws(g3,D),ws(_3,R),ws(qy,p3),qy.prototype.Ba=function(){cs(this.g,"a")},qy.prototype.Aa=function(n){cs(this.g,new g3(n))},qy.prototype.za=function(n){cs(this.g,new _3)},qy.prototype.ya=function(){cs(this.g,"b")},ws(Dd,function UW(){this.blockSize=-1}),Dd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Dd.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)LP(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){LP(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){LP(this,i),r=0;break}}this.h=r,this.i+=t},Dd.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var HW={};function BP(n){return-128<=n&&128>n?function TH(n,t){var e=HW;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new pi([0|t],0>t?-1:0)}):new pi([0|n],0>n?-1:0)}function zu(n){if(isNaN(n)||!isFinite(n))return Wy;if(0>n)return co(zu(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=VP;return new pi(t,0)}var VP=4294967296,Wy=BP(0),UP=BP(1),y3=BP(16777216);function ff(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ic(n){return-1==n.h}function co(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new pi(e,~n.h).add(UP)}function RT(n,t){return n.add(co(t))}function OT(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function qx(n,t){this.g=n,this.h=t}function PT(n,t){if(ff(t))throw Error("division by zero");if(ff(n))return new qx(Wy,Wy);if(Ic(n))return t=PT(co(n),t),new qx(co(t.g),co(t.h));if(Ic(t))return t=PT(n,co(t)),new qx(co(t.g),t.h);if(30<n.g.length){if(Ic(n)||Ic(t))throw Error("slowDivide_ only works with positive integers.");for(var e=UP,i=t;0>=i.X(n);)e=b3(e),i=b3(i);var r=Yy(e,1),s=Yy(i,1);for(i=Yy(i,2),e=Yy(e,2);!ff(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(e),s=l),i=Yy(i,1),e=Yy(e,1)}return t=RT(n,r.R(t)),new qx(r,t)}for(r=Wy;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),l=(s=zu(e)).R(t);Ic(l)||0<l.X(n);)l=(s=zu(e-=i)).R(t);ff(s)&&(s=UP),r=r.add(s),n=RT(n,l)}return new qx(r,n)}function b3(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new pi(e,n.h)}function Yy(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new pi(r,n.h)}(ft=pi.prototype).ea=function(){if(Ic(this))return-co(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:VP+i)*t,t*=VP}return n},ft.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ff(this))return"0";if(Ic(this))return"-"+co(this).toString(n);for(var t=zu(Math.pow(n,6)),e=this,i="";;){var r=PT(e,t).g,s=((0<(e=RT(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(ff(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},ft.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ft.X=function(n){return Ic(n=RT(this,n))?-1:ff(n)?0:1},ft.abs=function(){return Ic(this)?co(this):this},ft.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,e[r]=(l&=65535)<<16|(s&=65535)}return new pi(e,-2147483648&e[e.length-1]?-1:0)},ft.R=function(n){if(ff(this)||ff(n))return Wy;if(Ic(this))return Ic(n)?co(this).R(co(n)):co(co(this).R(n));if(Ic(n))return co(this.R(co(n)));if(0>this.X(y3)&&0>n.X(y3))return zu(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),h=n.D(r)>>>16,m=65535&n.D(r);e[2*i+2*r]+=l*m,OT(e,2*i+2*r),e[2*i+2*r+1]+=s*m,OT(e,2*i+2*r+1),e[2*i+2*r+1]+=l*h,OT(e,2*i+2*r+1),e[2*i+2*r+2]+=s*h,OT(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new pi(e,0)},ft.gb=function(n){return PT(this,n).h},ft.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new pi(e,this.h&n.h)},ft.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new pi(e,this.h|n.h)},ft.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new pi(e,this.h^n.h)},MT.prototype.createWebChannel=MT.prototype.g,Rl.prototype.send=Rl.prototype.u,Rl.prototype.open=Rl.prototype.m,Rl.prototype.close=Rl.prototype.close,d.NO_ERROR=0,d.TIMEOUT=8,d.HTTP_ERROR=6,u.COMPLETE="complete",y.EventType=C,C.OPEN="a",C.CLOSE="b",C.ERROR="c",C.MESSAGE="d",ls.prototype.listen=ls.prototype.O,Br.prototype.listenOnce=Br.prototype.P,Br.prototype.getLastError=Br.prototype.Sa,Br.prototype.getLastErrorCode=Br.prototype.Ia,Br.prototype.getStatus=Br.prototype.da,Br.prototype.getResponseJson=Br.prototype.Wa,Br.prototype.getResponseText=Br.prototype.ja,Br.prototype.send=Br.prototype.ha,Br.prototype.setWithCredentials=Br.prototype.Oa,Dd.prototype.digest=Dd.prototype.l,Dd.prototype.reset=Dd.prototype.reset,Dd.prototype.update=Dd.prototype.j,pi.prototype.add=pi.prototype.add,pi.prototype.multiply=pi.prototype.R,pi.prototype.modulo=pi.prototype.gb,pi.prototype.compare=pi.prototype.X,pi.prototype.toNumber=pi.prototype.ea,pi.prototype.toString=pi.prototype.toString,pi.prototype.getBits=pi.prototype.D,pi.fromNumber=zu,pi.fromString=function v3(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return co(v3(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=zu(Math.pow(t,8)),i=Wy,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),t);8>s?(s=zu(Math.pow(t,s)),i=i.R(s).add(zu(l))):i=(i=i.R(e)).add(zu(l))}return i};var jW=xc.createWebChannelTransport=function(){return new MT},zW=xc.getStatEventTarget=function(){return Nx()},HP=xc.ErrorCode=d,GW=xc.EventType=u,$W=xc.Event=Bm,w3=xc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qW=xc.FetchXmlHttpFactory=Hx,FT=xc.WebChannel=y,WW=xc.XhrIo=Br,YW=xc.Md5=Dd,Ky=xc.Integer=pi;const x3="@firebase/firestore";class Bs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bs.UNAUTHENTICATED=new Bs(null),Bs.GOOGLE_CREDENTIALS=new Bs("google-credentials-uid"),Bs.FIRST_PARTY=new Bs("first-party-uid"),Bs.MOCK_USER=new Bs("mock-user");let Zy="9.23.0";const Um=new va.Yd("@firebase/firestore");function jP(){return Um.logLevel}function Qe(n,...t){if(Um.logLevel<=va.in.DEBUG){const e=t.map(zP);Um.debug(`Firestore (${Zy}): ${n}`,...e)}}function Kr(n,...t){if(Um.logLevel<=va.in.ERROR){const e=t.map(zP);Um.error(`Firestore (${Zy}): ${n}`,...e)}}function Dc(n,...t){if(Um.logLevel<=va.in.WARN){const e=t.map(zP);Um.warn(`Firestore (${Zy}): ${n}`,...e)}}function zP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const t=`FIRESTORE (${Zy}) INTERNAL ASSERTION FAILED: `+n;throw Kr(t),new Error(t)}function Ft(n,t){n||Dt()}function gt(n,t){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends H.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class C3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bs.UNAUTHENTICATED))}shutdown(){}}class XW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class JW{constructor(t){this.t=t,this.currentUser=Bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let l=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xs,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=l;t.enqueueRetryable((0,Re.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},m=v=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xs)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new C3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ft(null===t||"string"==typeof t),new Bs(t)}}class e9{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Bs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class t9{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new e9(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n9{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ft("string"==typeof e.token),this.T=e.token,new E3(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function i9(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class I3{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=i9(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function ln(n,t){return n<t?-1:n>t?1:0}function Qy(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function D3(n){return n+"\0"}class lr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ge(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ge(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ge(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ge(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return lr.fromMillis(Date.now())}static fromDate(t){return lr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new lr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ln(this.nanoseconds,t.nanoseconds):ln(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new lr(0,0))}static max(){return new Bt(new lr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wx{constructor(t,e,i){void 0===e?e=0:e>t.length&&Dt(),void 0===i?i=t.length-e:i>t.length-e&&Dt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Wx.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Wx?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),l=e.get(r);if(s<l)return-1;if(s>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class jn extends Wx{construct(t,e,i){return new jn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new jn(e)}static emptyPath(){return new jn([])}}const r9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends Wx{construct(t,e,i){return new Vr(t,e,i)}static isValidIdentifier(t){return r9.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ge(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ge(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===h?(l=!l,r++):"."!==h||l?(i+=h,r++):(s(),r++)}if(s(),l)throw new Ge(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vr(e)}static emptyPath(){return new Vr([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(jn.fromString(t))}static fromName(t){return new mt(jn.fromString(t).popFirst(5))}static empty(){return new mt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===jn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return jn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new jn(t.slice()))}}class NT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function GP(n){return n.fields.find(t=>2===t.kind)}function Jg(n){return n.fields.filter(t=>2!==t.kind)}NT.UNKNOWN_ID=-1;class LT{constructor(t,e){this.fieldPath=t,this.kind=e}}class Yx{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Yx(0,Ol.min())}}function S3(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Bt.fromTimestamp(1e9===i?new lr(e+1,0):new lr(e,i));return new Ol(r,mt.empty(),t)}function T3(n){return new Ol(n.readTime,n.key,-1)}class Ol{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ol(Bt.min(),mt.empty(),-1)}static max(){return new Ol(Bt.max(),mt.empty(),-1)}}function $P(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=mt.comparator(n.documentKey,t.documentKey),0!==e?e:ln(n.largestBatchId,t.largestBatchId))}const A3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Hm(n){return qP.apply(this,arguments)}function qP(){return qP=(0,Re.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==A3)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}),qP.apply(this,arguments)}class ve{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ve((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ve?e:ve.resolve(e)}catch(e){return ve.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ve.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ve.reject(e)}static resolve(t){return new ve((e,i)=>{e(t)})}static reject(t){return new ve((e,i)=>{i(t)})}static waitFor(t){return new ve((e,i)=>{let r=0,s=0,l=!1;t.forEach(h=>{++r,h.next(()=>{++s,l&&s===r&&e()},m=>i(m))}),l=!0,s===r&&e()})}static or(t){let e=ve.resolve(!1);for(const i of t)e=e.next(r=>r?ve.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new ve((i,r)=>{const s=t.length,l=new Array(s);let h=0;for(let m=0;m<s;m++){const v=m;e(t[v]).next(w=>{l[v]=w,++h,h===s&&i(l)},w=>r(w))}})}static doWhile(t,e){return new ve((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class BT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new xs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new Kx(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=WP(i.target.error);this.v.reject(new Kx(t,r))}}static open(t,e,i,r){try{return new BT(e,t.transaction(r,i))}catch(s){throw new Kx(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Qe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new l9(e)}}class Sd{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Sd.S((0,H.z$)())&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Qe("SimpleDb","Removing database:",t),e_(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,H.hl)())return!1;if(Sd.C())return!0;const t=(0,H.z$)(),e=Sd.S(t),i=0<e&&e<10,r=Sd.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,Re.Z)(function*(){return e.db||(Qe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new Kx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;r("VersionError"===h.name?new Ge(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ge(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Kx(t,h))},s.onupgradeneeded=l=>{Qe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,s.transaction,l.oldVersion,e.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Re.Z)(function*(){const l="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.$(t);const m=BT.open(s.db,t,l?"readonly":"readwrite",i),v=r(m).next(w=>(m.P(),w)).catch(w=>(m.abort(w),ve.reject(w))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,w="FirebaseError"!==v.name&&h<3;if(Qe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",w),s.close(),!w)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a9{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return e_(this.L.delete())}}class Kx extends Ge{constructor(t,e){super(Ee.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function jm(n){return"IndexedDbTransactionError"===n.name}class l9{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Qe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),e_(i)}add(t){return Qe("SimpleDb","ADD",this.store.name,t,t),e_(this.store.add(t))}get(t){return e_(this.store.get(t)).next(e=>(void 0===e&&(e=null),Qe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Qe("SimpleDb","DELETE",this.store.name,t),e_(this.store.delete(t))}count(){return Qe("SimpleDb","COUNT",this.store.name),e_(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ve((s,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ve((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(t,e){Qe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,h)=>h.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ve((i,r)=>{e.onerror=s=>{const l=WP(s.target.error);r(l)},e.onsuccess=s=>{const l=s.target.result;l?t(l.primaryKey,l.value).next(h=>{h?l.continue():i()}):i()}})}W(t,e){const i=[];return new ve((r,s)=>{t.onerror=l=>{s(l.target.error)},t.onsuccess=l=>{const h=l.target.result;if(!h)return void r();const m=new a9(h),v=e(h.primaryKey,h.value,m);if(v instanceof ve){const w=v.catch(T=>(m.done(),ve.reject(T)));i.push(w)}m.isDone?r():null===m.K?h.continue():h.continue(m.K)}}).next(()=>ve.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function e_(n){return new ve((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=WP(i.target.error);e(r)}})}let M3=!1;function WP(n){const t=Sd.S((0,H.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return M3||(M3=!0,setTimeout(()=>{throw i},0)),i}}return n}class c9{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Qe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Re.Z)(function*(){e.task=null;try{Qe("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){jm(i)?Qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Hm(i)}yield e.et(6e4)}))}}class d9{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,Re.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return ve.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return Qe("IndexBackiller",`Processing collection: ${l}`),this.it(t,l,r).next(h=>{r-=h,i.add(l)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.rt(r,s)).next(h=>(Qe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>l.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const l=T3(s);$P(l,i)>0&&(i=l)}),new Ol(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Pl=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Zx(n){return null==n}function Qx(n){return 0===n&&1/n==-1/0}function R3(n){return"number"==typeof n&&Number.isInteger(n)&&!Qx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Fo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=O3(t)),t=u9(n.get(e),t);return O3(t)}function u9(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function O3(n){return n+"\x01\x01"}function Gu(n){const t=n.length;if(Ft(t>=2),2===t)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),jn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const l=n.indexOf("\x01",s);switch((l<0||l>e)&&Dt(),n.charAt(l+1)){case"\x01":const h=n.substring(s,l);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:Dt()}s=l+2}return new jn(i)}const P3=["userId","batchId"];function VT(n,t){return[n,Fo(t)]}function F3(n,t,e){return[n,Fo(t),e]}const h9={},f9=["prefixPath","collectionGroup","readTime","documentId"],m9=["prefixPath","collectionGroup","documentId"],p9=["collectionGroup","readTime","prefixPath","documentId"],g9=["canonicalId","targetId"],_9=["targetId","path"],v9=["path","targetId"],y9=["collectionId","parent"],b9=["indexId","uid"],w9=["uid","sequenceNumber"],x9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],C9=["indexId","uid","orderedDocumentKey"],E9=["userId","collectionPath","documentId"],I9=["userId","collectionPath","largestBatchId"],D9=["userId","collectionGroup","largestBatchId"],N3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],S9=[...N3,"documentOverlays"],L3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],B3=L3,T9=[...B3,"indexConfiguration","indexState","indexEntries"];class YP extends k3{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Vs(n,t){const e=gt(n);return Sd.M(e.ht,t)}function V3(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function zm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function U3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ni{constructor(t,e){this.comparator=t,this.root=e||uo.EMPTY}insert(t,e){return new Ni(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,uo.BLACK,null,null))}remove(t){return new Ni(this.comparator,this.root.remove(t,this.comparator).copy(null,null,uo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new UT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new UT(this.root,t,this.comparator,!1)}getReverseIterator(){return new UT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new UT(this.root,t,this.comparator,!0)}}class UT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class uo{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??uo.RED,this.left=r??uo.EMPTY,this.right=s??uo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new uo(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return uo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return uo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,uo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,uo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const t=this.left.check();if(t!==this.right.check())throw Dt();return t+(this.isRed()?0:1)}}uo.EMPTY=null,uo.RED=!0,uo.BLACK=!1,uo.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new uo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(t){this.comparator=t,this.data=new Ni(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new H3(this.data.getIterator())}getIteratorFrom(t){return new H3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Wi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Wi(this.comparator);return e.data=t,e}}class H3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xy(n){return n.hasNext()?n.getNext():void 0}class $a{constructor(t){this.fields=t,t.sort(Vr.comparator)}static empty(){return new $a([])}unionWith(t){let e=new Wi(Vr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new $a(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Qy(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class j3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new j3("Invalid base64 string: "+r):r}}(t);return new Cs(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Cs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ln(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const k9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gm(n){if(Ft(!!n),"string"==typeof n){let t=0;const e=k9.exec(n);if(Ft(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ur(n.seconds),nanos:Ur(n.nanos)}}function Ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function mf(n){return"string"==typeof n?Cs.fromBase64String(n):Cs.fromUint8Array(n)}function HT(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function jT(n){const t=n.mapValue.fields.__previous_value__;return HT(t)?jT(t):t}function Xx(n){const t=Gm(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(t.seconds,t.nanos)}class M9{constructor(t,e,i,r,s,l,h,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=v}}class $m{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new $m("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof $m&&t.projectId===this.projectId&&t.database===this.database}}const qm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zT={nullValue:"NULL_VALUE"};function Wm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HT(n)?4:q3(n)?9007199254740991:10:Dt()}function $u(n,t){if(n===t)return!0;const e=Wm(n);if(e!==Wm(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xx(n).isEqual(Xx(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Gm(i.timestampValue),l=Gm(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,mf(n.bytesValue).isEqual(mf(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ur(i.geoPointValue.latitude)===Ur(r.geoPointValue.latitude)&&Ur(i.geoPointValue.longitude)===Ur(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ur(i.integerValue)===Ur(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ur(i.doubleValue),l=Ur(r.doubleValue);return s===l?Qx(s)===Qx(l):isNaN(s)&&isNaN(l)}return!1}(n,t);case 9:return Qy(n.arrayValue.values||[],t.arrayValue.values||[],$u);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(V3(s)!==V3(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!$u(s[h],l[h])))return!1;return!0}(n,t);default:return Dt()}var r}function Jx(n,t){return void 0!==(n.values||[]).find(e=>$u(e,t))}function Ym(n,t){if(n===t)return 0;const e=Wm(n),i=Wm(t);if(e!==i)return ln(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return ln(n.booleanValue,t.booleanValue);case 2:return function(r,s){const l=Ur(r.integerValue||r.doubleValue),h=Ur(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,t);case 3:return z3(n.timestampValue,t.timestampValue);case 4:return z3(Xx(n),Xx(t));case 5:return ln(n.stringValue,t.stringValue);case 6:return function(r,s){const l=mf(r),h=mf(s);return l.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const l=r.split("/"),h=s.split("/");for(let m=0;m<l.length&&m<h.length;m++){const v=ln(l[m],h[m]);if(0!==v)return v}return ln(l.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const l=ln(Ur(r.latitude),Ur(s.latitude));return 0!==l?l:ln(Ur(r.longitude),Ur(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const l=r.values||[],h=s.values||[];for(let m=0;m<l.length&&m<h.length;++m){const v=Ym(l[m],h[m]);if(v)return v}return ln(l.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===qm.mapValue&&s===qm.mapValue)return 0;if(r===qm.mapValue)return 1;if(s===qm.mapValue)return-1;const l=r.fields||{},h=Object.keys(l),m=s.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let w=0;w<h.length&&w<v.length;++w){const T=ln(h[w],v[w]);if(0!==T)return T;const O=Ym(l[h[w]],m[v[w]]);if(0!==O)return O}return ln(h.length,v.length)}(n.mapValue,t.mapValue);default:throw Dt()}}function z3(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return ln(n,t);const e=Gm(n),i=Gm(t),r=ln(e.seconds,i.seconds);return 0!==r?r:ln(e.nanos,i.nanos)}function Jy(n){return KP(n)}function KP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Gm(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?mf(n.bytesValue).toBase64():"referenceValue"in n?mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=KP(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const h of r)l?l=!1:s+=",",s+=`${h}:${KP(i.fields[h])}`;return s+"}"}(n.mapValue):Dt();var t}function t_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ZP(n){return!!n&&"integerValue"in n}function eC(n){return!!n&&"arrayValue"in n}function G3(n){return!!n&&"nullValue"in n}function $3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $T(n){return!!n&&"mapValue"in n}function tC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return zm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=tC(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=tC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function q3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function R9(n){return"nullValue"in n?zT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?t_($m.empty(),mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Dt()}function O9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?t_($m.empty(),mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?qm:Dt()}function W3(n,t){const e=Ym(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Y3(n,t){const e=Ym(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ho{constructor(t){this.value=t}static empty(){return new ho({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!$T(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=tC(e)}setAll(t){let e=Vr.emptyPath(),i={},r=[];t.forEach((l,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=h.popLast()}l?i[h.lastSegment()]=tC(l):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());$T(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $u(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];$T(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){zm(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ho(tC(this.value))}}function K3(n){const t=[];return zm(n.fields,(e,i)=>{const r=new Vr([e]);if($T(i)){const s=K3(i.mapValue).fields;if(0===s.length)t.push(r);else for(const l of s)t.push(r.child(l))}else t.push(r)}),new $a(t)}class Yi{constructor(t,e,i,r,s,l,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(t){return new Yi(t,0,Bt.min(),Bt.min(),Bt.min(),ho.empty(),0)}static newFoundDocument(t,e,i,r){return new Yi(t,1,e,Bt.min(),i,r,0)}static newNoDocument(t,e){return new Yi(t,2,e,Bt.min(),Bt.min(),ho.empty(),0)}static newUnknownDocument(t,e){return new Yi(t,3,e,Bt.min(),Bt.min(),ho.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ho.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ho.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Km{constructor(t,e){this.position=t,this.inclusive=e}}function Z3(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],l=n.position[r];if(i=s.field.isKeyField()?mt.comparator(mt.fromName(l.referenceValue),e.key):Ym(l,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Q3(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!$u(n.position[e],t.position[e]))return!1;return!0}class eb{constructor(t,e="asc"){this.field=t,this.dir=e}}function P9(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class X3{}class Pn extends X3{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new F9(t,e,i):"array-contains"===e?new B9(t,i):"in"===e?new rj(t,i):"not-in"===e?new V9(t,i):"array-contains-any"===e?new U9(t,i):new Pn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new N9(t,i):new L9(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ym(e,this.value)):null!==e&&Wm(this.value)===Wm(e)&&this.matchesComparison(Ym(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gi extends X3{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new gi(t,e)}matches(t){return tb(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function tb(n){return"and"===n.op}function QP(n){return"or"===n.op}function XP(n){return J3(n)&&tb(n)}function J3(n){for(const t of n.filters)if(t instanceof gi)return!1;return!0}function JP(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+Jy(n.value);if(XP(n))return n.filters.map(t=>JP(t)).join(",");{const t=n.filters.map(e=>JP(e)).join(",");return`${n.op}(${t})`}}function ej(n,t){return n instanceof Pn?(e=n,(i=t)instanceof Pn&&e.op===i.op&&e.field.isEqual(i.field)&&$u(e.value,i.value)):n instanceof gi?function(e,i){return i instanceof gi&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,l)=>r&&ej(s,i.filters[l]),!0)}(n,t):void Dt();var e,i}function tj(n,t){const e=n.filters.concat(t);return gi.create(e,n.op)}function nj(n){return n instanceof Pn?`${(t=n).field.canonicalString()} ${t.op} ${Jy(t.value)}`:n instanceof gi?function(t){return t.op.toString()+" {"+t.getFilters().map(nj).join(" ,")+"}"}(n):"Filter";var t}class F9 extends Pn{constructor(t,e,i){super(t,e,i),this.key=mt.fromName(i.referenceValue)}matches(t){const e=mt.comparator(t.key,this.key);return this.matchesComparison(e)}}class N9 extends Pn{constructor(t,e){super(t,"in",e),this.keys=ij(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class L9 extends Pn{constructor(t,e){super(t,"not-in",e),this.keys=ij(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ij(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>mt.fromName(i.referenceValue))}class B9 extends Pn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return eC(e)&&Jx(e.arrayValue,this.value)}}class rj extends Pn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Jx(this.value.arrayValue,e)}}class V9 extends Pn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Jx(this.value.arrayValue,e)}}class U9 extends Pn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!eC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Jx(this.value.arrayValue,i))}}class H9{constructor(t,e=null,i=[],r=[],s=null,l=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=h,this.dt=null}}function eF(n,t=null,e=[],i=[],r=null,s=null,l=null){return new H9(n,t,e,i,r,s,l)}function n_(n){const t=gt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>JP(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Zx(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Jy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Jy(i)).join(",")),t.dt=e}return t.dt}function nC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!P9(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!ej(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Q3(n.startAt,t.startAt)&&Q3(n.endAt,t.endAt)}function qT(n){return mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function WT(n,t){return n.filters.filter(e=>e instanceof Pn&&e.field.isEqual(t))}function sj(n,t,e){let i=zT,r=!0;for(const s of WT(n,t)){let l=zT,h=!0;switch(s.op){case"<":case"<=":l=R9(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=zT}W3({value:i,inclusive:r},{value:l,inclusive:h})<0&&(i=l,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];W3({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function oj(n,t,e){let i=qm,r=!0;for(const s of WT(n,t)){let l=qm,h=!0;switch(s.op){case">=":case">":l=O9(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=qm}Y3({value:i,inclusive:r},{value:l,inclusive:h})>0&&(i=l,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];Y3({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class pf{constructor(t,e=null,i=[],r=[],s=null,l="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function aj(n,t,e,i,r,s,l,h){return new pf(n,t,e,i,r,s,l,h)}function nb(n){return new pf(n)}function lj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tF(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function YT(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function nF(n){return null!==n.collectionGroup}function i_(n){const t=gt(n);if(null===t.wt){t.wt=[];const e=YT(t),i=tF(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new eb(e)),t.wt.push(new eb(Vr.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new eb(Vr.keyField(),s))}}}return t.wt}function ya(n){const t=gt(n);if(!t._t)if("F"===t.limitType)t._t=eF(t.path,t.collectionGroup,i_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of i_(t))e.push(new eb(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Km(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Km(t.startAt.position,t.startAt.inclusive):null;t._t=eF(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function iF(n,t){t.getFirstInequalityField(),YT(n);const e=n.filters.concat([t]);return new pf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function KT(n,t,e){return new pf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function iC(n,t){return nC(ya(n),ya(t))&&n.limitType===t.limitType}function cj(n){return`${n_(ya(n))}|lt:${n.limitType}`}function rF(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>nj(i)).join(", ")}]`),Zx(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Jy(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Jy(i)).join(",")),`Target(${e})`}(ya(n))}; limitType=${n.limitType})`}function rC(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):mt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of i_(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,l){const h=Z3(r,s,l);return r.inclusive?h<=0:h<0}(e.startAt,i_(e),i)||e.endAt&&!function(r,s,l){const h=Z3(r,s,l);return r.inclusive?h>=0:h>0}(e.endAt,i_(e),i)));var e,i}function dj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uj(n){return(t,e)=>{let i=!1;for(const r of i_(n)){const s=j9(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function j9(n,t,e){const i=n.field.isKeyField()?mt.comparator(t.key,e.key):function(r,s,l){const h=s.data.field(r),m=l.data.field(r);return null!==h&&null!==m?Ym(h,m):Dt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Dt()}}class gf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){zm(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return U3(this.inner)}size(){return this.innerSize}}const z9=new Ni(mt.comparator);function qa(){return z9}const hj=new Ni(mt.comparator);function sC(...n){let t=hj;for(const e of n)t=t.insert(e.key,e);return t}function fj(n){let t=hj;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function qu(){return oC()}function mj(){return oC()}function oC(){return new gf(n=>n.toString(),(n,t)=>n.isEqual(t))}const G9=new Ni(mt.comparator),$9=new Wi(mt.comparator);function Cn(...n){let t=$9;for(const e of n)t=t.add(e);return t}const q9=new Wi(ln);function sF(){return q9}function pj(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qx(t)?"-0":t}}function gj(n){return{integerValue:""+n}}function _j(n,t){return R3(t)?gj(t):pj(n,t)}class ZT{constructor(){this._=void 0}}function W9(n,t,e){return n instanceof ib?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&HT(r)&&(r=jT(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof r_?yj(n,t):n instanceof s_?bj(n,t):function(i,r){const s=vj(i,r),l=wj(s)+wj(i.gt);return ZP(s)&&ZP(i.gt)?gj(l):pj(i.serializer,l)}(n,t)}function Y9(n,t,e){return n instanceof r_?yj(n,t):n instanceof s_?bj(n,t):e}function vj(n,t){return n instanceof rb?ZP(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class ib extends ZT{}class r_ extends ZT{constructor(t){super(),this.elements=t}}function yj(n,t){const e=xj(t);for(const i of n.elements)e.some(r=>$u(r,i))||e.push(i);return{arrayValue:{values:e}}}class s_ extends ZT{constructor(t){super(),this.elements=t}}function bj(n,t){let e=xj(t);for(const i of n.elements)e=e.filter(r=>!$u(r,i));return{arrayValue:{values:e}}}class rb extends ZT{constructor(t,e){super(),this.serializer=t,this.gt=e}}function wj(n){return Ur(n.integerValue||n.doubleValue)}function xj(n){return eC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class aC{constructor(t,e){this.field=t,this.transform=e}}class Z9{constructor(t,e){this.version=t,this.transformResults=e}}class cr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new cr}static exists(t){return new cr(void 0,t)}static updateTime(t){return new cr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function QT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class XT{}function Cj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new ob(n.key,cr.none()):new sb(n.key,n.data,cr.none());{const e=n.data,i=ho.empty();let r=new Wi(Vr.comparator);for(let s of t.fields)if(!r.has(s)){let l=e.field(s);null===l&&s.length>1&&(s=s.popLast(),l=e.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new _f(n.key,i,new $a(r.toArray()),cr.none())}}function Q9(n,t,e){n instanceof sb?function(i,r,s){const l=i.value.clone(),h=Dj(i.fieldTransforms,r,s.transformResults);l.setAll(h),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):n instanceof _f?function(i,r,s){if(!QT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=Dj(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(Ij(i)),h.setAll(l),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function lC(n,t,e,i){return n instanceof sb?function(r,s,l,h){if(!QT(r.precondition,s))return l;const m=r.value.clone(),v=Sj(r.fieldTransforms,h,s);return m.setAll(v),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof _f?function(r,s,l,h){if(!QT(r.precondition,s))return l;const m=Sj(r.fieldTransforms,h,s),v=s.data;return v.setAll(Ij(r)),v.setAll(m),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):(l=e,QT(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function X9(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=vj(i.transform,r||null);null!=s&&(null===e&&(e=ho.empty()),e.set(i.field,s))}return e||null}function Ej(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Qy(e,i,(r,s)=>function K9(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof r_&&i instanceof r_||e instanceof s_&&i instanceof s_?Qy(e.elements,i.elements,$u):e instanceof rb&&i instanceof rb?$u(e.gt,i.gt):e instanceof ib&&i instanceof ib);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class sb extends XT{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _f extends XT{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ij(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Dj(n,t,e){const i=new Map;Ft(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],l=s.transform,h=t.data.field(s.field);i.set(s.field,Y9(l,h,e[r]))}return i}function Sj(n,t,e){const i=new Map;for(const r of n){const s=r.transform,l=e.data.field(r.field);i.set(r.field,W9(s,l,t))}return i}class ob extends XT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oF extends XT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aF{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Q9(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=lC(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=lC(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=mj();return this.mutations.forEach(r=>{const s=t.get(r.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=e.has(r.key)?null:h;const m=Cj(l,h);null!==m&&i.set(r.key,m),l.isValidDocument()||l.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Cn())}isEqual(t){return this.batchId===t.batchId&&Qy(this.mutations,t.mutations,(e,i)=>Ej(e,i))&&Qy(this.baseMutations,t.baseMutations,(e,i)=>Ej(e,i))}}class lF{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ft(t.mutations.length===i.length);let r=G9;const s=t.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new lF(t,e,i,r)}}class cF{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class e7{constructor(t,e){this.count=t,this.unchangedNames=e}}var us,zn;function Tj(n){switch(n){default:return Dt();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function Aj(n){if(void 0===n)return Kr("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case us.OK:return Ee.OK;case us.CANCELLED:return Ee.CANCELLED;case us.UNKNOWN:return Ee.UNKNOWN;case us.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case us.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case us.INTERNAL:return Ee.INTERNAL;case us.UNAVAILABLE:return Ee.UNAVAILABLE;case us.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case us.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case us.NOT_FOUND:return Ee.NOT_FOUND;case us.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case us.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case us.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case us.ABORTED:return Ee.ABORTED;case us.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case us.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case us.DATA_LOSS:return Ee.DATA_LOSS;default:return Dt()}}(zn=us||(us={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";class dF{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return JT}static getOrCreateInstance(){return null===JT&&(JT=new dF),JT}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let JT=null;function kj(){return new TextEncoder}const t7=new Ky([4294967295,4294967295],0);function Mj(n){const t=kj().encode(n),e=new YW;return e.update(t),new Uint8Array(e.digest())}function Rj(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ky([e,i],0),new Ky([r,s],0)]}class uF{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new cC(`Invalid padding: ${e}`);if(i<0)throw new cC(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new cC(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new cC(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Ky.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(Ky.fromNumber(i)));return 1===r.compare(t7)&&(r=new Ky([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=Mj(t),[i,r]=Rj(e);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),l=new uF(s,r,e);return i.forEach(h=>l.insert(h)),l}insert(t){if(0===this.It)return;const e=Mj(t),[i,r]=Rj(e);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class cC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dC{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,uC.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new dC(Bt.min(),r,new Ni(ln),qa(),Cn())}}class uC{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new uC(i,e,Cn(),Cn(),Cn())}}class eA{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class Oj{constructor(t,e){this.targetId=t,this.Vt=e}}class Pj{constructor(t,e,i=Cs.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Fj{constructor(){this.St=0,this.Dt=Lj(),this.Ct=Cs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Cn(),e=Cn(),i=Cn();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Dt()}}),new uC(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=Lj()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class n7{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=qa(),this.zt=Nj(),this.Wt=new Ni(ln)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:Dt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const l=s.target;if(qT(l))if(0===r){const h=new mt(l.path);this.Yt(i,h,Yi.newNoDocument(h,Bt.min()))}else Ft(1===r);else{const h=this.ie(i);if(h!==r){const m=this.re(t,h);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=dF.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(v,w,T){var O,B,$,Z,re,Ae;const Ze={localCacheCount:w,existenceFilterCount:T.count},Xe=T.unchangedNames;return Xe&&(Ze.bloomFilter={applied:0===v,hashCount:null!==(O=Xe?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(Z=null===($=null===(B=Xe?.bits)||void 0===B?void 0:B.bitmap)||void 0===$?void 0:$.length)&&void 0!==Z?Z:0,padding:null!==(Ae=null===(re=Xe?.bits)||void 0===re?void 0:re.padding)&&void 0!==Ae?Ae:0}),Ze}(m,h,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let m,v;try{m=mf(s).toUint8Array()}catch(w){if(w instanceof j3)return Dc("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{v=new uF(m,l,h)}catch(w){return Dc(w instanceof cC?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===v.It?1:r!==e-this.oe(t.targetId,v)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.vt(h)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,l)=>{const h=this.se(l);if(h){if(s.current&&qT(h.target)){const m=new mt(h.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,Yi.newNoDocument(m,t))}s.Mt&&(e.set(l,s.Ot()),s.Ft())}});let i=Cn();this.zt.forEach((s,l)=>{let h=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(t));const r=new dC(t,e,this.Wt,this.jt,i);return this.jt=qa(),this.zt=Nj(),this.Wt=new Ni(ln),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new Fj,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Wi(ln),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Qe("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new Fj),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function Nj(){return new Ni(mt.comparator)}function Lj(){return new Ni(mt.comparator)}const r7={asc:"ASCENDING",desc:"DESCENDING"},s7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o7={and:"AND",or:"OR"};class a7{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function hF(n,t){return n.useProto3Json||Zx(t)?t:{value:t}}function ab(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bj(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function l7(n,t){return ab(n,t.toTimestamp())}function Zr(n){return Ft(!!n),Bt.fromTimestamp(function(t){const e=Gm(t);return new lr(e.seconds,e.nanos)}(n))}function fF(n,t){return(e=n,new jn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Vj(n){const t=jn.fromString(n);return Ft(Yj(t)),t}function hC(n,t){return fF(n.databaseId,t.path)}function Wu(n,t){const e=Vj(t);if(e.get(1)!==n.databaseId.projectId)throw new Ge(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ge(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new mt(Hj(e))}function mF(n,t){return fF(n.databaseId,t)}function Uj(n){const t=Vj(n);return 4===t.length?jn.emptyPath():Hj(t)}function fC(n){return new jn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Hj(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jj(n,t,e){return{name:hC(n,t),fields:e.value.mapValue.fields}}function zj(n,t,e){const i=Wu(n,t.name),r=Zr(t.updateTime),s=t.createTime?Zr(t.createTime):Bt.min(),l=new ho({mapValue:{fields:t.fields}}),h=Yi.newFoundDocument(i,r,s,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function mC(n,t){let e;if(t instanceof sb)e={update:jj(n,t.key,t.value)};else if(t instanceof ob)e={delete:hC(n,t.key)};else if(t instanceof _f)e={update:jj(n,t.key,t.data),updateMask:g7(t.fieldMask)};else{if(!(t instanceof oF))return Dt();e={verify:hC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof ib)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof r_)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof s_)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof rb)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw Dt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:l7(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Dt()),e;var r}function pF(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?cr.updateTime(Zr(r.updateTime)):void 0!==r.exists?cr.exists(r.exists):cr.none():cr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,l){let h=null;"setToServerValue"in l?(Ft("REQUEST_TIME"===l.setToServerValue),h=new ib):"appendMissingElements"in l?h=new r_(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new s_(l.removeAllFromArray.values||[]):"increment"in l?h=new rb(s,l.increment):Dt();const m=Vr.fromServerFormat(l.fieldPath);return new aC(m,h)}(n,r)):[];var r;if(t.update){const r=Wu(n,t.update.name),s=new ho({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new $a((t.updateMask.fieldPaths||[]).map(v=>Vr.fromServerFormat(v)));return new _f(r,s,l,e,i)}return new sb(r,s,e,i)}if(t.delete){const r=Wu(n,t.delete);return new ob(r,e)}if(t.verify){const r=Wu(n,t.verify);return new oF(r,e)}return Dt()}function Gj(n,t){return{documents:[mF(n,t.path)]}}function gF(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=mF(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=mF(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return Wj(gi.create(m,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(m){if(0!==m.length)return m.map(v=>{return{field:Zm((w=v).field),direction:f7(w.dir)};var w})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const l=hF(n,t.limit);var h,m;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function $j(n){let t=Uj(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ft(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let s=[];e.where&&(s=function(w){const T=qj(w);return T instanceof gi&&XP(T)?T.getFilters():[T]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(w=>{return new eb(lb((T=w).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;e.limit&&(h=function(w){let T;return T="object"==typeof w?w.value:w,Zx(T)?null:T}(e.limit));let m=null;var w;e.startAt&&(m=new Km((w=e.startAt).values||[],!!w.before));let v=null;return e.endAt&&(v=function(w){return new Km(w.values||[],!w.before)}(e.endAt)),aj(t,r,l,s,h,"F",m,v)}function qj(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=lb(t.unaryFilter.field);return Pn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=lb(t.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lb(t.unaryFilter.field);return Pn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lb(t.unaryFilter.field);return Pn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(n):void 0!==n.fieldFilter?Pn.create(lb((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return gi.create(t.compositeFilter.filters.map(e=>qj(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Dt()}}(t.compositeFilter.op))}(n):Dt();var t}function f7(n){return r7[n]}function m7(n){return s7[n]}function p7(n){return o7[n]}function Zm(n){return{fieldPath:n.canonicalString()}}function lb(n){return Vr.fromServerFormat(n.fieldPath)}function Wj(n){return n instanceof Pn?function(t){if("=="===t.op){if($3(t.value))return{unaryFilter:{field:Zm(t.field),op:"IS_NAN"}};if(G3(t.value))return{unaryFilter:{field:Zm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($3(t.value))return{unaryFilter:{field:Zm(t.field),op:"IS_NOT_NAN"}};if(G3(t.value))return{unaryFilter:{field:Zm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zm(t.field),op:m7(t.op),value:t.value}}}(n):n instanceof gi?function(t){const e=t.getFilters().map(i=>Wj(i));return 1===e.length?e[0]:{compositeFilter:{op:p7(t.op),filters:e}}}(n):Dt()}function g7(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Yj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class vf{constructor(t,e,i,r,s=Bt.min(),l=Bt.min(),h=Cs.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(t){return new vf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Kj{constructor(t){this.fe=t}}function Zj(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:tA(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:hC(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:ab(r,s.version.toTimestamp()),createTime:ab(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:o_(t.version)};else{if(!t.isUnknownDocument())return Dt();i.unknownDocument={path:e.path.toArray(),version:o_(t.version)}}var r,s;return i}function tA(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function o_(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function a_(n){const t=new lr(n.seconds,n.nanoseconds);return Bt.fromTimestamp(t)}function l_(n,t){const e=(t.baseMutations||[]).map(s=>pF(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>pF(n.fe,s)),r=lr.fromMillis(t.localWriteTimeMs);return new aF(t.batchId,r,e,i)}function pC(n){const t=a_(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?a_(n.lastLimboFreeSnapshotVersion):Bt.min();let i;var r;return void 0!==n.query.documents?(Ft(1===(r=n.query).documents.length),i=ya(nb(Uj(r.documents[0])))):i=ya($j(n.query)),new vf(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Cs.fromBase64String(n.resumeToken))}function Qj(n,t){const e=o_(t.snapshotVersion),i=o_(t.lastLimboFreeSnapshotVersion);let r;r=qT(t.target)?Gj(n.fe,t.target):gF(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:n_(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _F(n){const t=$j({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?KT(t,t.limit,"L"):t}function vF(n,t){return new cF(t.largestBatchId,pF(n.fe,t.overlayMutation))}function Xj(n,t){const e=t.path.lastSegment();return[n,Fo(t.path.popLast()),e]}function Jj(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:o_(i.readTime),documentKey:Fo(i.documentKey.path),largestBatchId:i.largestBatchId}}class v7{getBundleMetadata(t,e){return ez(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:a_(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return ez(t).put({bundleId:(i=e).id,createTime:o_(Zr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return tz(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_F(r.bundledQuery),readTime:a_(r.readTime)};var r})}saveNamedQuery(t,e){return tz(t).put({name:(i=e).name,readTime:o_(Zr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function ez(n){return Vs(n,"bundles")}function tz(n){return Vs(n,"namedQueries")}class nA{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new nA(t,e.uid||"")}getOverlay(t,e){return gC(t).get(Xj(this.userId,e)).next(i=>i?vF(this.serializer,i):null)}getOverlays(t,e){const i=qu();return ve.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,l)=>{const h=new cF(e,l);r.push(this.we(t,h))}),ve.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add(Fo(l.getCollectionPath())));const s=[];return r.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(gC(t).J("collectionPathOverlayIndex",h))}),ve.waitFor(s)}getOverlaysForCollection(t,e,i){const r=qu(),s=Fo(e),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return gC(t).j("collectionPathOverlayIndex",l).next(h=>{for(const m of h){const v=vF(this.serializer,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=qu();let l;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return gC(t).X({index:"collectionGroupOverlayIndex",range:h},(m,v,w)=>{const T=vF(this.serializer,v);s.size()<r||T.largestBatchId===l?(s.set(T.getKey(),T),l=T.largestBatchId):w.done()}).next(()=>s)}we(t,e){return gC(t).put(function(i,r,s){const[l,h,m]=Xj(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:mC(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function gC(n){return Vs(n,"documentOverlays")}class c_{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Ur(t.integerValue));else if("doubleValue"in t){const i=Ur(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Qx(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(mf(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?q3(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):Dt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),mt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function y7(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function nz(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=y7(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}c_.Ve=new c_;class b7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=nz(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=nz(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class w7{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class x7{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class _C{constructor(){this.je=new b7,this.ze=new w7(this.je),this.We=new x7(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class d_{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new d_(this.indexId,this.documentKey,this.arrayValue,i)}}function Qm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=iz(n.arrayValue,t.arrayValue),0!==e?e:(e=iz(n.directionalValue,t.directionalValue),0!==e?e:mt.comparator(n.documentKey,t.documentKey)))}function iz(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class C7{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Ft(t.collectionGroup===this.collectionId);const e=GP(t);if(void 0!==e&&!this.en(e))return!1;const i=Jg(t);let r=new Set,s=0,l=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++s}for(;s<i.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[s]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function rz(n){var t,e;if(Ft(n instanceof Pn||n instanceof gi),n instanceof Pn){if(n instanceof rj){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Pn.create(n.field,"==",s)))||[];return gi.create(r,"or")}return n}const i=n.filters.map(r=>rz(r));return gi.create(i,n.op)}function E7(n){if(0===n.getFilters().length)return[];const t=wF(rz(n));return Ft(sz(t)),yF(t)||bF(t)?[t]:t.getFilters()}function yF(n){return n instanceof Pn}function bF(n){return n instanceof gi&&XP(n)}function sz(n){return yF(n)||bF(n)||function(t){if(t instanceof gi&&QP(t)){for(const e of t.getFilters())if(!yF(e)&&!bF(e))return!1;return!0}return!1}(n)}function wF(n){if(Ft(n instanceof Pn||n instanceof gi),n instanceof Pn)return n;if(1===n.filters.length)return wF(n.filters[0]);const t=n.filters.map(i=>wF(i));let e=gi.create(t,n.op);return e=iA(e),sz(e)?e:(Ft(e instanceof gi),Ft(tb(e)),Ft(e.filters.length>1),e.filters.reduce((i,r)=>xF(i,r)))}function xF(n,t){let e;return Ft(n instanceof Pn||n instanceof gi),Ft(t instanceof Pn||t instanceof gi),e=n instanceof Pn?t instanceof Pn?gi.create([n,t],"and"):oz(n,t):t instanceof Pn?oz(t,n):function(i,r){if(Ft(i.filters.length>0&&r.filters.length>0),tb(i)&&tb(r))return tj(i,r.getFilters());const s=QP(i)?i:r,l=QP(i)?r:i,h=s.filters.map(m=>xF(m,l));return gi.create(h,"or")}(n,t),iA(e)}function oz(n,t){if(tb(t))return tj(t,n.getFilters());{const e=t.filters.map(i=>xF(n,i));return gi.create(e,"or")}}function iA(n){if(Ft(n instanceof Pn||n instanceof gi),n instanceof Pn)return n;const t=n.getFilters();if(1===t.length)return iA(t[0]);if(J3(n))return n;const e=t.map(r=>iA(r)),i=[];return e.forEach(r=>{r instanceof Pn?i.push(r):r instanceof gi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:gi.create(i,n.op)}class I7{constructor(){this.rn=new CF}addToCollectionParentIndex(t,e){return this.rn.add(e),ve.resolve()}getCollectionParents(t,e){return ve.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ve.resolve()}deleteFieldIndex(t,e){return ve.resolve()}getDocumentsMatchingTarget(t,e){return ve.resolve(null)}getIndexType(t,e){return ve.resolve(0)}getFieldIndexes(t,e){return ve.resolve([])}getNextCollectionGroupToUpdate(t){return ve.resolve(null)}getMinOffset(t,e){return ve.resolve(Ol.min())}getMinOffsetFromCollectionGroup(t,e){return ve.resolve(Ol.min())}updateCollectionGroup(t,e,i){return ve.resolve()}updateIndexEntries(t,e){return ve.resolve()}}class CF{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Wi(jn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Wi(jn.comparator)).toArray()}}const rA=new Uint8Array(0);class D7{constructor(t,e){this.user=t,this.databaseId=e,this.on=new CF,this.un=new gf(i=>n_(i),(i,r)=>nC(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:Fo(r)};return az(t).put(s)}return ve.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[D3(e),""],!1,!0);return az(t).j(r).next(s=>{for(const l of s){if(l.collectionId!==e)break;i.push(Gu(l.parent))}return i})}addFieldIndex(t,e){const i=sA(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete r.indexId;const s=i.add(r);if(e.indexState){const l=yC(t);return s.next(h=>{l.put(Jj(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=sA(t),r=yC(t),s=vC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=vC(t);let r=!0;const s=new Map;return ve.forEach(this.cn(e),l=>this.an(t,l).next(h=>{r&&(r=!!h),s.set(l,h)})).next(()=>{if(r){let l=Cn();const h=[];return ve.forEach(s,(m,v)=>{var w;Qe("IndexedDbIndexManager",`Using index ${w=m,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${n_(e)}`);const T=function(Xe,ot){const Vt=GP(ot);if(void 0===Vt)return null;for(const zt of WT(Xe,Vt.fieldPath))switch(zt.op){case"array-contains-any":return zt.value.arrayValue.values||[];case"array-contains":return[zt.value]}return null}(v,m),O=function(Xe,ot){const Vt=new Map;for(const zt of Jg(ot))for(const Rn of WT(Xe,zt.fieldPath))switch(Rn.op){case"==":case"in":Vt.set(zt.fieldPath.canonicalString(),Rn.value);break;case"not-in":case"!=":return Vt.set(zt.fieldPath.canonicalString(),Rn.value),Array.from(Vt.values())}return null}(v,m),B=function(Xe,ot){const Vt=[];let zt=!0;for(const Rn of Jg(ot)){const fr=0===Rn.kind?sj(Xe,Rn.fieldPath,Xe.startAt):oj(Xe,Rn.fieldPath,Xe.startAt);Vt.push(fr.value),zt&&(zt=fr.inclusive)}return new Km(Vt,zt)}(v,m),$=function(Xe,ot){const Vt=[];let zt=!0;for(const Rn of Jg(ot)){const fr=0===Rn.kind?oj(Xe,Rn.fieldPath,Xe.endAt):sj(Xe,Rn.fieldPath,Xe.endAt);Vt.push(fr.value),zt&&(zt=fr.inclusive)}return new Km(Vt,zt)}(v,m),Z=this.hn(m,v,B),re=this.hn(m,v,$),Ae=this.ln(m,v,O),Ze=this.fn(m.indexId,T,Z,B.inclusive,re,$.inclusive,Ae);return ve.forEach(Ze,Xe=>i.H(Xe,e.limit).next(ot=>{ot.forEach(Vt=>{const zt=mt.fromSegments(Vt.documentKey);l.has(zt)||(l=l.add(zt),h.push(zt))})}))}).next(()=>h)}return ve.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:E7(gi.create(t.filters,"and")).map(i=>eF(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,l,h){const m=(null!=e?e.length:1)*Math.max(i.length,s.length),v=m/(null!=e?e.length:1),w=[];for(let T=0;T<m;++T){const O=e?this.dn(e[T/v]):rA,B=this.wn(t,O,i[T%v],r),$=this._n(t,O,s[T%v],l),Z=h.map(re=>this.wn(t,O,re,!0));w.push(...this.createRange(B,$,Z))}return w}wn(t,e,i,r){const s=new d_(t,mt.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new d_(t,mt.empty(),e,i);return r?s.Je():s}an(t,e){const i=new C7(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let l=null;for(const h of s)i.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(t,e){let i=2;const r=this.cn(e);return ve.forEach(r,s=>this.an(t,s).next(l=>{l?0!==i&&l.fields.length<function(h){let m=new Wi(Vr.comparator),v=!1;for(const w of h.filters)for(const T of w.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?v=!0:m=m.add(T.field));for(const w of h.orderBy)w.field.isKeyField()||(m=m.add(w.field));return m.size+(v?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new _C;for(const r of Jg(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);c_.Ve._e(s,l)}return i.Qe()}dn(t){const e=new _C;return c_.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new _C;return c_.Ve._e(t_(this.databaseId,e),i.He(function(r){const s=Jg(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new _C);let s=0;for(const l of Jg(t)){const h=i[s++];for(const m of r)if(this.yn(e,l.fieldPath)&&eC(h))r=this.pn(r,l,h);else{const v=m.He(l.kind);c_.Ve._e(h,v)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const l of i.arrayValue.values||[])for(const h of r){const m=new _C;m.seed(h.Qe()),c_.Ve._e(l,m.He(e.kind)),s.push(m)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof Pn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=sA(t),r=yC(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const l=[];return ve.forEach(s,h=>r.get([h.indexId,this.uid]).next(m=>{l.push(function(v,w){const T=w?new Yx(w.sequenceNumber,new Ol(a_(w.readTime),new mt(Gu(w.documentKey)),w.largestBatchId)):Yx.empty(),O=v.fields.map(([B,$])=>new LT(Vr.fromServerFormat(B),$));return new NT(v.indexId,v.collectionGroup,O,T)}(h,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:ln(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=sA(t),s=yC(t);return this.Tn(t).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ve.forEach(h,m=>s.put(Jj(m.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return ve.forEach(e,(r,s)=>{const l=i.get(r.collectionGroup);return(l?ve.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ve.forEach(h,m=>this.En(t,r,m).next(v=>{const w=this.An(s,m);return v.isEqual(w)?ve.resolve():this.vn(t,s,m,v,w)}))))})}Rn(t,e,i,r){return vC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return vC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=vC(t);let s=new Wi(Qm);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(l,h)=>{s=s.add(new d_(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}An(t,e){let i=new Wi(Qm);const r=this.mn(e,t);if(null==r)return i;const s=GP(e);if(null!=s){const l=t.data.field(s.fieldPath);if(eC(l))for(const h of l.arrayValue.values||[])i=i.add(new d_(e.indexId,t.key,this.dn(h),r))}else i=i.add(new d_(e.indexId,t.key,rA,r));return i}vn(t,e,i,r,s){Qe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(h,m,v,w,T){const O=h.getIterator(),B=m.getIterator();let $=Xy(O),Z=Xy(B);for(;$||Z;){let re=!1,Ae=!1;if($&&Z){const Ze=v($,Z);Ze<0?Ae=!0:Ze>0&&(re=!0)}else null!=$?Ae=!0:re=!0;re?(w(Z),Z=Xy(B)):Ae?(T($),$=Xy(O)):($=Xy(O),Z=Xy(B))}}(r,s,Qm,h=>{l.push(this.Rn(t,e,i,h))},h=>{l.push(this.Pn(t,e,i,h))}),ve.waitFor(l)}Tn(t){let e=1;return yC(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,h)=>Qm(l,h)).filter((l,h,m)=>!h||0!==Qm(l,m[h-1]));const r=[];r.push(t);for(const l of i){const h=Qm(l,t),m=Qm(l,e);if(0===h)r[0]=t.Je();else if(h>0&&m<0)r.push(l),r.push(l.Je());else if(m>0)break}r.push(e);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,rA,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,rA,[]]))}return s}bn(t,e){return Qm(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(lz)}getMinOffset(t,e){return ve.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||Dt())).next(lz)}}function az(n){return Vs(n,"collectionParents")}function vC(n){return Vs(n,"indexEntries")}function sA(n){return Vs(n,"indexConfiguration")}function yC(n){return Vs(n,"indexState")}function lz(n){Ft(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;$P(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ol(t.readTime,t.documentKey,e)}const cz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class No{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new No(t,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dz(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(e.batchId);let h=0;const m=i.X({range:l},(w,T,O)=>(h++,O.delete()));s.push(m.next(()=>{Ft(1===h)}));const v=[];for(const w of e.mutations){const T=F3(t,w.key.path,e.batchId);s.push(r.delete(T)),v.push(w.key)}return ve.waitFor(s).next(()=>v)}function oA(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Dt();t=n.noDocument}return JSON.stringify(t).length}No.DEFAULT_COLLECTION_PERCENTILE=10,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,No.DEFAULT=new No(41943040,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),No.DISABLED=new No(-1,0,0);class aA{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Ft(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new aA(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xm(t).X({index:"userMutationsIndex",range:i},(r,s,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=cb(t),l=Xm(t);return l.add({}).next(h=>{Ft("number"==typeof h);const m=new aF(h,e,i,r),v=function(O,B,$){const Z=$.baseMutations.map(Ae=>mC(O.fe,Ae)),re=$.mutations.map(Ae=>mC(O.fe,Ae));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:Z,mutations:re}}(this.serializer,this.userId,m),w=[];let T=new Wi((O,B)=>ln(O.canonicalString(),B.canonicalString()));for(const O of r){const B=F3(this.userId,O.key.path,h);T=T.add(O.key.path.popLast()),w.push(l.put(v)),w.push(s.put(B,h9))}return T.forEach(O=>{w.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),ve.waitFor(w).next(()=>m)})}lookupMutationBatch(t,e){return Xm(t).get(e).next(i=>i?(Ft(i.userId===this.userId),l_(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ve.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Xm(t).X({index:"userMutationsIndex",range:r},(l,h,m)=>{h.userId===this.userId&&(Ft(h.batchId>=i),s=l_(this.serializer,h)),m.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Xm(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xm(t).j("userMutationsIndex",e).next(i=>i.map(r=>l_(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=VT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return cb(t).X({range:r},(l,h,m)=>{const[v,w,T]=l,O=Gu(w);if(v===this.userId&&e.path.isEqual(O))return Xm(t).get(T).next(B=>{if(!B)throw Dt();Ft(B.userId===this.userId),s.push(l_(this.serializer,B))});m.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Wi(ln);const r=[];return e.forEach(s=>{const l=VT(this.userId,s.path),h=IDBKeyRange.lowerBound(l),m=cb(t).X({range:h},(v,w,T)=>{const[O,B,$]=v,Z=Gu(B);O===this.userId&&s.path.isEqual(Z)?i=i.add($):T.done()});r.push(m)}),ve.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=VT(this.userId,i),l=IDBKeyRange.lowerBound(s);let h=new Wi(ln);return cb(t).X({range:l},(m,v,w)=>{const[T,O,B]=m,$=Gu(O);T===this.userId&&i.isPrefixOf($)?$.length===r&&(h=h.add(B)):w.done()}).next(()=>this.Dn(t,h))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Xm(t).get(s).next(l=>{if(null===l)throw Dt();Ft(l.userId===this.userId),i.push(l_(this.serializer,l))}))}),ve.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return dz(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ve.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ve.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return cb(t).X({range:i},(s,l,h)=>{if(s[0]===this.userId){const m=Gu(s[1]);r.push(m)}else h.done()}).next(()=>{Ft(0===r.length)})})}containsKey(t,e){return uz(t,this.userId,e)}xn(t){return hz(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uz(n,t,e){const i=VT(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return cb(n).X({range:s,Y:!0},(h,m,v)=>{const[w,T,O]=h;w===t&&T===r&&(l=!0),v.done()}).next(()=>l)}function Xm(n){return Vs(n,"mutations")}function cb(n){return Vs(n,"documentMutations")}function hz(n){return Vs(n,"mutationQueues")}class u_{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new u_(0)}static Mn(){return new u_(-1)}}class S7{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new u_(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Bt.fromTimestamp(new lr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>db(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return db(t).X((l,h)=>{const m=pC(h);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,s.push(this.removeTargetData(t,m)))}).next(()=>ve.waitFor(s)).next(()=>r)}forEachTarget(t,e){return db(t).X((i,r)=>{const s=pC(r);e(s)})}$n(t){return fz(t).get("targetGlobalKey").next(e=>(Ft(null!==e),e))}On(t,e){return fz(t).put("targetGlobalKey",e)}Fn(t,e){return db(t).put(Qj(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=n_(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return db(t).X({range:r,index:"queryTargetsIndex"},(l,h,m)=>{const v=pC(h);nC(e,v.target)&&(s=v,m.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Jm(t);return e.forEach(l=>{const h=Fo(l.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,l))}),ve.waitFor(r)}removeMatchingKeys(t,e,i){const r=Jm(t);return ve.forEach(e,s=>{const l=Fo(s.path);return ve.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Jm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Jm(t);let s=Cn();return r.X({range:i,Y:!0},(l,h,m)=>{const v=Gu(l[1]),w=new mt(v);s=s.add(w)}).next(()=>s)}containsKey(t,e){const i=Fo(e.path),r=IDBKeyRange.bound([i],[D3(i)],!1,!0);let s=0;return Jm(t).X({index:"documentTargetsIndex",Y:!0,range:r},([l,h],m,v)=>{0!==l&&(s++,v.done())}).next(()=>s>0)}le(t,e){return db(t).get(e).next(i=>i?pC(i):null)}}function db(n){return Vs(n,"targets")}function fz(n){return Vs(n,"targetGlobal")}function Jm(n){return Vs(n,"targetDocuments")}function mz([n,t],[e,i]){const r=ln(n,e);return 0===r?ln(t,i):r}class T7{constructor(t){this.Ln=t,this.buffer=new Wi(mz),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();mz(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class pz{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Qe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Re.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){jm(i)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Hm(i)}yield e.Qn(3e5)}))}}class A7{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ve.resolve(Pl.ct);const i=new T7(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(cz)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cz):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,l,h,m,v;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,l=Date.now(),this.nthSequenceNumber(t,r))).next(T=>(i=T,h=Date.now(),this.removeTargets(t,i,e))).next(T=>(s=T,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(v=Date.now(),jP()<=va.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-w}ms\n\tDetermined least recently used ${r} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(m-h)+`ms\n\tRemoved ${T} documents in `+(v-m)+`ms\nTotal Duration: ${v-w}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:T})))}}class k7{constructor(t,e){this.db=t,this.garbageCollector=function gz(n,t){return new A7(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return lA(t,i)}removeReference(t,e,i){return lA(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return lA(t,e)}Xn(t,e){return function(i,r){let s=!1;return hz(i).Z(l=>uz(i,l,r).next(h=>(h&&(s=!0),ve.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(l,h)=>{if(h<=e){const m=this.Xn(t,l).next(v=>{if(!v)return s++,i.getEntry(t,l).next(()=>(i.removeEntry(l,Bt.min()),Jm(t).delete([0,Fo(l.path)])))});r.push(m)}}).next(()=>ve.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return lA(t,e)}Yn(t,e){const i=Jm(t);let r,s=Pl.ct;return i.X({index:"documentTargetsIndex"},([l,h],{path:m,sequenceNumber:v})=>{0===l?(s!==Pl.ct&&e(new mt(Gu(r)),s),s=v,r=m):s=Pl.ct}).next(()=>{s!==Pl.ct&&e(new mt(Gu(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function lA(n,t){return Jm(n).put((i=n.currentSequenceNumber,{targetId:0,path:Fo(t.path),sequenceNumber:i}));var i}class _z{constructor(){this.changes=new gf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ve.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class M7{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return h_(t).put(i)}removeEntry(t,e,i){return h_(t).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],tA(s),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Yi.newInvalidDocument(e);return h_(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(bC(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Yi.newInvalidDocument(e)};return h_(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(bC(e))},(r,s)=>{i={document:this.ts(e,s),size:oA(s)}}).next(()=>i)}getEntries(t,e){let i=qa();return this.ns(t,e,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(t,e){let i=qa(),r=new Ni(mt.comparator);return this.ns(t,e,(s,l)=>{const h=this.ts(s,l);i=i.insert(s,h),r=r.insert(s,oA(l))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ve.resolve();let r=new Wi(wz);e.forEach(m=>r=r.add(m));const s=IDBKeyRange.bound(bC(r.first()),bC(r.last())),l=r.getIterator();let h=l.getNext();return h_(t).X({index:"documentKeyIndex",range:s},(m,v,w)=>{const T=mt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&wz(h,T)<0;)i(h,null),h=l.getNext();h&&h.isEqual(T)&&(i(h,v),h=l.hasNext()?l.getNext():null),h?w.G(bC(h)):w.done()}).next(()=>{for(;h;)i(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,l=[s.popLast().toArray(),s.lastSegment(),tA(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return h_(t).j(IDBKeyRange.bound(l,h,!0)).next(m=>{let v=qa();for(const w of m){const T=this.ts(mt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);T.isFoundDocument()&&(rC(e,T)||r.has(T.key))&&(v=v.insert(T.key,T))}return v})}getAllFromCollectionGroup(t,e,i,r){let s=qa();const l=bz(e,i),h=bz(e,Ol.max());return h_(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(m,v,w)=>{const T=this.ts(mt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(T.key,T),s.size===r&&w.done()}).next(()=>s)}newChangeBuffer(t){return new R7(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return yz(t).get("remoteDocumentGlobalKey").next(e=>(Ft(!!e),e))}Zn(t,e){return yz(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function _7(n,t){let e;if(t.document)e=zj(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=mt.fromSegments(t.noDocument.path),r=a_(t.noDocument.readTime);e=Yi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dt();{const i=mt.fromSegments(t.unknownDocument.path),r=a_(t.unknownDocument.version);e=Yi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new lr(i[0],i[1]);return Bt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Bt.min()))return i}return Yi.newInvalidDocument(t)}}function vz(n){return new M7(n)}class R7 extends _z{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new gf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Wi((s,l)=>ln(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.us.get(s);if(e.push(this.os.removeEntry(t,s,h.readTime)),l.isValidDocument()){const m=Zj(this.os.serializer,l);r=r.add(s.path.popLast());const v=oA(m);i+=v-h.size,e.push(this.os.addEntry(t,s,m))}else if(i-=h.size,this.trackRemovals){const m=Zj(this.os.serializer,l.convertToNoDocument(Bt.min()));e.push(this.os.addEntry(t,s,m))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),ve.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function yz(n){return Vs(n,"remoteDocumentGlobal")}function h_(n){return Vs(n,"remoteDocumentsV14")}function bC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bz(n,t){const e=t.documentKey.path.toArray();return[n,tA(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function wz(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=ln(e[s],i[s]),r)return r;return r=ln(e.length,i.length),r||(r=ln(e[e.length-2],i[i.length-2]),r||ln(e[e.length-1],i[i.length-1]))}class O7{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class xz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&lC(i.mutation,r,$a.empty(),lr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Cn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Cn()){const r=qu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let l=sC();return s.forEach((h,m)=>{l=l.insert(h,m.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=qu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Cn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((l,h)=>{e.set(l,h)})})}computeViews(t,e,i,r){let s=qa();const l=oC(),h=oC();return e.forEach((m,v)=>{const w=i.get(v.key);r.has(v.key)&&(void 0===w||w.mutation instanceof _f)?s=s.insert(v.key,v):void 0!==w?(l.set(v.key,w.mutation.getFieldMask()),lC(w.mutation,v,w.mutation.getFieldMask(),lr.now())):l.set(v.key,$a.empty())}),this.recalculateAndSaveOverlays(t,s).next(m=>(m.forEach((v,w)=>l.set(v,w)),e.forEach((v,w)=>{var T;return h.set(v,new O7(w,null!==(T=l.get(v))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(t,e){const i=oC();let r=new Ni((l,h)=>l-h),s=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const h of l)h.keys().forEach(m=>{const v=e.get(m);if(null===v)return;let w=i.get(m)||$a.empty();w=h.applyToLocalView(v,w),i.set(m,w);const T=(r.get(h.batchId)||Cn()).add(m);r=r.insert(h.batchId,T)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,w=m.value,T=mj();w.forEach(O=>{if(!s.has(O)){const B=Cj(e.get(O),i.get(O));null!==B&&T.set(O,B),s=s.add(O)}}),l.push(this.documentOverlayCache.saveOverlays(t,v,T))}return ve.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return mt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):nF(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):ve.resolve(qu());let h=-1,m=s;return l.next(v=>ve.forEach(v,(w,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),s.get(w)?ve.resolve():this.remoteDocumentCache.getEntry(t,w).next(O=>{m=m.insert(w,O)}))).next(()=>this.populateOverlays(t,v,s)).next(()=>this.computeViews(t,m,v,Cn())).next(w=>({batchId:h,changes:fj(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new mt(e)).next(i=>{let r=sC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=sC();return this.indexManager.getCollectionParents(t,r).next(l=>ve.forEach(l,h=>{const m=(v=e,w=h.child(r),new pf(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,w;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(v=>{v.forEach((w,T)=>{s=s.insert(w,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((h,m)=>{const v=m.getKey();null===s.get(v)&&(s=s.insert(v,Yi.newInvalidDocument(v)))});let l=sC();return s.forEach((h,m)=>{const v=r.get(h);void 0!==v&&lC(v.mutation,m,$a.empty(),lr.now()),rC(e,m)&&(l=l.insert(h,m))}),l})}}class P7{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ve.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Zr(i.createTime)}),ve.resolve()}getNamedQuery(t,e){return ve.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:_F(i.bundledQuery),readTime:Zr(i.readTime)}),ve.resolve();var i}}class F7{constructor(){this.overlays=new Ni(mt.comparator),this.ls=new Map}getOverlay(t,e){return ve.resolve(this.overlays.get(e))}getOverlays(t,e){const i=qu();return ve.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),ve.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ve.resolve()}getOverlaysForCollection(t,e,i){const r=qu(),s=e.length+1,l=new mt(e.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===s&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ve.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Ni((v,w)=>v-w);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let w=s.get(v.largestBatchId);null===w&&(w=qu(),s=s.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const h=qu(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,w)=>h.set(v,w)),!(h.size()>=r)););return ve.resolve(h)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new cF(e,i));let s=this.ls.get(e);void 0===s&&(s=Cn(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class EF{constructor(){this.fs=new Wi(Us.ds),this.ws=new Wi(Us._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Us(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Us(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new mt(new jn([])),i=new Us(e,t),r=new Us(e,t+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new mt(new jn([])),i=new Us(e,t),r=new Us(e,t+1);let s=Cn();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(t){const e=new Us(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Us{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return mt.comparator(t.key,e.key)||ln(t.As,e.As)}static _s(t,e){return ln(t.As,e.As)||mt.comparator(t.key,e.key)}}class N7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Wi(Us.ds)}checkEmpty(t){return ve.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const l=new aF(s,e,i,r);this.mutationQueue.push(l);for(const h of r)this.Rs=this.Rs.add(new Us(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(t,e){return ve.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Us(e,0),r=new Us(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const h=this.Ps(l.As);s.push(h)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Wi(ln);return e.forEach(r=>{const s=new Us(r,0),l=new Us(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],h=>{i=i.add(h.As)})}),ve.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;mt.isDocumentKey(s)||(s=s.child(""));const l=new Us(new mt(s),0);let h=new Wi(ln);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m.As)),!0)},l),ve.resolve(this.Vs(h))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ft(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ve.forEach(e.mutations,r=>{const s=new Us(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Us(e,0),r=this.Rs.firstAfterOrEqual(i);return ve.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ve.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class L7{constructor(t){this.Ds=t,this.docs=new Ni(mt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ve.resolve(i?i.document.mutableCopy():Yi.newInvalidDocument(e))}getEntries(t,e){let i=qa();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Yi.newInvalidDocument(r))}),ve.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=qa();const l=e.path,h=new mt(l.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||$P(T3(w),i)<=0||(r.has(w.key)||rC(e,w))&&(s=s.insert(w.key,w.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Dt()}Cs(t,e){return ve.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new B7(this)}getSize(t){return ve.resolve(this.size)}}class B7 extends _z{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ve.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class V7{constructor(t){this.persistence=t,this.xs=new gf(e=>n_(e),nC),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new EF,this.targetCount=0,this.Ms=u_.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ve.resolve()}getLastRemoteSnapshotVersion(t){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ve.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ve.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new u_(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ve.resolve()}updateTargetData(t,e){return this.Fn(e),ve.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ve.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ve.waitFor(s).next(()=>r)}getTargetCount(t){return ve.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ve.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ve.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(l=>{s.push(r.markPotentiallyOrphaned(t,l))}),ve.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ve.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ve.resolve(i)}containsKey(t,e){return ve.resolve(this.ks.containsKey(e))}}class IF{constructor(t,e){this.$s={},this.overlays={},this.Os=new Pl(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new V7(this),this.indexManager=new I7,this.remoteDocumentCache=new L7(i=>this.referenceDelegate.Ls(i)),this.serializer=new Kj(e),this.qs=new P7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new F7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new N7(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Qe("MemoryPersistence","Starting transaction:",t);const r=new U7(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return ve.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class U7 extends k3{constructor(t){super(),this.currentSequenceNumber=t}}class cA{constructor(t){this.persistence=t,this.Qs=new EF,this.js=null}static zs(t){return new cA(t)}get Ws(){if(this.js)return this.js;throw Dt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ve.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ve.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ve.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Ws,i=>{const r=mt.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,Bt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ve.or([()=>ve.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class H7{constructor(t){this.serializer=t}O(t,e,i,r){const s=new BT("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",P3,{unique:!0}),h.createObjectStore("documentMutations"),Cz(t),function(h){h.createObjectStore("remoteDocuments")}(t));let l=ve.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),Cz(t)),l=l.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(h,m){return m.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",P3,{unique:!0});const w=m.store("mutations"),T=v.map(O=>w.put(O));return ve.waitFor(T)})}(t,s))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(t,s))),i<9&&r>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:E9});m.createIndex("collectionPathOverlayIndex",I9,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",D9,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:f9});m.createIndex("documentKeyIndex",m9),m.createIndex("collectionGroupIndex",p9)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(t,s))),i<15&&r>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:b9}).createIndex("sequenceNumberIndex",w9,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:x9}).createIndex("documentKeyIndex",C9,{unique:!1})}(t))),l}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=oA(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ve.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(h=>ve.forEach(h,m=>{Ft(m.userId===s.userId);const v=l_(this.serializer,m);return dz(t,s.userId,v).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,h)=>{const m=new jn(l),v=[0,Fo(m)];s.push(e.get(v).next(w=>w?ve.resolve():e.put({targetId:0,path:Fo(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ve.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:y9});const i=e.store("collectionParents"),r=new CF,s=l=>{if(r.add(l)){const h=l.lastSegment(),m=l.popLast();return i.put({collectionId:h,parent:Fo(m)})}};return e.store("remoteDocuments").X({Y:!0},(l,h)=>{const m=new jn(l);return s(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,h,m],v)=>{const w=Gu(h);return s(w.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=pC(r),l=Qj(this.serializer,s);return e.put(l)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,l)=>{const h=e.store("remoteDocumentsV14"),m=(v=l,v.document?new mt(jn.fromString(v.document.name).popFirst(5)):v.noDocument?mt.fromSegments(v.noDocument.path):v.unknownDocument?mt.fromSegments(v.unknownDocument.path):Dt()).path.toArray();var v;const w={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(h.put(w))}).next(()=>ve.waitFor(r))}si(t,e){const i=e.store("mutations"),r=vz(this.serializer),s=new IF(cA.zs,this.serializer.fe);return i.j().next(l=>{const h=new Map;return l.forEach(m=>{var v;let w=null!==(v=h.get(m.userId))&&void 0!==v?v:Cn();l_(this.serializer,m).keys().forEach(T=>w=w.add(T)),h.set(m.userId,w)}),ve.forEach(h,(m,v)=>{const w=new Bs(v),T=nA.de(this.serializer,w),O=s.getIndexManager(w),B=aA.de(w,this.serializer,O,s.referenceDelegate);return new xz(r,B,T,O).recalculateAndSaveOverlaysForDocumentKeys(new YP(e,Pl.ct),m).next()})})}}function Cz(n){n.createObjectStore("targetDocuments",{keyPath:_9}).createIndex("documentTargetsIndex",v9,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",g9,{unique:!0}),n.createObjectStore("targetGlobal")}const DF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class SF{constructor(t,e,i,r,s,l,h,m,v,w,T=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=l,this.document=h,this.ri=v,this.oi=w,this.ui=T,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=O=>Promise.resolve(),!SF.D())throw new Ge(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new k7(this,r),this.di=e+"main",this.serializer=new Kj(m),this.wi=new Sd(this.di,this.ui,new H7(this.serializer)),this.Bs=new S7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vz(this.serializer),this.qs=new v7,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(Ee.FAILED_PRECONDITION,DF);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Pl(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,Re.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,Re.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,Re.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>uA(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(jm(t))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return wC(t).get("owner").next(e=>ve.resolve(this.Ri(e)))}Pi(t){return uA(t).delete(this.clientId)}bi(){var t=this;return(0,Re.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Vs(i,"clientMetadata");return r.j().next(s=>{const l=t.Si(s,18e5),h=s.filter(m=>-1===l.indexOf(m));return ve.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ve.resolve(!0):wC(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Ge(Ee.FAILED_PRECONDITION,DF);return!1}}return!(!this.networkEnabled||!this.inForeground)||uA(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Qe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Re.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new YP(e,Pl.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>uA(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return aA.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new D7(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return nA.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Qe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(l=this.ui)?T9:14===l?B3:13===l?L3:12===l?S9:11===l?N3:void Dt();var l;let h;return this.wi.runTransaction(t,r,s,m=>(h=new YP(m,this.Os?this.Os.next():Pl.ct),"readwrite-primary"===e?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw Kr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ge(Ee.FAILED_PRECONDITION,A3);return i(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(t){return wC(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ge(Ee.FAILED_PRECONDITION,DF)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wC(t).put("owner",e)}static D(){return Sd.D()}Ai(t){const e=wC(t);return e.get("owner").next(i=>this.Ri(i)?(Qe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ve.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Kr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,H.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Qe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Kr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Kr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function wC(n){return Vs(n,"owner")}function uA(n){return Vs(n,"clientMetadata")}function TF(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class AF{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=Cn(),r=Cn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new AF(t,e.fromCache,i,r)}}class Ez{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(lj(e))return ve.resolve(null);let i=ya(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=KT(e,null,"F"),i=ya(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const l=Cn(...s);return this.Ui.getDocuments(t,l).next(h=>this.indexManager.getMinOffset(t,i).next(m=>{const v=this.ji(e,h);return this.zi(e,v,l,m.readTime)?this.Ki(t,KT(e,null,"F")):this.Wi(t,v,e,m)}))})))}Gi(t,e,i,r){return lj(e)||r.isEqual(Bt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const l=this.ji(e,s);return this.zi(e,l,i,r)?this.Qi(t,e):(jP()<=va.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rF(e)),this.Wi(t,l,e,S3(r,-1)))})}ji(t,e){let i=new Wi(uj(t));return e.forEach((r,s)=>{rC(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return jP()<=va.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",rF(e)),this.Ui.getDocumentsMatchingQuery(t,e,Ol.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(l=>{s=s.insert(l.key,l)}),s))}}class j7{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Ni(ln),this.Yi=new gf(s=>n_(s),nC),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function Iz(n,t,e,i){return new j7(n,t,e,i)}function Dz(n,t){return kF.apply(this,arguments)}function kF(){return kF=(0,Re.Z)(function*(n,t){const e=gt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],h=[];let m=Cn();for(const v of r){l.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of s){h.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return e.localDocuments.getDocuments(i,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:h}))})})}),kF.apply(this,arguments)}function Sz(n){const t=gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Tz(n,t,e){let i=Cn(),r=Cn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let l=qa();return e.forEach((h,m)=>{const v=s.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(Bt.min())?(t.removeEntry(h,m.readTime),l=l.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m),l=l.insert(h,m)):Qe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:r}})}function $7(n,t){const e=gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ub(n,t){const e=gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,ve.resolve(r)):e.Bs.allocateTargetId(i).next(l=>(r=new vf(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function hb(n,t,e){return MF.apply(this,arguments)}function MF(){return MF=(0,Re.Z)(function*(n,t,e){const i=gt(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!jm(l))throw l;Qe("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),MF.apply(this,arguments)}function hA(n,t,e){const i=gt(n);let r=Bt.min(),s=Cn();return i.persistence.runTransaction("Execute query","readonly",l=>function(h,m,v){const w=gt(h),T=w.Yi.get(v);return void 0!==T?ve.resolve(w.Ji.get(T)):w.Bs.getTargetData(m,v)}(i,l,ya(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,h.targetId).next(m=>{s=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,t,e?r:Bt.min(),e?s:Cn())).next(h=>(Mz(i,dj(t),h),{documents:h,ir:s})))}function Az(n,t){const e=gt(n),i=gt(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(l=>l?l.target:null))}function kz(n,t){const e=gt(n),i=e.Xi.get(t)||Bt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,S3(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Mz(e,t,r),r))}function Mz(n,t,e){let i=n.Xi.get(t)||Bt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function RF(){return RF=(0,Re.Z)(function*(n,t,e,i){const r=gt(n);let s=Cn(),l=qa();for(const v of e){const w=t.rr(v.metadata.name);v.document&&(s=s.add(w));const T=t.ur(v);T.setReadTime(t.cr(v.metadata.readTime)),l=l.insert(w,T)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield ub(r,(v=i,ya(nb(jn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Tz(v,h,l).next(w=>(h.apply(v),w)).next(w=>r.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.Bs.addMatchingKeys(v,s,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,w.nr,w.sr)).next(()=>w.nr)))}),RF.apply(this,arguments)}function W7(n,t){return OF.apply(this,arguments)}function OF(){return OF=(0,Re.Z)(function*(n,t,e=Cn()){const i=yield ub(n,ya(_F(t.bundledQuery))),r=gt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=Zr(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,t);const h=i.withResumeToken(Cs.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),OF.apply(this,arguments)}function Rz(n,t){return`firestore_clients_${n}_${t}`}function Oz(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function PF(n,t){return`firestore_targets_${n}_${t}`}class fA{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Ge(r.error.code,r.error.message))),l?new fA(t,e,r.state,s):(Kr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class xC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ge(i.error.code,i.error.message))),s?new xC(t,i.state,r):(Kr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mA{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=sF();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=R3(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new mA(t,s):(Kr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class FF{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new FF(e.clientId,e.onlineState):(Kr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class NF{constructor(){this.activeTargetIds=sF()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LF{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ni(ln),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Rz(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new NF),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Re.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(Rz(t.persistenceKey,r));if(s){const l=mA.ar(r,s);l&&(t.gr=t.gr.insert(l.clientId,l))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(PF(this.persistenceKey,t));if(i){const r=xC.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(PF(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Qe("SharedClientState","READ",t,e),e}setItem(t,e){Qe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Qe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Qe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Re.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let l=Pl.ct;if(null!=s)try{const h=JSON.parse(s);Ft("number"==typeof h),l=h}catch(h){Kr("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(i.newValue);r!==Pl.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new fA(this.currentUser,t,e,i),s=Oz(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=Oz(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=PF(this.persistenceKey,t),s=new xC(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return mA.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return fA.ar(new Bs(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return xC.ar(r,e)}br(t){return FF.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,Re.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),l=[],h=[];return s.forEach(m=>{r.has(m)||l.push(m)}),r.forEach(m=>{s.has(m)||h.push(m)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=sF();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class Pz{constructor(){this.Hr=new NF,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new NF,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Y7{Yr(t){}shutdown(){}}class Fz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pA=null;function BF(){return null===pA?pA=268435456+Math.round(2147483648*Math.random()):pA++,"0x"+pA.toString(16)}const K7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z7{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Lo="WebChannelConnection";class Q7 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const l=BF(),h=this.To(t,e);Qe("RestConnection",`Sending RPC '${t}' ${l}:`,h,i);const m={};return this.Eo(m,r,s),this.Ao(t,h,m,i).then(v=>(Qe("RestConnection",`Received RPC '${t}' ${l}: `,v),v),v=>{throw Dc("RestConnection",`RPC '${t}' ${l} failed with error: `,v,"url: ",h,"request:",i),v})}vo(t,e,i,r,s,l){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Zy,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${K7[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=BF();return new Promise((l,h)=>{const m=new WW;m.setWithCredentials(!0),m.listenOnce(GW.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case HP.NO_ERROR:const w=m.getResponseJson();Qe(Lo,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(w)),l(w);break;case HP.TIMEOUT:Qe(Lo,`RPC '${t}' ${s} timed out`),h(new Ge(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case HP.HTTP_ERROR:const T=m.getStatus();if(Qe(Lo,`RPC '${t}' ${s} failed with status:`,T,"response text:",m.getResponseText()),T>0){let O=m.getResponseJson();Array.isArray(O)&&(O=O[0]);const B=O?.error;if(B&&B.status&&B.message){const $=function(Z){const re=Z.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(re)>=0?re:Ee.UNKNOWN}(B.status);h(new Ge($,B.message))}else h(new Ge(Ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ge(Ee.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Qe(Lo,`RPC '${t}' ${s} completed.`)}});const v=JSON.stringify(r);Qe(Lo,`RPC '${t}' ${s} sending request:`,r),m.send(e,"POST",v,i,15)})}Ro(t,e,i){const r=BF(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=jW(),h=zW(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new qW({})),this.Eo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const w=s.join("");Qe(Lo,`Creating RPC '${t}' stream ${r}: ${w}`,m);const T=l.createWebChannel(w,m);let O=!1,B=!1;const $=new Z7({ro:re=>{B?Qe(Lo,`Not sending because RPC '${t}' stream ${r} is closed:`,re):(O||(Qe(Lo,`Opening RPC '${t}' stream ${r} transport.`),T.open(),O=!0),Qe(Lo,`RPC '${t}' stream ${r} sending:`,re),T.send(re))},oo:()=>T.close()}),Z=(re,Ae,Ze)=>{re.listen(Ae,Xe=>{try{Ze(Xe)}catch(ot){setTimeout(()=>{throw ot},0)}})};return Z(T,FT.EventType.OPEN,()=>{B||Qe(Lo,`RPC '${t}' stream ${r} transport opened.`)}),Z(T,FT.EventType.CLOSE,()=>{B||(B=!0,Qe(Lo,`RPC '${t}' stream ${r} transport closed`),$.wo())}),Z(T,FT.EventType.ERROR,re=>{B||(B=!0,Dc(Lo,`RPC '${t}' stream ${r} transport errored:`,re),$.wo(new Ge(Ee.UNAVAILABLE,"The operation could not be completed")))}),Z(T,FT.EventType.MESSAGE,re=>{var Ae;if(!B){const Ze=re.data[0];Ft(!!Ze);const ot=Ze.error||(null===(Ae=Ze[0])||void 0===Ae?void 0:Ae.error);if(ot){Qe(Lo,`RPC '${t}' stream ${r} received error:`,ot);const Vt=ot.status;let zt=function(fr){const Uo=us[fr];if(void 0!==Uo)return Aj(Uo)}(Vt),Rn=ot.message;void 0===zt&&(zt=Ee.INTERNAL,Rn="Unknown error status: "+Vt+" with message "+ot.message),B=!0,$.wo(new Ge(zt,Rn)),T.close()}else Qe(Lo,`RPC '${t}' stream ${r} received:`,Ze),$._o(Ze)}}),Z(h,$W.STAT_EVENT,re=>{re.stat===w3.PROXY?Qe(Lo,`RPC '${t}' stream ${r} detected buffering proxy`):re.stat===w3.NOPROXY&&Qe(Lo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function Nz(){return typeof window<"u"?window:null}function gA(){return typeof document<"u"?document:null}function CC(n){return new a7(n,!0)}class VF{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Qe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Lz{constructor(t,e,i,r,s,l,h,m){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new VF(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,Re.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,Re.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,Re.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===Ee.RESOURCE_EXHAUSTED?(Kr(e.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===Ee.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Ge(Ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,Re.Z)(function*(){t.state=0,t.start()}))}tu(t){return Qe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X7 extends Lz{constructor(t,e,i,r,s,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function d7(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Dt(),r=t.targetChange.targetIds||[],s=function(m,v){return m.useProto3Json?(Ft(void 0===v||"string"==typeof v),Cs.fromBase64String(v||"")):(Ft(void 0===v||v instanceof Uint8Array),Cs.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,h=l&&function(m){const v=void 0===m.code?Ee.UNKNOWN:Aj(m.code);return new Ge(v,m.message||"")}(l);e=new Pj(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Wu(n,i.document.name),s=Zr(i.document.updateTime),l=i.document.createTime?Zr(i.document.createTime):Bt.min(),h=new ho({mapValue:{fields:i.document.fields}}),m=Yi.newFoundDocument(r,s,l,h);e=new eA(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const i=t.documentDelete,r=Wu(n,i.document),s=i.readTime?Zr(i.readTime):Bt.min(),l=Yi.newNoDocument(r,s);e=new eA([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=Wu(n,i.document);e=new eA([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Dt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,l=new e7(r,s);e=new Oj(i.targetId,l)}}var m;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Bt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Bt.min():s.readTime?Zr(s.readTime):Bt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=fC(this.serializer),e.addTarget=function(r,s){let l;const h=s.target;if(l=qT(h)?{documents:Gj(r,h)}:{query:gF(r,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=Bj(r,s.resumeToken);const m=hF(r,s.expectedCount);null!==m&&(l.expectedCount=m)}else if(s.snapshotVersion.compareTo(Bt.min())>0){l.readTime=ab(r,s.snapshotVersion.toTimestamp());const m=hF(r,s.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,t);const i=function h7(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=fC(this.serializer),e.removeTarget=t,this.Wo(e)}}class J7 extends Lz{constructor(t,e,i,r,s,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function u7(n,t){return n&&n.length>0?(Ft(void 0!==t),n.map(e=>function(i,r){let s=Zr(i.updateTime?i.updateTime:r);return s.isEqual(Bt.min())&&(s=Zr(r)),new Z9(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Zr(t.commitTime);return this.listener.cu(i,e)}return Ft(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=fC(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>mC(this.serializer,i))};this.Wo(e)}}class eY extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ge(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ge(Ee.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(t,e,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ge(Ee.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class nY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kr(e),this.mu=!1):Qe("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class iY{constructor(t,e,i,r,s){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,Re.Z)(function*(){var m;ep(l)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Re.Z)(function*(v){const w=gt(v);w.vu.add(4),yield fb(w),w.bu.set("Unknown"),w.vu.delete(4),yield EC(w)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new nY(i,r)}}function EC(n){return HF.apply(this,arguments)}function HF(){return HF=(0,Re.Z)(function*(n){if(ep(n))for(const t of n.Ru)yield t(!0)}),HF.apply(this,arguments)}function fb(n){return jF.apply(this,arguments)}function jF(){return jF=(0,Re.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),jF.apply(this,arguments)}function _A(n,t){const e=gt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),$F(e)?GF(e):pb(e).Ko()&&zF(e,t))}function IC(n,t){const e=gt(n),i=pb(e);e.Au.delete(t),i.Ko()&&Bz(e,t),0===e.Au.size&&(i.Ko()?i.jo():ep(e)&&e.bu.set("Unknown"))}function zF(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}pb(n).su(t)}function Bz(n,t){n.Vu.qt(t),pb(n).iu(t)}function GF(n){n.Vu=new n7({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),pb(n).start(),n.bu.gu()}function $F(n){return ep(n)&&!pb(n).Uo()&&n.Au.size>0}function ep(n){return 0===gt(n).vu.size}function Vz(n){n.Vu=void 0}function rY(n){return qF.apply(this,arguments)}function qF(){return qF=(0,Re.Z)(function*(n){n.Au.forEach((t,e)=>{zF(n,t)})}),qF.apply(this,arguments)}function sY(n,t){return WF.apply(this,arguments)}function WF(){return WF=(0,Re.Z)(function*(n,t){Vz(n),$F(n)?(n.bu.Iu(t),GF(n)):n.bu.set("Unknown")}),WF.apply(this,arguments)}function oY(n,t,e){return YF.apply(this,arguments)}function YF(){return YF=(0,Re.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof Pj&&2===t.state&&t.cause)try{yield(i=(0,Re.Z)(function*(r,s){const l=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,l),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Qe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield vA(n,i)}else if(t instanceof eA?n.Vu.Ht(t):t instanceof Oj?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Bt.min()))try{const i=yield Sz(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Au.get(m);v&&r.Au.set(m,v.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach((h,m)=>{const v=r.Au.get(h);if(!v)return;r.Au.set(h,v.withResumeToken(Cs.EMPTY_BYTE_STRING,v.snapshotVersion)),Bz(r,h);const w=new vf(v.target,h,m,v.sequenceNumber);zF(r,w)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){Qe("RemoteStore","Failed to raise snapshot:",i),yield vA(n,i)}var i}),YF.apply(this,arguments)}function vA(n,t,e){return KF.apply(this,arguments)}function KF(){return KF=(0,Re.Z)(function*(n,t,e){if(!jm(t))throw t;n.vu.add(1),yield fb(n),n.bu.set("Offline"),e||(e=()=>Sz(n.localStore)),n.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield EC(n)}))}),KF.apply(this,arguments)}function Uz(n,t){return t().catch(e=>vA(n,e,t))}function mb(n){return ZF.apply(this,arguments)}function ZF(){return ZF=(0,Re.Z)(function*(n){const t=gt(n),e=tp(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;aY(t);)try{const r=yield $7(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,lY(t,r)}catch(r){yield vA(t,r)}Hz(t)&&jz(t)}),ZF.apply(this,arguments)}function aY(n){return ep(n)&&n.Eu.length<10}function lY(n,t){n.Eu.push(t);const e=tp(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function Hz(n){return ep(n)&&!tp(n).Uo()&&n.Eu.length>0}function jz(n){tp(n).start()}function cY(n){return QF.apply(this,arguments)}function QF(){return QF=(0,Re.Z)(function*(n){tp(n).hu()}),QF.apply(this,arguments)}function dY(n){return XF.apply(this,arguments)}function XF(){return XF=(0,Re.Z)(function*(n){const t=tp(n);for(const e of n.Eu)t.uu(e.mutations)}),XF.apply(this,arguments)}function uY(n,t,e){return JF.apply(this,arguments)}function JF(){return JF=(0,Re.Z)(function*(n,t,e){const i=n.Eu.shift(),r=lF.from(i,t,e);yield Uz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield mb(n)}),JF.apply(this,arguments)}function hY(n,t){return eN.apply(this,arguments)}function eN(){return eN=(0,Re.Z)(function*(n,t){var e;t&&tp(n).ou&&(yield(e=(0,Re.Z)(function*(i,r){if(Tj(s=r.code)&&s!==Ee.ABORTED){const l=i.Eu.shift();tp(i).Qo(),yield Uz(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield mb(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),Hz(n)&&jz(n)}),eN.apply(this,arguments)}function zz(n,t){return tN.apply(this,arguments)}function tN(){return tN=(0,Re.Z)(function*(n,t){const e=gt(n);e.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const i=ep(e);e.vu.add(3),yield fb(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield EC(e)}),tN.apply(this,arguments)}function nN(n,t){return iN.apply(this,arguments)}function iN(){return iN=(0,Re.Z)(function*(n,t){const e=gt(n);t?(e.vu.delete(2),yield EC(e)):t||(e.vu.add(2),yield fb(e),e.bu.set("Unknown"))}),iN.apply(this,arguments)}function pb(n){return n.Su||(n.Su=function(t,e,i){const r=gt(t);return r.fu(),new X7(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:rY.bind(null,n),ao:sY.bind(null,n),nu:oY.bind(null,n)}),n.Ru.push(function(){var t=(0,Re.Z)(function*(e){e?(n.Su.Qo(),$F(n)?GF(n):n.bu.set("Unknown")):(yield n.Su.stop(),Vz(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function tp(n){return n.Du||(n.Du=function(t,e,i){const r=gt(t);return r.fu(),new J7(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:cY.bind(null,n),ao:hY.bind(null,n),au:dY.bind(null,n),cu:uY.bind(null,n)}),n.Ru.push(function(){var t=(0,Re.Z)(function*(e){e?(n.Du.Qo(),yield mb(n)):(yield n.Du.stop(),n.Eu.length>0&&(Qe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class rN{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,s){const l=Date.now()+i,h=new rN(t,e,l,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(Ee.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gb(n,t){if(Kr("AsyncQueue",`${t}: ${n}`),jm(n))return new Ge(Ee.UNAVAILABLE,`${t}: ${n}`);throw n}class _b{constructor(t){this.comparator=t?(e,i)=>t(e,i)||mt.comparator(e.key,i.key):(e,i)=>mt.comparator(e.key,i.key),this.keyedMap=sC(),this.sortedSet=new Ni(this.comparator)}static emptySet(t){return new _b(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _b)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new _b;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Gz{constructor(){this.Cu=new Ni(mt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):Dt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class vb{constructor(t,e,i,r,s,l,h,m,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,s){const l=[];return e.forEach(h=>{l.push({type:0,doc:h})}),new vb(t,e,_b.emptySet(e),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&iC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class fY{constructor(){this.Nu=void 0,this.listeners=[]}}class mY{constructor(){this.queries=new gf(t=>cj(t),iC),this.onlineState="Unknown",this.ku=new Set}}function sN(n,t){return oN.apply(this,arguments)}function oN(){return oN=(0,Re.Z)(function*(n,t){const e=gt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new fY),r)try{s.Nu=yield e.onListen(i)}catch(l){const h=gb(l,`Initialization of query '${rF(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&cN(e)}),oN.apply(this,arguments)}function aN(n,t){return lN.apply(this,arguments)}function lN(){return lN=(0,Re.Z)(function*(n,t){const e=gt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const l=s.listeners.indexOf(t);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),lN.apply(this,arguments)}function pY(n,t){const e=gt(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const h of l.listeners)h.$u(r)&&(i=!0);l.Nu=r}}i&&cN(e)}function gY(n,t,e){const i=gt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function cN(n){n.ku.forEach(t=>{t.next()})}class dN{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new vb(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=vb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class _Y{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class $z{constructor(t){this.serializer=t}rr(t){return Wu(this.serializer,t)}ur(t){return t.metadata.exists?zj(this.serializer,t.document,!1):Yi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Zr(t)}}class vY{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qz(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=jn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new $z(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const h=(e.get(l)||Cn()).add(s);e.set(l,h)}}return e}complete(){var t=this;return(0,Re.Z)(function*(){const e=yield function q7(n,t,e,i){return RF.apply(this,arguments)}(t.localStore,new $z(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield W7(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function qz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Wz{constructor(t){this.key=t}}class Yz{constructor(t){this.key=t}}class Kz{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cn(),this.mutatedKeys=Cn(),this.tc=uj(t),this.ec=new _b(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new Gz,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,l=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,T)=>{const O=r.get(w),B=rC(this.query,T)?T:null,$=!!O&&this.mutatedKeys.has(O.key),Z=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let re=!1;O&&B?O.data.isEqual(B.data)?$!==Z&&(i.track({type:3,doc:B}),re=!0):this.rc(O,B)||(i.track({type:2,doc:B}),re=!0,(m&&this.tc(B,m)>0||v&&this.tc(B,v)<0)&&(h=!0)):!O&&B?(i.track({type:0,doc:B}),re=!0):O&&!B&&(i.track({type:1,doc:O}),re=!0,(m||v)&&(h=!0)),re&&(B?(l=l.add(B),s=Z?s.add(w):s.delete(w)):(l=l.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const w="F"===this.query.limitType?l.last():l.first();l=l.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{ec:l,ic:i,zi:h,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((v,w)=>function(T,O){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return B(T)-B(O)}(v.type,w.type)||this.tc(v.doc,w.doc)),this.oc(i);const l=e?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==s.length||m?{snapshot:new vb(this.query,t.ec,r,s,t.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Gz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Cn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new Yz(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new Wz(i))}),e}hc(t){this.Yu=t.ir,this.Zu=Cn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return vb.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class yY{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class bY{constructor(t){this.key=t,this.fc=!1}}class wY{constructor(t,e,i,r,s,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new gf(h=>cj(h),iC),this._c=new Map,this.mc=new Set,this.gc=new Ni(mt.comparator),this.yc=new Map,this.Ic=new EF,this.Tc={},this.Ec=new Map,this.Ac=u_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function xY(n,t){return uN.apply(this,arguments)}function uN(){return uN=(0,Re.Z)(function*(n,t){const e=PN(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield ub(e.localStore,ya(t)),h=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield hN(e,t,i,"current"===h,l.resumeToken),e.isPrimaryClient&&_A(e.remoteStore,l)}return r}),uN.apply(this,arguments)}function hN(n,t,e,i,r){return fN.apply(this,arguments)}function fN(){return fN=(0,Re.Z)(function*(n,t,e,i,r){n.Rc=(T,O,B)=>{return($=(0,Re.Z)(function*(Z,re,Ae,Ze){let Xe=re.view.sc(Ae);Xe.zi&&(Xe=yield hA(Z.localStore,re.query,!1).then(({documents:zt})=>re.view.sc(zt,Xe)));const ot=Ze&&Ze.targetChanges.get(re.targetId),Vt=re.view.applyChanges(Xe,Z.isPrimaryClient,ot);return CN(Z,re.targetId,Vt.cc),Vt.snapshot}),function(Z,re,Ae,Ze){return $.apply(this,arguments)})(n,T,O,B);var $};const s=yield hA(n.localStore,t,!0),l=new Kz(t,s.ir),h=l.sc(s.documents),m=uC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(h,n.isPrimaryClient,m);CN(n,e,v.cc);const w=new yY(t,e,l);return n.wc.set(t,w),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),v.snapshot}),fN.apply(this,arguments)}function CY(n,t){return mN.apply(this,arguments)}function mN(){return mN=(0,Re.Z)(function*(n,t){const e=gt(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!iC(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield hb(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),IC(e.remoteStore,i.targetId),yb(e,i.targetId)}).catch(Hm))):(yb(e,i.targetId),yield hb(e.localStore,i.targetId,!0))}),mN.apply(this,arguments)}function pN(){return pN=(0,Re.Z)(function*(n,t,e){const i=FN(n);try{const r=yield function(s,l){const h=gt(s),m=lr.now(),v=l.reduce((O,B)=>O.add(B.key),Cn());let w,T;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let B=qa(),$=Cn();return h.Zi.getEntries(O,v).next(Z=>{B=Z,B.forEach((re,Ae)=>{Ae.isValidDocument()||($=$.add(re))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,B)).next(Z=>{w=Z;const re=[];for(const Ae of l){const Ze=X9(Ae,w.get(Ae.key).overlayedDocument);null!=Ze&&re.push(new _f(Ae.key,Ze,K3(Ze.value.mapValue),cr.exists(!0)))}return h.mutationQueue.addMutationBatch(O,m,re,l)}).next(Z=>{T=Z;const re=Z.applyToLocalDocumentSet(w,$);return h.documentOverlayCache.saveOverlays(O,Z.batchId,re)})}).then(()=>({batchId:T.batchId,changes:fj(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,h){let m=s.Tc[s.currentUser.toKey()];m||(m=new Ni(ln)),m=m.insert(l,h),s.Tc[s.currentUser.toKey()]=m}(i,r.batchId,e),yield yf(i,r.changes),yield mb(i.remoteStore)}catch(r){const s=gb(r,"Failed to persist write");e.reject(s)}}),pN.apply(this,arguments)}function Zz(n,t){return gN.apply(this,arguments)}function gN(){return gN=(0,Re.Z)(function*(n,t){const e=gt(n);try{const i=yield function G7(n,t){const e=gt(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const h=[];t.targetChanges.forEach((w,T)=>{const O=r.get(T);if(!O)return;h.push(e.Bs.removeMatchingKeys(s,w.removedDocuments,T).next(()=>e.Bs.addMatchingKeys(s,w.addedDocuments,T)));let B=O.withSequenceNumber(s.currentSequenceNumber);var $,Z,re;null!==t.targetMismatches.get(T)?B=B.withResumeToken(Cs.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,i)),r=r.insert(T,B),Z=B,re=w,(0===($=O).resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&h.push(e.Bs.updateTargetData(s,B))});let m=qa(),v=Cn();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,w))}),h.push(Tz(s,l,t.documentUpdates).next(w=>{m=w.nr,v=w.sr})),!i.isEqual(Bt.min())){const w=e.Bs.getLastRemoteSnapshotVersion(s).next(T=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(w)}return ve.waitFor(h).next(()=>l.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,m,v)).next(()=>m)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const l=e.yc.get(s);l&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Ft(l.fc):r.removedDocuments.size>0&&(Ft(l.fc),l.fc=!1))}),yield yf(e,i,t)}catch(i){yield Hm(i)}}),gN.apply(this,arguments)}function Qz(n,t,e){const i=gt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,l)=>{const h=l.view.Mu(t);h.snapshot&&r.push(h.snapshot)}),function(s,l){const h=gt(s);h.onlineState=l;let m=!1;h.queries.forEach((v,w)=>{for(const T of w.listeners)T.Mu(l)&&(m=!0)}),m&&cN(h)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function IY(n,t,e){return _N.apply(this,arguments)}function _N(){return _N=(0,Re.Z)(function*(n,t,e){const i=gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let l=new Ni(mt.comparator);l=l.insert(s,Yi.newNoDocument(s,Bt.min()));const h=Cn().add(s),m=new dC(Bt.min(),new Map,new Ni(ln),l,h);yield Zz(i,m),i.gc=i.gc.remove(s),i.yc.delete(t),EN(i)}else yield hb(i.localStore,t,!1).then(()=>yb(i,t,e)).catch(Hm)}),_N.apply(this,arguments)}function DY(n,t){return vN.apply(this,arguments)}function vN(){return vN=(0,Re.Z)(function*(n,t){const e=gt(n),i=t.batch.batchId;try{const r=yield function z7(n,t){const e=gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,m,v){const w=m.batch,T=w.keys();let O=ve.resolve();return T.forEach(B=>{O=O.next(()=>v.getEntry(h,B)).next($=>{const Z=m.docVersions.get(B);Ft(null!==Z),$.version.compareTo(Z)<0&&(w.applyToRemoteDocument($,m),$.isValidDocument()&&($.setReadTime(m.commitVersion),v.addEntry($)))})}),O.next(()=>l.mutationQueue.removeMutationBatch(h,w))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let h=Cn();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(h=h.add(l.batch.mutations[m].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);xN(e,i,null),wN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield yf(e,r)}catch(r){yield Hm(r)}}),vN.apply(this,arguments)}function SY(n,t,e){return yN.apply(this,arguments)}function yN(){return yN=(0,Re.Z)(function*(n,t,e){const i=gt(n);try{const r=yield function(s,l){const h=gt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,l).next(w=>(Ft(null!==w),v=w.keys(),h.mutationQueue.removeMutationBatch(m,w))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,t);xN(i,t,e),wN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield yf(i,r)}catch(r){yield Hm(r)}}),yN.apply(this,arguments)}function bN(){return bN=(0,Re.Z)(function*(n,t){const e=gt(n);ep(e.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=gt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=gb(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),bN.apply(this,arguments)}function wN(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function xN(n,t,e){const i=gt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function yb(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||Xz(n,i)})}function Xz(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(IC(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),EN(n))}function CN(n,t,e){for(const i of e)i instanceof Wz?(n.Ic.addReference(i.key,t),AY(n,i)):i instanceof Yz?(Qe("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||Xz(n,i.key)):Dt()}function AY(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Qe("SyncEngine","New document in limbo: "+e),n.mc.add(i),EN(n))}function EN(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new mt(jn.fromString(t)),i=n.Ac.next();n.yc.set(i,new bY(e)),n.gc=n.gc.insert(e,i),_A(n.remoteStore,new vf(ya(nb(e.path)),i,"TargetPurposeLimboResolution",Pl.ct))}}function yf(n,t,e){return IN.apply(this,arguments)}function IN(){return IN=(0,Re.Z)(function*(n,t,e){const i=gt(n),r=[],s=[],l=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,m)=>{l.push(i.Rc(m,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const w=AF.Li(m.targetId,v);s.push(w)}}))}),yield Promise.all(l),i.dc.nu(r),yield(h=(0,Re.Z)(function*(m,v){const w=gt(m);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ve.forEach(v,O=>ve.forEach(O.Fi,B=>w.persistence.referenceDelegate.addReference(T,O.targetId,B)).next(()=>ve.forEach(O.Bi,B=>w.persistence.referenceDelegate.removeReference(T,O.targetId,B)))))}catch(T){if(!jm(T))throw T;Qe("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const O=T.targetId;if(!T.fromCache){const B=w.Ji.get(O),Z=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);w.Ji=w.Ji.insert(O,Z)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,s))}),IN.apply(this,arguments)}function kY(n,t){return DN.apply(this,arguments)}function DN(){return DN=(0,Re.Z)(function*(n,t){const e=gt(n);if(!e.currentUser.isEqual(t)){Qe("SyncEngine","User change. New user:",t.toKey());const i=yield Dz(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(l=>{l.forEach(h=>{h.reject(new Ge(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield yf(e,i.er)}var r}),DN.apply(this,arguments)}function MY(n,t){const e=gt(n),i=e.yc.get(t);if(i&&i.fc)return Cn().add(i.key);{let r=Cn();const s=e._c.get(t);if(!s)return r;for(const l of s){const h=e.wc.get(l);r=r.unionWith(h.view.nc)}return r}}function RY(n,t){return SN.apply(this,arguments)}function SN(){return SN=(0,Re.Z)(function*(n,t){const e=gt(n),i=yield hA(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&CN(e,t.targetId,r.cc),r}),SN.apply(this,arguments)}function OY(n,t){return TN.apply(this,arguments)}function TN(){return TN=(0,Re.Z)(function*(n,t){const e=gt(n);return kz(e.localStore,t).then(i=>yf(e,i))}),TN.apply(this,arguments)}function PY(n,t,e,i){return AN.apply(this,arguments)}function AN(){return AN=(0,Re.Z)(function*(n,t,e,i){const r=gt(n),s=yield function(l,h){const m=gt(l),v=gt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",w=>v.Sn(w,h).next(T=>T?m.localDocuments.getDocuments(w,T):ve.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield mb(r.remoteStore):"acknowledged"===e||"rejected"===e?(xN(r,t,i||null),wN(r,t),h=t,gt(gt(r.localStore).mutationQueue).Cn(h)):Dt(),yield yf(r,s)):Qe("SyncEngine","Cannot apply mutation batch with id: "+t)}),AN.apply(this,arguments)}function kN(){return kN=(0,Re.Z)(function*(n,t){const e=gt(n);if(PN(e),FN(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Jz(e,i.toArray());e.vc=!0,yield nN(e.remoteStore,!0);for(const s of r)_A(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(yb(e,l),hb(e.localStore,l,!0))),IC(e.remoteStore,l)}),yield r,yield Jz(e,i),function(s){const l=gt(s);l.yc.forEach((h,m)=>{IC(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Ni(mt.comparator)}(e),e.vc=!1,yield nN(e.remoteStore,!1)}}),kN.apply(this,arguments)}function Jz(n,t,e){return MN.apply(this,arguments)}function MN(){return MN=(0,Re.Z)(function*(n,t,e){const i=gt(n),r=[],s=[];for(const l of t){let h;const m=i._c.get(l);if(m&&0!==m.length){h=yield ub(i.localStore,ya(m[0]));for(const v of m){const w=i.wc.get(v),T=yield RY(i,w);T.snapshot&&s.push(T.snapshot)}}else{const v=yield Az(i.localStore,l);h=yield ub(i.localStore,v),yield hN(i,e4(v),l,!1,h.resumeToken)}r.push(h)}return i.dc.nu(s),r}),MN.apply(this,arguments)}function e4(n){return aj(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function NY(n){const t=gt(n);return gt(gt(t.localStore).persistence).$i()}function LY(n,t,e,i){return RN.apply(this,arguments)}function RN(){return RN=(0,Re.Z)(function*(n,t,e,i){const r=gt(n);if(r.vc)return void Qe("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const l=yield kz(r.localStore,dj(s[0])),h=dC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Cs.EMPTY_BYTE_STRING);yield yf(r,l,h);break}case"rejected":yield hb(r.localStore,t,!0),yb(r,t,i);break;default:Dt()}}),RN.apply(this,arguments)}function BY(n,t,e){return ON.apply(this,arguments)}function ON(){return ON=(0,Re.Z)(function*(n,t,e){const i=PN(n);if(i.vc){for(const r of t){if(i._c.has(r)){Qe("SyncEngine","Adding an already active target "+r);continue}const s=yield Az(i.localStore,r),l=yield ub(i.localStore,s);yield hN(i,e4(s),l.targetId,!1,l.resumeToken),_A(i.remoteStore,l)}for(const r of e)i._c.has(r)&&(yield hb(i.localStore,r,!1).then(()=>{IC(i.remoteStore,r),yb(i,r)}).catch(Hm))}}),ON.apply(this,arguments)}function PN(n){const t=gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IY.bind(null,t),t.dc.nu=pY.bind(null,t.eventManager),t.dc.Pc=gY.bind(null,t.eventManager),t}function FN(n){const t=gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SY.bind(null,t),t}class DC{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Re.Z)(function*(){e.serializer=CC(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Iz(this.persistence,new Ez,t.initialUser,this.serializer)}createPersistence(t){return new IF(cA.zs,this.serializer)}createSharedClientState(t){return new Pz}terminate(){var t=this;return(0,Re.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class NN extends DC{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Re.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield FN(i.Vc.syncEngine),yield mb(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Iz(this.persistence,new Ez,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new pz(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new d9(e,this.persistence);return new c9(t.asyncQueue,i)}createPersistence(t){const e=TF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?No.withCacheSize(this.cacheSizeBytes):No.DEFAULT;return new SF(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Nz(),gA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Pz}}class t4 extends NN{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Re.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof LF&&(i.sharedClientState.syncEngine={jr:PY.bind(null,r),zr:LY.bind(null,r),Wr:BY.bind(null,r),$i:NY.bind(null,r),Qr:OY.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Re.Z)(function*(l){yield function FY(n,t){return kN.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=Nz();if(!LF.D(e))throw new Ge(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=TF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new LF(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class bb{initialize(t,e){var i=this;return(0,Re.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Qz(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=kY.bind(null,i.syncEngine),yield nN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new mY}createDatastore(t){const e=CC(t.databaseInfo.databaseId),i=new Q7(t.databaseInfo);return new eY(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>Qz(this.syncEngine,h,0),l=Fz.D()?new Fz:new Y7,new iY(e,i,r,s,l);var e,i,r,s,l}createSyncEngine(t,e){return function(i,r,s,l,h,m,v){const w=new wY(i,r,s,l,h,m);return v&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Re.Z)(function*(e){const i=gt(e);Qe("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield fb(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function n4(n,t=10240){let e=0;return{read:()=>(0,Re.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Kr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class HY{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new xs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,Re.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,Re.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,Re.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new _Y(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,Re.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,Re.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,Re.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class jY{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ge(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Re.Z)(function*(s,l){const h=gt(s),m=fC(h.serializer)+"/documents",v={documents:l.map(B=>hC(h.serializer,B))},w=yield h.vo("BatchGetDocuments",m,v,l.length),T=new Map;w.forEach(B=>{const $=function c7(n,t){return"found"in t?function(e,i){Ft(!!i.found);const r=Wu(e,i.found.name),s=Zr(i.found.updateTime),l=i.found.createTime?Zr(i.found.createTime):Bt.min(),h=new ho({mapValue:{fields:i.found.fields}});return Yi.newFoundDocument(r,s,l,h)}(n,t):"missing"in t?function(e,i){Ft(!!i.missing),Ft(!!i.readTime);const r=Wu(e,i.missing),s=Zr(i.readTime);return Yi.newNoDocument(r,s)}(n,t):Dt()}(h.serializer,B);T.set($.key.toString(),$)});const O=[];return l.forEach(B=>{const $=T.get(B.toString());Ft(!!$),O.push($)}),O}),function(s,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new ob(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=mt.fromPath(r);t.mutations.push(new oF(s,t.precondition(s)))}),yield(i=(0,Re.Z)(function*(r,s){const l=gt(r),h=fC(l.serializer)+"/documents",m={writes:s.map(v=>mC(l.serializer,v))};yield l.Io("Commit",h,m)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Dt();e=Bt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ge(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Bt.min())?cr.exists(!1):cr.updateTime(e):cr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Bt.min()))throw new Ge(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(e)}return cr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class zY{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new VF(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,Re.Z)(function*(){const e=new jY(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!Zx(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Tj(e)}return!1}}class GY{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Bs.UNAUTHENTICATED,this.clientId=I3.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Re.Z)(function*(h){Qe("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Qe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,Re.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=gb(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function bA(n,t){return LN.apply(this,arguments)}function LN(){return LN=(0,Re.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Re.Z)(function*(s){i.isEqual(s)||(yield Dz(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),LN.apply(this,arguments)}function BN(n,t){return VN.apply(this,arguments)}function VN(){return VN=(0,Re.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield UN(n);Qe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>zz(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>zz(t.remoteStore,s)),n._onlineComponents=t}),VN.apply(this,arguments)}function r4(n){return"FirebaseError"===n.name?n.code===Ee.FAILED_PRECONDITION||n.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function UN(n){return HN.apply(this,arguments)}function HN(){return HN=(0,Re.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Qe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bA(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!r4(e))throw e;Dc("Error using user provided cache. Falling back to memory cache: "+e),yield bA(n,new DC)}}else Qe("FirestoreClient","Using default OfflineComponentProvider"),yield bA(n,new DC);return n._offlineComponents}),HN.apply(this,arguments)}function wA(n){return jN.apply(this,arguments)}function jN(){return jN=(0,Re.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Qe("FirestoreClient","Using user provided OnlineComponentProvider"),yield BN(n,n._uninitializedComponentsProvider._online)):(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield BN(n,new bb))),n._onlineComponents}),jN.apply(this,arguments)}function s4(n){return UN(n).then(t=>t.persistence)}function xA(n){return UN(n).then(t=>t.localStore)}function o4(n){return wA(n).then(t=>t.remoteStore)}function zN(n){return wA(n).then(t=>t.syncEngine)}function wb(n){return GN.apply(this,arguments)}function GN(){return GN=(0,Re.Z)(function*(n){const t=yield wA(n),e=t.eventManager;return e.onListen=xY.bind(null,t.syncEngine),e.onUnlisten=CY.bind(null,t.syncEngine),e}),GN.apply(this,arguments)}function l4(n,t,e={}){const i=new xs;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(r,s,l,h,m){const v=new yA({next:T=>{s.enqueueAndForget(()=>aN(r,w));const O=T.docs.has(l);!O&&T.fromCache?m.reject(new Ge(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&h&&"server"===h.source?m.reject(new Ge(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new dN(nb(l.path),v,{includeMetadataChanges:!0,Ku:!0});return sN(r,w)}(yield wb(n),n.asyncQueue,t,e,i)})),i.promise}function c4(n,t,e={}){const i=new xs;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(r,s,l,h,m){const v=new yA({next:T=>{s.enqueueAndForget(()=>aN(r,w)),T.fromCache&&"server"===h.source?m.reject(new Ge(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new dN(l,v,{includeMetadataChanges:!0,Ku:!0});return sN(r,w)}(yield wb(n),n.asyncQueue,t,e,i)})),i.promise}function d4(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const u4=new Map;function $N(n,t,e){if(!e)throw new Ge(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function h4(n,t,e,i){if(!0===t&&!0===i)throw new Ge(Ee.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function f4(n){if(!mt.isDocumentKey(n))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m4(n){if(mt.isDocumentKey(n))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Dt()}function Fn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ge(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=CA(n);throw new Ge(Ee.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function p4(n,t){if(t<=0)throw new Ge(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class g4{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ge(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ge(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}h4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=d4(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Ge(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class SC{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ge(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ge(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g4(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new QW;switch(e.type){case"firstParty":return new t9(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ge(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=u4.get(t);e&&(Qe("ComponentProvider","Removing Datastore"),u4.delete(t),e.terminate())}(this),Promise.resolve()}}class Ki{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ki(this.firestore,t,this._key)}}class fo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new fo(this.firestore,t,this._query)}}class Yu extends fo{constructor(t,e,i){super(t,e,nb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ki(this.firestore,null,new mt(t))}withConverter(t){return new Yu(this.firestore,t,this._path)}}function v4(n,t,...e){if(n=(0,H.m9)(n),$N("collection","path",t),n instanceof SC){const i=jn.fromString(t,...e);return m4(i),new Yu(n,null,i)}{if(!(n instanceof Ki||n instanceof Yu))throw new Ge(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jn.fromString(t,...e));return m4(i),new Yu(n.firestore,null,i)}}function EA(n,t,...e){if(n=(0,H.m9)(n),1===arguments.length&&(t=I3.A()),$N("doc","path",t),n instanceof SC){const i=jn.fromString(t,...e);return f4(i),new Ki(n,null,new mt(i))}{if(!(n instanceof Ki||n instanceof Yu))throw new Ge(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jn.fromString(t,...e));return f4(i),new Ki(n.firestore,n instanceof Yu?n.converter:null,new mt(i))}}function y4(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),(n instanceof Ki||n instanceof Yu)&&(t instanceof Ki||t instanceof Yu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function qN(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),n instanceof fo&&t instanceof fo&&n.firestore===t.firestore&&iC(n._query,t._query)&&n.converter===t.converter}class eK{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new VF(this,"async_queue_retry"),this.Xc=()=>{const e=gA();e&&Qe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=gA();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=gA();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new xs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,Re.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!jm(e))throw e;Qe("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=rN.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Dt()}verifyOperationInProgress(){}sa(){var t=this;return(0,Re.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function WN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class tK{constructor(){this._progressObserver={},this._taskCompletionResolver=new xs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Zi extends SC{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new eK,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||b4(this),this._firestoreClient.terminate()}}function Qr(n){return n._firestoreClient||b4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function b4(n){var t,e,i;const r=n._freezeSettings(),s=(h=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new M9(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,d4(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new GY(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function w4(n,t,e){const i=new xs;return n.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield bA(n,e),yield BN(n,t),i.resolve()}catch(r){const s=r;if(!r4(s))throw s;Dc("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function x4(n){if(n._initialized||n._terminated)throw new Ge(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ku{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ku(Cs.fromBase64String(t))}catch(e){throw new Ge(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ku(Cs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class bf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ge(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class f_{constructor(t){this._methodName=t}}class IA{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ge(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ge(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ln(this._lat,t._lat)||ln(this._long,t._long)}}const hK=/^__.*__$/;class fK{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new _f(t,this.data,this.fieldMask,e,this.fieldTransforms):new sb(t,this.data,e,this.fieldTransforms)}}class C4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new _f(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function E4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class DA{constructor(t,e,i,r,s,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new DA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return AA(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(E4(this.ca)&&hK.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class mK{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||CC(t)}ya(t,e,i,r=!1){return new DA({ca:t,methodName:e,ga:i,path:Vr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m_(n){const t=n._freezeSettings(),e=CC(n._databaseId);return new mK(n._databaseId,!!t.ignoreUndefinedProperties,e)}function SA(n,t,e,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,t,e,r);QN("Data must be an object, but it was:",l,i);const h=S4(i,l);let m,v;if(s.merge)m=new $a(l.fieldMask),v=l.fieldTransforms;else if(s.mergeFields){const w=[];for(const T of s.mergeFields){const O=kC(t,T,e);if(!l.contains(O))throw new Ge(Ee.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);A4(w,O)||w.push(O)}m=new $a(w),v=l.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,v=l.fieldTransforms;return new fK(new ho(h),m,v)}class AC extends f_{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof AC}}function I4(n,t,e){return new DA({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class YN extends f_{_toFieldTransform(t){return new aC(t.path,new ib)}isEqual(t){return t instanceof YN}}class pK extends f_{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=I4(this,t,!0),i=this.pa.map(s=>p_(s,e)),r=new r_(i);return new aC(t.path,r)}isEqual(t){return this===t}}class gK extends f_{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=I4(this,t,!0),i=this.pa.map(s=>p_(s,e)),r=new s_(i);return new aC(t.path,r)}isEqual(t){return this===t}}class _K extends f_{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new rb(t.serializer,_j(t.serializer,this.Ia));return new aC(t.path,e)}isEqual(t){return this===t}}function KN(n,t,e,i){const r=n.ya(1,t,e);QN("Data must be an object, but it was:",r,i);const s=[],l=ho.empty();zm(i,(m,v)=>{const w=TA(t,m,e);v=(0,H.m9)(v);const T=r.da(w);if(v instanceof AC)s.push(w);else{const O=p_(v,T);null!=O&&(s.push(w),l.set(w,O))}});const h=new $a(s);return new C4(l,h,r.fieldTransforms)}function ZN(n,t,e,i,r,s){const l=n.ya(1,t,e),h=[kC(t,i,e)],m=[r];if(s.length%2!=0)throw new Ge(Ee.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)h.push(kC(t,s[O])),m.push(s[O+1]);const v=[],w=ho.empty();for(let O=h.length-1;O>=0;--O)if(!A4(v,h[O])){const B=h[O];let $=m[O];$=(0,H.m9)($);const Z=l.da(B);if($ instanceof AC)v.push(B);else{const re=p_($,Z);null!=re&&(v.push(B),w.set(B,re))}}const T=new $a(v);return new C4(w,T,l.fieldTransforms)}function D4(n,t,e,i=!1){return p_(e,n.ya(i?4:3,t))}function p_(n,t){if(T4(n=(0,H.m9)(n)))return QN("Unsupported field value:",t,n),S4(n,t);if(n instanceof f_)return function(e,i){if(!E4(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const l of e){let h=p_(l,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,H.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _j(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=lr.fromDate(e);return{timestampValue:ab(i.serializer,r)}}if(e instanceof lr){const r=new lr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ab(i.serializer,r)}}if(e instanceof IA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ku)return{bytesValue:Bj(i.serializer,e._byteString)};if(e instanceof Ki){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:fF(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${CA(e)}`)}(n,t)}function S4(n,t){const e={};return U3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zm(n,(i,r)=>{const s=p_(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function T4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof IA||n instanceof Ku||n instanceof Ki||n instanceof f_)}function QN(n,t,e){if(!T4(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=CA(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function kC(n,t,e){if((t=(0,H.m9)(t))instanceof bf)return t._internalPath;if("string"==typeof t)return TA(n,t);throw AA("Field path arguments must be of type string or ",n,!1,void 0,e)}const vK=new RegExp("[~\\*/\\[\\]]");function TA(n,t,e){if(t.search(vK)>=0)throw AA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new bf(...t.split("."))._internalPath}catch{throw AA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function AA(n,t,e,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(s||l)&&(m+=" (found",s&&(m+=` in field ${i}`),l&&(m+=` in document ${r}`),m+=")"),new Ge(Ee.INVALID_ARGUMENT,h+n+m)}function A4(n,t){return n.some(e=>e.isEqual(t))}class MC{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new yK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(kA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class yK extends MC{data(){return super.data()}}function kA(n,t){return"string"==typeof t?TA(n,t):t instanceof bf?t._internalPath:t._delegate._internalPath}function k4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ge(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XN{}class RC extends XN{}function np(n,t,...e){let i=[];t instanceof XN&&i.push(t),i=i.concat(e),function(r){const s=r.filter(h=>h instanceof xb).length,l=r.filter(h=>h instanceof OC).length;if(s>1||s>0&&l>0)throw new Ge(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class OC extends RC{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new OC(t,e,i)}_apply(t){const e=this._parse(t);return P4(t._query,e),new fo(t.firestore,t.converter,iF(t._query,e))}_parse(t){const e=m_(t.firestore);return function(r,s,l,h,m,v,w){let T;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){O4(w,v);const O=[];for(const B of w)O.push(R4(h,r,B));T={arrayValue:{values:O}}}else T=R4(h,r,w)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||O4(w,v),T=D4(l,"where",w,"in"===v||"not-in"===v);return Pn.create(m,v,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class xb extends XN{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new xb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:gi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const h of l)P4(s,h),s=iF(s,h)}(t._query,e),new fo(t.firestore,t.converter,iF(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class JN extends RC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new JN(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ge(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ge(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new eb(r,s);return function(h,m){if(null===tF(h)){const v=YT(h);null!==v&&F4(0,v,m.field)}}(i,l),l}(t._query,this._field,this._direction);return new fo(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new pf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class MA extends RC{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new MA(t,e,i)}_apply(t){return new fo(t.firestore,t.converter,KT(t._query,this._limit,this._limitType))}}class RA extends RC{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new RA(t,e,i)}_apply(t){const e=M4(t,this.type,this._docOrFields,this._inclusive);return new fo(t.firestore,t.converter,(r=e,new pf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class OA extends RC{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new OA(t,e,i)}_apply(t){const e=M4(t,this.type,this._docOrFields,this._inclusive);return new fo(t.firestore,t.converter,(r=e,new pf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function M4(n,t,e,i){if(e[0]=(0,H.m9)(e[0]),e[0]instanceof MC)return function(r,s,l,h,m){if(!h)throw new Ge(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const w of i_(r))if(w.field.isKeyField())v.push(t_(s,h.key));else{const T=h.data.field(w.field);if(HT(T))throw new Ge(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const O=w.field.canonicalString();throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}v.push(T)}return new Km(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=m_(n.firestore);return function(s,l,h,m,v,w){const T=s.explicitOrderBy;if(v.length>T.length)throw new Ge(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let B=0;B<v.length;B++){const $=v[B];if(T[B].field.isKeyField()){if("string"!=typeof $)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof $}`);if(!nF(s)&&-1!==$.indexOf("/"))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${$}' contains a slash.`);const Z=s.path.child(jn.fromString($));if(!mt.isDocumentKey(Z))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Z}' is not because it contains an odd number of segments.`);const re=new mt(Z);O.push(t_(l,re))}else{const Z=D4(h,m,$);O.push(Z)}}return new Km(O,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function R4(n,t,e){if("string"==typeof(e=(0,H.m9)(e))){if(""===e)throw new Ge(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nF(t)&&-1!==e.indexOf("/"))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(jn.fromString(e));if(!mt.isDocumentKey(i))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return t_(n,new mt(i))}if(e instanceof Ki)return t_(n,e._key);throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CA(e)}.`)}function O4(n,t){if(!Array.isArray(n)||0===n.length)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function P4(n,t){if(t.isInequality()){const i=YT(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=tF(n);null!==s&&F4(0,r,s)}const e=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ge(Ee.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function F4(n,t,e){if(!e.isEqual(t))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class eL{convertValue(t,e="none"){switch(Wm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ur(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Dt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return zm(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new IA(Ur(t.latitude),Ur(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=jT(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Xx(t));default:return null}}convertTimestamp(t){const e=Gm(t);return new lr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=jn.fromString(t);Ft(Yj(i));const r=new $m(i.get(1),i.get(3)),s=new mt(i.popFirst(5));return r.isEqual(e)||Kr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function PA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class TK extends eL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ku(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ki(this.firestore,null,e)}}class g_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wf extends MC{constructor(t,e,i,r,s,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new PC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(kA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class PC extends wf{data(t={}){return super.data(t)}}class ip{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new g_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new PC(this._firestore,this._userDataWriter,i.key,i,new g_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ge(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new PC(i._firestore,i._userDataWriter,l.doc.key,l.doc,new g_(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const h=new PC(i._firestore,i._userDataWriter,l.doc.key,l.doc,new g_(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),v=s.indexOf(l.doc.key)),{type:kK(l.type),doc:h,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function kK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function L4(n,t){return n instanceof wf&&t instanceof wf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ip&&t instanceof ip&&n._firestore===t._firestore&&qN(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class rp extends eL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ku(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ki(this.firestore,null,e)}}function B4(n,t,e){n=Fn(n,Ki);const i=Fn(n.firestore,Zi),r=PA(n.converter,t,e);return Cb(i,[SA(m_(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,cr.none())])}function V4(n,t,e,...i){n=Fn(n,Ki);const r=Fn(n.firestore,Zi),s=m_(r);let l;return l="string"==typeof(t=(0,H.m9)(t))||t instanceof bf?ZN(s,"updateDoc",n._key,t,e,i):KN(s,"updateDoc",n._key,t),Cb(r,[l.toMutation(n._key,cr.exists(!0))])}function U4(n,...t){var e,i,r;n=(0,H.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||WN(t[l])||(s=t[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(WN(t[l])){const T=t[l];t[l]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[l+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[l+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let m,v,w;if(n instanceof Ki)v=Fn(n.firestore,Zi),w=nb(n._key.path),m={next:T=>{t[l]&&t[l](tL(v,n,T))},error:t[l+1],complete:t[l+2]};else{const T=Fn(n,fo);v=Fn(T.firestore,Zi),w=T._query;const O=new rp(v);m={next:B=>{t[l]&&t[l](new ip(v,O,T,B))},error:t[l+1],complete:t[l+2]},k4(n._query)}return function(T,O,B,$){const Z=new yA($),re=new dN(O,Z,B);return T.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return sN(yield wb(T),re)})),()=>{Z.Dc(),T.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return aN(yield wb(T),re)}))}}(Qr(v),w,h,m)}function Cb(n,t){return function(e,i){const r=new xs;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function EY(n,t,e){return pN.apply(this,arguments)}(yield zN(e),i,r)})),r.promise}(Qr(n),t)}function tL(n,t,e){const i=e.docs.get(t._key),r=new rp(n);return new wf(n,r,t._key,i,new g_(e.hasPendingWrites,e.fromCache),t.converter)}const YK={maxAttempts:5};class H4{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=m_(t)}set(t,e,i){this._verifyNotCommitted();const r=sp(t,this._firestore),s=PA(r.converter,e,i),l=SA(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,cr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=sp(t,this._firestore);let l;return l="string"==typeof(e=(0,H.m9)(e))||e instanceof bf?ZN(this._dataReader,"WriteBatch.update",s._key,e,i,r):KN(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(l.toMutation(s._key,cr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=sp(t,this._firestore);return this._mutations=this._mutations.concat(new ob(e._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sp(n,t){if((n=(0,H.m9)(n)).firestore!==t)throw new Ge(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class KK extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=m_(t)}get(t){const e=sp(t,this._firestore),i=new TK(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Dt();const s=r[0];if(s.isFoundDocument())return new MC(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new MC(this._firestore,i,e._key,null,e.converter);throw Dt()})}set(t,e,i){const r=sp(t,this._firestore),s=PA(r.converter,e,i),l=SA(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const s=sp(t,this._firestore);let l;return l="string"==typeof(e=(0,H.m9)(e))||e instanceof bf?ZN(this._dataReader,"Transaction.update",s._key,e,i,r):KN(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,l),this}delete(t){const e=sp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=sp(t,this._firestore),i=new rp(this._firestore);return super.get(t).then(r=>new wf(this._firestore,i,e._key,r._document,new g_(!1,!1),e.converter))}}function nL(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function z4(){if(typeof Uint8Array>"u")throw new Ge("unimplemented","Uint8Arrays are not available in this environment.")}function G4(){if(!function A9(){return typeof atob<"u"}())throw new Ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Zy=xd.SDK_VERSION,(0,xd._registerComponent)(new Ml.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),l=new Zi(new JW(e.getProvider("auth-internal")),new n9(e.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ge(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $m(h.options.projectId,m)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,xd.registerVersion)(x3,"3.13.0",n),(0,xd.registerVersion)(x3,"3.13.0","esm2017")}();class FC{constructor(t){this._delegate=t}static fromBase64String(t){return G4(),new FC(Ku.fromBase64String(t))}static fromUint8Array(t){return z4(),new FC(Ku.fromUint8Array(t))}toBase64(){return G4(),this._delegate.toBase64()}toUint8Array(){return z4(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function iL(n){return function rZ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class sZ{enableIndexedDbPersistence(t,e){return function iK(n,t){x4(n=Fn(n,Zi));const e=Qr(n);if(e._uninitializedComponentsProvider)throw new Ge(Ee.FAILED_PRECONDITION,"SDK cache is already specified.");Dc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new bb;return w4(e,r,new NN(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function rK(n){x4(n=Fn(n,Zi));const t=Qr(n);if(t._uninitializedComponentsProvider)throw new Ge(Ee.FAILED_PRECONDITION,"SDK cache is already specified.");Dc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new bb;return w4(t,i,new t4(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function sK(n){if(n._initialized&&!n._terminated)throw new Ge(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new xs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(e=(0,Re.Z)(function*(i){if(!Sd.D())return Promise.resolve();const r=i+"main";yield Sd.delete(r)}),function(i){return e.apply(this,arguments)})(TF(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class $4{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof $m||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Dc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function _4(n,t,e,i={}){var r;const s=(n=Fn(n,SC))._getSettings(),l=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let h,m;if("string"==typeof i.mockUserToken)h=i.mockUserToken,m=Bs.MOCK_USER;else{h=(0,H.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ge(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Bs(v)}n._authCredentials=new XW(new C3(h,m))}}(this._delegate,t,e,i)}enableNetwork(){return function aK(n){return function $Y(n){return n.asyncQueue.enqueue((0,Re.Z)(function*(){const t=yield s4(n),e=yield o4(n);return t.setNetworkEnabled(!0),function(i){const r=gt(i);return r.vu.delete(0),EC(r)}(e)}))}(Qr(n=Fn(n,Zi)))}(this._delegate)}disableNetwork(){return function lK(n){return function qY(n){return n.asyncQueue.enqueue((0,Re.Z)(function*(){const t=yield s4(n),e=yield o4(n);return t.setNetworkEnabled(!1),(i=(0,Re.Z)(function*(r){const s=gt(r);s.vu.add(0),yield fb(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Qr(n=Fn(n,Zi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,h4("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oK(n){return function(t){const e=new xs;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function TY(n,t){return bN.apply(this,arguments)}(yield zN(t),e)})),e.promise}(Qr(n=Fn(n,Zi)))}(this._delegate)}onSnapshotsInSync(t){return function VK(n,t){return function KY(n,t){const e=new yA(t);return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return i=yield wb(n),r=e,gt(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return i=yield wb(n),r=e,void gt(i).ku.delete(r);var i,r}))}}(Qr(n=Fn(n,Zi)),WN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Eb(this,v4(this._delegate,t))}catch(e){throw ba(e,"collection()","Firestore.collection()")}}doc(t){try{return new Sc(this,EA(this._delegate,t))}catch(e){throw ba(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new wa(this,function JY(n,t){if(n=Fn(n,SC),$N("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fo(n,null,(e=t,new pf(jn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ba(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function ZK(n,t,e){n=Fn(n,Zi);const i=Object.assign(Object.assign({},YK),e);return function(r){if(r.maxAttempts<1)throw new Ge(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const h=new xs;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const m=yield function a4(n){return wA(n).then(t=>t.datastore)}(r);new zY(r.asyncQueue,m,l,s,h).run()})),h.promise}(Qr(n),r=>t(new KK(n,r)),i)}(this._delegate,e=>t(new q4(this,e)))}batch(){return Qr(this._delegate),new W4(new H4(this._delegate,t=>Cb(this._delegate,t)))}loadBundle(t){return function cK(n,t){const e=Qr(n=Fn(n,Zi)),i=new tK;return function ZY(n,t,e,i){const r=function(s,l){let h;return h="string"==typeof s?kj().encode(s):s,m=function(m,v){if(m instanceof Uint8Array)return n4(m,v);if(m instanceof ArrayBuffer)return n4(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new HY(m,l);var m}(e,CC(t));n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function VY(n,t,e){const i=gt(n);var r;(r=(0,Re.Z)(function*(s,l,h){try{const m=yield l.getMetadata();if(yield function(O,B){const $=gt(O),Z=Zr(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",re=>$.qs.getBundleMetadata(re,B.id)).then(re=>!!re&&re.createTime.compareTo(Z)>=0)}(s.localStore,m))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=m).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(qz(m));const v=new vY(m,s.localStore,l.serializer);let w=yield l.bc();for(;w;){const O=yield v.zu(w);O&&h._updateProgress(O),w=yield l.bc()}const T=yield v.complete();return yield yf(s,T.Ju,void 0),yield function(O,B){const $=gt(O);return $.persistence.runTransaction("Save bundle","readwrite",Z=>$.qs.saveBundleMetadata(Z,B))}(s.localStore,m),h._completeWith(T.progress),Promise.resolve(T.Hu)}catch(m){return Dc("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var O}),function(s,l,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield zN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function dK(n,t){return function QY(n,t){return n.asyncQueue.enqueue((0,Re.Z)(function*(){return function(e,i){const r=gt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield xA(n),t)}))}(Qr(n=Fn(n,Zi)),t).then(e=>e?new fo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new wa(this,e):null)}}class FA extends eL{constructor(t){super(),this.firestore=t}convertBytes(t){return new FC(new Ku(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Sc.forKey(e,this.firestore,null)}}class q4{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new FA(t)}get(t){const e=v_(t);return this._delegate.get(e).then(i=>new NC(this._firestore,new wf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=v_(t);return i?(nL("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=v_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=v_(t);return this._delegate.delete(e),this}}class W4{constructor(t){this._delegate=t}set(t,e,i){const r=v_(t);return i?(nL("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=v_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=v_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class __{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new PC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new LC(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=__.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new __(t,new FA(t),e),r.set(e,s)),s}}__.INSTANCES=new WeakMap;class Sc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new FA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Sc(e,new Ki(e._delegate,i,new mt(t)))}static forKey(t,e,i){return new Sc(e,new Ki(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Eb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Eb(this.firestore,v4(this._delegate,t))}catch(e){throw ba(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,H.m9)(t))instanceof Ki&&y4(this._delegate,t)}set(t,e){e=nL("DocumentReference.set",e);try{return e?B4(this._delegate,t,e):B4(this._delegate,t)}catch(i){throw ba(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?V4(this._delegate,t):V4(this._delegate,t,e,...i)}catch(r){throw ba(r,"updateDoc()","DocumentReference.update()")}}delete(){return function LK(n){return Cb(Fn(n.firestore,Zi),[new ob(n._key,cr.none())])}(this._delegate)}onSnapshot(...t){const e=Y4(t),i=K4(t,r=>new NC(this.firestore,new wf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return U4(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function RK(n){n=Fn(n,Ki);const t=Fn(n.firestore,Zi),e=Qr(t),i=new rp(t);return function WY(n,t){const e=new xs;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(i=(0,Re.Z)(function*(r,s,l){try{const h=yield function(m,v){const w=gt(m);return w.persistence.runTransaction("read document","readonly",T=>w.localDocuments.getDocument(T,v))}(r,s);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new Ge(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=gb(h,`Failed to get document '${s} from cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield xA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new wf(t,i,n._key,r,new g_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function OK(n){n=Fn(n,Ki);const t=Fn(n.firestore,Zi);return l4(Qr(t),n._key,{source:"server"}).then(e=>tL(t,n,e))}(this._delegate):function MK(n){n=Fn(n,Ki);const t=Fn(n.firestore,Zi);return l4(Qr(t),n._key).then(e=>tL(t,n,e))}(this._delegate),e.then(i=>new NC(this.firestore,new wf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Sc(this.firestore,this._delegate.withConverter(t?__.getInstance(this.firestore,t):null))}}function ba(n,t,e){return n.message=n.message.replace(t,e),n}function Y4(n){for(const t of n)if("object"==typeof t&&!iL(t))return t;return{}}function K4(n,t){var e,i;let r;return r=iL(n[0])?n[0]:iL(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class NC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Sc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return L4(this._delegate,t._delegate)}}class LC extends NC{data(t){const e=this._delegate.data(t);return function ZW(n,t){n||Dt()}(void 0!==e),e}}class wa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new FA(t)}where(t,e,i){try{return new wa(this.firestore,np(this._delegate,function bK(n,t,e){const i=t,r=kA("where",n);return OC._create(r,i,e)}(t,e,i)))}catch(r){throw ba(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new wa(this.firestore,np(this._delegate,function wK(n,t="asc"){const e=t,i=kA("orderBy",n);return JN._create(i,e)}(t,e)))}catch(i){throw ba(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new wa(this.firestore,np(this._delegate,function xK(n){return p4("limit",n),MA._create("limit",n,"F")}(t)))}catch(e){throw ba(e,"limit()","Query.limit()")}}limitToLast(t){try{return new wa(this.firestore,np(this._delegate,function CK(n){return p4("limitToLast",n),MA._create("limitToLast",n,"L")}(t)))}catch(e){throw ba(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new wa(this.firestore,np(this._delegate,function EK(...n){return RA._create("startAt",n,!0)}(...t)))}catch(e){throw ba(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new wa(this.firestore,np(this._delegate,function IK(...n){return RA._create("startAfter",n,!1)}(...t)))}catch(e){throw ba(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new wa(this.firestore,np(this._delegate,function DK(...n){return OA._create("endBefore",n,!1)}(...t)))}catch(e){throw ba(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new wa(this.firestore,np(this._delegate,function SK(...n){return OA._create("endAt",n,!0)}(...t)))}catch(e){throw ba(e,"endAt()","Query.endAt()")}}isEqual(t){return qN(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function FK(n){n=Fn(n,fo);const t=Fn(n.firestore,Zi),e=Qr(t),i=new rp(t);return function YY(n,t){const e=new xs;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(i=(0,Re.Z)(function*(r,s,l){try{const h=yield hA(r,s,!0),m=new Kz(s,h.ir),v=m.sc(h.documents),w=m.applyChanges(v,!1);l.resolve(w.snapshot)}catch(h){const m=gb(h,`Failed to execute query '${s} against cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield xA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new ip(t,i,n,r))}(this._delegate):"server"===t?.source?function NK(n){n=Fn(n,fo);const t=Fn(n.firestore,Zi),e=Qr(t),i=new rp(t);return c4(e,n._query,{source:"server"}).then(r=>new ip(t,i,n,r))}(this._delegate):function PK(n){n=Fn(n,fo);const t=Fn(n.firestore,Zi),e=Qr(t),i=new rp(t);return k4(n._query),c4(e,n._query).then(r=>new ip(t,i,n,r))}(this._delegate),e.then(i=>new rL(this.firestore,new ip(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Y4(t),i=K4(t,r=>new rL(this.firestore,new ip(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return U4(this._delegate,e,i)}withConverter(t){return new wa(this.firestore,this._delegate.withConverter(t?__.getInstance(this.firestore,t):null))}}class aZ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new LC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rL{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new wa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new LC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new aZ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new LC(this._firestore,i))})}isEqual(t){return L4(this._delegate,t._delegate)}}class Eb extends wa{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Sc(this.firestore,t):null}doc(t){try{return new Sc(this.firestore,void 0===t?EA(this._delegate):EA(this._delegate,t))}catch(e){throw ba(e,"doc()","CollectionReference.doc()")}}add(t){return function BK(n,t){const e=Fn(n.firestore,Zi),i=EA(n),r=PA(n.converter,t);return Cb(e,[SA(m_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,cr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Sc(this.firestore,e))}isEqual(t){return y4(this._delegate,t._delegate)}withConverter(t){return new Eb(this.firestore,this._delegate.withConverter(t?__.getInstance(this.firestore,t):null))}}function v_(n){return Fn(n,Ki)}class sL{constructor(...t){this._delegate=new bf(...t)}static documentId(){return new sL(Vr.keyField().canonicalString())}isEqual(t){return(t=(0,H.m9)(t))instanceof bf&&this._delegate._internalPath.isEqual(t._internalPath)}}class y_{constructor(t){this._delegate=t}static serverTimestamp(){const t=function XK(){return new YN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new y_(t)}static delete(){const t=function QK(){return new AC("deleteField")}();return t._methodName="FieldValue.delete",new y_(t)}static arrayUnion(...t){const e=function JK(...n){return new pK("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new y_(e)}static arrayRemove(...t){const e=function eZ(...n){return new gK("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new y_(e)}static increment(t){const e=function tZ(n){return new _K("increment",n)}(t);return e._methodName="FieldValue.increment",new y_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const lZ={Firestore:$4,GeoPoint:IA,Timestamp:lr,Blob:FC,Transaction:q4,WriteBatch:W4,DocumentReference:Sc,DocumentSnapshot:NC,Query:wa,QueryDocumentSnapshot:LC,QuerySnapshot:rL,CollectionReference:Eb,FieldPath:sL,FieldValue:y_,setLogLevel:function oZ(n){!function KW(n){Um.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function dZ(n){(function cZ(n,t){n.INTERNAL.registerComponent(new Ml.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},lZ)))})(n,(t,e)=>new $4(t,e,new sZ)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(ZS.Z);var NA=V(3093);function Z4(n,t){return(0,gs.m)(t)?(0,mi.w)(()=>n,t):(0,mi.w)(()=>n)}var oL=V(5137);V(4097);var Hr=V(4303);const lL=new Map,X4={activated:!1,tokenObservers:[]},pZ={initialized:!1,enabled:!1};function jr(n){return lL.get(n)||Object.assign({},X4)}function BA(){return pZ}const cL="https://content-firebaseappcheck.googleapis.com/v1",yZ="exchangeDebugToken",J4={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wZ{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Re.Z)(function*(){e.stop();try{e.pending=new H.BH,yield function xZ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new H.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const mo=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dL(n){if(!jr(n).activated)throw mo.create("use-before-activation",{appName:n.name})}function HA(n,t){return hL.apply(this,arguments)}function hL(){return hL=(0,Re.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(t),headers:i};let l,h;try{l=yield fetch(n,s)}catch(T){throw mo.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==l.status)throw mo.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(T){throw mo.create("fetch-parse-error",{originalErrorMessage:T?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw mo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+v,issuedAtTimeMillis:w}}),hL.apply(this,arguments)}function eG(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${cL}/projects/${e}/apps/${i}:${yZ}?key=${r}`,body:{debug_token:t}}}const DZ="firebase-app-check-database",SZ=1,BC="firebase-app-check-store";let jA=null;function fL(){return fL=(0,Re.Z)(function*(n,t){const i=(yield function nG(){return jA||(jA=new Promise((n,t)=>{try{const e=indexedDB.open(DZ,SZ);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(mo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(BC,{keyPath:"compositeKey"})}}catch(e){t(mo.create("storage-open",{originalErrorMessage:e?.message}))}}),jA)}()).transaction(BC,"readwrite"),s=i.objectStore(BC).put({compositeKey:n,value:t});return new Promise((l,h)=>{s.onsuccess=m=>{l()},i.onerror=m=>{var v;h(mo.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),fL.apply(this,arguments)}const VC=new va.Yd("@firebase/app-check");function gL(n,t){return(0,H.hl)()?function AZ(n,t){return function iG(n,t){return fL.apply(this,arguments)}(function sG(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{VC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function vL(){return BA().enabled}function yL(){return bL.apply(this,arguments)}function bL(){return bL=(0,Re.Z)(function*(){const n=BA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),bL.apply(this,arguments)}const FZ={error:"UNKNOWN_ERROR"};function NZ(n){return H.US.encodeString(JSON.stringify(n),!1)}function zA(n){return wL.apply(this,arguments)}function wL(){return wL=(0,Re.Z)(function*(n,t=!1){const e=n.app;dL(e);const i=jr(e);let s,r=i.token;if(r&&!Ib(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(Ib(m)?r=m:yield gL(e,void 0))}if(!t&&r&&Ib(r))return{token:r.token};let h,l=!1;if(vL()){i.exchangeTokenPromise||(i.exchangeTokenPromise=HA(eG(e,yield yL()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const m=yield i.exchangeTokenPromise;return yield gL(e,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield jr(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?VC.warn(m.message):VC.error(m),s=m}return r?s?h=Ib(r)?{token:r.token,internalError:s}:cG(s):(h={token:r.token},i.token=r,yield gL(e,r)):h=cG(s),l&&function lG(n,t){const e=jr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,h),h}),wL.apply(this,arguments)}function xL(){return xL=(0,Re.Z)(function*(n){const t=n.app;dL(t);const{provider:e}=jr(t);if(vL()){const i=yield yL(),{token:r}=yield HA(eG(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),xL.apply(this,arguments)}function EL(n,t){const e=jr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function aG(n){const{app:t}=n,e=jr(t);let i=e.tokenRefresher;i||(i=function LZ(n){const{app:t}=n;return new wZ((0,Re.Z)(function*(){let i;if(i=jr(t).token?yield zA(n,!0):yield zA(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=jr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},J4.RETRIAL_MIN_WAIT,J4.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Ib(n){return n.expireTimeMillis-Date.now()>0}function cG(n){return{token:NZ(FZ),error:n}}class BZ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=jr(this.app);for(const e of t)EL(this.app,e.next);return Promise.resolve()}}const _G="app-check-internal";!function XZ(){(0,Hr._registerComponent)(new Ml.wA("app-check",n=>function VZ(n,t){return new BZ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(_G).initialize()})),(0,Hr._registerComponent)(new Ml.wA(_G,n=>function UZ(n){return{getToken:t=>zA(n,t),getLimitedUseToken:()=>function oG(n){return xL.apply(this,arguments)}(n),addTokenListener:t=>function CL(n,t,e,i){const{app:r}=n,s=jr(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&Ib(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),aG(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>aG(n))}(n,"INTERNAL",t),removeTokenListener:t=>EL(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hr.registerVersion)("@firebase/app-check","0.8.0")}();class UC{constructor(){return(0,Wn.vb)("app-check")}}typeof window<"u"&&window;var $A=V(120);const AL=new c.OlP("angularfire2.auth.use-emulator"),kL=new c.OlP("angularfire2.auth.settings"),ML=new c.OlP("angularfire2.auth.tenant-id"),RL=new c.OlP("angularfire2.auth.langugage-code"),OL=new c.OlP("angularfire2.auth.use-device-language"),PL=new c.OlP("angularfire.auth.persistence"),FL=(n,t,e,i,r,s,l,h)=>(0,Yr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),l)for(const[v,w]of Object.entries(l))m.settings[v]=w;return h&&m.setPersistence(h),m},[e,i,r,s,l,h]);let qA=(()=>{class n{constructor(e,i,r,s,l,h,m,v,w,T,O,B){const $=new Lt.x,Z=(0,pt.of)(void 0).pipe((0,NA.Q)(l.outsideAngular),(0,mi.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,8977)))),(0,ht.U)(()=>(0,Yr.on)(e,s,i)),(0,ht.U)(re=>FL(re,s,h,v,w,T,m,O)),jh({bufferSize:1,refCount:!1}));if(yr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pt.of)(null);else{Z.pipe(Dr()).subscribe();const Ae=Z.pipe((0,mi.w)(ot=>ot.getRedirectResult().then(Vt=>Vt,()=>null)),Wn.iC,jh({bufferSize:1,refCount:!1})),Ze=Z.pipe((0,mi.w)(ot=>new li.y(Vt=>({unsubscribe:s.runOutsideAngular(()=>ot.onAuthStateChanged(zt=>Vt.next(zt),zt=>Vt.error(zt),()=>Vt.complete()))})))),Xe=Z.pipe((0,mi.w)(ot=>new li.y(Vt=>({unsubscribe:s.runOutsideAngular(()=>ot.onIdTokenChanged(zt=>Vt.next(zt),zt=>Vt.error(zt),()=>Vt.complete()))}))));this.authState=Ae.pipe(Z4(Ze),(0,oL.R)(l.outsideAngular),(0,NA.Q)(l.insideAngular)),this.user=Ae.pipe(Z4(Xe),(0,oL.R)(l.outsideAngular),(0,NA.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,mi.w)(ot=>ot?(0,Hn.D)(ot.getIdToken()):(0,pt.of)(null))),this.idTokenResult=this.user.pipe((0,mi.w)(ot=>ot?(0,Hn.D)(ot.getIdTokenResult()):(0,pt.of)(null))),this.credential=(0,ma.T)(Ae,$,this.authState.pipe(An(ot=>!ot))).pipe((0,ht.U)(ot=>ot?.user?ot:null),(0,oL.R)(l.outsideAngular),(0,NA.Q)(l.insideAngular))}return(0,Yr.pX)(this,Z,s,{spy:{apply:(re,Ae,Ze)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&Ze.then(Xe=>$.next(Xe))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Yr.Dh),c.LFG(Yr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Wn.HU),c.LFG(AL,8),c.LFG(kL,8),c.LFG(ML,8),c.LFG(RL,8),c.LFG(OL,8),c.LFG(PL,8),c.LFG(UC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rQ=(()=>{class n{constructor(){$A.Z.registerVersion("angularfire",Wn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[qA]}),n})();function yG(n,t){return function sQ(n,t=um.z){return new li.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function NL(n,t){return yG(n,t).pipe((0,ht.U)(e=>({payload:e,type:"query"})))}function WA(n,t){return NL(n,t).pipe(Lr(void 0),Ay(),(0,ht.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,h)=>{const m=r.find(w=>w.doc.ref.isEqual(l.ref)),v=e?.payload.docs.find(w=>w.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),s}))}function bG(n,t,e){return WA(n,e).pipe(_s((i,r)=>function aQ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function lQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return LL(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return LL(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return LL(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),(0,og.x)(),(0,ht.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function LL(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function wG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class xG{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=WA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ht.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Lr(void 0),Ay(),An(([i,r])=>r.length>0||!i),(0,ht.U)(([i,r])=>r),Wn.iC)}auditTrail(t){return this.stateChanges(t).pipe(_s((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wG(t);return bG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(t={}){return NL(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Wn.iC)}get(t){return(0,Hn.D)(this.query.get(t)).pipe(Wn.iC)}add(t){return this.ref.add(t)}doc(t){return new CG(this.ref.doc(t),this.afs)}}class CG{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=DG(i,e);return new xG(r,s,this.afs)}snapshotChanges(){return function oQ(n,t){return yG(n,t).pipe(Lr(void 0),Ay(),(0,ht.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Hn.D)(this.ref.get(t)).pipe(Wn.iC)}}class cQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?WA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),An(e=>e.length>0),Wn.iC):WA(this.query,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}auditTrail(t){return this.stateChanges(t).pipe(_s((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wG(t);return bG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(t={}){return NL(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Wn.iC)}get(t){return(0,Hn.D)(this.query.get(t)).pipe(Wn.iC)}}const EG=new c.OlP("angularfire2.enableFirestorePersistence"),IG=new c.OlP("angularfire2.firestore.persistenceSettings"),dQ=new c.OlP("angularfire2.firestore.settings"),uQ=new c.OlP("angularfire2.firestore.use-emulator");function DG(n,t=(e=>e)){return{query:t(n),ref:n}}let BL=(()=>{class n{constructor(e,i,r,s,l,h,m,v,w,T,O,B,$,Z,re,Ae,Ze){this.schedulers=m;const Xe=(0,Yr.on)(e,h,i),ot=w;T&&FL(Xe,h,O,$,Z,re,B,Ae),[this.firestore,this.persistenceEnabled$]=(0,Yr.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const Vt=h.runOutsideAngular(()=>Xe.firestore());if(s&&Vt.settings(s),ot&&Vt.useEmulator(...ot),r&&!yr(l)){const zt=()=>{try{return(0,Hn.D)(Vt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Rn){return typeof console<"u"&&console.warn(Rn),(0,pt.of)(!1)}};return[Vt,h.runOutsideAngular(zt)]}return[Vt,(0,pt.of)(!1)]},[s,ot,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:l}=DG(r,i),h=this.schedulers.ngZone.run(()=>s);return new xG(h,l,this)}collectionGroup(e,i){const r=i||(l=>l),s=this.firestore.collectionGroup(e);return new cQ(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new CG(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Yr.Dh),c.LFG(Yr.xv,8),c.LFG(EG,8),c.LFG(dQ,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Wn.HU),c.LFG(IG,8),c.LFG(uQ,8),c.LFG(qA,8),c.LFG(AL,8),c.LFG(kL,8),c.LFG(ML,8),c.LFG(RL,8),c.LFG(OL,8),c.LFG(PL,8),c.LFG(UC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hQ=(()=>{class n{constructor(){$A.Z.registerVersion("angularfire",Wn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:EG,useValue:!0},{provide:IG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BL]}),n})(),fQ=(()=>{class n{constructor(){this.afs=(0,c.f3M)(BL)}getCategoria(){return this.afs.collection("categorias").valueChanges({idField:"id"})}add(e){return this.afs.collection("categorias").add({nombre:e})}update(e,i){return this.afs.collection("categorias").doc(e).update({nombre:i})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mQ=(()=>{class n{constructor(){this.afs=(0,c.f3M)(BL)}getProduct(e){return this.afs.collection("categorias").doc(e).collection("productos").valueChanges({idField:"id"})}addProduct(e,i,r){return this.afs.collection("categorias").doc(e).collection("productos").add({nombre:i,precio:r})}deleteProduct(e,i){return this.afs.collection("categorias").doc(e).collection("productos").doc(i).delete()}update(e,i,r,s){return this.afs.collection("categorias").doc(e).collection("productos").doc(i).update({nombre:r,precio:s})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pQ=V(3519),Td=V.n(pQ);let EQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,_n,Gw,In]})}return n})();function IQ(n,t){1&n&&(c.TgZ(0,"span",7),c.Hsn(1,1),c.qZA())}function DQ(n,t){1&n&&(c.TgZ(0,"span",8),c.Hsn(1,2),c.qZA())}const SG=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],TG=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function SQ(n,t){1&n&&(c.TgZ(0,"span",8),c.Hsn(1,1),c.TgZ(2,"span",9),c.O4$(),c.TgZ(3,"svg",10),c._UZ(4,"path",11),c.qZA()()())}function TQ(n,t){1&n&&(c.TgZ(0,"span",12),c.Hsn(1,2),c.qZA())}const VL=["*"],YA=new c.OlP("mat-chips-default-options"),UL=new c.OlP("MatChipAvatar"),HL=new c.OlP("MatChipTrailingIcon"),jL=new c.OlP("MatChipRemove"),KA=new c.OlP("MatChip");class BQ{}const VQ=t0(BQ,-1);let Db=(()=>{class n extends VQ{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=jt(e)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,i){super(),this._elementRef=e,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(KA))};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&c.NdJ("click",function(l){return r._handleClick(l)})("keydown",function(l){return r._handleKeydown(l)}),2&i&&(c.uIk("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),c.ekj("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[c.qOj]})}return n})(),zQ=0;const GQ=t0(cg(e0(Jw(class{constructor(n){this._elementRef=n}})),"primary"),-1);let Sb=(()=>{class n extends GQ{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get removable(){return this._removable}set removable(e){this._removable=jt(e)}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=jt(e)}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,i,r,s,l,h,m,v){super(i),this._changeDetectorRef=e,this._ngZone=r,this._focusMonitor=s,this._globalRippleOptions=m,this._onFocus=new Lt.x,this._onBlur=new Lt.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+zQ++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new c.vpe,this.destroyed=new c.vpe,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,c.f3M)(ug),this._document=l,this._animationsDisabled="NoopAnimations"===h,null!=v&&(this.tabIndex=parseInt(v)??this.defaultTabIndex),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,ma.T)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(ti(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Gh),c.Y36(de),c.Y36(c.QbO,8),c.Y36(Ru,8),c.$8M("tabindex"))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,s){if(1&i&&(c.Suo(s,UL,5),c.Suo(s,HL,5),c.Suo(s,jL,5),c.Suo(s,UL,5),c.Suo(s,HL,5),c.Suo(s,jL,5)),2&i){let l;c.iGM(l=c.CRH())&&(r.leadingIcon=l.first),c.iGM(l=c.CRH())&&(r.trailingIcon=l.first),c.iGM(l=c.CRH())&&(r.removeIcon=l.first),c.iGM(l=c.CRH())&&(r._allLeadingIcons=l),c.iGM(l=c.CRH())&&(r._allTrailingIcons=l),c.iGM(l=c.CRH())&&(r._allRemoveIcons=l)}},viewQuery:function(i,r){if(1&i&&c.Gf(Db,5),2&i){let s;c.iGM(s=c.CRH())&&(r.primaryAction=s.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(i,r){1&i&&c.NdJ("keydown",function(l){return r._handleKeydown(l)}),2&i&&(c.Ikx("id",r.id),c.uIk("role",r.role)("tabindex",r.role?r.tabIndex:null)("aria-label",r.ariaLabel),c.ekj("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[c._Bn([{provide:KA,useExisting:n}]),c.qOj],ngContentSelectors:TG,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(c.F$t(SG),c._UZ(0,"span",0),c.TgZ(1,"span",1)(2,"span",2),c.YNc(3,IQ,2,0,"span",3),c.TgZ(4,"span",4),c.Hsn(5),c._UZ(6,"span",5),c.qZA()()(),c.YNc(7,DQ,2,0,"span",6)),2&i&&(c.xp6(2),c.Q6J("isInteractive",!1),c.xp6(1),c.Q6J("ngIf",r.leadingIcon),c.xp6(4),c.Q6J("ngIf",r._hasTrailingIcon()))},dependencies:[Pr,Db],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),zL=(()=>{class n extends Sb{constructor(){super(...arguments),this._defaultOptions=(0,c.f3M)(YA,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new c.vpe}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=jt(e),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(e){this._setSelectedState(jt(e),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(e,i,r){e!==this.selected&&(this._selected=e,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,r){2&i&&(c.Ikx("id",r.id),c.uIk("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),c.ekj("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[c._Bn([{provide:Sb,useExisting:n},{provide:KA,useExisting:n}]),c.qOj],ngContentSelectors:TG,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(c.F$t(SG),c._UZ(0,"span",0),c.TgZ(1,"span",1)(2,"button",2),c.YNc(3,SQ,5,0,"span",3),c.TgZ(4,"span",4),c.Hsn(5),c._UZ(6,"span",5),c.qZA()()(),c.YNc(7,TQ,2,0,"span",6),c.TgZ(8,"span",7),c._uU(9),c.qZA()),2&i&&(c.xp6(2),c.Q6J("tabIndex",r.tabIndex)("_allowFocusWhenDisabled",!0),c.uIk("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),c.xp6(1),c.Q6J("ngIf",r._hasLeadingGraphic()),c.xp6(4),c.Q6J("ngIf",r._hasTrailingIcon()),c.xp6(1),c.Q6J("id",r._ariaDescriptionId),c.xp6(1),c.Oqu(r.ariaDescription))},dependencies:[Pr,Db],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();class $Q{constructor(t){}}const qQ=t0($Q);let GL=(()=>{class n extends qQ{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get disabled(){return this._disabled}set disabled(e){this._disabled=jt(e),this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,i,r){super(e),this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Lt.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new c.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe(Lr(null),(0,mi.w)(()=>(0,ma.T)(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Lr(this._chips)).subscribe(e=>{const i=[];e.forEach(r=>r._getActions().forEach(s=>i.push(s))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new ag(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(an(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(an(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Lr(null),an(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(an(this._destroyed)).subscribe(e=>{const r=this._chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(md,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,s){if(1&i&&c.Suo(s,Sb,5),2&i){let l;c.iGM(l=c.CRH())&&(r._chips=l)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&c.NdJ("keydown",function(l){return r._handleKeydown(l)}),2&i&&c.uIk("role",r.role)},inputs:{disabled:"disabled",role:"role"},features:[c.qOj],ngContentSelectors:VL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})();class WQ{constructor(t,e){this.source=t,this.value=e}}const YQ={provide:_a,useExisting:(0,c.Gpc)(()=>$L),multi:!0};let $L=(()=>{class n extends GL{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=(0,c.f3M)(YA,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(e,i)=>e===i,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new c.vpe,this._chips=void 0}get multiple(){return this._multiple}set multiple(e){this._multiple=jt(e),this._syncListboxProperties()}get selected(){const e=this._chips.toArray().filter(i=>i.selected);return this.multiple?e:e[0]}get selectable(){return this._selectable}set selectable(e){this._selectable=jt(e),this._syncListboxProperties()}get required(){return this._required}set required(e){this._required=jt(e)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=jt(e),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(Lr(null),an(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(an(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(an(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(i=>{i!==e.source&&i._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){this._chips?this._setSelectionByValue(e,!1):null!=e&&(this._pendingInitialValue=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,i=!0){this._clearSelection(),Array.isArray(e)?e.forEach(r=>this._selectValue(r,i)):this._selectValue(e,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(e){9===e.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;e=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new WQ(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(i=>{i!==e&&i.deselect()})}_selectValue(e,i){const r=this._chips.find(s=>null!=s.value&&this.compareWith(s.value,e));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,r,s){if(1&i&&c.Suo(s,zL,5),2&i){let l;c.iGM(l=c.CRH())&&(r._chips=l)}},hostAttrs:["ngSkipHydration","",1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,r){1&i&&c.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(l){return r._keydown(l)}),2&i&&(c.Ikx("tabIndex",r.empty?-1:r.tabIndex),c.uIk("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),c.ekj("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[c._Bn([YQ]),c.qOj],ngContentSelectors:VL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),eX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[vm,{provide:YA,useValue:{separatorKeyCodes:[13]}}],imports:[In,_n,Cm,In]})}return n})();const tX=["*"],rX=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],sX=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],oX=new c.OlP("MAT_CARD_CONFIG");let RG=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(oX,8))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&c.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:tX,decls:1,vars:0,template:function(i,r){1&i&&(c.F$t(),c.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),OG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),PG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),FG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:sX,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(c.F$t(rX),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0})}return n})(),dX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,_n,In]})}return n})();const uX=["determinateSpinner"];function hX(n,t){if(1&n&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&n){const e=c.oxw();c.uIk("viewBox",e._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),c.uIk("r",e._circleRadius())}}const fX=cg(class{constructor(n){this._elementRef=n}},"primary"),mX=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function pX(){return{diameter:NG}}}),NG=100;let _X=(()=>{class n extends fX{constructor(e,i,r){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=NG,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Al(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=Al(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=Al(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(mX))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&c.Gf(uX,5),2&i){let s;c.iGM(s=c.CRH())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,r){2&i&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),c.Udp("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),c.ekj("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(c.YNc(0,hX,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&i){const s=c.MAs(1);c.xp6(4),c.uIk("viewBox",r._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),c.uIk("r",r._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",s),c.xp6(2),c.Q6J("ngTemplateOutlet",s),c.xp6(2),c.Q6J("ngTemplateOutlet",s)}},dependencies:[Qa],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),vX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[_n,In]})}return n})();function LG(n,t){return t?e=>Os(t.pipe(ti(1),function yX(){return(0,zi.e)((n,t)=>{n.subscribe((0,Bn.x)(t,lc.Z))})}()),e.pipe(LG(n))):(0,or.z)((e,i)=>(0,vl.Xf)(n(e,i)).pipe(ti(1),Ba(e)))}function BG(n,t=um.z){const e=Ou(n,t);return LG(()=>e)}class qL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class bX extends qL{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class VG extends qL{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class wX extends qL{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class xX{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof bX?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof VG?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof wX?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class CX extends xX{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let EX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({})}return n})();const UG=pI();class IX{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Gi(-this._previousScrollPosition.left),t.style.top=Gi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),UG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UG&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class DX{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(An(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HG{enable(){}disable(){}attach(){}}function WL(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function jG(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class SX{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();WL(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let TX=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new HG,this.close=l=>new DX(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new IX(this._viewportRuler,this._document),this.reposition=l=>new SX(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Lv),c.LFG(Bv),c.LFG(c.R0b),c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zG{constructor(t){if(this.scrollStrategy=new HG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class AX{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let GG=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kX=(()=>{class n extends GG{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const h=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de),c.LFG(c.R0b,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MX=(()=>{class n extends GG{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Iu(s)},this._clickListener=s=>{const l=Iu(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const w=m[v];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(l)||w.overlayElement.contains(h))break;const T=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de),c.LFG(Ei),c.LFG(c.R0b,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$G=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Xp()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Xp()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de),c.LFG(Ei))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class RX{constructor(t,e,i,r,s,l,h,m,v,w=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new Lt.x,this._attachments=new Lt.x,this._detachments=new Lt.x,this._locationChanges=eo.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Lt.x,this._outsidePointerEvents=new Lt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ti(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Gi(this._config.width),t.height=Gi(this._config.height),t.minWidth=Gi(this._config.minWidth),t.minHeight=Gi(this._config.minHeight),t.maxWidth=Gi(this._config.maxWidth),t.maxHeight=Gi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=dm(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(an((0,ma.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qG="cdk-overlay-connected-position-bounding-box",OX=/([A-Za-z%]+)$/;class PX{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lt.x,this._resizeSubscription=eo.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(qG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(m,e,h),w=this._getOverlayFit(v,e,i,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(w,v,i)?s.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<w.visibleArea)&&(l={overlayFit:w,overlayPoint:v,originPoint:m,position:h,overlayRect:e})}if(s.length){let h=null,m=-1;for(const v of s){const w=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);w>m&&(m=w,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&b_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?l:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=YG(e);let{x:l,y:h}=t,m=this._getOffset(r,"x"),v=this._getOffset(r,"y");m&&(l+=m),v&&(h+=v);let O=0-h,B=h+s.height-i.height,$=this._subtractOverflows(s.width,0-l,l+s.width-i.width),Z=this._subtractOverflows(s.height,O,B),re=$*Z;return{visibleArea:re,isCompletelyWithinViewport:s.width*s.height===re,fitsInViewportVertically:Z===s.height,fitsInViewportHorizontally:$==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,l=WG(this._overlayRef.getConfig().minHeight),h=WG(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=YG(e),s=this._viewportRect,l=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),m=Math.max(s.top-i.top-t.y,0),v=Math.max(s.left-i.left-t.x,0);let w=0,T=0;return w=r.width<=s.width?v||-l:t.x<this._viewportMargin?s.left-i.left-t.x:0,T=r.height<=s.height?m||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:w,y:T},{x:t.x+w,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new AX(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,l,h,w,T,O;if("top"===e.overlayY)l=t.y,s=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),$=this._lastBoundingBoxSize.height;s=2*B,l=t.y-B,s>$&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-$/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,w=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),$=this._lastBoundingBoxSize.width;w=2*B,T=t.x-B,w>$&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-$/2)}return{top:l,left:T,bottom:h,right:O,width:w,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Gi(i.height),r.top=Gi(i.top),r.bottom=Gi(i.bottom),r.width=Gi(i.width),r.left=Gi(i.left),r.right=Gi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Gi(s)),l&&(r.maxWidth=Gi(l))}this._lastBoundingBoxSize=i,b_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){b_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){b_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();b_(i,this._getExactOverlayY(e,t,w)),b_(i,this._getExactOverlayX(e,t,w))}else i.position="static";let h="",m=this._getOffset(e,"x"),v=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),l.maxHeight&&(r?i.maxHeight=Gi(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Gi(l.maxWidth):s&&(i.maxWidth="")),b_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Gi(s.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Gi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jG(t,i),isOriginOutsideView:WL(t,i),isOverlayClipped:jG(e,i),isOverlayOutsideView:WL(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&dm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function b_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function WG(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(OX);return e&&"px"!==e?null:parseFloat(t)}return n||null}function YG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const KG="cdk-global-overlay-wrapper";class FX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(KG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),v=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),w=this._xPosition,T=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let B="",$="",Z="";m?Z="flex-start":"center"===w?(Z="center",O?$=T:B=T):O?"left"===w||"end"===w?(Z="flex-end",B=T):("right"===w||"start"===w)&&(Z="flex-start",$=T):"left"===w||"start"===w?(Z="flex-start",B=T):("right"===w||"end"===w)&&(Z="flex-end",$=T),t.position=this._cssPosition,t.marginLeft=m?"0":B,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":$,e.justifyContent=Z,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(KG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let NX=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new FX}flexibleConnectedTo(e){return new PX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(Bv),c.LFG(de),c.LFG(Ei),c.LFG($G))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LX=0,Tb=(()=>{class n{constructor(e,i,r,s,l,h,m,v,w,T,O,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=h,this._ngZone=m,this._document=v,this._directionality=w,this._location=T,this._outsideClickDispatcher=O,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new zG(e);return l.direction=l.direction||this._directionality.value,new RX(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+LX++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new CX(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(TX),c.LFG($G),c.LFG(c._Vd),c.LFG(NX),c.LFG(kX),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(de),c.LFG(md),c.LFG(Ye),c.LFG(MX),c.LFG(c.QbO,8))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const UX={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Tb],useFactory:function VX(n){return()=>n.scrollStrategies.reposition()}};let YL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[Tb,UX],imports:[$h,EX,Vv,Vv]})}return n})();const HX=["mat-menu-item",""];function jX(n,t){1&n&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"polygon",4),c.qZA())}const zX=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],GX=["mat-icon, [matMenuItemIcon]","*"];function $X(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._handleKeydown(r))})("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._onAnimationDone(r))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&n){const e=c.oxw();c.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),c.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const qX=["*"],KL=new c.OlP("MAT_MENU_PANEL"),WX=e0(Jw(class{}));let QA=(()=>{class n extends WX{constructor(e,i,r,s,l){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new Lt.x,this._focused=new Lt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(de),c.Y36(Gh),c.Y36(KL,8),c.Y36(c.sBO))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&c.NdJ("click",function(l){return r._checkDisabled(l)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(c.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),c.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:HX,ngContentSelectors:GX,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(c.F$t(zX),c.Hsn(0),c.TgZ(1,"span",0),c.Hsn(2,1),c.qZA(),c._UZ(3,"div",1),c.YNc(4,jX,2,0,"svg",2)),2&i&&(c.xp6(3),c.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),c.xp6(1),c.Q6J("ngIf",r._triggersSubmenu))},dependencies:[Pr,s0],encapsulation:2,changeDetection:0})}return n})();const YX=new c.OlP("MatMenuContent"),XA={transformMenu:pa("transformMenu",[Sr("void",nn({opacity:0,transform:"scale(0.8)"})),Tr("void => enter",Wr("120ms cubic-bezier(0, 0, 0.2, 1)",nn({opacity:1,transform:"scale(1)"}))),Tr("* => void",Wr("100ms 25ms linear",nn({opacity:0})))]),fadeInItems:pa("fadeInItems",[Sr("showing",nn({opacity:1})),Tr("void => *",[nn({opacity:0}),Wr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let KX=0;const ZG=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function ZX(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let HC=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=jt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=jt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=s,this._directDescendantItems=new c.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Lt.x,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+KX++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new ag(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Lr(this._directDescendantItems),(0,mi.w)(e=>(0,ma.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Lr(this._directDescendantItems),(0,mi.w)(i=>(0,ma.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Tu(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(ti(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Lr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ZG),c.Y36(c.sBO))};static#t=this.\u0275dir=c.lG2({type:n,contentQueries:function(i,r,s){if(1&i&&(c.Suo(s,YX,5),c.Suo(s,QA,5),c.Suo(s,QA,4)),2&i){let l;c.iGM(l=c.CRH())&&(r.lazyContent=l.first),c.iGM(l=c.CRH())&&(r._allItems=l),c.iGM(l=c.CRH())&&(r.items=l)}},viewQuery:function(i,r){if(1&i&&c.Gf(c.Rgc,5),2&i){let s;c.iGM(s=c.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),QX=(()=>{class n extends HC{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ZG),c.Y36(c.sBO))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:KL,useExisting:n}]),c.qOj],ngContentSelectors:qX,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(c.F$t(),c.YNc(0,$X,3,6,"ng-template"))},dependencies:[vo],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[XA.transformMenu,XA.fadeInItems]},changeDetection:0})}return n})();const QG=new c.OlP("mat-menu-scroll-strategy"),JX={provide:QG,deps:[Tb],useFactory:function XX(n){return()=>n.scrollStrategies.reposition()}},XG=Vh({passive:!0});let eJ=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,s,l,h,m,v,w){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=m,this._focusMonitor=v,this._ngZone=w,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=eo.w0.EMPTY,this._hoverSubscription=eo.w0.EMPTY,this._menuCloseSubscription=eo.w0.EMPTY,this._changeDetectorRef=(0,c.f3M)(c.sBO),this._handleTouchStart=T=>{Sv(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof HC?l:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,XG)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,XG),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof HC&&(e._startAnimation(),e._directDescendantItems.changes.pipe(an(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof HC?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(An(r=>"void"===r.toState),ti(1),an(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new zG({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,l)):e.setPositionClasses(s,l)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[l,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[m,v]=[l,h],[w,T]=[r,s],O=0;if(this.triggersSubmenu()){if(T=r="before"===e.xPosition?"start":"end",s=w="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}O="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(m="top"===l?"bottom":"top",v="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:m,overlayX:w,overlayY:l,offsetY:O},{originX:s,originY:m,overlayX:T,overlayY:l,offsetY:O},{originX:r,originY:v,overlayX:w,overlayY:h,offsetY:-O},{originX:s,originY:v,overlayX:T,overlayY:h,offsetY:-O}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,pt.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(An(l=>l!==this._menuItemInstance),An(()=>this._menuOpen)):(0,pt.of)();return(0,ma.T)(e,r,s,i)}_handleMousedown(e){NI(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(An(e=>e===this._menuItemInstance&&!e.disabled),BG(0,Am)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof HC&&this.menu._isAnimating?this.menu._animationDone.pipe(ti(1),BG(0,Am),an(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new VG(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(Tb),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(QG),c.Y36(KL,8),c.Y36(QA,10),c.Y36(md,8),c.Y36(Gh),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&c.NdJ("click",function(l){return r._handleClick(l)})("mousedown",function(l){return r._handleMousedown(l)})("keydown",function(l){return r._handleKeydown(l)}),2&i&&c.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),tJ=(()=>{class n extends eJ{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}();static#t=this.\u0275dir=c.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]})}return n})(),nJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[JX],imports:[_n,Cm,In,YL,Xh,In]})}return n})();function iJ(n,t){1&n&&(c.TgZ(0,"mat-card",2)(1,"mat-card-content",3),c._UZ(2,"mat-spinner"),c.qZA()())}function rJ(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-chip-option",13),c.NdJ("click",function(){const r=c.CHM(e),s=r.$implicit,l=r.index,h=c.oxw(2);return c.KtG(h.onChipSelected(s,l))}),c._uU(1),c.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=c.oxw(2);c.Q6J("selected",i===r.selectedcategoriaIndex),c.xp6(1),c.hij(" ",e.nombre," ")}}function sJ(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-card",16)(1,"mat-card-header")(2,"mat-card-title")(3,"p",17),c._uU(4),c.qZA(),c.TgZ(5,"button",18)(6,"mat-icon"),c._uU(7,"more_vert"),c.qZA()(),c.TgZ(8,"mat-menu",19,20)(10,"button",21),c.NdJ("click",function(){const s=c.CHM(e).$implicit,l=c.oxw(3);return c.KtG(l.editarProducto(s))}),c._uU(11,"Editar"),c.qZA(),c.TgZ(12,"button",21),c.NdJ("click",function(){const s=c.CHM(e).$implicit,l=c.oxw(3);return c.KtG(l.deleteProduct(s))}),c._uU(13,"Eliminar"),c.qZA()()()(),c.TgZ(14,"mat-card-content",22)(15,"mat-list",23)(16,"mat-list-item",24),c._uU(17),c.qZA(),c.TgZ(18,"mat-list-item",24),c._uU(19),c.qZA()()()()}if(2&n){const e=t.$implicit,i=c.MAs(9);c.xp6(4),c.hij(" ID.- ",e.id,""),c.xp6(1),c.Q6J("matMenuTriggerFor",i),c.xp6(12),c.hij("Nombre: ",e.nombre||"No tiene nombre",""),c.xp6(2),c.hij("Precio: ",e.precio||"No tiene precio","")}}function oJ(n,t){if(1&n&&(c.TgZ(0,"section")(1,"div",14),c.YNc(2,sJ,20,4,"mat-card",15),c.qZA()()),2&n){const e=c.oxw(2);c.xp6(2),c.Q6J("ngForOf",e.productsSelect)}}function aJ(n,t){1&n&&(c.TgZ(0,"section",25)(1,"h1"),c._uU(2,"No contiene productos"),c.qZA()())}function lJ(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",4)(1,"h1",5),c._uU(2,"Categorias "),c.TgZ(3,"button",6),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.agregarCategorias())}),c.TgZ(4,"mat-icon"),c._uU(5,"add"),c.qZA()()(),c.TgZ(6,"mat-chip-listbox",7),c.YNc(7,rJ,2,2,"mat-chip-option",8),c.qZA(),c._UZ(8,"mat-divider"),c.TgZ(9,"div",9)(10,"button",10),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.agregarProducto())}),c._uU(11,"Crear producto"),c.qZA()(),c._UZ(12,"mat-divider"),c.YNc(13,oJ,3,1,"section",11),c.YNc(14,aJ,3,0,"section",12),c.qZA()}if(2&n){const e=c.oxw();c.xp6(7),c.Q6J("ngForOf",e.categorias),c.xp6(6),c.Q6J("ngIf",(null==e.productsSelect?null:e.productsSelect.length)>0),c.xp6(1),c.Q6J("ngIf",0==e.productsSelect.length)}}const cJ=[{path:"",pathMatch:"full",redirectTo:"categoria/lista"},{path:"categoria",component:gP,children:[{path:"lista",resolve:{},component:(()=>{class n{constructor(){this.cols=2,this.breakpoint=768,this._categoria=(0,c.f3M)(fQ),this._producto=(0,c.f3M)(mQ),this.selectedcategoriaIndex=0,this.select=0,this.color="primary",this.mode="determinate",this.value=50,this.loading=!0}onResize(e){this.adjustGridCols(e.target.innerWidth)}ngOnInit(){this.adjustGridCols(window.innerWidth),this._categoria.getCategoria().subscribe(e=>{this.categorias=e,this.onChipSelected(this.categorias[this.select],this.select),this.loading=!1})}adjustGridCols(e){this.cols=e<=this.breakpoint?1:2}getGridTileStyle(){return{flex:"0 0 calc(50% - 8px)"}}onChipSelected(e,i){this.productsSelect=[],this.select=i,this._producto.getProduct(e.id).subscribe(r=>{this.productsSelect=r})}agregarCategorias(){Td().fire({title:"Ingresa informaci\xf3n",html:'<input id="input1" class="swal2-input" placeholder="Nombre">',showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){const i=document.getElementById("input1").value;this._categoria.add(i).then(r=>{Td().fire({icon:"success",title:"Categoria agregada"})}).catch(r=>{Td().fire({icon:"error",title:"Oops..."})})}})}agregarProducto(){Td().fire({title:"Ingresa informaci\xf3n",html:'<input id="input1" class="swal2-input" placeholder="Nombre"><input id="input2" class="swal2-input" placeholder="Precio" type="number">',showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){const i=document.getElementById("input1").value,r=document.getElementById("input2").value;this._producto.addProduct(this.categorias[this.select].id,i,r).then(s=>{Td().fire({icon:"success",title:"Producto agregado"})}).catch(s=>{Td().fire({icon:"error",title:"Oops..."})})}})}deleteProduct(e){this._producto.deleteProduct(this.categorias[this.select].id,e.id).then(i=>{Td().fire({icon:"success",title:"Producto eliminado"})}).catch(i=>{Td().fire({icon:"error",title:"Oops..."})})}editarProducto(e){Td().fire({title:"Ingresa informaci\xf3n",html:`\n        <input id="input1" class="swal2-input" placeholder="Campo 1" value="${e.nombre}">\n        <input id="input2" class="swal2-input" placeholder="Campo 2" type="number" value="${e.precio}">\n      `,showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",preConfirm:()=>({input1:document.getElementById("input1").value,input2:document.getElementById("input2").value})}).then(i=>{i.isConfirmed&&this._producto.update(this.categorias[this.select].id,e.id,i.value.input1,i.value.input2).then(r=>{Td().fire({icon:"success",title:"Producto eliminado"})}).catch(r=>{Td().fire({icon:"error",title:"Oops..."})})})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["app-tabla-categoria"]],hostBindings:function(i,r){1&i&&c.NdJ("resize",function(l){return r.onResize(l)},!1,c.Jf7)},decls:2,vars:2,consts:[["class","example-card","style","align-items: center;",4,"ngIf"],["class","grid-container",4,"ngIf"],[1,"example-card",2,"align-items","center"],[2,"text-align","center"],[1,"grid-container"],[1,"mat-h1"],["mat-fab","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],["aria-label","Fish selection"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"example-button-row",2,"text-align","center"],["mat-raised-button","","color","primary",2,"width","50%",3,"click"],[4,"ngIf"],["style","    text-align: center;\n  padding-top: 15%;",4,"ngIf"],[3,"selected","click"],[1,"horizontal-card-list"],["class","responsive-card","style","width: 300px;",4,"ngFor","ngForOf"],[1,"responsive-card",2,"width","300px"],[1,"ellipsis-text"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"dashboard-card-content"],["role","list"],["role","listitem"],[2,"text-align","center","padding-top","15%"]],template:function(i,r){1&i&&(c.YNc(0,iJ,3,0,"mat-card",0),c.YNc(1,lJ,15,3,"div",1)),2&i&&(c.Q6J("ngIf",r.loading),c.xp6(1),c.Q6J("ngIf",!r.loading))},dependencies:[Za,Pr,nD,sD,h0,JD,qS,fP,iO,$L,zL,RG,PG,FG,OG,_X,QX,QA,tJ],styles:['@charset "UTF-8";.full-width-table[_ngcontent-%COMP%]{width:100%}.grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;inset:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .example-button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px}.example-disabled[_ngcontent-%COMP%]{display:inline-block}.example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.example-card[_ngcontent-%COMP%]{margin-bottom:10px}.horizontal-card-list[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:16px}.mat-card.responsive-card[_ngcontent-%COMP%]{width:300px}@media screen and (max-width: 768px){.horizontal-card-list[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mat-card.responsive-card[_ngcontent-%COMP%]{width:100%}}.ellipsis-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:200px}']})}return n})()}]},{path:"**",redirectTo:"categoria/lista"}];let dJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[hv.forRoot(cJ,{useHash:!0}),hv]})}return n})(),uJ=(()=>{class n{constructor(){this.title="menuDigital"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&c._UZ(0,"router-outlet")},dependencies:[wu]})}return n})();function JG(n){return new c.vHH(3e3,!1)}function op(n){switch(n.length){case 0:return new yg;case 1:return n[0];default:return new w0(n)}}function e6(n,t,e=new Map,i=new Map){const r=[],s=[];let l=-1,h=null;if(t.forEach(m=>{const v=m.get("offset"),w=v==l,T=w&&h||new Map;m.forEach((O,B)=>{let $=B,Z=O;if("offset"!==B)switch($=n.normalizePropertyName($,r),Z){case"!":Z=e.get(B);break;case os:Z=i.get(B);break;default:Z=n.normalizeStyleValue(B,$,Z,r)}T.set($,Z)}),w||s.push(T),h=T,l=v}),r.length)throw function PJ(n){return new c.vHH(3502,!1)}();return s}function ZL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&QL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&QL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&QL(e,"destroy",n)))}}function QL(n,t,e){const s=XL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(s._data=l),s}function XL(n,t,e,i,r="",s=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Fl(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function t6(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const qJ=(()=>typeof document>"u"?null:document.documentElement)();function JL(n){const t=n.parentNode||n.host||null;return t===qJ?null:t}let w_=null,n6=!1;function r6(n,t){for(;t;){if(t===n)return!0;t=JL(t)}return!1}function s6(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let o6=(()=>{class n{validateStyleProperty(e){return function YJ(n){w_||(w_=function KJ(){return typeof document<"u"?document.body:null}()||{},n6=!!w_.style&&"WebkitAppearance"in w_.style);let t=!0;return w_.style&&!function WJ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in w_.style,!t&&n6&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in w_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return r6(e,i)}getParentElement(e){return JL(e)}query(e,i,r){return s6(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,l,h=[],m){return new yg(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})(),e2=(()=>{class n{static#e=this.NOOP=new o6}return n})();const ZJ=1e3,t2="ng-enter",JA="ng-leave",ek="ng-trigger",tk=".ng-trigger",l6="ng-animating",n2=".ng-animating";function xf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:r2(parseFloat(t[1]),t[2])}function r2(n,t){return"s"===t?n*ZJ:n}function nk(n,t,e){return n.hasOwnProperty("duration")?n:function XJ(n,t,e){let r,s=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(JG()),{duration:0,delay:0,easing:""};r=r2(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(s=r2(parseFloat(m),h[4]));const v=h[5];v&&(l=v)}else r=n;if(!e){let h=!1,m=t.length;r<0&&(t.push(function hJ(){return new c.vHH(3100,!1)}()),h=!0),s<0&&(t.push(function fJ(){return new c.vHH(3101,!1)}()),h=!0),h&&t.splice(m,0,JG())}return{duration:r,delay:s,easing:l}}(n,t,e)}function jC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function c6(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ap(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Zu(n,t,e){t.forEach((i,r)=>{const s=o2(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function x_(n,t){t.forEach((e,i)=>{const r=o2(i);n.style[r]=""})}function zC(n){return Array.isArray(n)?1==n.length?n[0]:za(n):n}const s2=new RegExp("{{\\s*(.+?)\\s*}}","g");function u6(n){let t=[];if("string"==typeof n){let e;for(;e=s2.exec(n);)t.push(e[1]);s2.lastIndex=0}return t}function GC(n,t,e){const i=n.toString(),r=i.replace(s2,(s,l)=>{let h=t[l];return null==h&&(e.push(function pJ(n){return new c.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function ik(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tee=/-+([a-z0-9])/g;function o2(n){return n.replace(tee,(...t)=>t[1].toUpperCase())}function Nl(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function gJ(n){return new c.vHH(3004,!1)}()}}function h6(n,t){return window.getComputedStyle(n)[t]}const rk="*";function ree(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function see(n,t,e){if(":"==n[0]){const m=function oee(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function kJ(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function AJ(n){return new c.vHH(3015,!1)}()),t;const r=i[1],s=i[2],l=i[3];t.push(f6(r,l));"<"==s[0]&&!(r==rk&&l==rk)&&t.push(f6(l,r))}(i,e,t)):e.push(n),e}const sk=new Set(["true","1"]),ok=new Set(["false","0"]);function f6(n,t){const e=sk.has(n)||ok.has(n),i=sk.has(t)||ok.has(t);return(r,s)=>{let l=n==rk||n==r,h=t==rk||t==s;return!l&&e&&"boolean"==typeof r&&(l=r?sk.has(n):ok.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?sk.has(t):ok.has(t)),l&&h}}const aee=new RegExp("s*:selfs*,?","g");function a2(n,t,e,i){return new lee(n).build(t,e,i)}class lee{constructor(t){this._driver=t}build(t,e,i){const r=new uee(e);return this._resetContextStyleTimingState(r),Nl(this,zC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function vJ(){return new c.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(w=>{m.name=w,s.push(this.visitState(m,e))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,e);i+=m.queryCount,r+=m.depCount,l.push(m)}else e.errors.push(function yJ(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{u6(m).forEach(v=>{l.hasOwnProperty(v)||s.add(v)})})}),s.size&&(ik(s.values()),e.errors.push(function bJ(n,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Nl(this,zC(t.animation),e);return{type:1,matchers:ree(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:C_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Nl(this,i,e)),options:C_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(l=>{e.currentTime=i;const h=Nl(this,l,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:C_(t.options)}}visitAnimate(t,e){const i=function fee(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return l2(nk(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=l2(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=nk(e,t);return l2(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:nn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let l=t.styles,h=!1;if(!l){h=!0;const v={};i.easing&&(v.easing=i.easing),l=nn(v)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(l,e);m.isEmptyStep=h,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===os?i.push(h):e.errors.push(new c.vHH(3002,!1)):i.push(c6(h));let s=!1,l=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!s))for(let m of h.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,m)=>{const v=e.collectedStyles.get(e.currentQuerySelector),w=v.get(m);let T=!0;w&&(s!=r&&s>=w.startTime&&r<=w.endTime&&(e.errors.push(function xJ(n,t,e,i,r){return new c.vHH(3010,!1)}()),T=!1),s=w.startTime),T&&v.set(m,{startTime:s,endTime:r}),e.options&&function eee(n,t,e){const i=t.params||{},r=u6(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function mJ(n){return new c.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function CJ(){return new c.vHH(3011,!1)}()),i;let s=0;const l=[];let h=!1,m=!1,v=0;const w=t.steps.map(Ae=>{const Ze=this._makeStyleAst(Ae,e);let Xe=null!=Ze.offset?Ze.offset:function hee(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ze.styles),ot=0;return null!=Xe&&(s++,ot=Ze.offset=Xe),m=m||ot<0||ot>1,h=h||ot<v,v=ot,l.push(ot),Ze});m&&e.errors.push(function EJ(){return new c.vHH(3012,!1)}()),h&&e.errors.push(function IJ(){return new c.vHH(3200,!1)}());const T=t.steps.length;let O=0;s>0&&s<T?e.errors.push(function DJ(){return new c.vHH(3202,!1)}()):0==s&&(O=1/(T-1));const B=T-1,$=e.currentTime,Z=e.currentAnimateTimings,re=Z.duration;return w.forEach((Ae,Ze)=>{const Xe=O>0?Ze==B?1:O*Ze:l[Ze],ot=Xe*re;e.currentTime=$+Z.delay+ot,Z.duration=ot,this._validateStyleAst(Ae,e),Ae.offset=Xe,i.styles.push(Ae)}),i}visitReference(t,e){return{type:8,animation:Nl(this,zC(t.animation),e),options:C_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:C_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:C_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function cee(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(aee,"")),n=n.replace(/@\*/g,tk).replace(/@\w+/g,e=>tk+"-"+e.slice(1)).replace(/:animating/g,n2),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Fl(e.collectedStyles,e.currentQuerySelector,new Map);const h=Nl(this,zC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:h,originalSelector:t.selector,options:C_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function SJ(){return new c.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:nk(t.timings,e.errors,!0);return{type:12,animation:Nl(this,zC(t.animation),e),timings:i,options:null}}}class uee{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function C_(n){return n?(n=jC(n)).params&&(n.params=function dee(n){return n?jC(n):null}(n.params)):n={},n}function l2(n,t,e){return{duration:n,delay:t,easing:e}}function c2(n,t,e,i,r,s,l=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:h}}class ak{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gee=new RegExp(":enter","g"),vee=new RegExp(":leave","g");function d2(n,t,e,i,r,s=new Map,l=new Map,h,m,v=[]){return(new yee).buildKeyframes(n,t,e,i,r,s,l,h,m,v)}class yee{buildKeyframes(t,e,i,r,s,l,h,m,v,w=[]){v=v||new ak;const T=new u2(t,e,v,r,s,w,[]);T.options=m;const O=m.delay?xf(m.delay):0;T.currentTimeline.delayNextStep(O),T.currentTimeline.setStyles([l],null,T.errors,m),Nl(this,i,T);const B=T.timelines.filter($=>$.containsAnimation());if(B.length&&h.size){let $;for(let Z=B.length-1;Z>=0;Z--){const re=B[Z];if(re.element===e){$=re;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([h],null,T.errors,m)}return B.length?B.map($=>$.buildKeyframes()):[c2(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const l="number"==typeof s?s:xf(GC(s,r?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const l=null!=i.duration?xf(i.duration):null,h=null!=i.delay?xf(i.delay):null;return 0!==l&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,l,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Nl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lk);const l=xf(s.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Nl(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?xf(t.options.delay):0;t.steps.forEach(l=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Nl(this,l,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return nk(e.params?GC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*s),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?xf(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lk);let l=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((v,w)=>{e.currentQueryIndex=w;const T=e.createSubContext(t.options,v);s&&T.delayNextStep(s),v===e.element&&(m=T.currentTimeline),Nl(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),h=l*(e.currentQueryTotal-1);let m=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const w=e.currentTimeline;m&&w.delayNextStep(m);const T=w.currentTime;Nl(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const lk={};class u2{constructor(t,e,i,r,s,l,h,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new ck(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=xf(i.duration)),null!=i.delay&&(r.delay=xf(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!l.hasOwnProperty(h))&&(l[h]=GC(s[h],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new u2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=lk,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new bee(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,l){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(gee,"."+this._enterClassName)).replace(vee,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&l.push(function TJ(n){return new c.vHH(3014,!1)}()),h}}class ck{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ck(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||os),this._currentKeyframe.set(e,os);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},l=function wee(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,os)}else ap(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,m]of l){const v=GC(m,s,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??os),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=ap(h,new Map,this._backFill);v.forEach((w,T)=>{"!"===w?t.add(T):w===os&&e.add(T)}),i||v.set("offset",m/this.duration),r.push(v)});const s=t.size?ik(t.values()):[],l=e.size?ik(e.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return c2(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class bee extends ck{constructor(t,e,i,r,s,l,h=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=i+e,h=e/l,m=ap(t[0]);m.set("offset",0),s.push(m);const v=ap(t[0]);v.set("offset",g6(h)),s.push(v);const w=t.length-1;for(let T=1;T<=w;T++){let O=ap(t[T]);const B=O.get("offset");O.set("offset",g6((e+B*i)/l)),s.push(O)}i=l,e=0,r="",t=s}return c2(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function g6(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class h2{}const xee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Cee extends h2{normalizePropertyName(t,e){return o2(t)}normalizeStyleValue(t,e,i,r){let s="";const l=i.toString().trim();if(xee.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function _J(n,t){return new c.vHH(3005,!1)}())}return l+s}}function _6(n,t,e,i,r,s,l,h,m,v,w,T,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:l,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:w,totalTime:T,errors:O}}const f2={};class v6{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Eee(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,l,h,m,v,w){const T=[],O=this.ast.options&&this.ast.options.params||f2,$=this.buildStyles(i,h&&h.params||f2,T),Z=m&&m.params||f2,re=this.buildStyles(r,Z,T),Ae=new Set,Ze=new Map,Xe=new Map,ot="void"===r,Vt={params:Iee(Z,O),delay:this.ast.options?.delay},zt=w?[]:d2(t,e,this.ast.animation,s,l,$,re,Vt,v,T);let Rn=0;if(zt.forEach(Uo=>{Rn=Math.max(Uo.duration+Uo.delay,Rn)}),T.length)return _6(e,this._triggerName,i,r,ot,$,re,[],[],Ze,Xe,Rn,T);zt.forEach(Uo=>{const Mf=Uo.element,P8=Fl(Ze,Mf,new Set);Uo.preStyleProps.forEach(B_=>P8.add(B_));const AE=Fl(Xe,Mf,new Set);Uo.postStyleProps.forEach(B_=>AE.add(B_)),Mf!==e&&Ae.add(Mf)});const fr=ik(Ae.values());return _6(e,this._triggerName,i,r,ot,$,re,zt,fr,Ze,Xe,Rn)}}function Iee(n,t){const e=jC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Dee{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=jC(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{l&&(l=GC(l,r,e));const m=this.normalizer.normalizePropertyName(h,e);l=this.normalizer.normalizeStyleValue(h,m,l,e),i.set(h,l)})}),i}}class Tee{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Dee(r.style,r.options&&r.options.params||{},i))}),y6(this.states,"true","1"),y6(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new v6(t,r,this.states))}),this.fallbackTransition=function Aee(n,t,e){return new v6(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function y6(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const kee=new ak;class Mee{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=a2(this._driver,e,i,[]);if(i.length)throw function FJ(n){return new c.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=e6(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let l;const h=new Map;if(s?(l=d2(this._driver,e,s,t2,JA,new Map,new Map,i,kee,r),l.forEach(w=>{const T=Fl(h,w.element,new Map);w.postStyleProps.forEach(O=>T.set(O,null))})):(r.push(function NJ(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function LJ(n){return new c.vHH(3504,!1)}();h.forEach((w,T)=>{w.forEach((O,B)=>{w.set(B,this._driver.computeStyle(T,B,os))})});const v=op(l.map(w=>{const T=h.get(w.element);return this._buildPlayer(w,new Map,T)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function BJ(n){return new c.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=XL(e,"","","");return ZL(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const b6="ng-animate-queued",m2="ng-animate-disabled",Nee=[],w6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ad="__ng_removed";class p2{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Hee(n){return n??null}(i?t.value:t),i){const s=jC(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const $C="void",g2=new p2($C);class Bee{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Tc(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function VJ(n,t){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function UJ(n){return new c.vHH(3303,!1)}();if(!function jee(n){return"start"==n||"done"==n}(i))throw function HJ(n,t){return new c.vHH(3400,!1)}();const s=Fl(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};s.push(l);const h=Fl(this._engine.statesByElement,t,new Map);return h.has(e)||(Tc(t,ek),Tc(t,ek+"-"+e),h.set(e,g2)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(l);m>=0&&s.splice(m,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function jJ(n){return new c.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),l=new _2(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Tc(t,ek),Tc(t,ek+"-"+e),this._engine.statesByElement.set(t,h=new Map));let m=h.get(e);const v=new p2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(e,v),m||(m=g2),v.value!==$C&&m.value===v.value){if(!function $ee(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(m.params,v.params)){const Z=[],re=s.matchStyles(m.value,m.params,Z),Ae=s.matchStyles(v.value,v.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{x_(t,re),Zu(t,Ae)})}return}const O=Fl(this._engine.playersByElement,t,[]);O.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==e&&Z.queued&&Z.destroy()});let B=s.matchTransition(m.value,v.value,t,v.params),$=!1;if(!B){if(!r)return;B=s.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:m,toState:v,player:l,isFallbackTransition:$}),$||(Tc(t,b6),l.onStart(()=>{Ab(t,b6)})),l.onDone(()=>{let Z=this.players.indexOf(l);Z>=0&&this.players.splice(Z,1);const re=this._engine.playersByElement.get(t);if(re){let Ae=re.indexOf(l);Ae>=0&&re.splice(Ae,1)}}),this.players.push(l),O.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,tk,!0);i.forEach(r=>{if(r[Ad])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),l=new Map;if(s){const h=[];if(s.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const w=this.trigger(t,v,$C,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&op(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const m=this._triggers.get(l).fallbackTransition,v=i.get(l)||g2,w=new p2($C),T=new _2(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:m,fromState:v,toState:w,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ad];(!s||s===w6)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Tc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==i.triggerName){const m=XL(s,i.triggerName,i.fromState.value,i.toState.value);m._data=t,ZL(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Vee{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Bee(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,h=this.driver.getParentElement(e);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,t),l=!0;break}h=this.driver.getParentElement(h)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(dk(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!dk(e))return;const s=e[Ad];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Tc(t,m2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ab(t,m2))}removeNode(t,e,i){if(dk(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ad]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return dk(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,tk,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,n2,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return op(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ad];if(e&&e.setForRemoval){if(t[Ad]=w6,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(m2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Tc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?op(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function zJ(n){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new ak,r=[],s=new Map,l=[],h=new Map,m=new Map,v=new Map,w=new Set;this.disabledNodes.forEach(Ot=>{w.add(Ot);const $t=this.driver.query(Ot,".ng-animate-queued",!0);for(let tn=0;tn<$t.length;tn++)w.add($t[tn])});const T=this.bodyNode,O=Array.from(this.statesByElement.keys()),B=E6(O,this.collectedEnterElements),$=new Map;let Z=0;B.forEach((Ot,$t)=>{const tn=t2+Z++;$.set($t,tn),Ot.forEach(Yn=>Tc(Yn,tn))});const re=[],Ae=new Set,Ze=new Set;for(let Ot=0;Ot<this.collectedLeaveElements.length;Ot++){const $t=this.collectedLeaveElements[Ot],tn=$t[Ad];tn&&tn.setForRemoval&&(re.push($t),Ae.add($t),tn.hasAnimation?this.driver.query($t,".ng-star-inserted",!0).forEach(Yn=>Ae.add(Yn)):Ze.add($t))}const Xe=new Map,ot=E6(O,Array.from(Ae));ot.forEach((Ot,$t)=>{const tn=JA+Z++;Xe.set($t,tn),Ot.forEach(Yn=>Tc(Yn,tn))}),t.push(()=>{B.forEach((Ot,$t)=>{const tn=$.get($t);Ot.forEach(Yn=>Ab(Yn,tn))}),ot.forEach((Ot,$t)=>{const tn=Xe.get($t);Ot.forEach(Yn=>Ab(Yn,tn))}),re.forEach(Ot=>{this.processLeaveNode(Ot)})});const Vt=[],zt=[];for(let Ot=this._namespaceList.length-1;Ot>=0;Ot--)this._namespaceList[Ot].drainQueuedTransitions(e).forEach(tn=>{const Yn=tn.player,zs=tn.element;if(Vt.push(Yn),this.collectedEnterElements.length){const Ho=zs[Ad];if(Ho&&Ho.setForMove){if(Ho.previousTriggersValues&&Ho.previousTriggersValues.has(tn.triggerName)){const V_=Ho.previousTriggersValues.get(tn.triggerName),Rc=this.statesByElement.get(tn.element);if(Rc&&Rc.has(tn.triggerName)){const fM=Rc.get(tn.triggerName);fM.value=V_,Rc.set(tn.triggerName,fM)}}return void Yn.destroy()}}const rh=!T||!this.driver.containsElement(T,zs),Ul=Xe.get(zs),bp=$.get(zs),Rr=this._buildInstruction(tn,i,bp,Ul,rh);if(Rr.errors&&Rr.errors.length)return void zt.push(Rr);if(rh)return Yn.onStart(()=>x_(zs,Rr.fromStyles)),Yn.onDestroy(()=>Zu(zs,Rr.toStyles)),void r.push(Yn);if(tn.isFallbackTransition)return Yn.onStart(()=>x_(zs,Rr.fromStyles)),Yn.onDestroy(()=>Zu(zs,Rr.toStyles)),void r.push(Yn);const L8=[];Rr.timelines.forEach(Ho=>{Ho.stretchStartingKeyframe=!0,this.disabledNodes.has(Ho.element)||L8.push(Ho)}),Rr.timelines=L8,i.append(zs,Rr.timelines),l.push({instruction:Rr,player:Yn,element:zs}),Rr.queriedElements.forEach(Ho=>Fl(h,Ho,[]).push(Yn)),Rr.preStyleProps.forEach((Ho,V_)=>{if(Ho.size){let Rc=m.get(V_);Rc||m.set(V_,Rc=new Set),Ho.forEach((fM,sV)=>Rc.add(sV))}}),Rr.postStyleProps.forEach((Ho,V_)=>{let Rc=v.get(V_);Rc||v.set(V_,Rc=new Set),Ho.forEach((fM,sV)=>Rc.add(sV))})});if(zt.length){const Ot=[];zt.forEach($t=>{Ot.push(function GJ(n,t){return new c.vHH(3505,!1)}())}),Vt.forEach($t=>$t.destroy()),this.reportError(Ot)}const Rn=new Map,fr=new Map;l.forEach(Ot=>{const $t=Ot.element;i.has($t)&&(fr.set($t,$t),this._beforeAnimationBuild(Ot.player.namespaceId,Ot.instruction,Rn))}),r.forEach(Ot=>{const $t=Ot.element;this._getPreviousPlayers($t,!1,Ot.namespaceId,Ot.triggerName,null).forEach(Yn=>{Fl(Rn,$t,[]).push(Yn),Yn.destroy()})});const Uo=re.filter(Ot=>D6(Ot,m,v)),Mf=new Map;C6(Mf,this.driver,Ze,v,os).forEach(Ot=>{D6(Ot,m,v)&&Uo.push(Ot)});const AE=new Map;B.forEach((Ot,$t)=>{C6(AE,this.driver,new Set(Ot),m,"!")}),Uo.forEach(Ot=>{const $t=Mf.get(Ot),tn=AE.get(Ot);Mf.set(Ot,new Map([...$t?.entries()??[],...tn?.entries()??[]]))});const B_=[],F8=[],N8={};l.forEach(Ot=>{const{element:$t,player:tn,instruction:Yn}=Ot;if(i.has($t)){if(w.has($t))return tn.onDestroy(()=>Zu($t,Yn.toStyles)),tn.disabled=!0,tn.overrideTotalTime(Yn.totalTime),void r.push(tn);let zs=N8;if(fr.size>1){let Ul=$t;const bp=[];for(;Ul=Ul.parentNode;){const Rr=fr.get(Ul);if(Rr){zs=Rr;break}bp.push(Ul)}bp.forEach(Rr=>fr.set(Rr,zs))}const rh=this._buildAnimation(tn.namespaceId,Yn,Rn,s,AE,Mf);if(tn.setRealPlayer(rh),zs===N8)B_.push(tn);else{const Ul=this.playersByElement.get(zs);Ul&&Ul.length&&(tn.parentPlayer=op(Ul)),r.push(tn)}}else x_($t,Yn.fromStyles),tn.onDestroy(()=>Zu($t,Yn.toStyles)),F8.push(tn),w.has($t)&&r.push(tn)}),F8.forEach(Ot=>{const $t=s.get(Ot.element);if($t&&$t.length){const tn=op($t);Ot.setRealPlayer(tn)}}),r.forEach(Ot=>{Ot.parentPlayer?Ot.syncPlayerEvents(Ot.parentPlayer):Ot.destroy()});for(let Ot=0;Ot<re.length;Ot++){const $t=re[Ot],tn=$t[Ad];if(Ab($t,JA),tn&&tn.hasAnimation)continue;let Yn=[];if(h.size){let rh=h.get($t);rh&&rh.length&&Yn.push(...rh);let Ul=this.driver.query($t,n2,!0);for(let bp=0;bp<Ul.length;bp++){let Rr=h.get(Ul[bp]);Rr&&Rr.length&&Yn.push(...Rr)}}const zs=Yn.filter(rh=>!rh.destroyed);zs.length?zee(this,$t,zs):this.processLeaveNode($t)}return re.length=0,B_.forEach(Ot=>{this.players.push(Ot),Ot.onDone(()=>{Ot.destroy();const $t=this.players.indexOf(Ot);this.players.splice($t,1)}),Ot.play()}),B_}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let l=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(l=h)}else{const h=this.playersByElement.get(t);if(h){const m=!s||s==$C;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),l}_beforeAnimationBuild(t,e,i){const s=e.element,l=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,w=v!==s,T=Fl(i,v,[]);this._getPreviousPlayers(v,w,l,h,e.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),T.push(B)})}x_(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,l){const h=e.triggerName,m=e.element,v=[],w=new Set,T=new Set,O=e.timelines.map($=>{const Z=$.element;w.add(Z);const re=Z[Ad];if(re&&re.removedBeforeQueried)return new yg($.duration,$.delay);const Ae=Z!==m,Ze=function Gee(n){const t=[];return I6(n,t),t}((i.get(Z)||Nee).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===Z),Xe=s.get(Z),ot=l.get(Z),Vt=e6(this._normalizer,$.keyframes,Xe,ot),zt=this._buildPlayer($,Vt,Ze);if($.subTimeline&&r&&T.add(Z),Ae){const Rn=new _2(t,h,Z);Rn.setRealPlayer(zt),v.push(Rn)}return zt});v.forEach($=>{Fl(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function Uee(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,$.element,$))}),w.forEach($=>Tc($,l6));const B=op(O);return B.onDestroy(()=>{w.forEach($=>Ab($,l6)),Zu(m,e.toStyles)}),T.forEach($=>{Fl(r,$,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new yg(t.duration,t.delay)}}class _2{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new yg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>ZL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dk(n){return n&&1===n.nodeType}function x6(n,t){const e=n.style.display;return n.style.display=t??"none",e}function C6(n,t,e,i,r){const s=[];e.forEach(m=>s.push(x6(m)));const l=[];i.forEach((m,v)=>{const w=new Map;m.forEach(T=>{const O=t.computeStyle(v,T,r);w.set(T,O),(!O||0==O.length)&&(v[Ad]=Lee,l.push(v))}),n.set(v,w)});let h=0;return e.forEach(m=>x6(m,s[h++])),l}function E6(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function l(h){if(!h)return 1;let m=s.get(h);if(m)return m;const v=h.parentNode;return m=e.has(v)?v:r.has(v)?1:l(v),s.set(h,m),m}return t.forEach(h=>{const m=l(h);1!==m&&e.get(m).push(h)}),e}function Tc(n,t){n.classList?.add(t)}function Ab(n,t){n.classList?.remove(t)}function zee(n,t,e){op(e).onDone(()=>n.processLeaveNode(t))}function I6(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof w0?I6(i.players,t):t.push(i)}}function D6(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class uk{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Vee(t,e,i),this._timelineEngine=new Mee(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const l=t+"-"+r;let h=this._triggerCache[l];if(!h){const m=[],w=a2(this._driver,s,m,[]);if(m.length)throw function OJ(n,t){return new c.vHH(3404,!1)}();h=function See(n,t,e){return new Tee(n,t,e)}(r,w,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,l]=t6(i);this._timelineEngine.command(s,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[l,h]=t6(i);return this._timelineEngine.listen(l,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Wee=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zu(this._element,this._initialStyles),this._endStyles&&(Zu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(x_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(x_(this._element,this._endStyles),this._endStyles=null),Zu(this._element,this._initialStyles),this._state=3)}}return n})();function v2(n){let t=null;return n.forEach((e,i)=>{(function Yee(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class S6{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:h6(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Kee{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return r6(t,e)}getParentElement(t){return JL(t)}query(t,e,i){return s6(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,l=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(m.easing=s);const v=new Map,w=l.filter(B=>B instanceof S6);(function nee(n,t){return 0===n||0===t})(i,r)&&w.forEach(B=>{B.currentSnapshot.forEach(($,Z)=>v.set(Z,$))});let T=function JJ(n){return n.length?n[0]instanceof Map?n:n.map(t=>c6(t)):[]}(e).map(B=>ap(B));T=function iee(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<t.length;s++){let l=t[s];r.forEach(h=>l.set(h,h6(n,h)))}}return t}(t,T,v);const O=function qee(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=v2(t[0]),t.length>1&&(i=v2(t[t.length-1]))):t instanceof Map&&(e=v2(t)),e||i?new Wee(n,e,i):null}(t,T);return new S6(t,T,m,O)}}let Zee=(()=>{class n extends Uv{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?za(e):e;return T6(this._renderer,null,i,"register",[r]),new Qee(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(c.FYo),c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();class Qee extends b0{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Xee(this._id,t,e||{},this._renderer)}}class Xee{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return T6(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function T6(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const A6="@.disabled";let Jee=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,l)=>{const h=l?.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new k6("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,w)),w}const l=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=w=>{Array.isArray(w)?w.forEach(m):this.engine.registerTrigger(l,h,e,w.name,w)};return i.data.animation.forEach(m),new ete(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(c.FYo),c.LFG(uk),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();class k6{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==A6?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ete extends k6{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==A6?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function tte(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function nte(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let ite=(()=>{class n extends uk{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(de),c.LFG(e2),c.LFG(h2),c.LFG(c.z2F))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac})}return n})();const M6=[{provide:Uv,useClass:Zee},{provide:h2,useFactory:function rte(){return new Cee}},{provide:uk,useClass:ite},{provide:c.FYo,useFactory:function ste(n,t,e){return new Jee(n,t,e)},deps:[_t,uk,c.R0b]}],y2=[{provide:e2,useFactory:()=>new Kee},{provide:c.QbO,useValue:"BrowserAnimations"},...M6],R6=[{provide:e2,useClass:o6},{provide:c.QbO,useValue:"NoopAnimations"},...M6];let ote=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?R6:y2}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:y2,imports:[Qd]})}return n})(),bte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[Vv]})}return n})(),Ate=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[In,bte,In]})}return n})();const Fte={provide:new c.OlP("mat-select-scroll-strategy"),deps:[Tb],useFactory:function Pte(n){return()=>n.scrollStrategies.reposition()}};let Nte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[Fte],imports:[_n,YL,n1,In,Xh,EQ,n1,In]})}return n})();const Ute={provide:new c.OlP("mat-tooltip-scroll-strategy"),deps:[Tb],useFactory:function Vte(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let jte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[Ute],imports:[zR,_n,YL,In,In,Xh]})}return n})(),k2=(()=>{class n{constructor(){this.changes=new Lt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Wte={provide:k2,deps:[[new c.FiY,new c.tp0,k2]],useFactory:function qte(n){return n||new k2}};let Yte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[Wte],imports:[_n,pg,Nte,jte]})}return n})(),M2=(()=>{class n{constructor(){this.changes=new Lt.x}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zte={provide:M2,deps:[[new c.FiY,new c.tp0,M2]],useFactory:function Kte(n){return n||new M2}};let Qte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({providers:[Zte],imports:[_n,In]})}return n})();class Xte{constructor(t,e){this._delegate=t,this.firebase=e,(0,Hr._addComponent)(t,new Ml.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Hr.deleteApp)(this._delegate)))}_getService(t,e=Hr._DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=Hr._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,Hr._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,Hr._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const z6=new H.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),tne=function G6(){const n=function ene(n){const t={},e={__esModule:!0,initializeApp:function s(v,w={}){const T=Hr.initializeApp(v,w);if((0,H.r3)(t,T.name))return t[T.name];const O=new n(T,e);return t[T.name]=O,O},app:r,registerVersion:Hr.registerVersion,setLogLevel:Hr.setLogLevel,onLog:Hr.onLog,apps:null,SDK_VERSION:Hr.SDK_VERSION,INTERNAL:{registerComponent:function h(v){const w=v.name,T=w.replace("-compat","");if(Hr._registerComponent(v)&&"PUBLIC"===v.type){const O=(B=r())=>{if("function"!=typeof B[T])throw z6.create("invalid-app-argument",{appName:w});return B[T]()};void 0!==v.serviceProps&&(0,H.ZB)(O,v.serviceProps),e[T]=O,n.prototype[T]=function(...B){return this._getService.bind(this,w).apply(this,v.multipleInstances?B:[])}}return"PUBLIC"===v.type?e[T]:null},removeApp:function i(v){delete t[v]},useAsService:function m(v,w){return"serverAuth"===w?null:w},modularAPIs:Hr}};function r(v){if(!(0,H.r3)(t,v=v||Hr._DEFAULT_ENTRY_NAME))throw z6.create("no-app",{appName:v});return t[v]}return e.default=e,Object.defineProperty(e,"apps",{get:function l(){return Object.keys(t).map(v=>t[v])}}),r.App=n,e}(Xte);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:G6,extendNamespace:function t(e){(0,H.ZB)(n,e)},createSubscribe:H.ne,ErrorFactory:H.LL,deepExtend:H.ZB}),n}(),$6=new va.Yd("@firebase/app-compat");if((0,H.jU)()&&void 0!==self.firebase){$6.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&$6.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const sne=tne;!function rne(n){(0,Hr.registerVersion)("@firebase/app-compat","0.2.20",n)}();const q6="firebasestorage.googleapis.com",W6="storageBucket";class Ar extends H.ZR{constructor(t,e,i=0){super(R2(t),`Firebase Storage: ${e} (${R2(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return R2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var dr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(dr||{});function R2(n){return"storage/"+n}function O2(){return new Ar(dr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Y6(){return new Ar(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K6(){return new Ar(dr.CANCELED,"User canceled the upload/download.")}function Z6(){return new Ar(dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ob(n){return new Ar(dr.INVALID_ARGUMENT,n)}function Q6(){return new Ar(dr.APP_DELETED,"The Firebase app was deleted.")}function X6(n){return new Ar(dr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function YC(n,t){return new Ar(dr.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function KC(n){throw new Ar(dr.INTERNAL_ERROR,"Internal error: "+n)}class Bo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Bo.makeFromUrl(t,e)}catch{return new Bo(t,"")}if(""===i.path)return i;throw function pne(n){return new Ar(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(ot){ot.path_=decodeURIComponent(ot.path)}const T=e.replace(/[.]/g,"\\."),Xe=[{regex:h,indices:{bucket:1,path:3},postModify:function s(ot){"/"===ot.path.charAt(ot.path.length-1)&&(ot.path_=ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===q6?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let ot=0;ot<Xe.length;ot++){const Vt=Xe[ot],zt=Vt.regex.exec(t);if(zt){let fr=zt[Vt.indices.path];fr||(fr=""),i=new Bo(zt[Vt.indices.bucket],fr),Vt.postModify(i);break}}if(null==i)throw function mne(n){return new Ar(dr.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class bne{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function xk(n){return"string"==typeof n||n instanceof String}function J6(n){return P2()&&n instanceof Blob}function P2(){return typeof Blob<"u"&&!(0,H.UG)()}function F2(n,t,e,i){if(i<t)throw Ob(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Ob(`Invalid value for '${n}'. Expected ${e} or less.`)}function If(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function e5(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Pb=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Pb||{});function t5(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class Dne{constructor(t,e,i,r,s,l,h,m,v,w,T,O=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=T,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,$)=>{this.resolve_=B,this.reject_=$,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,l=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function Cne(n){return void 0!==n}(m)?s():s(m)}catch(m){l(m)}else if(null!==h){const m=O2();m.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,m):m)}else l(r.canceled?this.appDelete_?Q6():K6():Y6())};this.canceled_?e(0,new Ck(!1,null,!0)):this.backoffId_=function wne(n,t,e){let i=1,r=null,s=null,l=!1,h=0;function m(){return 2===h}let v=!1;function w(...re){v||(v=!0,t.apply(null,re))}function T(re){r=setTimeout(()=>{r=null,n(B,m())},re)}function O(){s&&clearTimeout(s)}function B(re,...Ae){if(v)return void O();if(re)return O(),void w.call(null,re,...Ae);if(m()||l)return O(),void w.call(null,re,...Ae);let Xe;i<64&&(i*=2),1===h?(h=2,Xe=0):Xe=1e3*(i+Math.random()),T(Xe)}let $=!1;function Z(re){$||($=!0,O(),!v&&(null!==r?(re||(h=2),clearTimeout(r),T(0)):re||(h=1)))}return T(0),s=setTimeout(()=>{l=!0,Z(!0)},e),Z}((i,r)=>{if(r)return void i(!1,new Ck(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const h=s.getErrorCode()===Pb.NO_ERROR,m=s.getStatus();if(!h||t5(m,this.additionalRetryCodes_)&&this.retry){const w=s.getErrorCode()===Pb.ABORT;return void i(!1,new Ck(!1,null,w))}const v=-1!==this.successCodes_.indexOf(m);i(!0,new Ck(v,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function xne(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ck{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function One(...n){const t=function Rne(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(P2())return new Blob(n);throw new Ar(dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ll={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class N2{constructor(t,e){this.data=t,this.contentType=e||null}}function L2(n,t){switch(n){case Ll.RAW:return new N2(n5(t));case Ll.BASE64:case Ll.BASE64URL:return new N2(r5(n,t));case Ll.DATA_URL:return new N2(function Lne(n){const t=new s5(n);return t.base64?r5(Ll.BASE64,t.rest):function Nne(n){let t;try{t=decodeURIComponent(n)}catch{throw YC(Ll.DATA_URL,"Malformed data URL.")}return n5(t)}(t.rest)}(t),function Bne(n){return new s5(n).contentType}(t))}throw O2()}function n5(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function r5(n,t){switch(n){case Ll.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw YC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ll.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw YC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Fne(n){if(typeof atob>"u")throw function yne(n){return new Ar(dr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:YC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class s5{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw YC(Ll.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Vne(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Qu{constructor(t,e){let i=0,r="";J6(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(J6(this.data_)){const r=function Pne(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Qu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Qu(i,!0)}}static getBlob(...t){if(P2()){const e=t.map(i=>i instanceof Qu?i.data_:i);return new Qu(One.apply(null,e))}{const e=t.map(l=>xk(l)?L2(Ll.RAW,l).data:l.data_);let i=0;e.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(l=>{for(let h=0;h<l.length;h++)r[s++]=l[h]}),new Qu(r,!0)}}uploadData(){return this.data_}}function B2(n){let t;try{t=JSON.parse(n)}catch{return null}return function Ine(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function o5(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function jne(n,t){return t}class xa{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||jne}}let Ek=null;function ZC(){if(Ek)return Ek;const n=[];n.push(new xa("bucket")),n.push(new xa("generation")),n.push(new xa("metageneration")),n.push(new xa("name","fullPath",!0));const e=new xa("name");e.xform=function t(s,l){return function zne(n){return!xk(n)||n.length<2?n:o5(n)}(l)},n.push(e);const r=new xa("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new xa("timeCreated")),n.push(new xa("updated")),n.push(new xa("md5Hash",null,!0)),n.push(new xa("cacheControl",null,!0)),n.push(new xa("contentDisposition",null,!0)),n.push(new xa("contentEncoding",null,!0)),n.push(new xa("contentLanguage",null,!0)),n.push(new xa("contentType",null,!0)),n.push(new xa("metadata","customMetadata",!0)),Ek=n,Ek}function a5(n,t,e){const i=B2(t);return null===i?null:function $ne(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const l=e[s];i[l.local]=l.xform(i,t[l.server])}return function Gne(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Bo(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function V2(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const l5="prefixes",c5="items";class Xu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ju(n){if(!n)throw O2()}function Ik(n,t){return function e(i,r){const s=a5(n,r,t);return Ju(null!==s),s}}function Fb(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function hne(){return new Ar(dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function une(){return new Ar(dr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function dne(n){return new Ar(dr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function fne(n){return new Ar(dr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function QC(n){const t=Fb(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function cne(n){return new Ar(dr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function d5(n,t,e){const r=If(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new Xu(r,"GET",Ik(n,e),l);return h.errorHandler=QC(t),h}function Qne(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=If(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,w=new Xu(h,"GET",function Kne(n,t){return function e(i,r){const s=function Yne(n,t,e){const i=B2(e);return null===i?null:function Wne(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[l5])for(const r of e[l5]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new Bo(t,s));i.prefixes.push(l)}if(e[c5])for(const r of e[c5]){const s=n._makeStorageReference(new Bo(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Ju(null!==s),s}}(n,t.bucket),v);return w.urlParams=s,w.errorHandler=Fb(t),w}function h5(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function tie(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class Dk{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function U2(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ju(!1)}return Ju(!!e&&-1!==(t||["active"]).indexOf(e)),e}const sie={STATE_CHANGED:"state_changed"},Ca={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function H2(n){switch(n){case"running":case"pausing":case"canceling":return Ca.RUNNING;case"paused":return Ca.PAUSED;case"success":return Ca.SUCCESS;case"canceled":return Ca.CANCELED;default:return Ca.ERROR}}class oie{constructor(t,e,i){if(function Ene(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Nb(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let p5=null;class aie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pb.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pb.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pb.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw KC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw KC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw KC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw KC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw KC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class lie extends aie{initXhr(){this.xhr_.responseType="text"}}function kd(){return p5?p5():new lie}class g5{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=ZC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(dr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(t5(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=Y6()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(dr.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function nie(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),l=h5(t,i,r),h={name:l.fullPath},m=If(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},T=V2(l,e),$=new Xu(m,"POST",function B(Z){let re;U2(Z);try{re=Z.getResponseHeader("X-Goog-Upload-URL")}catch{Ju(!1)}return Ju(xk(re)),re},n.maxUploadRetryTime);return $.urlParams=h,$.headers=w,$.body=T,$.errorHandler=Fb(t),$}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,kd,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function iie(n,t,e,i){const m=new Xu(e,"POST",function s(v){const w=U2(v,["active","final"]);let T=null;try{T=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ju(!1)}T||Ju(!1);const O=Number(T);return Ju(!isNaN(O)),new Dk(O,i.size(),"final"===w)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Fb(t),m}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,kd,e,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new Dk(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function rie(n,t,e,i,r,s,l,h){const m=new Dk(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=i.size()),i.size()!==m.total)throw function _ne(){return new Ar(dr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let w=v;r>0&&(w=Math.min(w,r));const T=m.current;let B="";B=0===w?"finalize":v===w?"upload, finalize":"upload";const $={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${m.current}`},Z=i.slice(T,T+w);if(null===Z)throw Z6();const Xe=new Xu(e,"POST",function re(ot,Vt){const zt=U2(ot,["active","final"]),Rn=m.current+w,fr=i.size();let Uo;return Uo="final"===zt?Ik(t,s)(ot,Vt):null,new Dk(Rn,fr,"final"===zt,Uo)},t.maxUploadRetryTime);return Xe.headers=$,Xe.body=Z.uploadData(),Xe.progressCallback=h||null,Xe.errorHandler=Fb(n),Xe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const h=this._ref.storage._makeRequest(l,kd,r,s,!1);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=d5(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,kd,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function f5(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let Xe="";for(let ot=0;ot<2;ot++)Xe+=Math.random().toString().slice(2);return Xe}();l["Content-Type"]="multipart/related; boundary="+m;const v=h5(t,i,r),w=V2(v,e),B=Qu.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===B)throw Z6();const $={name:v.fullPath},Z=If(s,n.host,n._protocol),Ae=n.maxUploadRetryTime,Ze=new Xu(Z,"POST",Ik(n,e),Ae);return Ze.urlParams=$,Ze.headers=l,Ze.body=B.uploadData(),Ze.errorHandler=Fb(t),Ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,kd,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=K6(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=H2(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new oie(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(H2(this._state)){case Ca.SUCCESS:Nb(this._resolve.bind(null,this.snapshot))();break;case Ca.CANCELED:case Ca.ERROR:Nb(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(H2(this._state)){case Ca.RUNNING:case Ca.PAUSED:t.next&&Nb(t.next.bind(t,this.snapshot))();break;case Ca.SUCCESS:t.complete&&Nb(t.complete.bind(t))();break;default:t.error&&Nb(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class E_{constructor(t,e){this._service=t,this._location=e instanceof Bo?e:Bo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new E_(t,e)}get root(){const t=new Bo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o5(this._location.path)}get storage(){return this._service}get parent(){const t=function Une(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Bo(this._location.bucket,t);return new E_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw X6(t)}}function v5(n,t,e){return j2.apply(this,arguments)}function j2(){return j2=(0,Re.Z)(function*(n,t,e){const r=yield y5(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield v5(n,t,r.nextPageToken))}),j2.apply(this,arguments)}function y5(n,t){null!=t&&"number"==typeof t.maxResults&&F2("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Qne(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,kd)}function bie(n){n._throwIfRoot("getDownloadURL");const t=function Xne(n,t,e){const r=If(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new Xu(r,"GET",function Zne(n,t){return function e(i,r){const s=a5(n,r,t);return Ju(null!==s),function qne(n,t,e,i){const r=B2(t);if(null===r||!xk(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(v=>{const T=n.fullPath;return If("/b/"+l(n.bucket)+"/o/"+l(T),e,i)+e5({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,e),l);return h.errorHandler=QC(t),h}(n.storage,n._location,ZC());return n.storage.makeRequestWithTokens(t,kd).then(e=>{if(null===e)throw function vne(){return new Ar(dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function b5(n,t){const e=function Hne(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Bo(n._location.bucket,e);return new E_(n.storage,i)}function w5(n,t){if(n instanceof z2){const e=n;if(null==e._bucket)throw function gne(){return new Ar(dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W6+"' property when initializing the app?")}();const i=new E_(e,e._bucket);return null!=t?w5(i,t):i}return void 0!==t?b5(n,t):n}function Eie(n,t){if(t&&function xie(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof z2)return function Cie(n,t){return new E_(n,t)}(n,t);throw Ob("To use ref(service, url), the first argument must be a Storage instance.")}return w5(n,t)}function x5(n,t){const e=t?.[W6];return null==e?null:Bo.makeFromBucketSpec(e,n)}class z2{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=q6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Bo.makeFromBucketSpec(r,this._host):x5(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Bo.makeFromBucketSpec(this._url,t):x5(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){F2("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){F2("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Re.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Re.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new E_(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new bne(Q6());{const l=function Mne(n,t,e,i,r,s,l=!0){const h=e5(n.urlParams),m=n.url+h,v=Object.assign({},n.headers);return function Ane(n,t){t&&(n["X-Firebase-GMPID"]=t)}(v,t),function Sne(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(v,e),function Tne(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(v,s),function kne(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(v,i),new Dne(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,Re.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const C5="@firebase/storage";function D5(n,t){return Eie(n=(0,H.m9)(n),t)}function Pie(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new z2(e,i,r,t,Hr.SDK_VERSION)}!function Fie(){(0,Hr._registerComponent)(new Ml.wA("storage",Pie,"PUBLIC").setMultipleInstances(!0)),(0,Hr.registerVersion)(C5,"0.11.2",""),(0,Hr.registerVersion)(C5,"0.11.2","esm2017")}();class Sk{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class T5{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Sk(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Sk(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?l=>e(new Sk(l,this,this._ref)):{next:e.next?l=>e.next(new Sk(l,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class A5{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Df(t,this._service))}get items(){return this._delegate.items.map(t=>new Df(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Df{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Oie(n,t){return b5(n,t)}(this._delegate,t);return new Df(e,this.storage)}get root(){return new Df(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Df(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new T5(function Die(n,t,e){return function pie(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new g5(n,new Qu(t),e)}(n=(0,H.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Ll.RAW,i){this._throwIfRoot("putString");const r=L2(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new T5(new g5(this._delegate,new Qu(r.data,!0),s),this)}listAll(){return function kie(n){return function _ie(n){const t={prefixes:[],items:[]};return v5(n,t).then(()=>t)}(n=(0,H.m9)(n))}(this._delegate).then(t=>new A5(t,this.storage))}list(t){return function Aie(n,t){return y5(n=(0,H.m9)(n),t)}(this._delegate,t||void 0).then(e=>new A5(e,this.storage))}getMetadata(){return function Sie(n){return function vie(n){n._throwIfRoot("getMetadata");const t=d5(n.storage,n._location,ZC());return n.storage.makeRequestWithTokens(t,kd)}(n=(0,H.m9)(n))}(this._delegate)}updateMetadata(t){return function Tie(n,t){return function yie(n,t){n._throwIfRoot("updateMetadata");const e=function Jne(n,t,e,i){const s=If(t.fullServerUrl(),n.host,n._protocol),h=V2(e,i),v=n.maxOperationRetryTime,w=new Xu(s,"PATCH",Ik(n,i),v);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=QC(t),w}(n.storage,n._location,t,ZC());return n.storage.makeRequestWithTokens(e,kd)}(n=(0,H.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Mie(n){return bie(n=(0,H.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Rie(n){return function wie(n){n._throwIfRoot("deleteObject");const t=function eie(n,t){const i=If(t.fullServerUrl(),n.host,n._protocol),h=new Xu(i,"DELETE",function l(m,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=QC(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,kd)}(n=(0,H.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw X6(t)}}class k5{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(M5(t))throw Ob("ref() expected a child path but got a URL, use refFromURL instead.");return new Df(D5(this._delegate,t),this)}refFromURL(t){if(!M5(t))throw Ob("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bo.makeFromUrl(t,this._delegate.host)}catch{throw Ob("refFromUrl() expected a valid full URL but got an invalid one.")}return new Df(D5(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function S5(n,t,e,i={}){!function Iie(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,H.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function M5(n){return/^[A-Za-z]+:\/\//.test(n)}function Vie(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new k5(e,i)}function R5(n){const t=function Hie(n){return new li.y(t=>{const e=l=>t.next(l);e(n.snapshot);const s=n.on("state_changed",e);return n.then(l=>{e(l),t.complete()},l=>{e(n.snapshot),(l=>{t.error(l)})(l)}),function(){s()}}).pipe(Zp(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ht.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Tk(n){return{getDownloadURL:()=>(0,pt.of)(void 0).pipe(Wn.fc,(0,mi.w)(()=>n.getDownloadURL()),Wn.iC),getMetadata:()=>(0,pt.of)(void 0).pipe(Wn.fc,(0,mi.w)(()=>n.getMetadata()),Wn.iC),delete:()=>(0,Hn.D)(n.delete()),child:t=>Tk(n.child(t)),updateMetadata:t=>(0,Hn.D)(n.updateMetadata(t)),put:(t,e)=>R5(n.put(t,e)),putString:(t,e,i)=>R5(n.putString(t,e,i)),list:t=>(0,Hn.D)(n.list(t)),listAll:()=>(0,Hn.D)(n.listAll())}}!function Uie(n){const t={TaskState:Ca,TaskEvent:sie,StringFormat:Ll,Storage:k5,Reference:Df};n.INTERNAL.registerComponent(new Ml.wA("storage-compat",Vie,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(sne);const jie=new c.OlP("angularfire2.storageBucket"),zie=new c.OlP("angularfire2.storage.maxUploadRetryTime"),Gie=new c.OlP("angularfire2.storage.maxOperationRetryTime"),$ie=new c.OlP("angularfire2.storage.use-emulator");let qie=(()=>{class n{constructor(e,i,r,s,l,h,m,v,w,T){const O=(0,Yr.on)(e,l,i);this.storage=(0,Yr.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const B=l.runOutsideAngular(()=>O.storage(r||void 0)),$=w;return $&&B.useEmulator(...$),m&&B.setMaxUploadRetryTime(m),v&&B.setMaxOperationRetryTime(v),B},[m,v])}ref(e){return Tk(this.storage.ref(e))}refFromURL(e){return Tk(this.storage.refFromURL(e))}upload(e,i,r){return Tk(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Yr.Dh),c.LFG(Yr.xv,8),c.LFG(jie,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Wn.HU),c.LFG(zie,8),c.LFG(Gie,8),c.LFG($ie,8),c.LFG(UC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Wie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Yie=(()=>{class n{constructor(){$A.Z.registerVersion("angularfire",Wn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[qie],imports:[Wie]}),n})();const O5="@firebase/database";let G2="";function F5(n){G2=n}class Qie{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,H.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,H.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Xie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,H.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const N5=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Qie(t)}}catch{}return new Xie},I_=N5("localStorage"),$2=N5("sessionStorage"),Lb=new va.Yd("@firebase/database"),L5=function(){let n=1;return function(){return n++}}(),B5=function(n){const t=(0,H.dS)(n),e=new H.gQ;e.update(t);const i=e.digest();return H.US.encodeByteArray(i)},XC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=XC.apply(null,i):t+="object"==typeof i?(0,H.Wl)(i):i,t+=" "}return t};let D_=null,V5=!0;const U5=function(n,t){(0,H.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Lb.logLevel=va.in.VERBOSE,D_=Lb.log.bind(Lb),t&&$2.set("logging_enabled",!0)):"function"==typeof n?D_=n:(D_=null,$2.remove("logging_enabled"))},Hs=function(...n){if(!0===V5&&(V5=!1,null===D_&&!0===$2.get("logging_enabled")&&U5(!0)),D_){const t=XC.apply(null,n);D_(t)}},JC=function(n){return function(...t){Hs(n,...t)}},q2=function(...n){const t="FIREBASE INTERNAL ERROR: "+XC(...n);Lb.error(t)},eh=function(...n){const t=`FIREBASE FATAL ERROR: ${XC(...n)}`;throw Lb.error(t),new Error(t)},Vo=function(...n){const t="FIREBASE WARNING: "+XC(...n);Lb.warn(t)},Ak=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},cp="[MIN_NAME]",Sf="[MAX_NAME]",S_=function(n,t){if(n===t)return 0;if(n===cp||t===Sf)return-1;if(t===cp||n===Sf)return 1;{const e=z5(n),i=z5(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},tre=function(n,t){return n===t?0:n<t?-1:1},eE=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Wl)(t))},W2=function(n){if("object"!=typeof n||null===n)return(0,H.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,H.Wl)(t[i]),e+=":",e+=W2(n[t[i]]);return e+="}",e},H5=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function js(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const j5=function(n){(0,H.hu)(!Ak(n),"Invalid JSON number");const i=1023;let r,s,l,h,m;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(m=52;m;m-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const w=v.join("");let T="";for(m=0;m<64;m+=8){let O=parseInt(w.substr(m,8),2).toString(16);1===O.length&&(O="0"+O),T+=O}return T.toLowerCase()},sre=new RegExp("^-?(0*)\\d{1,10}$"),z5=function(n){if(sre.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Bb=function(n){try{n()}catch(t){setTimeout(()=>{throw Vo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},tE=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class cre{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Vo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class dre{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Hs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vo(t)}}let nE=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Y5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q5="websocket",X5="long_polling";class K2{constructor(t,e,i,r,s=!1,l="",h=!1,m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=I_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&I_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function J5(n,t,e){let i;if((0,H.hu)("string"==typeof t,"typeof type must == string"),(0,H.hu)("object"==typeof e,"typeof params must == object"),t===Q5)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==X5)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ure(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return js(e,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class hre{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,H.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,H.p$)(this.counters_)}}const Z2={},Q2={};function X2(n){const t=n.toString();return Z2[t]||(Z2[t]=new hre),Z2[t]}class mre{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Bb(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class dp{constructor(t,e,i,r,s,l,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=JC(t),this.stats_=X2(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),J5(e,X5,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new mre(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new J2((...s)=>{const[l,h,m,v,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Y5.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dp.forceAllow_=!0}static forceDisallow(){dp.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!dp.forceAllow_&&(dp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,H.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,H.h$)(e),r=H5(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,H.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class J2{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=L5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=J2.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Hs("frame writing exception"),h.stack&&Hs(h.stack),Hs(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Hs("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,H.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Hs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Mk=null;typeof MozWebSocket<"u"?Mk=MozWebSocket:typeof WebSocket<"u"&&(Mk=WebSocket);let Vb=(()=>{class n{constructor(e,i,r,s,l,h,m){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=JC(this.connId),this.stats_=X2(i),this.connURL=n.connectionURL_(i,h,m,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,l){const h={v:"5"};return!(0,H.Yr)()&&typeof location<"u"&&location.hostname&&Y5.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),l&&(h.p=l),J5(e,Q5,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,I_.set("previous_websocket_failure",!0);try{let r;if((0,H.Yr)()){r={headers:{"User-Agent":`Firebase/5/${G2}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new Mk(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Mk&&!n.forceDisallow_}static previouslyFailed(){return I_.isInMemoryStorage||!0===I_.get("previous_websocket_failure")}markConnectionHealthy(){I_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,H.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=H5(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),o$=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[dp,Vb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Vb&&Vb.isAvailable();let r=i&&!Vb.previouslyFailed();if(e.webSocketOnly&&(i||Vo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vb];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class f${constructor(t,e,i,r,s,l,h,m,v,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=m,this.onKill_=v,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=JC("c:"+this.id+":"),this.transportManager_=new o$(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=tE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=eE("t",t),i=eE("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=eE("t",t),i=eE("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=eE("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?q2("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):q2("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Vo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),tE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(I_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class m${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class p${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,H.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,H.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Rk extends p${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rk}getInitialEvent(t){return(0,H.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ci{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ii(){return new ci("")}function Sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function up(n){return n.pieces_.length-n.pieceNum_}function Mi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ci(n.pieces_,t)}function tB(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function iE(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function v$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ci(t,0)}function ur(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ci)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ci(e,0)}function Tn(n){return n.pieceNum_>=n.pieces_.length}function Ea(n,t){const e=Sn(n),i=Sn(t);if(null===e)return t;if(e===i)return Ea(Mi(n),Mi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Nre(n,t){const e=iE(n,0),i=iE(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=S_(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function nB(n,t){if(up(n)!==up(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ac(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(up(n)>up(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Lre{constructor(t,e){this.errorPrefix_=e,this.parts_=iE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);y$(this)}}function y$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+T_(n))}function T_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class iB extends p${constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new iB}getInitialEvent(t){return(0,H.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const rE=1e3;let Pk,A_=(()=>{class n extends m${constructor(e,i,r,s,l,h,m,v){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=JC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iB.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Rk.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,l={r:s,a:e,b:i};this.log_((0,H.Wl)(l)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new H.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const l=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const m={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(h).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,m=>{const v=m.d,w=m.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",m),"ok"!==w&&this.removeListen_(r,s),e.onComplete&&e.onComplete(w,v))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,H.r3)(e,"w")){const r=(0,H.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Vo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,H.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,H.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,h=s.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const l={p:e};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,l){this.initConnection_();const h={p:i,d:r};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:e,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,H.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):q2("Unrecognized action received from server: "+(0,H.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rE,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Re.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let m=!1,v=null;const w=function(){v?v.close():(m=!0,s())};e.realtime_={close:w,sendRequest:function(B){(0,H.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(B)}};const O=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,$]=yield Promise.all([e.authTokenProvider_.getToken(O),e.appCheckTokenProvider_.getToken(O)]);m?Hs("getToken() completed but was canceled"):(Hs("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=$&&$.token,v=new f$(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,Z=>{Vo(Z+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(B){e.log_("Failed to get token: "+B),m||(e.repoInfo_.nodeAdmin&&Vo(B),w())}}})()}interrupt(e){Hs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Hs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=rE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>W2(l)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new ci(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Hs("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Hs("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+G2.replace(/\./g,"-")]=1,(0,H.uI)()?e["framework.cordova"]=1:(0,H.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rk.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new kn(t,e)}}class Ok{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new kn(cp,t),r=new kn(cp,e);return 0!==this.compare(i,r)}minPost(){return kn.MIN}}class x$ extends Ok{static get __EMPTY_NODE(){return Pk}static set __EMPTY_NODE(t){Pk=t}compare(t,e){return S_(t.name,e.name)}isDefinedOn(t){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return kn.MIN}maxPost(){return new kn(Sf,Pk)}makePost(t,e){return(0,H.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kn(t,Pk)}toString(){return".key"}}const th=new x$;class Fk{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let sB,Md=(()=>{class n{constructor(e,i,r,s,l){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Wa.EMPTY_NODE,this.right=l??Wa.EMPTY_NODE}copy(e,i,r,s,l){return new n(e??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Wa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Wa{constructor(t,e=Wa.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Wa(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Md.BLACK,null,null))}remove(t){return new Wa(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Md.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Fk(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Fk(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Fk(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Fk(this.root_,null,this.comparator_,!0,t)}}function $re(n,t){return S_(n.name,t.name)}function rB(n,t){return S_(n,t)}Wa.EMPTY_NODE=new class Gre{copy(t,e,i,r,s){return this}insert(t,e,i){return new Md(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const C$=function(n){return"number"==typeof n?"number:"+j5(n):"string:"+n},E$=function(n){if(n.isLeafNode()){const t=n.val();(0,H.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,H.r3)(t,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===sB||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===sB||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let I$,D$,S$,Ub=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),E$(this.priorityNode_)}static set __childrenNodeConstructor(e){I$=e}static get __childrenNodeConstructor(){return I$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tn(e)?this:".priority"===Sn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Sn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===up(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+C$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?j5(this.value_):this.value_,this.lazyHash_=B5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(s>=0,"Unknown leaf type: "+i),(0,H.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Li=new class Kre extends Ok{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?S_(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return kn.MIN}maxPost(){return new kn(Sf,new Ub("[PRIORITY-POST]",S$))}makePost(t,e){const i=D$(t);return new kn(e,new Ub("[PRIORITY-POST]",i))}toString(){return".priority"}},Zre=Math.log(2);class Qre{constructor(t){this.count=parseInt(Math.log(t+1)/Zre,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Nk=function(n,t,e,i){n.sort(t);const r=function(m,v){const w=v-m;let T,O;if(0===w)return null;if(1===w)return T=n[m],O=e?e(T):T,new Md(O,T.node,Md.BLACK,null,null);{const B=parseInt(w/2,10)+m,$=r(m,B),Z=r(B+1,v);return T=n[B],O=e?e(T):T,new Md(O,T.node,Md.BLACK,$,Z)}},h=function(m){let v=null,w=null,T=n.length;const O=function($,Z){const re=T-$,Ae=T;T-=$;const Ze=r(re+1,Ae),Xe=n[re],ot=e?e(Xe):Xe;B(new Md(ot,Xe.node,Z,null,Ze))},B=function($){v?(v.left=$,v=$):(w=$,v=$)};for(let $=0;$<m.count;++$){const Z=m.nextBitIsOne(),re=Math.pow(2,m.count-($+1));Z?O(re,Md.BLACK):(O(re,Md.BLACK),O(re,Md.RED))}return w}(new Qre(n.length));return new Wa(i||t,h)};let oB;const Hb={};class Tf{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,H.hu)(Hb&&Li,"ChildrenNode.ts has not been loaded"),oB=oB||new Tf({".priority":Hb},{".priority":Li}),oB}get(t){const e=(0,H.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Wa?e:null}hasIndex(t){return(0,H.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,H.hu)(t!==th,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(kn.Wrap);let h,l=s.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=s.getNext();h=r?Nk(i,t.getCompare()):Hb;const m=t.toString(),v=Object.assign({},this.indexSet_);v[m]=t;const w=Object.assign({},this.indexes_);return w[m]=h,new Tf(w,v)}addToIndexes(t,e){const i=(0,H.UI)(this.indexes_,(r,s)=>{const l=(0,H.DV)(this.indexSet_,s);if((0,H.hu)(l,"Missing index implementation for "+s),r===Hb){if(l.isDefinedOn(t.node)){const h=[],m=e.getIterator(kn.Wrap);let v=m.getNext();for(;v;)v.name!==t.name&&h.push(v),v=m.getNext();return h.push(t),Nk(h,l.getCompare())}return Hb}{const h=e.get(t.name);let m=r;return h&&(m=m.remove(new kn(t.name,h))),m.insert(t,t.node)}});return new Tf(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,H.UI)(this.indexes_,r=>{if(r===Hb)return r;{const s=e.get(t.name);return s?r.remove(new kn(t.name,s)):r}});return new Tf(i,this.indexSet_)}}let sE,bn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&E$(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sE||(sE=new n(new Wa(rB),null,Tf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sE}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?sE:i}}getChild(e){const i=Sn(e);return null===i?this:this.getImmediateChild(i).getChild(Mi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new kn(e,i);let s,l;i.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?sE:this.priorityNode_;return new n(s,h,l)}}updateChild(e,i){const r=Sn(e);if(null===r)return i;{(0,H.hu)(".priority"!==Sn(e)||1===up(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Mi(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(Li,(h,m)=>{i[h]=m.val(e),r++,l&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):l=!1}),!e&&l&&s<2*r){const h=[];for(const m in i)h[m]=i[m];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+C$(this.getPriority().val())+":"),this.forEachChild(Li,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":B5(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new kn(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new kn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new kn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,kn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,kn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===oE?-1:0}withIndex(e){if(e===th||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===th||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Li),s=i.getIterator(Li);let l=r.getNext(),h=s.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=r.getNext(),h=s.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(e){return e===th?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const oE=new class Xre extends bn{constructor(){super(new Wa(rB),bn.EMPTY_NODE,Tf.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return bn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(kn,{MIN:{value:new kn(cp,bn.EMPTY_NODE)},MAX:{value:new kn(Sf,oE)}}),x$.__EMPTY_NODE=bn.EMPTY_NODE,Ub.__childrenNodeConstructor=bn,function qre(n){sB=n}(oE),function Yre(n){S$=n}(oE);const Jre=!0;function kr(n,t=null){if(null===n)return bn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,H.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ub(n,kr(t));if(n instanceof Array||!Jre){let e=bn.EMPTY_NODE;return js(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const s=kr(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(kr(t))}{const e=[];let i=!1;if(js(n,(l,h)=>{if("."!==l.substring(0,1)){const m=kr(h);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new kn(l,m)))}}),0===e.length)return bn.EMPTY_NODE;const s=Nk(e,$re,l=>l.name,rB);if(i){const l=Nk(e,Li.getCompare());return new bn(s,kr(t),new Tf({".priority":l},{".priority":Li}))}return new bn(s,kr(t),Tf.Default)}}!function Wre(n){D$=n}(kr);class aB extends Ok{constructor(t){super(),this.indexPath_=t,(0,H.hu)(!Tn(t)&&".priority"!==Sn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?S_(t.name,e.name):s}makePost(t,e){const i=kr(t),r=bn.EMPTY_NODE.updateChild(this.indexPath_,i);return new kn(e,r)}maxPost(){const t=bn.EMPTY_NODE.updateChild(this.indexPath_,oE);return new kn(Sf,t)}toString(){return iE(this.indexPath_,0).join("/")}}const lB=new class ese extends Ok{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?S_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return kn.MIN}maxPost(){return kn.MAX}makePost(t,e){const i=kr(t);return new kn(e,i)}toString(){return".value"}};function T$(n){return{type:"value",snapshotNode:n}}function jb(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function aE(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function lE(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class cB{constructor(t){this.index_=t}updateChild(t,e,i,r,s,l){(0,H.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?t.hasChild(e)?l.trackChildChange(aE(e,h)):(0,H.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(jb(e,i)):l.trackChildChange(lE(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Li,(r,s)=>{e.hasChild(r)||i.trackChildChange(aE(r,s))}),e.isLeafNode()||e.forEachChild(Li,(r,s)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(s)||i.trackChildChange(lE(r,s,l))}else i.trackChildChange(jb(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?bn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cE{constructor(t){this.indexedFilter_=new cB(t.getIndex()),this.index_=t.getIndex(),this.startPost_=cE.getStartPost_(t),this.endPost_=cE.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,l){return this.matches(new kn(e,i))||(i=bn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,l)}updateFullNode(t,e,i){e.isLeafNode()&&(e=bn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(bn.EMPTY_NODE);const s=this;return e.forEachChild(Li,(l,h)=>{s.matches(new kn(l,h))||(r=r.updateImmediateChild(l,bn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class nse{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new cE(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,l){return this.rangedFilter_.matches(new kn(e,i))||(i=bn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,l):this.fullLimitUpdateChild_(t,e,i,s,l)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=bn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=bn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),l++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(bn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const h=s.getNext();l<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?l++:r=r.updateImmediateChild(h.name,bn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let l;if(this.reverse_){const T=this.index_.getCompare();l=(O,B)=>T(B,O)}else l=this.index_.getCompare();const h=t;(0,H.hu)(h.numChildren()===this.limit_,"");const m=new kn(e,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(m);if(h.hasChild(e)){const T=h.getImmediateChild(e);let O=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=O&&(O.name===e||h.hasChild(O.name));)O=r.getChildAfterChild(this.index_,O,this.reverse_);const B=null==O?1:l(O,m);if(w&&!i.isEmpty()&&B>=0)return s?.trackChildChange(lE(e,i,T)),h.updateImmediateChild(e,i);{s?.trackChildChange(aE(e,T));const Z=h.updateImmediateChild(e,bn.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(s?.trackChildChange(jb(O.name,O.node)),Z.updateImmediateChild(O.name,O.node)):Z}}return i.isEmpty()?t:w&&l(v,m)>=0?(null!=s&&(s.trackChildChange(aE(v.name,v.node)),s.trackChildChange(jb(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(v.name,bn.EMPTY_NODE)):t}}class Lk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Li}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Li}copy(){const t=new Lk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function dB(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function uB(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Bk(n,t){const e=n.copy();return e.index_=t,e}function A$(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Li?e="$priority":n.index_===lB?e="$value":n.index_===th?e="$key":((0,H.hu)(n.index_ instanceof aB,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,H.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,H.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,H.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,H.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,H.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function k$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Li&&(t.i=n.index_.toString()),t}class Vk extends m${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=JC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,H.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=Vk.getListenId_(t,i),h={};this.listens_[l]=h;const m=A$(t._queryParams);this.restRequest_(s+".json",m,(v,w)=>{let T=w;if(404===v&&(T=null,v=null),null===v&&this.onDataUpdate_(s,T,!1,i),(0,H.DV)(this.listens_,l)===h){let O;O=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(O,null)}})}unlisten(t,e){const i=Vk.getListenId_(t,e);delete this.listens_[i]}get(t){const e=A$(t._queryParams),i=t._path.toString(),r=new H.BH;return this.restRequest_(i+".json",e,(s,l)=>{let h=l;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,H.xO)(e);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,H.cI)(h.responseText)}catch{Vo("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,m)}else 401!==h.status&&404!==h.status&&Vo("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})}}class lse{constructor(){this.rootNode_=bn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Uk(){return{value:null,children:new Map}}function zb(n,t,e){if(Tn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Sn(t);n.children.has(i)||n.children.set(i,Uk()),zb(n.children.get(i),t=Mi(t),e)}}function hB(n,t){if(Tn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Li,(i,r)=>{zb(n,new ci(i),r)}),hB(n,t)}}if(n.children.size>0){const e=Sn(t);return t=Mi(t),n.children.has(e)&&hB(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function fB(n,t,e){null!==n.value?e(t,n.value):function cse(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{fB(r,new ci(t.toString()+"/"+i),e)})}class dse{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&js(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class fse{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new dse(t);const i=1e4+2e4*Math.random();tE(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;js(t,(r,s)=>{s>0&&(0,H.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),tE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nh=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(nh||{});function gB(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Hk{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=nh.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Tn(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ci(t));return new Hk(ii(),e,this.revert)}}return(0,H.hu)(Sn(this.path)===t,"operationForChild called for unrelated child."),new Hk(Mi(this.path),this.affectedTree,this.revert)}}class dE{constructor(t,e){this.source=t,this.path=e,this.type=nh.LISTEN_COMPLETE}operationForChild(t){return Tn(this.path)?new dE(this.source,ii()):new dE(this.source,Mi(this.path))}}class k_{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=nh.OVERWRITE}operationForChild(t){return Tn(this.path)?new k_(this.source,ii(),this.snap.getImmediateChild(t)):new k_(this.source,Mi(this.path),this.snap)}}class Gb{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=nh.MERGE}operationForChild(t){if(Tn(this.path)){const e=this.children.subtree(new ci(t));return e.isEmpty()?null:e.value?new k_(this.source,ii(),e.value):new Gb(this.source,ii(),e)}return(0,H.hu)(Sn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Gb(this.source,Mi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hp{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Sn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class mse{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function uE(n,t,e,i,r,s){const l=i.filter(h=>h.type===e);l.sort((h,m)=>function _se(n,t,e){if(null==t.childName||null==e.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new kn(t.childName,t.snapshotNode),r=new kn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,m)),l.forEach(h=>{const m=function gse(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,s);r.forEach(v=>{v.respondsTo(h.type)&&t.push(v.createEvent(m,n.query_))})})}function jk(n,t){return{eventCache:n,serverCache:t}}function hE(n,t,e,i){return jk(new hp(t,e,i),n.serverCache)}function R$(n,t,e,i){return jk(n.eventCache,new hp(t,e,i))}function zk(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function M_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let _B;class Bi{constructor(t,e=(()=>(_B||(_B=new Wa(tre)),_B))()){this.value=t,this.children=e}static fromObject(t){let e=new Bi(null);return js(t,(i,r)=>{e=e.set(new ci(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ii(),value:this.value};if(Tn(t))return null;{const i=Sn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Mi(t),e);return null!=s?{path:ur(new ci(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tn(t))return this;{const e=Sn(t),i=this.children.get(e);return null!==i?i.subtree(Mi(t)):new Bi(null)}}set(t,e){if(Tn(t))return new Bi(e,this.children);{const i=Sn(t),s=(this.children.get(i)||new Bi(null)).set(Mi(t),e),l=this.children.insert(i,s);return new Bi(this.value,l)}}remove(t){if(Tn(t))return this.children.isEmpty()?new Bi(null):new Bi(null,this.children);{const e=Sn(t),i=this.children.get(e);if(i){const r=i.remove(Mi(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Bi(null):new Bi(this.value,s)}return this}}get(t){if(Tn(t))return this.value;{const e=Sn(t),i=this.children.get(e);return i?i.get(Mi(t)):null}}setTree(t,e){if(Tn(t))return e;{const i=Sn(t),s=(this.children.get(i)||new Bi(null)).setTree(Mi(t),e);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Bi(this.value,l)}}fold(t){return this.fold_(ii(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ur(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,ii(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Tn(t))return null;{const s=Sn(t),l=this.children.get(s);return l?l.findOnPath_(Mi(t),ur(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ii(),e)}foreachOnPath_(t,e,i){if(Tn(t))return this;{this.value&&i(e,this.value);const r=Sn(t),s=this.children.get(r);return s?s.foreachOnPath_(Mi(t),ur(e,r),i):new Bi(null)}}foreach(t){this.foreach_(ii(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ur(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Rd{constructor(t){this.writeTree_=t}static empty(){return new Rd(new Bi(null))}}function fE(n,t,e){if(Tn(t))return new Rd(new Bi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const l=Ea(r,t);return s=s.updateChild(l,e),new Rd(n.writeTree_.set(r,s))}{const r=new Bi(e),s=n.writeTree_.setTree(t,r);return new Rd(s)}}}function vB(n,t,e){let i=n;return js(e,(r,s)=>{i=fE(i,ur(t,r),s)}),i}function O$(n,t){if(Tn(t))return Rd.empty();{const e=n.writeTree_.setTree(t,new Bi(null));return new Rd(e)}}function yB(n,t){return null!=R_(n,t)}function R_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ea(e.path,t)):null}function P$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Li,(i,r)=>{t.push(new kn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new kn(i,r.value))}),t}function fp(n,t){if(Tn(t))return n;{const e=R_(n,t);return new Rd(null!=e?new Bi(e):n.writeTree_.subtree(t))}}function bB(n){return n.writeTree_.isEmpty()}function $b(n,t){return F$(ii(),n.writeTree_,t)}function F$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,H.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=F$(ur(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ur(n,".priority"),i)),e}}function Gk(n,t){return U$(t,n)}function Cse(n,t){if(n.snap)return Ac(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ac(ur(n.path,e),t))return!0;return!1}function Ise(n){return n.visible}function N$(n,t,e){let i=Rd.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const l=s.path;let h;if(s.snap)Ac(e,l)?(h=Ea(e,l),i=fE(i,h,s.snap)):Ac(l,e)&&(h=Ea(l,e),i=fE(i,ii(),s.snap.getChild(h)));else{if(!s.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(Ac(e,l))h=Ea(e,l),i=vB(i,h,s.children);else if(Ac(l,e))if(h=Ea(l,e),Tn(h))i=vB(i,ii(),s.children);else{const m=(0,H.DV)(s.children,Sn(h));if(m){const v=m.getChild(Mi(h));i=fE(i,ii(),v)}}}}}return i}function L$(n,t,e,i,r){if(i||r){const s=fp(n.visibleWrites,t);return!r&&bB(s)?e:r||null!=e||yB(s,ii())?$b(N$(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(Ac(v.path,t)||Ac(t,v.path))},t),e||bn.EMPTY_NODE):null}{const s=R_(n.visibleWrites,t);if(null!=s)return s;{const l=fp(n.visibleWrites,t);return bB(l)?e:null!=e||yB(l,ii())?$b(l,e||bn.EMPTY_NODE):null}}}function $k(n,t,e,i){return L$(n.writeTree,n.treePath,t,e,i)}function wB(n,t){return function Dse(n,t,e){let i=bn.EMPTY_NODE;const r=R_(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Li,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(e){const s=fp(n.visibleWrites,t);return e.forEachChild(Li,(l,h)=>{const m=$b(fp(s,new ci(l)),h);i=i.updateImmediateChild(l,m)}),P$(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return P$(fp(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function B$(n,t,e,i){return function Sse(n,t,e,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ur(t,e);if(yB(n.visibleWrites,s))return null;{const l=fp(n.visibleWrites,s);return bB(l)?r.getChild(e):$b(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function qk(n,t){return function Ase(n,t){return R_(n.visibleWrites,t)}(n.writeTree,ur(n.treePath,t))}function xB(n,t,e){return function Tse(n,t,e,i){const r=ur(t,e),s=R_(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?$b(fp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function V$(n,t){return U$(ur(n.treePath,t),n.writeTree)}function U$(n,t){return{treePath:n,writeTree:t}}class Ose{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,H.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,lE(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,aE(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,jb(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,H.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,lE(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const H$=new class Pse{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class CB{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new hp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xB(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:M_(this.viewCache_),s=function Rse(n,t,e,i,r,s){return function kse(n,t,e,i,r,s,l){let h;const m=fp(n.visibleWrites,t),v=R_(m,ii());if(null!=v)h=v;else{if(null==e)return[];h=$b(m,e)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const w=[],T=l.getCompare(),O=s?h.getReverseIteratorFrom(i,l):h.getIteratorFrom(i,l);let B=O.getNext();for(;B&&w.length<r;)0!==T(B,i)&&w.push(B),B=O.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function j$(n,t,e,i,r,s){const l=t.eventCache;if(null!=qk(i,e))return t;{let h,m;if(Tn(e))if((0,H.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const v=M_(t),T=wB(i,v instanceof bn?v:bn.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),T,s)}else{const v=$k(i,M_(t));h=n.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{const v=Sn(e);if(".priority"===v){(0,H.hu)(1===up(e),"Can't have a priority with additional path components");const w=l.getNode();m=t.serverCache.getNode();const T=B$(i,e,w,m);h=null!=T?n.filter.updatePriority(w,T):l.getNode()}else{const w=Mi(e);let T;if(l.isCompleteForChild(v)){m=t.serverCache.getNode();const O=B$(i,e,l.getNode(),m);T=null!=O?l.getNode().getImmediateChild(v).updateChild(w,O):l.getNode().getImmediateChild(v)}else T=xB(i,v,t.serverCache);h=null!=T?n.filter.updateChild(l.getNode(),v,T,w,r,s):l.getNode()}}return hE(t,h,l.isFullyInitialized()||Tn(e),n.filter.filtersNodes())}}function Wk(n,t,e,i,r,s,l,h){const m=t.serverCache;let v;const w=l?n.filter:n.filter.getIndexedFilter();if(Tn(e))v=w.updateFullNode(m.getNode(),i,null);else if(w.filtersNodes()&&!m.isFiltered()){const B=m.getNode().updateChild(e,i);v=w.updateFullNode(m.getNode(),B,null)}else{const B=Sn(e);if(!m.isCompleteForPath(e)&&up(e)>1)return t;const $=Mi(e),re=m.getNode().getImmediateChild(B).updateChild($,i);v=".priority"===B?w.updatePriority(m.getNode(),re):w.updateChild(m.getNode(),B,re,$,H$,null)}const T=R$(t,v,m.isFullyInitialized()||Tn(e),w.filtersNodes());return j$(n,T,e,r,new CB(r,T,s),h)}function EB(n,t,e,i,r,s,l){const h=t.eventCache;let m,v;const w=new CB(r,t,s);if(Tn(e))v=n.filter.updateFullNode(t.eventCache.getNode(),i,l),m=hE(t,v,!0,n.filter.filtersNodes());else{const T=Sn(e);if(".priority"===T)v=n.filter.updatePriority(t.eventCache.getNode(),i),m=hE(t,v,h.isFullyInitialized(),h.isFiltered());else{const O=Mi(e),B=h.getNode().getImmediateChild(T);let $;if(Tn(O))$=i;else{const Z=w.getCompleteChild(T);$=null!=Z?".priority"===tB(O)&&Z.getChild(v$(O)).isEmpty()?Z:Z.updateChild(O,i):bn.EMPTY_NODE}m=B.equals($)?t:hE(t,n.filter.updateChild(h.getNode(),T,$,O,w,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function z$(n,t){return n.eventCache.isCompleteForChild(t)}function G$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function IB(n,t,e,i,r,s,l,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v,m=t;v=Tn(e)?i:new Bi(null).setTree(e,i);const w=t.serverCache.getNode();return v.children.inorderTraversal((T,O)=>{if(w.hasChild(T)){const $=G$(0,t.serverCache.getNode().getImmediateChild(T),O);m=Wk(n,m,new ci(T),$,r,s,l,h)}}),v.children.inorderTraversal((T,O)=>{const B=!t.serverCache.isCompleteForChild(T)&&null===O.value;if(!w.hasChild(T)&&!B){const Z=G$(0,t.serverCache.getNode().getImmediateChild(T),O);m=Wk(n,m,new ci(T),Z,r,s,l,h)}}),m}class zse{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new cB(i.getIndex()),s=function ise(n){return n.loadsAllData()?new cB(n.getIndex()):n.hasLimit()?new nse(n):new cE(n)}(i);this.processor_=function Fse(n){return{filter:n}}(s);const l=e.serverCache,h=e.eventCache,m=r.updateFullNode(bn.EMPTY_NODE,l.getNode(),null),v=s.updateFullNode(bn.EMPTY_NODE,h.getNode(),null),w=new hp(m,l.isFullyInitialized(),r.filtersNodes()),T=new hp(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=jk(T,w),this.eventGenerator_=new mse(this.query_)}get query(){return this.query_}}function qse(n,t){const e=M_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Tn(t)&&!e.getImmediateChild(Sn(t)).isEmpty())?e.getChild(t):null}function $$(n){return 0===n.eventRegistrations_.length}function q$(n,t,e){const i=[];if(e){(0,H.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(e,r);l&&i.push(l)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function W$(n,t,e,i){t.type===nh.MERGE&&null!==t.source.queryId&&((0,H.hu)(M_(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(zk(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Lse(n,t,e,i,r){const s=new Ose;let l,h;if(e.type===nh.OVERWRITE){const v=e;v.source.fromUser?l=EB(n,t,v.path,v.snap,i,r,s):((0,H.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||t.serverCache.isFiltered()&&!Tn(v.path),l=Wk(n,t,v.path,v.snap,i,r,h,s))}else if(e.type===nh.MERGE){const v=e;v.source.fromUser?l=function Vse(n,t,e,i,r,s,l){let h=t;return i.foreach((m,v)=>{const w=ur(e,m);z$(t,Sn(w))&&(h=EB(n,h,w,v,r,s,l))}),i.foreach((m,v)=>{const w=ur(e,m);z$(t,Sn(w))||(h=EB(n,h,w,v,r,s,l))}),h}(n,t,v.path,v.children,i,r,s):((0,H.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||t.serverCache.isFiltered(),l=IB(n,t,v.path,v.children,i,r,h,s))}else if(e.type===nh.ACK_USER_WRITE){const v=e;l=v.revert?function jse(n,t,e,i,r,s){let l;if(null!=qk(i,e))return t;{const h=new CB(i,t,r),m=t.eventCache.getNode();let v;if(Tn(e)||".priority"===Sn(e)){let w;if(t.serverCache.isFullyInitialized())w=$k(i,M_(t));else{const T=t.serverCache.getNode();(0,H.hu)(T instanceof bn,"serverChildren would be complete if leaf node"),w=wB(i,T)}v=n.filter.updateFullNode(m,w,s)}else{const w=Sn(e);let T=xB(i,w,t.serverCache);null==T&&t.serverCache.isCompleteForChild(w)&&(T=m.getImmediateChild(w)),v=null!=T?n.filter.updateChild(m,w,T,Mi(e),h,s):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(m,w,bn.EMPTY_NODE,Mi(e),h,s):m,v.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=$k(i,M_(t)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,s)))}return l=t.serverCache.isFullyInitialized()||null!=qk(i,ii()),hE(t,v,l,n.filter.filtersNodes())}}(n,t,v.path,i,r,s):function Use(n,t,e,i,r,s,l){if(null!=qk(r,e))return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(Tn(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return Wk(n,t,e,m.getNode().getChild(e),r,s,h,l);if(Tn(e)){let v=new Bi(null);return m.getNode().forEachChild(th,(w,T)=>{v=v.set(new ci(w),T)}),IB(n,t,e,v,r,s,h,l)}return t}{let v=new Bi(null);return i.foreach((w,T)=>{const O=ur(e,w);m.isCompleteForPath(O)&&(v=v.set(w,m.getNode().getChild(O)))}),IB(n,t,e,v,r,s,h,l)}}(n,t,v.path,v.affectedTree,i,r,s)}else{if(e.type!==nh.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+e.type);l=function Hse(n,t,e,i,r){const s=t.serverCache;return j$(n,R$(t,s.getNode(),s.isFullyInitialized()||Tn(e),s.isFiltered()),e,i,H$,r)}(n,t,e.path,i,s)}const m=s.getChanges();return function Bse(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=zk(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(T$(zk(t)))}}(t,l,m),{viewCache:l,changes:m}}(n.processor_,r,t,e,i);return function Nse(n,t){(0,H.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,H.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,Y$(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Y$(n,t,e,i){return function pse(n,t,e,i){const r=[],s=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function tse(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),uE(n,r,"child_removed",t,i,e),uE(n,r,"child_added",t,i,e),uE(n,r,"child_moved",s,i,e),uE(n,r,"child_changed",t,i,e),uE(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Yk,Zk;class K${constructor(){this.views=new Map}}function DB(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,H.hu)(null!=s,"SyncTree gave us an op for an invalid query."),W$(s,t,e,i)}{let s=[];for(const l of n.views.values())s=s.concat(W$(l,t,e,i));return s}}function Z$(n,t,e,i,r){const l=n.views.get(t._queryIdentifier);if(!l){let h=$k(e,r?i:null),m=!1;h?m=!0:i instanceof bn?(h=wB(e,i),m=!1):(h=bn.EMPTY_NODE,m=!1);const v=jk(new hp(h,m,!1),new hp(i,r,!1));return new zse(t,v)}return l}function Q$(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function mp(n,t){let e=null;for(const i of n.views.values())e=e||qse(i,t);return e}function X$(n,t){return t._queryParams.loadsAllData()?Kk(n):n.views.get(t._queryIdentifier)}function J$(n,t){return null!=X$(n,t)}function pp(n){return null!=Kk(n)}function Kk(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let noe=1;class eq{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Bi(null),this.pendingWriteTree_=function Mse(){return{visibleWrites:Rd.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function SB(n,t,e,i,r){return function yse(n,t,e,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=fE(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?qb(n,new k_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function gp(n,t,e=!1){const i=function wse(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function xse(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,H.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=e&&Cse(h,i.path)?r=!1:Ac(i.path,h.path)&&(s=!0)),l--}return!!r&&(s?(function Ese(n){n.visibleWrites=N$(n.allWrites,Ise,ii()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=O$(n.visibleWrites,i.path):js(i.children,m=>{n.visibleWrites=O$(n.visibleWrites,ur(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let s=new Bi(null);return null!=i.snap?s=s.set(ii(),!0):js(i.children,l=>{s=s.set(new ci(l),!0)}),qb(n,new Hk(i.path,s,e))}return[]}function mE(n,t,e){return qb(n,new k_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Qk(n,t,e,i,r=!1){const s=t._path,l=n.syncPointTree_.get(s);let h=[];if(l&&("default"===t._queryIdentifier||J$(l,t))){const m=function Jse(n,t,e,i){const r=t._queryIdentifier,s=[];let l=[];const h=pp(n);if("default"===r)for(const[m,v]of n.views.entries())l=l.concat(q$(v,e,i)),$$(v)&&(n.views.delete(m),v.query._queryParams.loadsAllData()||s.push(v.query));else{const m=n.views.get(r);m&&(l=l.concat(q$(m,e,i)),$$(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||s.push(m.query)))}return h&&!pp(n)&&s.push(new(function Zse(){return(0,H.hu)(Yk,"Reference.ts has not been loaded"),Yk}())(t._repo,t._path)),{removed:s,events:l}}(l,t,e,i);(function Qse(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=m.removed;if(h=m.events,!r){const w=-1!==v.findIndex(O=>O._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(s,(O,B)=>pp(B));if(w&&!T){const O=n.syncPointTree_.subtree(s);if(!O.isEmpty()){const B=function coe(n){return n.fold((t,e,i)=>{if(e&&pp(e))return[Kk(e)];{let r=[];return e&&(r=Q$(e)),js(i,(s,l)=>{r=r.concat(l)}),r}})}(O);for(let $=0;$<B.length;++$){const Z=B[$],re=Z.query,Ae=rq(n,Z);n.listenProvider_.startListening(gE(re),pE(n,re),Ae.hashFn,Ae.onComplete)}}}!T&&v.length>0&&!i&&(w?n.listenProvider_.stopListening(gE(t),null):v.forEach(O=>{const B=n.queryToTagMap.get(Jk(O));n.listenProvider_.stopListening(gE(O),B)}))}!function doe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Jk(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return h}function tq(n,t,e,i){const r=AB(n,i);if(null!=r){const s=kB(r),l=s.path,h=s.queryId,m=Ea(l,t);return MB(n,l,new k_(gB(h),m,e))}return[]}function TB(n,t,e,i=!1){const r=t._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(O,B)=>{const $=Ea(O,r);s=s||mp(B,$),l=l||pp(B)});let m,h=n.syncPointTree_.get(r);h?(l=l||pp(h),s=s||mp(h,ii())):(h=new K$,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=s?m=!0:(m=!1,s=bn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,$)=>{const Z=mp($,ii());Z&&(s=s.updateImmediateChild(B,Z))}));const v=J$(h,t);if(!v&&!t._queryParams.loadsAllData()){const O=Jk(t);(0,H.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const B=function uoe(){return noe++}();n.queryToTagMap.set(O,B),n.tagToQueryMap.set(B,O)}let T=function Xse(n,t,e,i,r,s){const l=Z$(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,l),function Wse(n,t){n.eventRegistrations_.push(t)}(l,e),function Yse(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Li,(s,l)=>{i.push(jb(s,l))}),e.isFullyInitialized()&&i.push(T$(e.getNode())),Y$(n,i,e.getNode(),t)}(l,e)}(h,t,e,Gk(n.pendingWriteTree_,r),s,m);if(!v&&!l&&!i){const O=X$(h,t);T=T.concat(function hoe(n,t,e){const i=t._path,r=pE(n,t),s=rq(n,e),l=n.listenProvider_.startListening(gE(t),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,H.hu)(!pp(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((v,w,T)=>{if(!Tn(v)&&w&&pp(w))return[Kk(w).query];{let O=[];return w&&(O=O.concat(Q$(w).map(B=>B.query))),js(T,(B,$)=>{O=O.concat($)}),O}});for(let v=0;v<m.length;++v){const w=m[v];n.listenProvider_.stopListening(gE(w),pE(n,w))}}return l}(n,t,O))}return T}function Xk(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(l,h)=>{const v=mp(h,Ea(l,t));if(v)return v});return L$(r,t,s,e,!0)}function qb(n,t){return nq(t,n.syncPointTree_,null,Gk(n.pendingWriteTree_,ii()))}function nq(n,t,e,i){if(Tn(n.path))return iq(n,t,e,i);{const r=t.get(ii());null==e&&null!=r&&(e=mp(r,ii()));let s=[];const l=Sn(n.path),h=n.operationForChild(l),m=t.children.get(l);if(m&&h){const v=e?e.getImmediateChild(l):null,w=V$(i,l);s=s.concat(nq(h,m,v,w))}return r&&(s=s.concat(DB(r,n,i,e))),s}}function iq(n,t,e,i){const r=t.get(ii());null==e&&null!=r&&(e=mp(r,ii()));let s=[];return t.children.inorderTraversal((l,h)=>{const m=e?e.getImmediateChild(l):null,v=V$(i,l),w=n.operationForChild(l);w&&(s=s.concat(iq(w,h,m,v)))}),r&&(s=s.concat(DB(r,n,i,e))),s}function rq(n,t){const e=t.query,i=pE(n,e);return{hashFn:()=>(function Gse(n){return n.viewCache_.serverCache.getNode()}(t)||bn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function ooe(n,t,e){const i=AB(n,e);if(i){const r=kB(i),s=r.path,l=r.queryId,h=Ea(s,t);return MB(n,s,new dE(gB(l),h))}return[]}(n,e._path,i):function soe(n,t){return qb(n,new dE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function rre(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Qk(n,e,null,s)}}}}function pE(n,t){const e=Jk(t);return n.queryToTagMap.get(e)}function Jk(n){return n._path.toString()+"$"+n._queryIdentifier}function AB(n,t){return n.tagToQueryMap.get(t)}function kB(n){const t=n.indexOf("$");return(0,H.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ci(n.substr(0,t))}}function MB(n,t,e){const i=n.syncPointTree_.get(t);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),DB(i,e,Gk(n.pendingWriteTree_,t),null)}function gE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function toe(){return(0,H.hu)(Zk,"Reference.ts has not been loaded"),Zk}())(n._repo,n._path):n}class RB{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new RB(e)}node(){return this.node_}}class OB{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ur(this.path_,t);return new OB(this.syncTree_,e)}node(){return Xk(this.syncTree_,this.path_)}}const foe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},sq=function(n,t,e){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?moe(n[".sv"],t,e):"object"==typeof n[".sv"]?poe(n[".sv"],t):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},moe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},poe=function(n,t,e){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,H.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},oq=function(n,t,e,i){return FB(t,new OB(e,n),i)},PB=function(n,t,e){return FB(n,new RB(t),e)};function FB(n,t,e){const i=n.getPriority().val(),r=sq(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const l=n,h=sq(l.getValue(),t,e);return h!==l.getValue()||r!==l.getPriority().val()?new Ub(h,kr(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Ub(r))),l.forEachChild(Li,(h,m)=>{const v=FB(m,t.getImmediateChild(h),e);v!==m&&(s=s.updateImmediateChild(h,v))}),s}}class NB{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function eM(n,t){let e=t instanceof ci?t:new ci(t),i=n,r=Sn(e);for(;null!==r;){const s=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new NB(r,i,s),e=Mi(e),r=Sn(e)}return i}function O_(n){return n.node.value}function LB(n,t){n.node.value=t,BB(n)}function aq(n){return n.node.childCount>0}function tM(n,t){js(n.node.children,(e,i)=>{t(new NB(e,n,i))})}function lq(n,t,e,i){e&&!i&&t(n),tM(n,r=>{lq(r,t,!0,i)}),e&&i&&t(n)}function _E(n){return new ci(null===n.parent?n.name:_E(n.parent)+"/"+n.name)}function BB(n){null!==n.parent&&function voe(n,t,e){const i=function goe(n){return void 0===O_(n)&&!aq(n)}(e),r=(0,H.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,BB(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,BB(n))}(n.parent,n.name,n)}const yoe=/[\[\].#$\/\u0000-\u001F\u007F]/,boe=/[\[\].#$\u0000-\u001F\u007F]/,VB=10485760,nM=function(n){return"string"==typeof n&&0!==n.length&&!yoe.test(n)},cq=function(n){return"string"==typeof n&&0!==n.length&&!boe.test(n)},vE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Ak(n)||n&&"object"==typeof n&&(0,H.r3)(n,".sv")},ih=function(n,t,e,i){i&&void 0===t||yE((0,H.gK)(n,"value"),t,e)},yE=function(n,t,e){const i=e instanceof ci?new Lre(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+T_(i));if("function"==typeof t)throw new Error(n+"contains a function "+T_(i)+" with contents = "+t.toString());if(Ak(t))throw new Error(n+"contains "+t.toString()+" "+T_(i));if("string"==typeof t&&t.length>VB/3&&(0,H.ug)(t)>VB)throw new Error(n+"contains a string greater than "+VB+" utf8 bytes "+T_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(js(t,(l,h)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!nM(l)))throw new Error(n+" contains an invalid key ("+l+") "+T_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Bre(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,H.ug)(t),y$(n)})(i,l),yE(n,h,i),function Vre(n){const t=n.parts_.pop();n.byteLength_-=(0,H.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+T_(i)+" in addition to actual children.")}},dq=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,H.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];js(t,(l,h)=>{const m=new ci(l);if(yE(r,h,ur(e,m)),".priority"===tB(m)&&!vE(h))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(m)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=iE(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!nM(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Nre);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ac(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},UB=function(n,t,e){if(!e||void 0!==t){if(Ak(t))throw new Error((0,H.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vE(t))throw new Error((0,H.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},bE=function(n,t,e,i){if(!(i&&void 0===e||nM(e)))throw new Error((0,H.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wE=function(n,t,e,i){if(!(i&&void 0===e||cq(e)))throw new Error((0,H.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Coe=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wE(n,t,e,i)},kc=function(n,t){if(".info"===Sn(t))throw new Error(n+" failed = Can't modify data under /.info/")},uq=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!nM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cq(n)}(e))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Eoe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iM(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!nB(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function hq(n,t,e){iM(n,e),fq(n,i=>nB(i,t))}function Bl(n,t,e){iM(n,e),fq(n,i=>Ac(i,t)||Ac(t,i))}function fq(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Ioe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Ioe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();D_&&Hs("event: "+e.toString()),Bb(i)}}}const mq="repo_interrupt",Doe=25;class Soe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Eoe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uk(),this.transactionQueueTree_=new NB,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pq(n){const e=n.infoData_.getNode(new ci(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function xE(n){return foe({timestamp:pq(n)})}function gq(n,t,e,i,r){n.dataUpdateCount++;const s=new ci(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const m=(0,H.UI)(e,v=>kr(v));l=function aoe(n,t,e,i){const r=AB(n,i);if(r){const s=kB(r),l=s.path,h=s.queryId,m=Ea(l,t),v=Bi.fromObject(e);return MB(n,l,new Gb(gB(h),m,v))}return[]}(n.serverSyncTree_,s,m,r)}else{const m=kr(e);l=tq(n.serverSyncTree_,s,m,r)}else if(i){const m=(0,H.UI)(e,v=>kr(v));l=function roe(n,t,e){const i=Bi.fromObject(e);return qb(n,new Gb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,m)}else{const m=kr(e);l=mE(n.serverSyncTree_,s,m)}let h=s;l.length>0&&(h=Yb(n,s)),Bl(n.eventQueue_,h,l)}function _q(n,t){HB(n,"connected",t),!1===t&&function Roe(n){Wb(n,"onDisconnectEvents");const t=xE(n),e=Uk();fB(n.onDisconnect_,ii(),(r,s)=>{const l=oq(r,s,n.serverSyncTree_,t);zb(e,r,l)});let i=[];fB(e,ii(),(r,s)=>{i=i.concat(mE(n.serverSyncTree_,r,s));const l=$B(n,r);Yb(n,l)}),n.onDisconnect_=Uk(),Bl(n.eventQueue_,ii(),i)}(n)}function HB(n,t,e){const i=new ci("/.info/"+t),r=kr(e);n.infoData_.updateSnapshot(i,r);const s=mE(n.infoSyncTree_,i,r);Bl(n.eventQueue_,i,s)}function rM(n){return n.nextWriteId_++}function jB(n,t,e,i,r){Wb(n,"set",{path:t.toString(),value:e,priority:i});const s=xE(n),l=kr(e,i),h=Xk(n.serverSyncTree_,t),m=PB(l,h,s),v=rM(n),w=SB(n.serverSyncTree_,t,m,v,!0);iM(n.eventQueue_,w),n.server_.put(t.toString(),l.val(!0),(O,B)=>{const $="ok"===O;$||Vo("set at "+t+" failed: "+O);const Z=gp(n.serverSyncTree_,v,!$);Bl(n.eventQueue_,t,Z),_p(0,r,O,B)});const T=$B(n,t);Yb(n,T),Bl(n.eventQueue_,T,[])}function Ooe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&hB(n.onDisconnect_,t),_p(0,e,i,r)})}function vq(n,t,e,i){const r=kr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,l)=>{"ok"===s&&zb(n.onDisconnect_,t,r),_p(0,i,s,l)})}function zB(n,t,e){let i;i=".info"===Sn(t._path)?Qk(n.infoSyncTree_,t,e):Qk(n.serverSyncTree_,t,e),hq(n.eventQueue_,t._path,i)}function yq(n){n.persistentConnection_&&n.persistentConnection_.interrupt(mq)}function Wb(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Hs(e,...t)}function _p(n,t,e,i){t&&Bb(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,t(l)}})}function GB(n,t,e){return Xk(n.serverSyncTree_,t,e)||bn.EMPTY_NODE}function sM(n,t=n.transactionQueueTree_){if(t||oM(n,t),O_(t)){const e=wq(n,t);(0,H.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Voe(n,t,e){const i=e.map(v=>v.currentWriteId),r=GB(n,t,i);let s=r;const l=r.hash();for(let v=0;v<e.length;v++){const w=e[v];(0,H.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const T=Ea(t,w.path);s=s.updateChild(T,w.currentOutputSnapshotRaw)}const h=s.val(!0),m=t;n.server_.put(m.toString(),h,v=>{Wb(n,"transaction put response",{path:m.toString(),status:v});let w=[];if("ok"===v){const T=[];for(let O=0;O<e.length;O++)e[O].status=2,w=w.concat(gp(n.serverSyncTree_,e[O].currentWriteId)),e[O].onComplete&&T.push(()=>e[O].onComplete(null,!0,e[O].currentOutputSnapshotResolved)),e[O].unwatcher();oM(n,eM(n.transactionQueueTree_,t)),sM(n,n.transactionQueueTree_),Bl(n.eventQueue_,t,w);for(let O=0;O<T.length;O++)Bb(T[O])}else{if("datastale"===v)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{Vo("transaction at "+m.toString()+" failed: "+v);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=v}Yb(n,t)}},l)}(n,_E(t),e)}else aq(t)&&tM(t,e=>{sM(n,e)})}function Yb(n,t){const e=bq(n,t),i=_E(e);return function Uoe(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],v=Ea(e,m.path);let T,w=!1;if((0,H.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)w=!0,T=m.abortReason,r=r.concat(gp(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=Doe)w=!0,T="maxretry",r=r.concat(gp(n.serverSyncTree_,m.currentWriteId,!0));else{const O=GB(n,m.path,l);m.currentInputSnapshot=O;const B=t[h].update(O.val());if(void 0!==B){yE("transaction failed: Data returned ",B,m.path);let $=kr(B);"object"==typeof B&&null!=B&&(0,H.r3)(B,".priority")||($=$.updatePriority(O.getPriority()));const re=m.currentWriteId,Ae=xE(n),Ze=PB($,O,Ae);m.currentOutputSnapshotRaw=$,m.currentOutputSnapshotResolved=Ze,m.currentWriteId=rM(n),l.splice(l.indexOf(re),1),r=r.concat(SB(n.serverSyncTree_,m.path,Ze,m.currentWriteId,m.applyLocally)),r=r.concat(gp(n.serverSyncTree_,re,!0))}else w=!0,T="nodata",r=r.concat(gp(n.serverSyncTree_,m.currentWriteId,!0))}Bl(n.eventQueue_,e,r),r=[],w&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===T?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(T),!1,null)))}oM(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Bb(i[h]);sM(n,n.transactionQueueTree_)}(n,wq(n,e),i),i}function bq(n,t){let e,i=n.transactionQueueTree_;for(e=Sn(t);null!==e&&void 0===O_(i);)i=eM(i,e),e=Sn(t=Mi(t));return i}function wq(n,t){const e=[];return xq(n,t,e),e.sort((i,r)=>i.order-r.order),e}function xq(n,t,e){const i=O_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);tM(t,r=>{xq(n,r,e)})}function oM(n,t){const e=O_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,LB(t,e.length>0?e:void 0)}tM(t,i=>{oM(n,i)})}function $B(n,t){const e=_E(bq(n,t)),i=eM(n.transactionQueueTree_,t);return function _oe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{qB(n,r)}),qB(n,i),lq(i,r=>{qB(n,r)}),e}function qB(n,t){const e=O_(t);if(e){const i=[];let r=[],s=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,H.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,e[l].status=3,e[l].abortReason="set"):((0,H.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(gp(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?LB(t,void 0):e.length=s+1,Bl(n.eventQueue_,_E(t),r);for(let l=0;l<i.length;l++)Bb(i[l])}}const WB=function(n,t){const e=zoe(n),i=e.namespace;return"firebase.com"===e.domain&&eh(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&eh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new K2(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new ci(e.pathString)}},zoe=function(n){let t="",e="",i="",r="",s="",l=!0,h="https",m=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let w=n.indexOf("/");-1===w&&(w=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(w,T)),w<T&&(r=function Hoe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(w,T)));const O=function joe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Vo(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));v=t.indexOf(":"),v>=0?(l="https"===h||"wss"===h,m=parseInt(t.substring(v+1),10)):v=t.length;const B=t.slice(0,v);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const $=t.indexOf(".");i=t.substring(0,$).toLowerCase(),e=t.substring($+1),s=i}"ns"in O&&(s=O.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:l,scheme:h,pathString:r,namespace:s}},Cq="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Goe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Cq.charAt(e%64),e=Math.floor(e/64);(0,H.hu)(0===e,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=Cq.charAt(t[r]);return(0,H.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class Eq{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Wl)(this.snapshot.exportVal())}}class Iq{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class YB{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Dq{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new H.BH;return Ooe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){kc("OnDisconnect.remove",this._path);const t=new H.BH;return vq(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){kc("OnDisconnect.set",this._path),ih("OnDisconnect.set",t,this._path,!1);const e=new H.BH;return vq(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){kc("OnDisconnect.setWithPriority",this._path),ih("OnDisconnect.setWithPriority",t,this._path,!1),UB("OnDisconnect.setWithPriority",e,!1);const i=new H.BH;return function Poe(n,t,e,i,r){const s=kr(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(l,h)=>{"ok"===l&&zb(n.onDisconnect_,t,s),_p(0,r,l,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){kc("OnDisconnect.update",this._path),dq("OnDisconnect.update",t,this._path,!1);const e=new H.BH;return function Foe(n,t,e,i){if((0,H.xb)(e))return Hs("onDisconnect().update() called with empty data.  Don't do anything."),void _p(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&js(e,(l,h)=>{const m=kr(h);zb(n.onDisconnect_,ur(t,l),m)}),_p(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ya{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Tn(this._path)?null:tB(this._path)}get ref(){return new Mc(this._repo,this._path)}get _queryIdentifier(){const t=k$(this._queryParams),e=W2(t);return"{}"===e?"default":e}get _queryObject(){return k$(this._queryParams)}isEqual(t){if(!((t=(0,H.m9)(t))instanceof Ya))return!1;const e=this._repo===t._repo,i=nB(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Fre(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function aM(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function vp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===th){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==cp)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Sf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Li){if(null!=t&&!vE(t)||null!=e&&!vE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.hu)(n.getIndex()instanceof aB||n.getIndex()===lB,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Mc extends Ya{constructor(t,e){super(t,e,new Lk,!1)}get parent(){const t=v$(this._path);return null===t?null:new Mc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class P_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ci(t),i=F_(this.ref,t);return new P_(this._node.getChild(e),i,Li)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new P_(r,F_(this.ref,i),Li)))}hasChild(t){const e=new ci(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Sq(n,t){return(n=(0,H.m9)(n))._checkNotDeleted("ref"),void 0!==t?F_(n._root,t):n._root}function Tq(n,t){(n=(0,H.m9)(n))._checkNotDeleted("refFromURL");const e=WB(t,n._repo.repoInfo_.nodeAdmin);uq("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&eh("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Sq(n,e.path.toString())}function F_(n,t){return null===Sn((n=(0,H.m9)(n))._path)?Coe("child","path",t,!1):wE("child","path",t,!1),new Mc(n._repo,ur(n._path,t))}function KB(n,t){n=(0,H.m9)(n),kc("set",n._path),ih("set",t,n._path,!1);const e=new H.BH;return jB(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Koe(n,t){dq("update",t,n._path,!1);const e=new H.BH;return function Moe(n,t,e,i){Wb(n,"update",{path:t.toString(),value:e});let r=!0;const s=xE(n),l={};if(js(e,(h,m)=>{r=!1,l[h]=oq(ur(t,h),kr(m),n.serverSyncTree_,s)}),r)Hs("update() called with empty data.  Don't do anything."),_p(0,i,"ok",void 0);else{const h=rM(n),m=function ioe(n,t,e,i){!function bse(n,t,e,i){(0,H.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=vB(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Bi.fromObject(e);return qb(n,new Gb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,l,h);iM(n.eventQueue_,m),n.server_.merge(t.toString(),e,(v,w)=>{const T="ok"===v;T||Vo("update at "+t+" failed: "+v);const O=gp(n.serverSyncTree_,h,!T),B=O.length>0?Yb(n,t):t;Bl(n.eventQueue_,B,O),_p(0,i,v,w)}),js(e,v=>{const w=$B(n,ur(t,v));Yb(n,w)}),Bl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Zoe(n){n=(0,H.m9)(n);const t=new YB(()=>{}),e=new CE(t);return function koe(n,t,e){const i=function loe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(v,w)=>{const T=Ea(v,e);i=i||mp(w,T)});let r=n.syncPointTree_.get(e);r?i=i||mp(r,ii()):(r=new K$,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,l=s?new hp(i,!0,!1):null;return function $se(n){return zk(n.viewCache_)}(Z$(r,t,Gk(n.pendingWriteTree_,t._path),s?l.getNode():bn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=kr(r).withIndex(t._queryParams.getIndex());let l;if(TB(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=mE(n.serverSyncTree_,t._path,s);else{const h=pE(n.serverSyncTree_,t);l=tq(n.serverSyncTree_,t._path,s,h)}return Bl(n.eventQueue_,t._path,l),Qk(n.serverSyncTree_,t,e,null,!0),s},r=>(Wb(n,"get for query "+(0,H.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new P_(i,new Mc(n._repo,n._path),n._queryParams.getIndex()))}class CE{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Eq("value",this,new P_(t.snapshotNode,new Mc(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Iq(this,t,e):null}matches(t){return t instanceof CE&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cM{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Iq(this,t,e):null}createEvent(t,e){(0,H.hu)(null!=t.childName,"Child events should have a childName.");const i=F_(new Mc(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Eq(t.type,this,new P_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof cM&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function EE(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const m=e,v=(w,T)=>{zB(n._repo,n,h),m(w,T)};v.userCallback=e.userCallback,v.context=e.context,e=v}const l=new YB(e,s||void 0),h="value"===t?new CE(l):new cM(t,l);return function Noe(n,t,e){let i;i=".info"===Sn(t._path)?TB(n.infoSyncTree_,t,e):TB(n.serverSyncTree_,t,e),hq(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>zB(n._repo,n,h)}function ZB(n,t,e,i){return EE(n,"value",t,e,i)}function Aq(n,t,e,i){return EE(n,"child_added",t,e,i)}function kq(n,t,e,i){return EE(n,"child_changed",t,e,i)}function Mq(n,t,e,i){return EE(n,"child_moved",t,e,i)}function Rq(n,t,e,i){return EE(n,"child_removed",t,e,i)}function Oq(n,t,e){let i=null;const r=e?new YB(e):null;"value"===t?i=new CE(r):t&&(i=new cM(t,r)),zB(n._repo,n,i)}class Od{}class Pq extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ih("endAt",this._value,t._path,!0);const e=uB(t._queryParams,this._value,this._key);if(lM(e),vp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ya(t._repo,t._path,e,t._orderByCalled)}}class Xoe extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ih("endBefore",this._value,t._path,!1);const e=function ase(n,t,e){let i;return i=uB(n,t,n.index_===th||e?e:cp),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(lM(e),vp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ya(t._repo,t._path,e,t._orderByCalled)}}class Fq extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ih("startAt",this._value,t._path,!0);const e=dB(t._queryParams,this._value,this._key);if(lM(e),vp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ya(t._repo,t._path,e,t._orderByCalled)}}class tae extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ih("startAfter",this._value,t._path,!1);const e=function ose(n,t,e){let i;return i=dB(n,t,n.index_===th||e?e:Sf),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(lM(e),vp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ya(t._repo,t._path,e,t._orderByCalled)}}class iae extends Od{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ya(t._repo,t._path,function rse(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class sae extends Od{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ya(t._repo,t._path,function sse(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class aae extends Od{constructor(t){super(),this._path=t}_apply(t){aM(t,"orderByChild");const e=new ci(this._path);if(Tn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new aB(e),r=Bk(t._queryParams,i);return vp(r),new Ya(t._repo,t._path,r,!0)}}class cae extends Od{_apply(t){aM(t,"orderByKey");const e=Bk(t._queryParams,th);return vp(e),new Ya(t._repo,t._path,e,!0)}}class uae extends Od{_apply(t){aM(t,"orderByPriority");const e=Bk(t._queryParams,Li);return vp(e),new Ya(t._repo,t._path,e,!0)}}class fae extends Od{_apply(t){aM(t,"orderByValue");const e=Bk(t._queryParams,lB);return vp(e),new Ya(t._repo,t._path,e,!0)}}class pae extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ih("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Pq(this._value,this._key)._apply(new Fq(this._value,this._key)._apply(t))}}function Pd(n,...t){let e=(0,H.m9)(n);for(const i of t)e=i._apply(e);return e}(function Kse(n){(0,H.hu)(!Yk,"__referenceConstructor has already been defined"),Yk=n})(Mc),function eoe(n){(0,H.hu)(!Zk,"__referenceConstructor has already been defined"),Zk=n}(Mc);const QB={};function Lq(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||eh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Hs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,v,l=WB(s,r),h=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(m=!0,s=`http://${v}?ns=${h.namespace}`,l=WB(s,r),h=l.repoInfo):m=!l.repoInfo.secure;const w=r&&m?new nE(nE.OWNER):new dre(n.name,n.options,t);uq("Invalid Firebase Database URL",l),Tn(l.path)||eh("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function bae(n,t,e,i){let r=QB[t.name];r||(r={},QB[t.name]=r);let s=r[n.toURLString()];return s&&eh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Soe(n,false,e,i),r[n.toURLString()]=s,s}(h,n,w,new cre(n.name,e));return new xae(T,n)}class xae{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Toe(n,t,e){if(n.stats_=X2(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Vk(n.repoInfo_,(i,r,s,l)=>{gq(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_q(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new A_(n.repoInfo_,t,(i,r,s,l)=>{gq(n,i,r,s,l)},i=>{_q(n,i)},i=>{!function Aoe(n,t){js(t,(e,i)=>{HB(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function fre(n,t){const e=n.toString();return Q2[e]||(Q2[e]=t()),Q2[e]}(n.repoInfo_,()=>new fse(n.stats_,n.server_)),n.infoData_=new lse,n.infoSyncTree_=new eq({startListening:(i,r,s,l)=>{let h=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(h=mE(n.infoSyncTree_,i._path,m),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),HB(n,"connected",!1),n.serverSyncTree_=new eq({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(h,m)=>{const v=l(h,m);Bl(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mc(this._repo,ii())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function yae(n,t){const e=QB[t];(!e||e[n.key]!==n)&&eh(`Database ${t}(${n.repoInfo_}) has already been deleted.`),yq(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&eh("Cannot call "+t+" on a deleted database.")}}function Bq(){o$.IS_TRANSPORT_INITIALIZED&&Vo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Cae(){Bq(),dp.forceDisallow()}function Eae(){Bq(),Vb.forceDisallow(),dp.forceAllow()}function Sae(n,t){U5(n,t)}const Aae={".sv":"timestamp"};class Rae{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}A_.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},A_.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Tae(n){F5(xd.SDK_VERSION),(0,xd._registerComponent)(new Ml.wA("database",(t,{instanceIdentifier:e})=>Lq(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,xd.registerVersion)(O5,"0.14.4",n),(0,xd.registerVersion)(O5,"0.14.4","esm2017")}();const Nae=new va.Yd("@firebase/database-compat"),Uq=function(n){Nae.warn("FIREBASE WARNING: "+n)};class Vae{constructor(t){this._delegate=t}cancel(t){(0,H.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,H.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,H.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,H.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,H.Dv)("OnDisconnect.set",1,2,arguments.length),(0,H.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,H.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,Uq("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Uae{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,H.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class yp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,H.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,H.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),wE("DataSnapshot.child","path",t,!1),new yp(this._database,this._delegate.child(t))}hasChild(t){return(0,H.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wE("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,H.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,H.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,H.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new yp(this._database,e)))}hasChildren(){return(0,H.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.Dv)("DataSnapshot.ref",0,0,arguments.length),new Vl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class po{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,H.Dv)("Query.on",2,4,arguments.length),(0,H.Wj)("Query.on","callback",e,!1);const l=po.getCancelAndContextArgs_("Query.on",i,r),h=(v,w)=>{e.call(l.context,new yp(this.database,v),w)};h.userCallback=e,h.context=l.context;const m=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(t){case"value":return ZB(this._delegate,h,m),e;case"child_added":return Aq(this._delegate,h,m),e;case"child_removed":return Rq(this._delegate,h,m),e;case"child_changed":return kq(this._delegate,h,m),e;case"child_moved":return Mq(this._delegate,h,m),e;default:throw new Error((0,H.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,H.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,H.Wj)("Query.off","callback",e,!0),(0,H.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Oq(this._delegate,t,r)}else Oq(this._delegate,t)}get(){return Zoe(this._delegate).then(t=>new yp(this.database,t))}once(t,e,i,r){(0,H.Dv)("Query.once",1,4,arguments.length),(0,H.Wj)("Query.once","callback",e,!0);const s=po.getCancelAndContextArgs_("Query.once",i,r),l=new H.BH,h=(v,w)=>{const T=new yp(this.database,v);e&&e.call(s.context,T,w),l.resolve(T)};h.userCallback=e,h.context=s.context;const m=v=>{s.cancel&&s.cancel.call(s.context,v),l.reject(v)};switch(t){case"value":ZB(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":Aq(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":Rq(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":kq(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":Mq(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,H.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,H.Dv)("Query.limitToFirst",1,1,arguments.length),new po(this.database,Pd(this._delegate,function rae(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new iae(n)}(t)))}limitToLast(t){return(0,H.Dv)("Query.limitToLast",1,1,arguments.length),new po(this.database,Pd(this._delegate,function oae(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new sae(n)}(t)))}orderByChild(t){return(0,H.Dv)("Query.orderByChild",1,1,arguments.length),new po(this.database,Pd(this._delegate,function lae(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wE("orderByChild","path",n,!1),new aae(n)}(t)))}orderByKey(){return(0,H.Dv)("Query.orderByKey",0,0,arguments.length),new po(this.database,Pd(this._delegate,function dae(){return new cae}()))}orderByPriority(){return(0,H.Dv)("Query.orderByPriority",0,0,arguments.length),new po(this.database,Pd(this._delegate,function hae(){return new uae}()))}orderByValue(){return(0,H.Dv)("Query.orderByValue",0,0,arguments.length),new po(this.database,Pd(this._delegate,function mae(){return new fae}()))}startAt(t=null,e){return(0,H.Dv)("Query.startAt",0,2,arguments.length),new po(this.database,Pd(this._delegate,function eae(n=null,t){return bE("startAt","key",t,!0),new Fq(n,t)}(t,e)))}startAfter(t=null,e){return(0,H.Dv)("Query.startAfter",0,2,arguments.length),new po(this.database,Pd(this._delegate,function nae(n,t){return bE("startAfter","key",t,!0),new tae(n,t)}(t,e)))}endAt(t=null,e){return(0,H.Dv)("Query.endAt",0,2,arguments.length),new po(this.database,Pd(this._delegate,function Qoe(n,t){return bE("endAt","key",t,!0),new Pq(n,t)}(t,e)))}endBefore(t=null,e){return(0,H.Dv)("Query.endBefore",0,2,arguments.length),new po(this.database,Pd(this._delegate,function Joe(n,t){return bE("endBefore","key",t,!0),new Xoe(n,t)}(t,e)))}equalTo(t,e){return(0,H.Dv)("Query.equalTo",1,2,arguments.length),new po(this.database,Pd(this._delegate,function gae(n,t){return bE("equalTo","key",t,!0),new pae(n,t)}(t,e)))}toString(){return(0,H.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,H.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof po))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,H.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,H.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,H.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Vl(this.database,new Mc(this._delegate._repo,this._delegate._path))}}class Vl extends po{constructor(t,e){super(t,new Ya(e._repo,e._path,new Lk,!1)),this.database=t,this._delegate=e}getKey(){return(0,H.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,H.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Vl(this.database,F_(this._delegate,t))}getParent(){(0,H.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Vl(this.database,t):null}getRoot(){return(0,H.Dv)("Reference.root",0,0,arguments.length),new Vl(this.database,this._delegate.root)}set(t,e){(0,H.Dv)("Reference.set",1,2,arguments.length),(0,H.Wj)("Reference.set","onComplete",e,!0);const i=KB(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,H.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,Uq("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kc("Reference.update",this._delegate._path),(0,H.Wj)("Reference.update","onComplete",e,!0);const i=Koe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,H.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Yoe(n,t,e){if(kc("setWithPriority",n._path),ih("setWithPriority",t,n._path,!1),UB("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new H.BH;return jB(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,H.Dv)("Reference.remove",0,1,arguments.length),(0,H.Wj)("Reference.remove","onComplete",t,!0);const e=function qoe(n){return kc("remove",n._path),KB(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,H.Dv)("Reference.transaction",1,3,arguments.length),(0,H.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,H.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,H.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Oae(n,t,e){var i;if(n=(0,H.m9)(n),kc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new H.BH,h=ZB(n,()=>{});return function Boe(n,t,e,i,r,s){Wb(n,"transaction on "+t);const l={path:t,update:e,onComplete:i,status:null,order:L5(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=GB(n,t,void 0);l.currentInputSnapshot=h;const m=l.update(h.val());if(void 0===m)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{yE("transaction failed: Data returned ",m,l.path),l.status=0;const v=eM(n.transactionQueueTree_,t),w=O_(v)||[];let T;w.push(l),LB(v,w),"object"==typeof m&&null!==m&&(0,H.r3)(m,".priority")?(T=(0,H.DV)(m,".priority"),(0,H.hu)(vE(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(Xk(n.serverSyncTree_,t)||bn.EMPTY_NODE).getPriority().val();const O=xE(n),B=kr(m,T),$=PB(B,h,O);l.currentOutputSnapshotRaw=B,l.currentOutputSnapshotResolved=$,l.currentWriteId=rM(n);const Z=SB(n.serverSyncTree_,t,$,l.currentWriteId,l.applyLocally);Bl(n.eventQueue_,t,Z),sM(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(m,v,w)=>{let T=null;m?s.reject(m):(T=new P_(w,new Mc(n._repo,n._path),Li),s.resolve(new Rae(v,T)))},h,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Uae(s.committed,new yp(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,H.Dv)("Reference.setPriority",1,2,arguments.length),(0,H.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Woe(n,t){n=(0,H.m9)(n),kc("setPriority",n._path),UB("setPriority",t,!1);const e=new H.BH;return jB(n._repo,ur(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,H.Dv)("Reference.push",0,2,arguments.length),(0,H.Wj)("Reference.push","onComplete",e,!0);const i=function $oe(n,t){n=(0,H.m9)(n),kc("push",n._path),ih("push",t,n._path,!0);const e=pq(n._repo),i=Goe(e),r=F_(n,i),s=F_(n,i);let l;return l=null!=t?KB(s,t).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=i.then(l=>new Vl(this.database,l));e&&r.then(()=>e(null),l=>e(l));const s=new Vl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return kc("Reference.onDisconnect",this._delegate._path),new Vae(new Dq(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class IE{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Cae,forceLongPolling:Eae}}useEmulator(t,e,i={}){!function Vq(n,t,e,i={}){(n=(0,H.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&eh("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&eh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new nE(nE.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,H.Sg)(i.mockUserToken,n.app.options.projectId);s=new nE(l)}!function vae(n,t,e,i){n.repoInfo_=new K2(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,H.Dv)("database.ref",0,1,arguments.length),t instanceof Vl){const e=Tq(this._delegate,t.toString());return new Vl(this,e)}{const e=Sq(this._delegate,t);return new Vl(this,e)}}refFromURL(t){(0,H.Dv)("database.refFromURL",1,1,arguments.length);const i=Tq(this._delegate,t);return new Vl(this,i)}goOffline(){return(0,H.Dv)("database.goOffline",0,0,arguments.length),function Iae(n){(n=(0,H.m9)(n))._checkNotDeleted("goOffline"),yq(n._repo)}(this._delegate)}goOnline(){return(0,H.Dv)("database.goOnline",0,0,arguments.length),function Dae(n){(n=(0,H.m9)(n))._checkNotDeleted("goOnline"),function Loe(n){n.persistentConnection_&&n.persistentConnection_.resume(mq)}(n._repo)}(this._delegate)}}IE.ServerValue={TIMESTAMP:function kae(){return Aae}(),increment:n=>function Mae(n){return{".sv":{increment:n}}}(n)};var jae=Object.freeze({__proto__:null,initStandalone:function Hae({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){F5(e);const l=new Ml.zt("auth-internal",new Ml.H0("database-standalone"));return l.setComponent(new Ml.wA("auth-internal",()=>i,"PRIVATE")),{instance:new IE(Lq(n,l,void 0,t,s),n),namespace:r}}});const zae=IE.ServerValue;function Hq(n){return null==n}function jq(n){return"function"==typeof n.set}function zq(n,t){return jq(t)?t:n.ref(t)}function Gq(n,t){if(function $ae(n){return"string"==typeof n}(n))return t.stringCase();if(jq(n))return t.firebaseCase();if(function qae(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function DE(n,t,e="on",i=um.z){return new li.y(r=>{let s=null;return s=n[e](t,(l,h)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,ht.U)(r=>{const{snapshot:s,prevKey:l}=r;let h=null;return s.exists()&&(h=s.key),{type:t,payload:s,prevKey:l,key:h}}),(0,eg.B)())}function $q(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Kae(n,t){const{payload:e,prevKey:i,key:r}=t,s=$q(n,r),l=function Yae(n,t){if(Hq(t))return 0;{const e=$q(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(m=>{const v={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(m=>m.payload.key!==e.key)).splice(l,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(l,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,h),n}return n;default:return n}}function qq(n){return(Hq(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Wq(n,t,e){return function Wae(n,t,e){return DE(n,"value","once",e).pipe((0,mi.w)(i=>{const r=[(0,pt.of)(i)];return t.forEach(s=>r.push(DE(n,s,"on",e))),(0,ma.T)(...r).pipe(_s(Kae,[]))}),(0,og.x)())}(n,t=qq(t),e)}function Yq(n,t,e){const i=(t=qq(t)).map(r=>DE(n,r,"on",e));return(0,ma.T)(...i)}function Kq(n,t){return function(i,r){return Gq(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Jae(n){return function(e){return e?Gq(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Zq(n,t){return function(){return DE(n,"value","on",t)}}!function Gae(n){n.INTERNAL.registerComponent(new Ml.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new IE(r,i)},"PUBLIC").setServiceProps({Reference:Vl,Query:po,Database:IE,DataSnapshot:yp,enableLogging:Sae,INTERNAL:jae,ServerValue:zae}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(ZS.Z);const nle=new c.OlP("angularfire2.realtimeDatabaseURL"),ile=new c.OlP("angularfire2.database.use-emulator");let rle=(()=>{class n{constructor(e,i,r,s,l,h,m,v,w,T,O,B,$,Z,re){this.schedulers=h;const Ae=m,Ze=(0,Yr.on)(e,l,i);v&&FL(Ze,l,w,O,B,$,T,Z),this.database=(0,Yr.cc)(`${Ze.name}.database.${r}`,"AngularFireDatabase",Ze.name,()=>{const Xe=l.runOutsideAngular(()=>Ze.database(r||void 0));return Ae&&Xe.useEmulator(...Ae),Xe},[Ae])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>zq(this.database,e));let s=r;return i&&(s=i(r)),function ele(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Kq(i,"update"),set:Kq(i,"set"),push:r=>i.push(r),remove:Jae(i),snapshotChanges:r=>Wq(n,r,e).pipe(Wn.iC),stateChanges:r=>Yq(n,r,e).pipe(Wn.iC),auditTrail:r=>function Zae(n,t,e){return function Xae(n,t,e){return function Qae(n,t){return DE(n,"value","on",t).pipe((0,ht.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Kie(...n){const t=(0,Rs.jO)(n);return(0,zi.e)((e,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),h=!1;for(let m=0;m<r;m++)(0,vl.Xf)(n[m]).subscribe((0,Bn.x)(i,v=>{s[m]=v,!h&&!l[m]&&(l[m]=!0,(h=l.every(Xs.y))&&(l=null))},lc.Z));e.subscribe((0,Bn.x)(i,m=>{if(h){const v=[m,...s];i.next(t?t(...v):v)}}))})}(t),(0,ht.U)(([r,s])=>{const l=r.lastKeyToLoad,h=s.map(m=>m.key);return{actions:s,lastKeyToLoad:l,loadedKeys:h}}),function Zie(n){return(0,zi.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Bn.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ht.U)(r=>r.actions))}(n,Yq(n,t).pipe(_s((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Wn.iC),valueChanges:(r,s)=>Wq(n,r,e).pipe((0,ht.U)(h=>h.map(m=>s&&s.idField?Object.assign(Object.assign({},m.payload.val()),{[s.idField]:m.key}):m.payload.val())),Wn.iC)}}(s,this)}object(e){return function tle(n,t){return{query:n,snapshotChanges:()=>Zq(n,t.schedulers.outsideAngular)().pipe(Wn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Zq(n,t.schedulers.outsideAngular)().pipe(Wn.iC,(0,ht.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zq(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Yr.Dh),c.LFG(Yr.xv,8),c.LFG(nle,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Wn.HU),c.LFG(ile,8),c.LFG(qA,8),c.LFG(AL,8),c.LFG(kL,8),c.LFG(ML,8),c.LFG(RL,8),c.LFG(OL,8),c.LFG(PL,8),c.LFG(UC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sle=(()=>{class n{constructor(){$A.Z.registerVersion("angularfire",Wn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[rle]}),n})();const ole_firebaseConfig={apiKey:"AIzaSyDMwt1j1m1IftFLtEwPTsIDtrvHNUBgFPE",authDomain:"categoriasproductos.firebaseapp.com",projectId:"categoriasproductos",storageBucket:"categoriasproductos.appspot.com",messagingSenderId:"508637307558",appId:"1:508637307558:web:98fd36834c6d2068970a67"};let cle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[fa,In,fa,In]})}return n})();const fle={provide:c.tb,useFactory:function hle(n,t){return()=>{if(Eo(t)){const e=Array.from(n.querySelectorAll(`[class*=${t8}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${t8}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[de,c.Lbi],multi:!0},t8="flex-layout-";let JB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[fle]}),n})();const eV={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Fd=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>eV}),Kb=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),tV=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});EventTarget;let w8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[JB]}),n})(),I8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[JB,$h]}),n})(),O8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[JB]}),n})(),Eue=(()=>{class n{constructor(e,i){yr(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Fd,useValue:{...eV,...e}},{provide:tV,useValue:i,multi:!0},{provide:Kb,useValue:!0}]:[{provide:Fd,useValue:{...eV,...e}},{provide:tV,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Kb),c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[I8,w8,O8,I8,w8,O8]}),n})(),Iue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n,bootstrap:[uJ]});static#n=this.\u0275inj=c.cJS({imports:[Qd,dJ,ote,s1,pg,D1,nO,KS,Ate,Yte,Qte,eX,dX,cle,Jv,vX,Eue,Yr.hO.initializeApp(ole_firebaseConfig),rQ,hQ,Yie,sle,nJ]})}return n})();ir().bootstrapModule(Iue).catch(n=>console.error(n))},5619:(wt,ke,V)=>{"use strict";V.d(ke,{X:()=>se});var c=V(8645);class se extends c.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const me=super._subscribe(oe);return!me.closed&&oe.next(this._value),me}getValue(){const{hasError:oe,thrownError:me,_value:de}=this;if(oe)throw me;return this._throwIfClosed(),de}next(oe){super.next(this._value=oe)}}},5592:(wt,ke,V)=>{"use strict";V.d(ke,{y:()=>Ve});var c=V(305),se=V(7394),j=V(4850),oe=V(8407),me=V(2653),de=V(4674),he=V(1441);let Ve=(()=>{class z{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const rt=new z;return rt.source=this,rt.operator=Le,rt}subscribe(Le,rt,He){const Ye=function Q(z){return z&&z instanceof c.Lv||function q(z){return z&&(0,de.m)(z.next)&&(0,de.m)(z.error)&&(0,de.m)(z.complete)}(z)&&(0,se.Nn)(z)}(Le)?Le:new c.Hp(Le,rt,He);return(0,he.x)(()=>{const{operator:Be,source:Ct}=this;Ye.add(Be?Be.call(Ye,Ct):Ct?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Le){try{return this._subscribe(Le)}catch(rt){Le.error(rt)}}forEach(Le,rt){return new(rt=we(rt))((He,Ye)=>{const Be=new c.Hp({next:Ct=>{try{Le(Ct)}catch(Et){Ye(Et),Be.unsubscribe()}},error:Ye,complete:He});this.subscribe(Be)})}_subscribe(Le){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(Le)}[j.L](){return this}pipe(...Le){return(0,oe.U)(Le)(this)}toPromise(Le){return new(Le=we(Le))((rt,He)=>{let Ye;this.subscribe(Be=>Ye=Be,Be=>He(Be),()=>rt(Ye))})}}return z.create=We=>new z(We),z})();function we(z){var We;return null!==(We=z??me.config.Promise)&&void 0!==We?We:Promise}},8645:(wt,ke,V)=>{"use strict";V.d(ke,{x:()=>he});var c=V(5592),se=V(7394);const oe=(0,V(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=V(9039),de=V(1441);let he=(()=>{class we extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const z=new Ve(this,this);return z.operator=Q,z}_throwIfClosed(){if(this.closed)throw new oe}next(Q){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const z of this.currentObservers)z.next(Q)}})}error(Q){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:z}=this;for(;z.length;)z.shift().error(Q)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:z,isStopped:We,observers:Le}=this;return z||We?se.Lc:(this.currentObservers=null,Le.push(Q),new se.w0(()=>{this.currentObservers=null,(0,me.P)(Le,Q)}))}_checkFinalizedStatuses(Q){const{hasError:z,thrownError:We,isStopped:Le}=this;z?Q.error(We):Le&&Q.complete()}asObservable(){const Q=new c.y;return Q.source=this,Q}}return we.create=(q,Q)=>new Ve(q,Q),we})();class Ve extends he{constructor(q,Q){super(),this.destination=q,this.source=Q}next(q){var Q,z;null===(z=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===z||z.call(Q,q)}error(q){var Q,z;null===(z=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===z||z.call(Q,q)}complete(){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Q||Q.call(q)}_subscribe(q){var Q,z;return null!==(z=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(q))&&void 0!==z?z:se.Lc}}},305:(wt,ke,V)=>{"use strict";V.d(ke,{Hp:()=>He,Lv:()=>z});var c=V(4674),se=V(7394),j=V(2653),oe=V(3894),me=V(2420);const de=we("C",void 0,void 0);function we(_e,Te,ue){return{kind:_e,value:Te,error:ue}}var q=V(7599),Q=V(1441);class z extends se.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,se.Nn)(Te)&&Te.add(this)):this.destination=Et}static create(Te,ue,Me){return new He(Te,ue,Me)}next(Te){this.isStopped?Ct(function Ve(_e){return we("N",_e,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ct(function he(_e){return we("E",void 0,_e)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ct(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Le(_e,Te){return We.call(_e,Te)}class rt{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ue}=this;if(ue.next)try{ue.next(Te)}catch(Me){Ye(Me)}}error(Te){const{partialObserver:ue}=this;if(ue.error)try{ue.error(Te)}catch(Me){Ye(Me)}else Ye(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ue){Ye(ue)}}}class He extends z{constructor(Te,ue,Me){let je;if(super(),(0,c.m)(Te)||!Te)je={next:Te??void 0,error:ue??void 0,complete:Me??void 0};else{let fe;this&&j.config.useDeprecatedNextContext?(fe=Object.create(Te),fe.unsubscribe=()=>this.unsubscribe(),je={next:Te.next&&Le(Te.next,fe),error:Te.error&&Le(Te.error,fe),complete:Te.complete&&Le(Te.complete,fe)}):je=Te}this.destination=new rt(je)}}function Ye(_e){j.config.useDeprecatedSynchronousErrorHandling?(0,Q.O)(_e):(0,oe.h)(_e)}function Ct(_e,Te){const{onStoppedNotification:ue}=j.config;ue&&q.z.setTimeout(()=>ue(_e,Te))}const Et={closed:!0,next:me.Z,error:function Be(_e){throw _e},complete:me.Z}},7394:(wt,ke,V)=>{"use strict";V.d(ke,{Lc:()=>de,w0:()=>me,Nn:()=>he});var c=V(4674);const j=(0,V(2306).d)(we=>function(Q){we(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((z,We)=>`${We+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var oe=V(9039);class me{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Le of Q)Le.remove(this);else Q.remove(this);const{initialTeardown:z}=this;if((0,c.m)(z))try{z()}catch(Le){q=Le instanceof j?Le.errors:[Le]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Le of We)try{Ve(Le)}catch(rt){q=q??[],rt instanceof j?q=[...q,...rt.errors]:q.push(rt)}}if(q)throw new j(q)}}add(q){var Q;if(q&&q!==this)if(this.closed)Ve(q);else{if(q instanceof me){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(q)}}_hasParent(q){const{_parentage:Q}=this;return Q===q||Array.isArray(Q)&&Q.includes(q)}_addParent(q){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(q),Q):Q?[Q,q]:q}_removeParent(q){const{_parentage:Q}=this;Q===q?this._parentage=null:Array.isArray(Q)&&(0,oe.P)(Q,q)}remove(q){const{_finalizers:Q}=this;Q&&(0,oe.P)(Q,q),q instanceof me&&q._removeParent(this)}}me.EMPTY=(()=>{const we=new me;return we.closed=!0,we})();const de=me.EMPTY;function he(we){return we instanceof me||we&&"closed"in we&&(0,c.m)(we.remove)&&(0,c.m)(we.add)&&(0,c.m)(we.unsubscribe)}function Ve(we){(0,c.m)(we)?we():we.unsubscribe()}},2653:(wt,ke,V)=>{"use strict";V.d(ke,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(wt,ke,V)=>{"use strict";V.d(ke,{E:()=>se});const se=new(V(5592).y)(me=>me.complete())},2459:(wt,ke,V)=>{"use strict";V.d(ke,{D:()=>Te});var c=V(4829),se=V(3093),j=V(5137),de=V(5592),Ve=V(4971),we=V(4674),q=V(7103);function z(ue,Me){if(!ue)throw new Error("Iterable cannot be null");return new de.y(je=>{(0,q.f)(je,Me,()=>{const fe=ue[Symbol.asyncIterator]();(0,q.f)(je,Me,()=>{fe.next().then(ne=>{ne.done?je.complete():je.next(ne.value)})},0,!0)})})}var We=V(8382),Le=V(4026),rt=V(4266),He=V(3664),Ye=V(5726),Be=V(9853),Ct=V(541);function Te(ue,Me){return Me?function _e(ue,Me){if(null!=ue){if((0,We.c)(ue))return function oe(ue,Me){return(0,c.Xf)(ue).pipe((0,j.R)(Me),(0,se.Q)(Me))}(ue,Me);if((0,rt.z)(ue))return function he(ue,Me){return new de.y(je=>{let fe=0;return Me.schedule(function(){fe===ue.length?je.complete():(je.next(ue[fe++]),je.closed||this.schedule())})})}(ue,Me);if((0,Le.t)(ue))return function me(ue,Me){return(0,c.Xf)(ue).pipe((0,j.R)(Me),(0,se.Q)(Me))}(ue,Me);if((0,Ye.D)(ue))return z(ue,Me);if((0,He.T)(ue))return function Q(ue,Me){return new de.y(je=>{let fe;return(0,q.f)(je,Me,()=>{fe=ue[Ve.h](),(0,q.f)(je,Me,()=>{let ne,qe;try{({value:ne,done:qe}=fe.next())}catch(tt){return void je.error(tt)}qe?je.complete():je.next(ne)},0,!0)}),()=>(0,we.m)(fe?.return)&&fe.return()})}(ue,Me);if((0,Ct.L)(ue))return function Et(ue,Me){return z((0,Ct.Q)(ue),Me)}(ue,Me)}throw(0,Be.z)(ue)}(ue,Me):(0,c.Xf)(ue)}},4829:(wt,ke,V)=>{"use strict";V.d(ke,{Xf:()=>We});var c=V(7582),se=V(4266),j=V(4026),oe=V(5592),me=V(8382),de=V(5726),he=V(9853),Ve=V(3664),we=V(541),q=V(4674),Q=V(3894),z=V(4850);function We(_e){if(_e instanceof oe.y)return _e;if(null!=_e){if((0,me.c)(_e))return function Le(_e){return new oe.y(Te=>{const ue=_e[z.L]();if((0,q.m)(ue.subscribe))return ue.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,se.z)(_e))return function rt(_e){return new oe.y(Te=>{for(let ue=0;ue<_e.length&&!Te.closed;ue++)Te.next(_e[ue]);Te.complete()})}(_e);if((0,j.t)(_e))return function He(_e){return new oe.y(Te=>{_e.then(ue=>{Te.closed||(Te.next(ue),Te.complete())},ue=>Te.error(ue)).then(null,Q.h)})}(_e);if((0,de.D)(_e))return Be(_e);if((0,Ve.T)(_e))return function Ye(_e){return new oe.y(Te=>{for(const ue of _e)if(Te.next(ue),Te.closed)return;Te.complete()})}(_e);if((0,we.L)(_e))return function Ct(_e){return Be((0,we.Q)(_e))}(_e)}throw(0,he.z)(_e)}function Be(_e){return new oe.y(Te=>{(function Et(_e,Te){var ue,Me,je,fe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ue=(0,c.KL)(_e);!(Me=yield ue.next()).done;)if(Te.next(Me.value),Te.closed)return}catch(ne){je={error:ne}}finally{try{Me&&!Me.done&&(fe=ue.return)&&(yield fe.call(ue))}finally{if(je)throw je.error}}Te.complete()})})(_e,Te).catch(ue=>Te.error(ue))})}},3019:(wt,ke,V)=>{"use strict";V.d(ke,{T:()=>de});var c=V(7537),se=V(4829),j=V(6232),oe=V(9940),me=V(2459);function de(...he){const Ve=(0,oe.yG)(he),we=(0,oe._6)(he,1/0),q=he;return q.length?1===q.length?(0,se.Xf)(q[0]):(0,c.J)(we)((0,me.D)(q,Ve)):j.E}},2096:(wt,ke,V)=>{"use strict";V.d(ke,{of:()=>j});var c=V(9940),se=V(2459);function j(...oe){const me=(0,c.yG)(oe);return(0,se.D)(oe,me)}},8251:(wt,ke,V)=>{"use strict";V.d(ke,{x:()=>se});var c=V(305);function se(oe,me,de,he,Ve){return new j(oe,me,de,he,Ve)}class j extends c.Lv{constructor(me,de,he,Ve,we,q){super(me),this.onFinalize=we,this.shouldUnsubscribe=q,this._next=de?function(Q){try{de(Q)}catch(z){me.error(z)}}:super._next,this._error=Ve?function(Q){try{Ve(Q)}catch(z){me.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(Q){me.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},3997:(wt,ke,V)=>{"use strict";V.d(ke,{x:()=>oe});var c=V(2737),se=V(9360),j=V(8251);function oe(de,he=c.y){return de=de??me,(0,se.e)((Ve,we)=>{let q,Q=!0;Ve.subscribe((0,j.x)(we,z=>{const We=he(z);(Q||!de(q,We))&&(Q=!1,q=We,we.next(z))}))})}function me(de,he){return de===he}},7398:(wt,ke,V)=>{"use strict";V.d(ke,{U:()=>j});var c=V(9360),se=V(8251);function j(oe,me){return(0,c.e)((de,he)=>{let Ve=0;de.subscribe((0,se.x)(he,we=>{he.next(oe.call(me,we,Ve++))}))})}},7537:(wt,ke,V)=>{"use strict";V.d(ke,{J:()=>j});var c=V(1631),se=V(2737);function j(oe=1/0){return(0,c.z)(se.y,oe)}},1631:(wt,ke,V)=>{"use strict";V.d(ke,{z:()=>Ve});var c=V(7398),se=V(4829),j=V(9360),oe=V(7103),me=V(8251),he=V(4674);function Ve(we,q,Q=1/0){return(0,he.m)(q)?Ve((z,We)=>(0,c.U)((Le,rt)=>q(z,Le,We,rt))((0,se.Xf)(we(z,We))),Q):("number"==typeof q&&(Q=q),(0,j.e)((z,We)=>function de(we,q,Q,z,We,Le,rt,He){const Ye=[];let Be=0,Ct=0,Et=!1;const _e=()=>{Et&&!Ye.length&&!Be&&q.complete()},Te=Me=>Be<z?ue(Me):Ye.push(Me),ue=Me=>{Le&&q.next(Me),Be++;let je=!1;(0,se.Xf)(Q(Me,Ct++)).subscribe((0,me.x)(q,fe=>{We?.(fe),Le?Te(fe):q.next(fe)},()=>{je=!0},void 0,()=>{if(je)try{for(Be--;Ye.length&&Be<z;){const fe=Ye.shift();rt?(0,oe.f)(q,rt,()=>ue(fe)):ue(fe)}_e()}catch(fe){q.error(fe)}}))};return we.subscribe((0,me.x)(q,Te,()=>{Et=!0,_e()})),()=>{He?.()}}(z,We,we,Q)))}},3093:(wt,ke,V)=>{"use strict";V.d(ke,{Q:()=>oe});var c=V(7103),se=V(9360),j=V(8251);function oe(me,de=0){return(0,se.e)((he,Ve)=>{he.subscribe((0,j.x)(Ve,we=>(0,c.f)(Ve,me,()=>Ve.next(we),de),()=>(0,c.f)(Ve,me,()=>Ve.complete(),de),we=>(0,c.f)(Ve,me,()=>Ve.error(we),de)))})}},3020:(wt,ke,V)=>{"use strict";V.d(ke,{B:()=>me});var c=V(4829),se=V(8645),j=V(305),oe=V(9360);function me(he={}){const{connector:Ve=(()=>new se.x),resetOnError:we=!0,resetOnComplete:q=!0,resetOnRefCountZero:Q=!0}=he;return z=>{let We,Le,rt,He=0,Ye=!1,Be=!1;const Ct=()=>{Le?.unsubscribe(),Le=void 0},Et=()=>{Ct(),We=rt=void 0,Ye=Be=!1},_e=()=>{const Te=We;Et(),Te?.unsubscribe()};return(0,oe.e)((Te,ue)=>{He++,!Be&&!Ye&&Ct();const Me=rt=rt??Ve();ue.add(()=>{He--,0===He&&!Be&&!Ye&&(Le=de(_e,Q))}),Me.subscribe(ue),!We&&He>0&&(We=new j.Hp({next:je=>Me.next(je),error:je=>{Be=!0,Ct(),Le=de(Et,we,je),Me.error(je)},complete:()=>{Ye=!0,Ct(),Le=de(Et,q),Me.complete()}}),(0,c.Xf)(Te).subscribe(We))})(z)}}function de(he,Ve,...we){if(!0===Ve)return void he();if(!1===Ve)return;const q=new j.Hp({next:()=>{q.unsubscribe(),he()}});return(0,c.Xf)(Ve(...we)).subscribe(q)}},5137:(wt,ke,V)=>{"use strict";V.d(ke,{R:()=>se});var c=V(9360);function se(j,oe=0){return(0,c.e)((me,de)=>{de.add(j.schedule(()=>me.subscribe(de),oe))})}},4664:(wt,ke,V)=>{"use strict";V.d(ke,{w:()=>oe});var c=V(4829),se=V(9360),j=V(8251);function oe(me,de){return(0,se.e)((he,Ve)=>{let we=null,q=0,Q=!1;const z=()=>Q&&!we&&Ve.complete();he.subscribe((0,j.x)(Ve,We=>{we?.unsubscribe();let Le=0;const rt=q++;(0,c.Xf)(me(We,rt)).subscribe(we=(0,j.x)(Ve,He=>Ve.next(de?de(We,He,rt,Le++):He),()=>{we=null,z()}))},()=>{Q=!0,z()}))})}},9397:(wt,ke,V)=>{"use strict";V.d(ke,{b:()=>me});var c=V(4674),se=V(9360),j=V(8251),oe=V(2737);function me(de,he,Ve){const we=(0,c.m)(de)||he||Ve?{next:de,error:he,complete:Ve}:de;return we?(0,se.e)((q,Q)=>{var z;null===(z=we.subscribe)||void 0===z||z.call(we);let We=!0;q.subscribe((0,j.x)(Q,Le=>{var rt;null===(rt=we.next)||void 0===rt||rt.call(we,Le),Q.next(Le)},()=>{var Le;We=!1,null===(Le=we.complete)||void 0===Le||Le.call(we),Q.complete()},Le=>{var rt;We=!1,null===(rt=we.error)||void 0===rt||rt.call(we,Le),Q.error(Le)},()=>{var Le,rt;We&&(null===(Le=we.unsubscribe)||void 0===Le||Le.call(we)),null===(rt=we.finalize)||void 0===rt||rt.call(we)}))}):oe.y}},1954:(wt,ke,V)=>{"use strict";V.d(ke,{o:()=>me});var c=V(7394);class se extends c.w0{constructor(he,Ve){super()}schedule(he,Ve=0){return this}}const j={setInterval(de,he,...Ve){const{delegate:we}=j;return we?.setInterval?we.setInterval(de,he,...Ve):setInterval(de,he,...Ve)},clearInterval(de){const{delegate:he}=j;return(he?.clearInterval||clearInterval)(de)},delegate:void 0};var oe=V(9039);class me extends se{constructor(he,Ve){super(he,Ve),this.scheduler=he,this.work=Ve,this.pending=!1}schedule(he,Ve=0){var we;if(this.closed)return this;this.state=he;const q=this.id,Q=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Q,q,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(Q,this.id,Ve),this}requestAsyncId(he,Ve,we=0){return j.setInterval(he.flush.bind(he,this),we)}recycleAsyncId(he,Ve,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Ve;null!=Ve&&j.clearInterval(Ve)}execute(he,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(he,Ve);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Ve){let q,we=!1;try{this.work(he)}catch(Q){we=!0,q=Q||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:he,scheduler:Ve}=this,{actions:we}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(we,this),null!=he&&(this.id=this.recycleAsyncId(Ve,he,null)),this.delay=null,super.unsubscribe()}}}},2631:(wt,ke,V)=>{"use strict";V.d(ke,{v:()=>j});var c=V(4552);class se{constructor(me,de=se.now){this.schedulerActionCtor=me,this.now=de}schedule(me,de=0,he){return new this.schedulerActionCtor(this,me).schedule(he,de)}}se.now=c.l.now;class j extends se{constructor(me,de=se.now){super(me,de),this.actions=[],this._active=!1}flush(me){const{actions:de}=this;if(this._active)return void de.push(me);let he;this._active=!0;do{if(he=me.execute(me.state,me.delay))break}while(me=de.shift());if(this._active=!1,he){for(;me=de.shift();)me.unsubscribe();throw he}}}},6321:(wt,ke,V)=>{"use strict";V.d(ke,{P:()=>oe,z:()=>j});var c=V(1954);const j=new(V(2631).v)(c.o),oe=j},4552:(wt,ke,V)=>{"use strict";V.d(ke,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(wt,ke,V)=>{"use strict";V.d(ke,{z:()=>c});const c={setTimeout(se,j,...oe){const{delegate:me}=c;return me?.setTimeout?me.setTimeout(se,j,...oe):setTimeout(se,j,...oe)},clearTimeout(se){const{delegate:j}=c;return(j?.clearTimeout||clearTimeout)(se)},delegate:void 0}},4971:(wt,ke,V)=>{"use strict";V.d(ke,{h:()=>se});const se=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(wt,ke,V)=>{"use strict";V.d(ke,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(wt,ke,V)=>{"use strict";V.d(ke,{_6:()=>de,jO:()=>oe,yG:()=>me});var c=V(4674),se=V(671);function j(he){return he[he.length-1]}function oe(he){return(0,c.m)(j(he))?he.pop():void 0}function me(he){return(0,se.K)(j(he))?he.pop():void 0}function de(he,Ve){return"number"==typeof j(he)?he.pop():Ve}},9039:(wt,ke,V)=>{"use strict";function c(se,j){if(se){const oe=se.indexOf(j);0<=oe&&se.splice(oe,1)}}V.d(ke,{P:()=>c})},2306:(wt,ke,V)=>{"use strict";function c(se){const oe=se(me=>{Error.call(me),me.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}V.d(ke,{d:()=>c})},1441:(wt,ke,V)=>{"use strict";V.d(ke,{O:()=>oe,x:()=>j});var c=V(2653);let se=null;function j(me){if(c.config.useDeprecatedSynchronousErrorHandling){const de=!se;if(de&&(se={errorThrown:!1,error:null}),me(),de){const{errorThrown:he,error:Ve}=se;if(se=null,he)throw Ve}}else me()}function oe(me){c.config.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=me)}},7103:(wt,ke,V)=>{"use strict";function c(se,j,oe,me=0,de=!1){const he=j.schedule(function(){oe(),de?se.add(this.schedule(null,me)):this.unsubscribe()},me);if(se.add(he),!de)return he}V.d(ke,{f:()=>c})},2737:(wt,ke,V)=>{"use strict";function c(se){return se}V.d(ke,{y:()=>c})},4266:(wt,ke,V)=>{"use strict";V.d(ke,{z:()=>c});const c=se=>se&&"number"==typeof se.length&&"function"!=typeof se},5726:(wt,ke,V)=>{"use strict";V.d(ke,{D:()=>se});var c=V(4674);function se(j){return Symbol.asyncIterator&&(0,c.m)(j?.[Symbol.asyncIterator])}},4674:(wt,ke,V)=>{"use strict";function c(se){return"function"==typeof se}V.d(ke,{m:()=>c})},8382:(wt,ke,V)=>{"use strict";V.d(ke,{c:()=>j});var c=V(4850),se=V(4674);function j(oe){return(0,se.m)(oe[c.L])}},3664:(wt,ke,V)=>{"use strict";V.d(ke,{T:()=>j});var c=V(4971),se=V(4674);function j(oe){return(0,se.m)(oe?.[c.h])}},4026:(wt,ke,V)=>{"use strict";V.d(ke,{t:()=>se});var c=V(4674);function se(j){return(0,c.m)(j?.then)}},541:(wt,ke,V)=>{"use strict";V.d(ke,{L:()=>oe,Q:()=>j});var c=V(7582),se=V(4674);function j(me){return(0,c.FC)(this,arguments,function*(){const he=me.getReader();try{for(;;){const{value:Ve,done:we}=yield(0,c.qq)(he.read());if(we)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ve)}}finally{he.releaseLock()}})}function oe(me){return(0,se.m)(me?.getReader)}},671:(wt,ke,V)=>{"use strict";V.d(ke,{K:()=>se});var c=V(4674);function se(j){return j&&(0,c.m)(j.schedule)}},9360:(wt,ke,V)=>{"use strict";V.d(ke,{A:()=>se,e:()=>j});var c=V(4674);function se(oe){return(0,c.m)(oe?.lift)}function j(oe){return me=>{if(se(me))return me.lift(function(de){try{return oe(de,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(wt,ke,V)=>{"use strict";function c(){}V.d(ke,{Z:()=>c})},8407:(wt,ke,V)=>{"use strict";V.d(ke,{U:()=>j,z:()=>se});var c=V(2737);function se(...oe){return j(oe)}function j(oe){return 0===oe.length?c.y:1===oe.length?oe[0]:function(de){return oe.reduce((he,Ve)=>Ve(he),de)}}},3894:(wt,ke,V)=>{"use strict";V.d(ke,{h:()=>j});var c=V(2653),se=V(7599);function j(oe){se.z.setTimeout(()=>{const{onUnhandledError:me}=c.config;if(!me)throw oe;me(oe)})}},9853:(wt,ke,V)=>{"use strict";function c(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(ke,{z:()=>c})},3519:function(wt){wt.exports=function(){"use strict";function ke(I,S){return function se(I,S){return S.get?S.get.call(I):S.value}(I,c(I,S,"get"))}function V(I,S,F){return function j(I,S,F){if(S.set)S.set.call(I,F);else{if(!S.writable)throw new TypeError("attempted to set read only private field");S.value=F}}(I,c(I,S,"set"),F),F}function c(I,S,F){if(!S.has(I))throw new TypeError("attempted to "+F+" private field on non-instance");return S.get(I)}function me(I,S,F){(function oe(I,S){if(S.has(I))throw new TypeError("Cannot initialize the same private elements twice on an object")})(I,S),S.set(I,F)}const he={},we=I=>new Promise(S=>{if(!I)return S();const F=window.scrollX,W=window.scrollY;he.restoreFocusTimeout=setTimeout(()=>{he.previousActiveElement instanceof HTMLElement?(he.previousActiveElement.focus(),he.previousActiveElement=null):document.body&&document.body.focus(),S()},100),window.scrollTo(F,W)}),q="swal2-",z=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((I,S)=>(I[S]=q+S,I),{}),Le=["success","warning","info","question","error"].reduce((I,S)=>(I[S]=q+S,I),{}),rt="SweetAlert2:",He=I=>I.charAt(0).toUpperCase()+I.slice(1),Ye=I=>{console.warn("".concat(rt," ").concat("object"==typeof I?I.join(" "):I))},Be=I=>{console.error("".concat(rt," ").concat(I))},Ct=[],_e=(I,S)=>{(I=>{Ct.includes(I)||(Ct.push(I),Ye(I))})('"'.concat(I,'" is deprecated and will be removed in the next major release. Please use "').concat(S,'" instead.'))},Te=I=>"function"==typeof I?I():I,ue=I=>I&&"function"==typeof I.toPromise,Me=I=>ue(I)?I.toPromise():Promise.resolve(I),je=I=>I&&Promise.resolve(I)===I,fe=()=>document.body.querySelector(".".concat(z.container)),ne=I=>{const S=fe();return S?S.querySelector(I):null},qe=I=>ne(".".concat(I)),tt=()=>qe(z.popup),fn=()=>qe(z.icon),Nn=()=>qe(z.title),Kn=()=>qe(z["html-container"]),Gn=()=>qe(z.image),_i=()=>qe(z["progress-steps"]),pe=()=>qe(z["validation-message"]),be=()=>ne(".".concat(z.actions," .").concat(z.confirm)),xe=()=>ne(".".concat(z.actions," .").concat(z.cancel)),Ie=()=>ne(".".concat(z.actions," .").concat(z.deny)),Ne=()=>ne(".".concat(z.loader)),st=()=>qe(z.actions),nt=()=>qe(z.footer),Ln=()=>qe(z["timer-progress-bar"]),St=()=>qe(z.close),yt=()=>{const I=tt();if(!I)return[];const S=I.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),F=Array.from(S).sort((_t,un)=>{const Jt=parseInt(_t.getAttribute("tabindex")||"0"),ri=parseInt(un.getAttribute("tabindex")||"0");return Jt>ri?1:Jt<ri?-1:0}),W=I.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),ge=Array.from(W).filter(_t=>"-1"!==_t.getAttribute("tabindex"));return[...new Set(F.concat(ge))].filter(_t=>xn(_t))},On=()=>Un(document.body,z.shown)&&!Un(document.body,z["toast-shown"])&&!Un(document.body,z["no-backdrop"]),Mn=()=>{const I=tt();return!!I&&Un(I,z.toast)},Wt=(I,S)=>{if(I.textContent="",S){const W=(new DOMParser).parseFromString(S,"text/html"),ge=W.querySelector("head");ge&&Array.from(ge.childNodes).forEach(un=>{I.appendChild(un)});const _t=W.querySelector("body");_t&&Array.from(_t.childNodes).forEach(un=>{un instanceof HTMLVideoElement||un instanceof HTMLAudioElement?I.appendChild(un.cloneNode(!0)):I.appendChild(un)})}},Un=(I,S)=>{if(!S)return!1;const F=S.split(/\s+/);for(let W=0;W<F.length;W++)if(!I.classList.contains(F[W]))return!1;return!0},$n=(I,S,F)=>{if(((I,S)=>{Array.from(I.classList).forEach(F=>{!Object.values(z).includes(F)&&!Object.values(Le).includes(F)&&!Object.values(S.showClass||{}).includes(F)&&I.classList.remove(F)})})(I,S),S.customClass&&S.customClass[F]){if("string"!=typeof S.customClass[F]&&!S.customClass[F].forEach)return void Ye("Invalid type of customClass.".concat(F,'! Expected string or iterable object, got "').concat(typeof S.customClass[F],'"'));sn(I,S.customClass[F])}},Zn=(I,S)=>{if(!S)return null;switch(S){case"select":case"textarea":case"file":return I.querySelector(".".concat(z.popup," > .").concat(z[S]));case"checkbox":return I.querySelector(".".concat(z.popup," > .").concat(z.checkbox," input"));case"radio":return I.querySelector(".".concat(z.popup," > .").concat(z.radio," input:checked"))||I.querySelector(".".concat(z.popup," > .").concat(z.radio," input:first-child"));case"range":return I.querySelector(".".concat(z.popup," > .").concat(z.range," input"));default:return I.querySelector(".".concat(z.popup," > .").concat(z.input))}},Xi=I=>{if(I.focus(),"file"!==I.type){const S=I.value;I.value="",I.value=S}},hs=(I,S,F)=>{!I||!S||("string"==typeof S&&(S=S.split(/\s+/).filter(Boolean)),S.forEach(W=>{Array.isArray(I)?I.forEach(ge=>{F?ge.classList.add(W):ge.classList.remove(W)}):F?I.classList.add(W):I.classList.remove(W)}))},sn=(I,S)=>{hs(I,S,!0)},xt=(I,S)=>{hs(I,S,!1)},kt=(I,S)=>{const F=Array.from(I.children);for(let W=0;W<F.length;W++){const ge=F[W];if(ge instanceof HTMLElement&&Un(ge,S))return ge}},Nt=(I,S,F)=>{F==="".concat(parseInt(F))&&(F=parseInt(F)),F||0===parseInt(F)?I.style[S]="number"==typeof F?"".concat(F,"px"):F:I.style.removeProperty(S)},Yt=function(I){I&&(I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},on=I=>{I&&(I.style.display="none")},di=(I,S,F,W)=>{const ge=I.querySelector(S);ge&&(ge.style[F]=W)},wn=function(I,S){S?Yt(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):on(I)},xn=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),mn=I=>I.scrollHeight>I.clientHeight,Vi=I=>{const S=window.getComputedStyle(I),F=parseFloat(S.getPropertyValue("animation-duration")||"0"),W=parseFloat(S.getPropertyValue("transition-duration")||"0");return F>0||W>0},pn=function(I){let S=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const F=Ln();F&&xn(F)&&(S&&(F.style.transition="none",F.style.width="100%"),setTimeout(()=>{F.style.transition="width ".concat(I/1e3,"s linear"),F.style.width="0%"},10))},fs=()=>typeof window>"u"||typeof document>"u",Gs='\n <div aria-labelledby="'.concat(z.title,'" aria-describedby="').concat(z["html-container"],'" class="').concat(z.popup,'" tabindex="-1">\n   <button type="button" class="').concat(z.close,'"></button>\n   <ul class="').concat(z["progress-steps"],'"></ul>\n   <div class="').concat(z.icon,'"></div>\n   <img class="').concat(z.image,'" />\n   <h2 class="').concat(z.title,'" id="').concat(z.title,'"></h2>\n   <div class="').concat(z["html-container"],'" id="').concat(z["html-container"],'"></div>\n   <input class="').concat(z.input,'" id="').concat(z.input,'" />\n   <input type="file" class="').concat(z.file,'" />\n   <div class="').concat(z.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(z.select,'" id="').concat(z.select,'"></select>\n   <div class="').concat(z.radio,'"></div>\n   <label class="').concat(z.checkbox,'">\n     <input type="checkbox" id="').concat(z.checkbox,'" />\n     <span class="').concat(z.label,'"></span>\n   </label>\n   <textarea class="').concat(z.textarea,'" id="').concat(z.textarea,'"></textarea>\n   <div class="').concat(z["validation-message"],'" id="').concat(z["validation-message"],'"></div>\n   <div class="').concat(z.actions,'">\n     <div class="').concat(z.loader,'"></div>\n     <button type="button" class="').concat(z.confirm,'"></button>\n     <button type="button" class="').concat(z.deny,'"></button>\n     <button type="button" class="').concat(z.cancel,'"></button>\n   </div>\n   <div class="').concat(z.footer,'"></div>\n   <div class="').concat(z["timer-progress-bar-container"],'">\n     <div class="').concat(z["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),er=()=>{he.currentInstance.resetValidationMessage()},at=I=>{const S=(()=>{const I=fe();return!!I&&(I.remove(),xt([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0)})();if(fs())return void Be("SweetAlert2 requires document to initialize");const F=document.createElement("div");F.className=z.container,S&&sn(F,z["no-transition"]),Wt(F,Gs);const W=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);W.appendChild(F),(I=>{const S=tt();S.setAttribute("role",I.toast?"alert":"dialog"),S.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||S.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&sn(fe(),z.rtl)})(W),(()=>{const I=tt(),S=kt(I,z.input),F=kt(I,z.file),W=I.querySelector(".".concat(z.range," input")),ge=I.querySelector(".".concat(z.range," output")),_t=kt(I,z.select),un=I.querySelector(".".concat(z.checkbox," input")),Jt=kt(I,z.textarea);S.oninput=er,F.onchange=er,_t.onchange=er,un.onchange=er,Jt.oninput=er,W.oninput=()=>{er(),ge.value=W.value},W.onchange=()=>{er(),ge.value=W.value}})()},Tt=(I,S)=>{I instanceof HTMLElement?S.appendChild(I):"object"==typeof I?En(I,S):I&&Wt(S,I)},En=(I,S)=>{I.jquery?K(S,I):Wt(S,I.toString())},K=(I,S)=>{if(I.textContent="",0 in S)for(let F=0;F in S;F++)I.appendChild(S[F].cloneNode(!0));else I.appendChild(S.cloneNode(!0))},Y=(()=>{if(fs())return!1;const I=document.createElement("div");return typeof I.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof I.style.animation<"u"&&"animationend"})(),ie=(I,S)=>{const F=st(),W=Ne();!F||!W||(S.showConfirmButton||S.showDenyButton||S.showCancelButton?Yt(F):on(F),$n(F,S,"actions"),function Fe(I,S,F){const W=be(),ge=Ie(),_t=xe();!W||!ge||!_t||(ut(W,"confirm",F),ut(ge,"deny",F),ut(_t,"cancel",F),function ye(I,S,F,W){W.buttonsStyling?(sn([I,S,F],z.styled),W.confirmButtonColor&&(I.style.backgroundColor=W.confirmButtonColor,sn(I,z["default-outline"])),W.denyButtonColor&&(S.style.backgroundColor=W.denyButtonColor,sn(S,z["default-outline"])),W.cancelButtonColor&&(F.style.backgroundColor=W.cancelButtonColor,sn(F,z["default-outline"]))):xt([I,S,F],z.styled)}(W,ge,_t,F),F.reverseButtons&&(F.toast?(I.insertBefore(_t,W),I.insertBefore(ge,W)):(I.insertBefore(_t,S),I.insertBefore(ge,S),I.insertBefore(W,S))))}(F,W,S),Wt(W,S.loaderHtml||""),$n(W,S,"loader"))};function ut(I,S,F){const W=He(S);wn(I,F["show".concat(W,"Button")],"inline-block"),Wt(I,F["".concat(S,"ButtonText")]||""),I.setAttribute("aria-label",F["".concat(S,"ButtonAriaLabel")]||""),I.className=z[S],$n(I,F,"".concat(S,"Button"))}const Ut=(I,S)=>{const F=fe();F&&(function tr(I,S){"string"==typeof S?I.style.background=S:S||sn([document.documentElement,document.body],z["no-backdrop"])}(F,S.backdrop),function Kt(I,S){S&&(S in z?sn(I,z[S]):(Ye('The "position" parameter is not valid, defaulting to "center"'),sn(I,z.center)))}(F,S.position),function vi(I,S){S&&sn(I,z["grow-".concat(S)])}(F,S.grow),$n(F,S,"container"))};var At={innerParams:new WeakMap,domCache:new WeakMap};const Ui=["input","file","range","select","radio","checkbox","textarea"],Ia=I=>{if(!I.input)return;if(!Ii[I.input])return void Be('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(I.input,'"'));const S=cn(I.input),F=Ii[I.input](S,I);Yt(S),I.inputAutoFocus&&setTimeout(()=>{Xi(F)})},Is=(I,S)=>{const F=Zn(tt(),I);if(F){(I=>{for(let S=0;S<I.attributes.length;S++){const F=I.attributes[S].name;["id","type","value","style"].includes(F)||I.removeAttribute(F)}})(F);for(const W in S)F.setAttribute(W,S[W])}},_o=I=>{const S=cn(I.input);"object"==typeof I.customClass&&sn(S,I.customClass.input)},Gr=(I,S)=>{(!I.placeholder||S.inputPlaceholder)&&(I.placeholder=S.inputPlaceholder)},pr=(I,S,F)=>{if(F.inputLabel){const W=document.createElement("label"),ge=z["input-label"];W.setAttribute("for",I.id),W.className=ge,"object"==typeof F.customClass&&sn(W,F.customClass.inputLabel),W.innerText=F.inputLabel,S.insertAdjacentElement("beforebegin",W)}},cn=I=>kt(tt(),z[I]||z.input),ms=(I,S)=>{["string","number"].includes(typeof S)?I.value="".concat(S):je(S)||Ye('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof S,'"'))},Ii={};Ii.text=Ii.email=Ii.password=Ii.number=Ii.tel=Ii.url=(I,S)=>(ms(I,S.inputValue),pr(I,I,S),Gr(I,S),I.type=S.input,I),Ii.file=(I,S)=>(pr(I,I,S),Gr(I,S),I),Ii.range=(I,S)=>{const F=I.querySelector("input"),W=I.querySelector("output");return ms(F,S.inputValue),F.type=S.input,ms(W,S.inputValue),pr(F,I,S),I},Ii.select=(I,S)=>{if(I.textContent="",S.inputPlaceholder){const F=document.createElement("option");Wt(F,S.inputPlaceholder),F.value="",F.disabled=!0,F.selected=!0,I.appendChild(F)}return pr(I,I,S),I},Ii.radio=I=>(I.textContent="",I),Ii.checkbox=(I,S)=>{const F=Zn(tt(),"checkbox");F.value="1",F.checked=!!S.inputValue;const W=I.querySelector("span");return Wt(W,S.inputPlaceholder),F},Ii.textarea=(I,S)=>{ms(I,S.inputValue),Gr(I,S),pr(I,I,S);return setTimeout(()=>{if("MutationObserver"in window){const W=parseInt(window.getComputedStyle(tt()).width);new MutationObserver(()=>{if(!document.body.contains(I))return;const _t=I.offsetWidth+(W=>parseInt(window.getComputedStyle(W).marginLeft)+parseInt(window.getComputedStyle(W).marginRight))(I);_t>W?tt().style.width="".concat(_t,"px"):Nt(tt(),"width",S.width)}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const Ka=(I,S)=>{const F=Kn();F&&($n(F,S,"htmlContainer"),S.html?(Tt(S.html,F),Yt(F,"block")):S.text?(F.textContent=S.text,Yt(F,"block")):on(F),((I,S)=>{const F=tt();if(!F)return;const W=At.innerParams.get(I),ge=!W||S.input!==W.input;Ui.forEach(_t=>{const un=kt(F,z[_t]);un&&(Is(_t,S.inputAttributes),un.className=z[_t],ge&&on(un))}),S.input&&(ge&&Ia(S),_o(S))})(I,S))},jo=(I,S)=>{for(const[F,W]of Object.entries(Le))S.icon!==F&&xt(I,W);sn(I,S.icon&&Le[S.icon]),Xr(I,S),Da(),$n(I,S,"icon")},Da=()=>{const I=tt();if(!I)return;const S=window.getComputedStyle(I).getPropertyValue("background-color"),F=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let W=0;W<F.length;W++)F[W].style.backgroundColor=S},Hl=(I,S)=>{if(!S.icon&&!S.iconHtml)return;let F=I.innerHTML,W="";S.iconHtml?W=yo(S.iconHtml):"success"===S.icon?(W='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',F=F.replace(/ style=".*?"/g,"")):"error"===S.icon?W='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':S.icon&&(W=yo({question:"?",warning:"!",info:"i"}[S.icon])),F.trim()!==W.trim()&&Wt(I,W)},Xr=(I,S)=>{if(S.iconColor){I.style.color=S.iconColor,I.style.borderColor=S.iconColor;for(const F of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])di(I,F,"backgroundColor",S.iconColor);di(I,".swal2-success-ring","borderColor",S.iconColor)}},yo=I=>'<div class="'.concat(z["icon-content"],'">').concat(I,"</div>"),yi=(I,S)=>{const F=S.showClass||{};I.className="".concat(z.popup," ").concat(xn(I)?F.popup:""),S.toast?(sn([document.documentElement,document.body],z["toast-shown"]),sn(I,z.toast)):sn(I,z.modal),$n(I,S,"popup"),"string"==typeof S.customClass&&sn(I,S.customClass),S.icon&&sn(I,z["icon-".concat(S.icon)])},Rf=I=>{const S=document.createElement("li");return sn(S,z["progress-step"]),Wt(S,I),S},sh=I=>{const S=document.createElement("li");return sn(S,z["progress-step-line"]),I.progressStepsDistance&&Nt(S,"width",I.progressStepsDistance),S},bo=(I,S)=>{((I,S)=>{const F=fe(),W=tt();if(F&&W){if(S.toast){Nt(F,"width",S.width),W.style.width="100%";const ge=Ne();ge&&W.insertBefore(ge,fn())}else Nt(W,"width",S.width);Nt(W,"padding",S.padding),S.color&&(W.style.color=S.color),S.background&&(W.style.background=S.background),on(pe()),yi(W,S)}})(0,S),Ut(0,S),((I,S)=>{const F=_i();if(!F)return;const{progressSteps:W,currentProgressStep:ge}=S;W&&0!==W.length&&void 0!==ge?(Yt(F),F.textContent="",ge>=W.length&&Ye("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),W.forEach((_t,un)=>{const Jt=Rf(_t);if(F.appendChild(Jt),un===ge&&sn(Jt,z["active-progress-step"]),un!==W.length-1){const ri=sh(S);F.appendChild(ri)}})):on(F)})(0,S),((I,S)=>{const F=At.innerParams.get(I),W=fn();if(W){if(F&&S.icon===F.icon)return Hl(W,S),void jo(W,S);if(!S.icon&&!S.iconHtml)return void on(W);if(S.icon&&-1===Object.keys(Le).indexOf(S.icon))return Be('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(S.icon,'"')),void on(W);Yt(W),Hl(W,S),jo(W,S),sn(W,S.showClass&&S.showClass.icon)}})(I,S),((I,S)=>{const F=Gn();if(F){if(!S.imageUrl)return void on(F);Yt(F,""),F.setAttribute("src",S.imageUrl),F.setAttribute("alt",S.imageAlt||""),Nt(F,"width",S.imageWidth),Nt(F,"height",S.imageHeight),F.className=z.image,$n(F,S,"image")}})(0,S),((I,S)=>{const F=Nn();F&&(wn(F,S.title||S.titleText,"block"),S.title&&Tt(S.title,F),S.titleText&&(F.innerText=S.titleText),$n(F,S,"title"))})(0,S),((I,S)=>{const F=St();F&&(Wt(F,S.closeButtonHtml||""),$n(F,S,"closeButton"),wn(F,S.showCloseButton),F.setAttribute("aria-label",S.closeButtonAriaLabel||""))})(0,S),Ka(I,S),ie(0,S),((I,S)=>{const F=nt();F&&(wn(F,S.footer,"block"),S.footer&&Tt(S.footer,F),$n(F,S,"footer"))})(0,S);const F=tt();"function"==typeof S.didRender&&F&&S.didRender(F)},Nc=()=>{var I;return null===(I=be())||void 0===I?void 0:I.click()},Go=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),$s=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},zl=(I,S)=>{var F;const W=yt();if(W.length)return(I+=S)===W.length?I=0:-1===I&&(I=W.length-1),void W[I].focus();null===(F=tt())||void 0===F||F.focus()},$r=["ArrowRight","ArrowDown"],Gl=["ArrowLeft","ArrowUp"],nr=(I,S,F)=>{I&&(S.isComposing||229===S.keyCode||(I.stopKeydownPropagation&&S.stopPropagation(),"Enter"===S.key?Lc(S,I):"Tab"===S.key?$l(S):[...$r,...Gl].includes(S.key)?Sa(S.key):"Escape"===S.key&&Ld(S,I,F)))},Lc=(I,S)=>{if(!Te(S.allowEnterKey))return;const F=Zn(tt(),S.input);if(I.target&&F&&I.target instanceof HTMLElement&&I.target.outerHTML===F.outerHTML){if(["textarea","file"].includes(S.input))return;Nc(),I.preventDefault()}},$l=I=>{const S=I.target,F=yt();let W=-1;for(let ge=0;ge<F.length;ge++)if(S===F[ge]){W=ge;break}zl(W,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},Sa=I=>{const S=st(),F=be(),W=Ie(),ge=xe();if(!(S&&F&&W&&ge))return;if(document.activeElement instanceof HTMLElement&&![F,W,ge].includes(document.activeElement))return;const un=$r.includes(I)?"nextElementSibling":"previousElementSibling";let Jt=document.activeElement;if(Jt){for(let ri=0;ri<S.children.length;ri++){if(Jt=Jt[un],!Jt)return;if(Jt instanceof HTMLButtonElement&&xn(Jt))break}Jt instanceof HTMLButtonElement&&Jt.focus()}},Ld=(I,S,F)=>{Te(S.allowEscapeKey)&&(I.preventDefault(),F(Go.esc))};var wo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ql=()=>{Array.from(document.body.children).forEach(S=>{S.hasAttribute("data-previous-aria-hidden")?(S.setAttribute("aria-hidden",S.getAttribute("data-previous-aria-hidden")||""),S.removeAttribute("data-previous-aria-hidden")):S.removeAttribute("aria-hidden")})},dn=typeof window<"u"&&!!window.GestureEvent,gr=()=>{const I=fe();if(!I)return;let S;I.ontouchstart=F=>{S=xo(F)},I.ontouchmove=F=>{S&&(F.preventDefault(),F.stopPropagation())}},xo=I=>{const S=I.target,F=fe(),W=Kn();return!(!F||!W||_r(I)||Bc(I)||S!==F&&(mn(F)||!(S instanceof HTMLElement)||"INPUT"===S.tagName||"TEXTAREA"===S.tagName||mn(W)&&W.contains(S)))},_r=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Bc=I=>I.touches&&I.touches.length>1;let qs=null;const Jr=I=>{null===qs&&(document.body.scrollHeight>window.innerHeight||"scroll"===I)&&(qs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(qs+(()=>{const I=document.createElement("div");I.className=z["scrollbar-measure"],document.body.appendChild(I);const S=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),S})(),"px"))};function ct(I,S,F,W){Mn()?$o(I,W):(we(F).then(()=>$o(I,W)),$s(he)),dn?(S.setAttribute("style","display:none !important"),S.removeAttribute("class"),S.innerHTML=""):S.remove(),On()&&(null!==qs&&(document.body.style.paddingRight="".concat(qs,"px"),qs=null),(()=>{if(Un(document.body,z.iosfix)){const I=parseInt(document.body.style.top,10);xt(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}})(),ql()),function Pt(){xt([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}()}function Dn(I){I=Ja(I);const S=wo.swalPromiseResolve.get(this),F=vr(this);this.isAwaitingPromise?I.isDismissed||(hi(this),S(I)):F&&S(I)}const vr=I=>{const S=tt();if(!S)return!1;const F=At.innerParams.get(I);if(!F||Un(S,F.hideClass.popup))return!1;xt(S,F.showClass.popup),sn(S,F.hideClass.popup);const W=fe();return xt(W,F.showClass.backdrop),sn(W,F.hideClass.backdrop),_n(I,S,F),!0};function Co(I){const S=wo.swalPromiseReject.get(this);hi(this),S&&S(I)}const hi=I=>{I.isAwaitingPromise&&(delete I.isAwaitingPromise,At.innerParams.get(I)||I._destroy())},Ja=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),_n=(I,S,F)=>{const W=fe(),ge=Y&&Vi(S);"function"==typeof F.willClose&&F.willClose(S),ge?Ws(I,S,W,F.returnFocus,F.didClose):ct(I,W,F.returnFocus,F.didClose)},Ws=(I,S,F,W,ge)=>{Y&&(he.swalCloseEventFinishedCallback=ct.bind(null,I,F,W,ge),S.addEventListener(Y,function(_t){_t.target===S&&(he.swalCloseEventFinishedCallback(),delete he.swalCloseEventFinishedCallback)}))},$o=(I,S)=>{setTimeout(()=>{"function"==typeof S&&S.bind(I.params)(),I._destroy&&I._destroy()})},Mt=I=>{let S=tt();if(S||new ko,S=tt(),!S)return;const F=Ne();Mn()?on(fn()):Hi(S,I),Yt(F),S.setAttribute("data-loading","true"),S.setAttribute("aria-busy","true"),S.focus()},Hi=(I,S)=>{const F=st(),W=Ne();!F||!W||(!S&&xn(be())&&(S=be()),Yt(F),S&&(on(S),W.setAttribute("data-button-to-replace",S.className),F.insertBefore(W,S)),sn([I,F],z.loading))},Xn=I=>I.checked?1:0,Vc=I=>I.checked?I.value:null,qo=I=>I.files&&I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,Ri=(I,S)=>{const F=tt();if(!F)return;const W=ge=>{"select"===S.input?function Ks(I,S,F){const W=kt(I,z.select);if(!W)return;const ge=(_t,un,Jt)=>{const ri=document.createElement("option");ri.value=Jt,Wt(ri,un),ri.selected=Aa(Jt,F.inputValue),_t.appendChild(ri)};S.forEach(_t=>{const un=_t[0],Jt=_t[1];if(Array.isArray(Jt)){const ri=document.createElement("optgroup");ri.label=un,ri.disabled=!1,W.appendChild(ri),Jt.forEach(Mo=>ge(ri,Mo[1],Mo[0]))}else ge(W,Jt,un)}),W.focus()}(F,br(ge),S):"radio"===S.input&&function Io(I,S,F){const W=kt(I,z.radio);if(!W)return;S.forEach(_t=>{const un=_t[0],Jt=_t[1],ri=document.createElement("input"),Mo=document.createElement("label");ri.type="radio",ri.name=z.radio,ri.value=un,Aa(un,F.inputValue)&&(ri.checked=!0);const Zs=document.createElement("span");Wt(Zs,Jt),Zs.className=z.label,Mo.appendChild(ri),Mo.appendChild(Zs),W.appendChild(Mo)});const ge=W.querySelectorAll("input");ge.length&&ge[0].focus()}(F,br(ge),S)};ue(S.inputOptions)||je(S.inputOptions)?(Mt(be()),Me(S.inputOptions).then(ge=>{I.hideLoading(),W(ge)})):"object"==typeof S.inputOptions?W(S.inputOptions):Be("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof S.inputOptions))},Ys=(I,S)=>{const F=I.getInput();F&&(on(F),Me(S.inputValue).then(W=>{F.value="".concat("number"===S.input?parseFloat(W)||0:W),Yt(F),F.focus(),I.hideLoading()}).catch(W=>{Be("Error in inputValue promise: ".concat(W)),F.value="",Yt(F),F.focus(),I.hideLoading()}))};const br=I=>{const S=[];return I instanceof Map?I.forEach((F,W)=>{let ge=F;"object"==typeof ge&&(ge=br(ge)),S.push([W,ge])}):Object.keys(I).forEach(F=>{let W=I[F];"object"==typeof W&&(W=br(W)),S.push([F,W])}),S},Aa=(I,S)=>!!S&&S.toString()===I.toString(),Wo=(I,S)=>{const F=At.innerParams.get(I);if(!F.input)return void Be('The "input" parameter is needed to be set when using returnInputValueOn'.concat(He(S)));const W=I.getInput(),ge=((I,S)=>{const F=I.getInput();if(!F)return null;switch(S.input){case"checkbox":return Xn(F);case"radio":return Vc(F);case"file":return qo(F);default:return S.inputAutoTrim?F.value.trim():F.value}})(I,F);F.inputValidator?Wl(I,ge,S):W&&!W.checkValidity()?(I.enableButtons(),I.showValidationMessage(F.validationMessage)):"deny"===S?bi(I,ge):Ss(I,ge)},Wl=(I,S,F)=>{const W=At.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>Me(W.inputValidator(S,W.validationMessage))).then(_t=>{I.enableButtons(),I.enableInput(),_t?I.showValidationMessage(_t):"deny"===F?bi(I,S):Ss(I,S)})},bi=(I,S)=>{const F=At.innerParams.get(I||void 0);F.showLoaderOnDeny&&Mt(Ie()),F.preDeny?(I.isAwaitingPromise=!0,Promise.resolve().then(()=>Me(F.preDeny(S,F.validationMessage))).then(ge=>{!1===ge?(I.hideLoading(),hi(I)):I.close({isDenied:!0,value:typeof ge>"u"?S:ge})}).catch(ge=>Di(I||void 0,ge))):I.close({isDenied:!0,value:S})},So=(I,S)=>{I.close({isConfirmed:!0,value:S})},Di=(I,S)=>{I.rejectPromise(S)},Ss=(I,S)=>{const F=At.innerParams.get(I||void 0);F.showLoaderOnConfirm&&Mt(),F.preConfirm?(I.resetValidationMessage(),I.isAwaitingPromise=!0,Promise.resolve().then(()=>Me(F.preConfirm(S,F.validationMessage))).then(ge=>{xn(pe())||!1===ge?(I.hideLoading(),hi(I)):So(I,typeof ge>"u"?S:ge)}).catch(ge=>Di(I||void 0,ge))):So(I,S)};function wi(){const I=At.innerParams.get(this);if(!I)return;const S=At.domCache.get(this);on(S.loader),Mn()?I.icon&&Yt(fn()):ah(S),xt([S.popup,S.actions],z.loading),S.popup.removeAttribute("aria-busy"),S.popup.removeAttribute("data-loading"),S.confirmButton.disabled=!1,S.denyButton.disabled=!1,S.cancelButton.disabled=!1}const ah=I=>{const S=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));S.length?Yt(S[0],"inline-block"):!xn(be())&&!xn(Ie())&&!xn(xe())&&on(I.actions)};function Si(){const I=At.innerParams.get(this),S=At.domCache.get(this);return S?Zn(S.popup,I.input):null}function ji(I,S,F){const W=At.domCache.get(I);S.forEach(ge=>{W[ge].disabled=F})}function el(I,S){const F=tt();if(F&&I)if("radio"===I.type){const W=F.querySelectorAll('[name="'.concat(z.radio,'"]'));for(let ge=0;ge<W.length;ge++)W[ge].disabled=S}else I.disabled=S}function To(){ji(this,["confirmButton","denyButton","cancelButton"],!1)}function Nr(){ji(this,["confirmButton","denyButton","cancelButton"],!0)}function wr(){el(this.getInput(),!1)}function Yo(){el(this.getInput(),!0)}function Ko(I){const S=At.domCache.get(this),F=At.innerParams.get(this);Wt(S.validationMessage,I),S.validationMessage.className=z["validation-message"],F.customClass&&F.customClass.validationMessage&&sn(S.validationMessage,F.customClass.validationMessage),Yt(S.validationMessage);const W=this.getInput();W&&(W.setAttribute("aria-invalid","true"),W.setAttribute("aria-describedby",z["validation-message"]),Xi(W),sn(W,z.inputerror))}function Yl(){const I=At.domCache.get(this);I.validationMessage&&on(I.validationMessage);const S=this.getInput();S&&(S.removeAttribute("aria-invalid"),S.removeAttribute("aria-describedby"),xt(S,z.inputerror))}const tl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Kl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Uc={},Bd=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Zl=I=>Object.prototype.hasOwnProperty.call(tl,I),Hc=I=>-1!==Kl.indexOf(I),lh=I=>Uc[I],Jn=I=>{Zl(I)||Ye('Unknown parameter "'.concat(I,'"'))},Ff=I=>{Bd.includes(I)&&Ye('The parameter "'.concat(I,'" is incompatible with toasts'))},ch=I=>{const S=lh(I);S&&_e(I,S)};function Vd(I){const S=tt(),F=At.innerParams.get(this);if(!S||Un(S,F.hideClass.popup))return void Ye("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const W=Ud(I),ge=Object.assign({},F,W);bo(this,ge),At.innerParams.set(this,ge),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}const Ud=I=>{const S={};return Object.keys(I).forEach(F=>{Hc(F)?S[F]=I[F]:Ye("Invalid parameter to update: ".concat(F))}),S};function Ts(){const I=At.domCache.get(this),S=At.innerParams.get(this);S?(I.popup&&he.swalCloseEventFinishedCallback&&(he.swalCloseEventFinishedCallback(),delete he.swalCloseEventFinishedCallback),"function"==typeof S.didDestroy&&S.didDestroy(),jc(this)):Zo(this)}const jc=I=>{Zo(I),delete I.params,delete he.keydownHandler,delete he.keydownTarget,delete he.currentInstance},Zo=I=>{I.isAwaitingPromise?(nl(At,I),I.isAwaitingPromise=!0):(nl(wo,I),nl(At,I),delete I.isAwaitingPromise,delete I.disableButtons,delete I.enableButtons,delete I.getInput,delete I.disableInput,delete I.enableInput,delete I.hideLoading,delete I.disableLoading,delete I.showValidationMessage,delete I.resetValidationMessage,delete I.close,delete I.closePopup,delete I.closeModal,delete I.closeToast,delete I.rejectPromise,delete I.update,delete I._destroy)},nl=(I,S)=>{for(const F in I)I[F].delete(S)};var il=Object.freeze({__proto__:null,_destroy:Ts,close:Dn,closeModal:Dn,closePopup:Dn,closeToast:Dn,disableButtons:Nr,disableInput:Yo,disableLoading:wi,enableButtons:To,enableInput:wr,getInput:Si,handleAwaitingPromise:hi,hideLoading:wi,rejectPromise:Co,resetValidationMessage:Yl,showValidationMessage:Ko,update:Vd});const rl=(I,S,F)=>{S.popup.onclick=()=>{I&&(Qo(I)||I.timer||I.input)||F(Go.close)}},Qo=I=>!!(I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton);let qr=!1;const Hd=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(S){I.container.onmouseup=()=>{},S.target===I.container&&(qr=!0)}}},es=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(S){I.popup.onmouseup=()=>{},(S.target===I.popup||S.target instanceof HTMLElement&&I.popup.contains(S.target))&&(qr=!0)}}},Ti=(I,S,F)=>{S.container.onclick=W=>{qr?qr=!1:W.target===S.container&&Te(I.allowOutsideClick)&&F(Go.backdrop)}},xr=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const ea=()=>{if(he.timeout)return(()=>{const I=Ln();if(!I)return;const S=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const F=parseInt(window.getComputedStyle(I).width);I.style.width="".concat(S/F*100,"%")})(),he.timeout.stop()},ka=()=>{if(he.timeout){const I=he.timeout.start();return pn(I),I}};let Ql=!1;const ol={};const ta=I=>{for(let S=I.target;S&&S!==document;S=S.parentNode)for(const F in ol){const W=S.getAttribute(F);if(W)return void ol[F].fire({template:W})}};var Ao=Object.freeze({__proto__:null,argsToParams:I=>{const S={};return"object"!=typeof I[0]||xr(I[0])?["title","html","icon"].forEach((F,W)=>{const ge=I[W];"string"==typeof ge||xr(ge)?S[F]=ge:void 0!==ge&&Be("Unexpected type of ".concat(F,'! Expected "string" or "Element", got ').concat(typeof ge))}):Object.assign(S,I[0]),S},bindClickHandler:function al(){ol[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ql||(document.body.addEventListener("click",ta),Ql=!0)},clickCancel:()=>{var I;return null===(I=xe())||void 0===I?void 0:I.click()},clickConfirm:Nc,clickDeny:()=>{var I;return null===(I=Ie())||void 0===I?void 0:I.click()},enableLoading:Mt,fire:function zc(){for(var S=arguments.length,F=new Array(S),W=0;W<S;W++)F[W]=arguments[W];return new this(...F)},getActions:st,getCancelButton:xe,getCloseButton:St,getConfirmButton:be,getContainer:fe,getDenyButton:Ie,getFocusableElements:yt,getFooter:nt,getHtmlContainer:Kn,getIcon:fn,getIconContent:()=>qe(z["icon-content"]),getImage:Gn,getInputLabel:()=>qe(z["input-label"]),getLoader:Ne,getPopup:tt,getProgressSteps:_i,getTimerLeft:()=>he.timeout&&he.timeout.getTimerLeft(),getTimerProgressBar:Ln,getTitle:Nn,getValidationMessage:pe,increaseTimer:I=>{if(he.timeout){const S=he.timeout.increase(I);return pn(S,!0),S}},isDeprecatedParameter:lh,isLoading:()=>{const I=tt();return!!I&&I.hasAttribute("data-loading")},isTimerRunning:()=>!(!he.timeout||!he.timeout.isRunning()),isUpdatableParameter:Hc,isValidParameter:Zl,isVisible:()=>xn(tt()),mixin:function sl(I){return class S extends(this){_main(W,ge){return super._main(W,Object.assign({},I,ge))}}},resumeTimer:ka,showLoading:Mt,stopTimer:ea,toggleTimer:()=>{const I=he.timeout;return I&&(I.running?ea():ka())}});class ll{constructor(S,F){this.callback=S,this.remaining=F,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(S){const F=this.running;return F&&this.stop(),this.remaining+=S,F&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const $c=["swal-title","swal-html","swal-footer"],Nf=I=>{const S={};return Array.from(I.querySelectorAll("swal-param")).forEach(W=>{Ra(W,["name","value"]);const ge=W.getAttribute("name"),_t=W.getAttribute("value");S[ge]="boolean"==typeof tl[ge]?"false"!==_t:"object"==typeof tl[ge]?JSON.parse(_t):_t}),S},Gd=I=>{const S={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(W=>{const ge=W.getAttribute("name"),_t=W.getAttribute("value");S[ge]=new Function("return ".concat(_t))()}),S},Lf=I=>{const S={};return Array.from(I.querySelectorAll("swal-button")).forEach(W=>{Ra(W,["type","color","aria-label"]);const ge=W.getAttribute("type");S["".concat(ge,"ButtonText")]=W.innerHTML,S["show".concat(He(ge),"Button")]=!0,W.hasAttribute("color")&&(S["".concat(ge,"ButtonColor")]=W.getAttribute("color")),W.hasAttribute("aria-label")&&(S["".concat(ge,"ButtonAriaLabel")]=W.getAttribute("aria-label"))}),S},qc=I=>{const S={},F=I.querySelector("swal-image");return F&&(Ra(F,["src","width","height","alt"]),F.hasAttribute("src")&&(S.imageUrl=F.getAttribute("src")),F.hasAttribute("width")&&(S.imageWidth=F.getAttribute("width")),F.hasAttribute("height")&&(S.imageHeight=F.getAttribute("height")),F.hasAttribute("alt")&&(S.imageAlt=F.getAttribute("alt"))),S},$d=I=>{const S={},F=I.querySelector("swal-icon");return F&&(Ra(F,["type","color"]),F.hasAttribute("type")&&(S.icon=F.getAttribute("type")),F.hasAttribute("color")&&(S.iconColor=F.getAttribute("color")),S.iconHtml=F.innerHTML),S},Jl=I=>{const S={},F=I.querySelector("swal-input");F&&(Ra(F,["type","label","placeholder","value"]),S.input=F.getAttribute("type")||"text",F.hasAttribute("label")&&(S.inputLabel=F.getAttribute("label")),F.hasAttribute("placeholder")&&(S.inputPlaceholder=F.getAttribute("placeholder")),F.hasAttribute("value")&&(S.inputValue=F.getAttribute("value")));const W=Array.from(I.querySelectorAll("swal-input-option"));return W.length&&(S.inputOptions={},W.forEach(ge=>{Ra(ge,["value"]);const _t=ge.getAttribute("value");S.inputOptions[_t]=ge.innerHTML})),S},dh=(I,S)=>{const F={};for(const W in S){const ge=S[W],_t=I.querySelector(ge);_t&&(Ra(_t,[]),F[ge.replace(/^swal-/,"")]=_t.innerHTML.trim())}return F},Ma=I=>{const S=$c.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(F=>{const W=F.tagName.toLowerCase();S.includes(W)||Ye("Unrecognized element <".concat(W,">"))})},Ra=(I,S)=>{Array.from(I.attributes).forEach(F=>{-1===S.indexOf(F.name)&&Ye(['Unrecognized attribute "'.concat(F.name,'" on <').concat(I.tagName.toLowerCase(),">."),"".concat(S.length?"Allowed attributes are: ".concat(S.join(", ")):"To set the value, use HTML within the element.")])})},cl=I=>{const S=fe(),F=tt();"function"==typeof I.willOpen&&I.willOpen(F);const ge=window.getComputedStyle(document.body).overflowY;dl(S,F,I),setTimeout(()=>{qd(S,F)},10),On()&&(tc(S,I.scrollbarPadding,ge),Array.from(document.body.children).forEach(S=>{S===fe()||S.contains(fe())||(S.hasAttribute("aria-hidden")&&S.setAttribute("data-previous-aria-hidden",S.getAttribute("aria-hidden")||""),S.setAttribute("aria-hidden","true"))})),!Mn()&&!he.previousActiveElement&&(he.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(F)),xt(S,z["no-transition"])},ec=I=>{const S=tt();if(I.target!==S||!Y)return;const F=fe();S.removeEventListener(Y,ec),F.style.overflowY="auto"},qd=(I,S)=>{Y&&Vi(S)?(I.style.overflowY="hidden",S.addEventListener(Y,ec)):I.style.overflowY="auto"},tc=(I,S,F)=>{(()=>{if(dn&&!Un(document.body,z.iosfix)){const I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),sn(document.body,z.iosfix),gr()}})(),S&&"hidden"!==F&&Jr(F),setTimeout(()=>{I.scrollTop=0})},dl=(I,S,F)=>{sn(I,F.showClass.backdrop),S.style.setProperty("opacity","0","important"),Yt(S,"grid"),setTimeout(()=>{sn(S,F.showClass.popup),S.style.removeProperty("opacity")},10),sn([document.documentElement,document.body],z.shown),F.heightAuto&&F.backdrop&&!F.toast&&sn([document.documentElement,document.body],z["height-auto"])};var Wd={email:(I,S)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(S||"Invalid email address"),url:(I,S)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(S||"Invalid URL")};function Yc(I){(function Wc(I){I.inputValidator||("email"===I.input&&(I.inputValidator=Wd.email),"url"===I.input&&(I.inputValidator=Wd.url))})(I),I.showLoaderOnConfirm&&!I.preConfirm&&Ye("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Bf(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(Ye('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),at(I)}let As;var Oa=new WeakMap;class fi{constructor(){if(me(this,Oa,{writable:!0,value:void 0}),typeof window>"u")return;As=this;for(var S=arguments.length,F=new Array(S),W=0;W<S;W++)F[W]=arguments[W];const ge=Object.freeze(this.constructor.argsToParams(F));this.params=ge,this.isAwaitingPromise=!1,V(this,Oa,this._main(As.params))}_main(S){let F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&Ye('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const S in I)Jn(S),I.toast&&Ff(S),ch(S)})(Object.assign({},F,S)),he.currentInstance&&(he.currentInstance._destroy(),On()&&ql()),he.currentInstance=As;const W=ul(S,F);Yc(W),Object.freeze(W),he.timeout&&(he.timeout.stop(),delete he.timeout),clearTimeout(he.restoreFocusTimeout);const ge=uh(As);return bo(As,W),At.innerParams.set(As,W),nc(As,ge,W)}then(S){return ke(this,Oa).then(S)}finally(S){return ke(this,Oa).finally(S)}}const nc=(I,S,F)=>new Promise((W,ge)=>{const _t=un=>{I.close({isDismissed:!0,dismiss:un})};wo.swalPromiseResolve.set(I,W),wo.swalPromiseReject.set(I,ge),S.confirmButton.onclick=()=>{(I=>{const S=At.innerParams.get(I);I.disableButtons(),S.input?Wo(I,"confirm"):Ss(I,!0)})(I)},S.denyButton.onclick=()=>{(I=>{const S=At.innerParams.get(I);I.disableButtons(),S.returnInputValueOnDeny?Wo(I,"deny"):bi(I,!1)})(I)},S.cancelButton.onclick=()=>{((I,S)=>{I.disableButtons(),S(Go.cancel)})(I,_t)},S.closeButton.onclick=()=>{_t(Go.close)},((I,S,F)=>{I.toast?rl(I,S,F):(Hd(S),es(S),Ti(I,S,F))})(F,S,_t),((I,S,F)=>{$s(I),S.toast||(I.keydownHandler=W=>nr(S,W,F),I.keydownTarget=S.keydownListenerCapture?window:tt(),I.keydownListenerCapture=S.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(he,F,_t),((I,S)=>{"select"===S.input||"radio"===S.input?Ri(I,S):["text","email","number","tel","textarea"].some(F=>F===S.input)&&(ue(S.inputValue)||je(S.inputValue))&&(Mt(be()),Ys(I,S))})(I,F),cl(F),ia(he,F,_t),ks(S,F),setTimeout(()=>{S.container.scrollTop=0})}),ul=(I,S)=>{const F=(I=>{const S="string"==typeof I.template?document.querySelector(I.template):I.template;if(!S)return{};const F=S.content;return Ma(F),Object.assign(Nf(F),Gd(F),Lf(F),qc(F),$d(F),Jl(F),dh(F,$c))})(I),W=Object.assign({},tl,S,F,I);return W.showClass=Object.assign({},tl.showClass,W.showClass),W.hideClass=Object.assign({},tl.hideClass,W.hideClass),W},uh=I=>{const S={popup:tt(),container:fe(),actions:st(),confirmButton:be(),denyButton:Ie(),cancelButton:xe(),loader:Ne(),closeButton:St(),validationMessage:pe(),progressSteps:_i()};return At.domCache.set(I,S),S},ia=(I,S,F)=>{const W=Ln();on(W),S.timer&&(I.timeout=new ll(()=>{F("timer"),delete I.timeout},S.timer),S.timerProgressBar&&(Yt(W),$n(W,S,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&pn(S.timer)})))},ks=(I,S)=>{if(!S.toast){if(!Te(S.allowEnterKey))return void Yd();ra(I,S)||zl(-1,1)}},ra=(I,S)=>S.focusDeny&&xn(I.denyButton)?(I.denyButton.focus(),!0):S.focusCancel&&xn(I.cancelButton)?(I.cancelButton.focus(),!0):!(!S.focusConfirm||!xn(I.confirmButton)||(I.confirmButton.focus(),0)),Yd=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const I=new Date,S=localStorage.getItem("swal-initiation");S?(I.getTime()-Date.parse(S))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const F=document.createElement("audio");F.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",F.loop=!0,document.body.appendChild(F),setTimeout(()=>{F.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(I))}fi.prototype.disableButtons=Nr,fi.prototype.enableButtons=To,fi.prototype.getInput=Si,fi.prototype.disableInput=Yo,fi.prototype.enableInput=wr,fi.prototype.hideLoading=wi,fi.prototype.disableLoading=wi,fi.prototype.showValidationMessage=Ko,fi.prototype.resetValidationMessage=Yl,fi.prototype.close=Dn,fi.prototype.closePopup=Dn,fi.prototype.closeModal=Dn,fi.prototype.closeToast=Dn,fi.prototype.rejectPromise=Co,fi.prototype.update=Vd,fi.prototype._destroy=Ts,Object.assign(fi,Ao),Object.keys(il).forEach(I=>{fi[I]=function(){return As&&As[I]?As[I](...arguments):null}}),fi.DismissReason=Go,fi.version="11.7.32";const ko=fi;return ko.default=ko,ko}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ke,V){var c=ke.createElement("style");if(ke.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=V);else try{c.innerHTML=V}catch{c.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},5879:(wt,ke,V)=>{"use strict";V.d(ke,{$8M:()=>du,$WT:()=>xo,$Z:()=>xR,AFp:()=>fm,ALo:()=>vO,AaK:()=>z,BQk:()=>pg,CHM:()=>Qs,CRH:()=>OO,DdM:()=>hS,EJc:()=>KO,EiD:()=>tI,EpF:()=>Dm,F$t:()=>m1,F4k:()=>aD,FYo:()=>qM,FiY:()=>Eh,Gf:()=>MO,GfV:()=>WM,GkF:()=>m0,Gpc:()=>rt,HDt:()=>HS,Hsn:()=>uD,Ikx:()=>PD,JOm:()=>bu,JVY:()=>KE,JZr:()=>Et,Jf7:()=>aR,KtG:()=>eu,L6k:()=>ZE,LAX:()=>IM,LFG:()=>Ut,Lbi:()=>mm,Lck:()=>lS,MAs:()=>nD,MMx:()=>G0,NdJ:()=>p0,O4$:()=>Fa,Ojb:()=>Qp,OlP:()=>ni,Oqu:()=>C0,P3R:()=>FM,PXZ:()=>SH,Q6J:()=>iD,QGY:()=>Pv,QbO:()=>pI,Qsj:()=>CV,R0b:()=>bs,RDi:()=>GE,Rgc:()=>uy,SBq:()=>Cv,Sil:()=>XO,Suo:()=>RO,TTD:()=>nc,TgZ:()=>mg,Udp:()=>Uv,VuI:()=>bT,W1O:()=>lx,WFA:()=>g0,X6Q:()=>tT,XFs:()=>xt,Xpm:()=>Gl,Xq5:()=>ZR,Xts:()=>lm,Y36:()=>rg,YKP:()=>j0,YNc:()=>eD,Yjl:()=>ql,Yz7:()=>yt,Z0I:()=>Wt,ZZ4:()=>Hy,_Bn:()=>H0,_UZ:()=>h0,_Vd:()=>xv,_c5:()=>Tx,_uU:()=>ED,aQg:()=>jy,c2e:()=>Sy,cJS:()=>Mn,cg1:()=>FD,d8E:()=>xg,dDg:()=>DH,dqk:()=>wn,eBb:()=>EM,eFA:()=>va,eJc:()=>by,ekj:()=>b0,eoX:()=>YS,f3M:()=>Kt,g9A:()=>Vh,h0i:()=>Lu,hGG:()=>Ax,hij:()=>bg,iGM:()=>sx,ifc:()=>Gr,ip1:()=>YO,jDz:()=>$0,kL8:()=>N1,kcU:()=>ht,lG2:()=>Ta,lcZ:()=>Mg,lqb:()=>Ns,lri:()=>WS,mCW:()=>Wp,n5z:()=>Ua,n_E:()=>nf,oAB:()=>Sa,oxw:()=>dD,pB0:()=>DM,q3G:()=>am,q4F:()=>YM,qFp:()=>wT,qLn:()=>zh,qOj:()=>Xw,qZA:()=>u0,qzn:()=>Bh,rWj:()=>mP,rg0:()=>Wc,sBO:()=>Ug,s_b:()=>Og,soG:()=>Lg,tb:()=>bx,tp0:()=>Il,uIk:()=>r0,vHH:()=>_e,vpe:()=>hd,wAp:()=>Eg,xp6:()=>bR,ynx:()=>f0,z2F:()=>Uu,z3N:()=>cd,zSh:()=>jt,zs3:()=>yc});var c=V(8645),se=V(7394),j=V(5592),oe=V(3019),me=V(5619),de=V(2096),he=V(3020),Ve=V(4664),we=V(3997);function q(o){for(let a in o)if(o[a]===q)return a;throw Error("Could not find renamed property on target object.")}function Q(o,a){for(const d in a)a.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=a[d])}function z(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(z).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function We(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Le=q({__forward_ref__:q});function rt(o){return o.__forward_ref__=rt,o.toString=function(){return z(this())},o}function He(o){return Ye(o)?o():o}function Ye(o){return"function"==typeof o&&o.hasOwnProperty(Le)&&o.__forward_ref__===rt}function Be(o){return o&&!!o.\u0275providers}const Et="https://g.co/ng/security#xss";class _e extends Error{constructor(a,d){super(function Te(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,d)),this.code=a}}function ue(o){return"string"==typeof o?o:null==o?"":String(o)}function qe(o,a){throw new _e(-201,!1)}function st(o,a){null==o&&function nt(o,a,d,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${d} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function yt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Mn(o){return{providers:o.providers||[],imports:o.imports||[]}}function ai(o){return Un(o,Zn)||Un(o,hs)}function Wt(o){return null!==ai(o)}function Un(o,a){return o.hasOwnProperty(a)?o[a]:null}function $n(o){return o&&(o.hasOwnProperty(Xi)||o.hasOwnProperty(sn))?o[Xi]:null}const Zn=q({\u0275prov:q}),Xi=q({\u0275inj:q}),hs=q({ngInjectableDef:q}),sn=q({ngInjectorDef:q});var xt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(xt||{});let kt;function Yt(o){const a=kt;return kt=o,a}function on(o,a,d){const u=ai(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:d&xt.Optional?null:void 0!==a?a:void qe(z(o))}const wn=globalThis,et={},at="__NG_DI_FLAG__",Tt="ngTempTokenPath",K=/\n/gm,ie="__source";let Fe;function ut(o){const a=Fe;return Fe=o,a}function qt(o,a=xt.Default){if(void 0===Fe)throw new _e(-203,!1);return null===Fe?on(o,void 0,a):Fe.get(o,a&xt.Optional?null:void 0,a)}function Ut(o,a=xt.Default){return(function Nt(){return kt}()||qt)(He(o),a)}function Kt(o,a=xt.Default){return Ut(o,vi(a))}function vi(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function At(o){const a=[];for(let d=0;d<o.length;d++){const u=He(o[d]);if(Array.isArray(u)){if(0===u.length)throw new _e(900,!1);let f,g=xt.Default;for(let y=0;y<u.length;y++){const C=u[y],D=go(C);"number"==typeof D?-1===D?f=C.token:g|=D:f=C}a.push(Ut(f,g))}else a.push(Ut(u))}return a}function Ui(o,a){return o[at]=a,o.prototype[at]=a,o}function go(o){return o[at]}function Is(o){return{toString:o}.toString()}var _o=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(_o||{}),Gr=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Gr||{});const pr={},cn=[],ms=q({\u0275cmp:q}),Ii=q({\u0275dir:q}),Ka=q({\u0275pipe:q}),Nd=q({\u0275mod:q}),Ds=q({\u0275fac:q}),jo=q({__NG_ELEMENT_ID__:q}),Da=q({__NG_ENV_ID__:q});function Pc(o,a,d){let u=o.length;for(;;){const f=o.indexOf(a,d);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===u||o.charCodeAt(f+g)<=32)return f}d=f+1}}function vo(o,a,d){let u=0;for(;u<d.length;){const f=d[u];if("number"==typeof f){if(0!==f)break;u++;const g=d[u++],y=d[u++],C=d[u++];o.setAttribute(a,y,C,g)}else{const g=f,y=d[++u];Xr(g)?o.setProperty(a,g,y):o.setAttribute(a,g,y),u++}}return u}function Hl(o){return 3===o||4===o||6===o}function Xr(o){return 64===o.charCodeAt(0)}function yo(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let d=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?d=f:0===d||Za(o,d,f,null,-1===d||2===d?a[++u]:null)}}return o}function Za(o,a,d,u,f){let g=0,y=o.length;if(-1===a)y=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){y=-1;break}if(C>a){y=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===d){if(null===u)return void(null!==f&&(o[g+1]=f));if(u===o[g+1])return void(o[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==y&&(o.splice(y,0,a),g=y+1),o.splice(g++,0,d),null!==u&&o.splice(g++,0,u),null!==f&&o.splice(g++,0,f)}const Fc="ng-template";function yi(o,a,d){let u=0,f=!0;for(;u<o.length;){let g=o[u++];if("string"==typeof g&&f){const y=o[u++];if(d&&"class"===g&&-1!==Pc(y.toLowerCase(),a,0))return!0}else{if(1===g){for(;u<o.length&&"string"==typeof(g=o[u++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Pr(o){return 4===o.type&&o.value!==Fc}function Rf(o,a,d){return a===(4!==o.type||d?o.value:Fc)}function sh(o,a,d){let u=4;const f=o.attrs||[],g=function Of(o){for(let a=0;a<o.length;a++)if(Hl(o[a]))return a;return o.length}(f);let y=!1;for(let C=0;C<a.length;C++){const D=a[C];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!Rf(o,D,d)||""===D&&1===a.length){if(Fr(u))return!1;y=!0}}else{const R=8&u?D:a[++C];if(8&u&&null!==o.attrs){if(!yi(o.attrs,R,d)){if(Fr(u))return!1;y=!0}continue}const G=bo(8&u?"class":D,f,Pr(o),d);if(-1===G){if(Fr(u))return!1;y=!0;continue}if(""!==R){let te;te=G>g?"":f[G+1].toLowerCase();const ce=8&u?te:null;if(ce&&-1!==Pc(ce,R,0)||2&u&&R!==te){if(Fr(u))return!1;y=!0}}}}else{if(!y&&!Fr(u)&&!Fr(D))return!1;if(y&&Fr(D))continue;y=!1,u=D|1&u}}return Fr(u)||y}function Fr(o){return 0==(1&o)}function bo(o,a,d,u){if(null===a)return-1;let f=0;if(u||!d){let g=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)g=!0;else{if(1===y||2===y){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=g?1:2}return-1}return function zo(o,a){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const u=o[d];if("number"==typeof u)return-1;if(u===a)return d;d++}return-1}(a,o)}function jl(o,a,d=!1){for(let u=0;u<a.length;u++)if(sh(o,a[u],d))return!0;return!1}function Go(o,a){e:for(let d=0;d<a.length;d++){const u=a[d];if(o.length===u.length){for(let f=0;f<o.length;f++)if(o[f]!==u[f])continue e;return!0}}return!1}function $s(o,a){return o?":not("+a.trim()+")":a}function Qa(o){let a=o[0],d=1,u=2,f="",g=!1;for(;d<o.length;){let y=o[d];if("string"==typeof y)if(2&u){const C=o[++d];f+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!Fr(y)&&(a+=$s(g,f),f=""),u=y,g=g||!Fr(u);d++}return""!==f&&(a+=$s(g,f)),a}function Gl(o){return Is(()=>{const a=Bc(o),d={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===_o.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Gr.Emulated,styles:o.styles||cn,_:null,schemas:o.schemas||null,tView:null,id:""};oh(d);const u=o.dependencies;return d.directiveDefs=Xa(u,!1),d.pipeDefs=Xa(u,!0),d.id=function Jr(o){let a=0;const d=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of d)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(d),d})}function Lc(o){return dn(o)||ui(o)}function $l(o){return null!==o}function Sa(o){return Is(()=>({type:o.type,bootstrap:o.bootstrap||cn,declarations:o.declarations||cn,imports:o.imports||cn,exports:o.exports||cn,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function wo(o,a){if(null==o)return pr;const d={};for(const u in o)if(o.hasOwnProperty(u)){let f=o[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),d[f]=u,a&&(a[f]=g)}return d}function Ta(o){return Is(()=>{const a=Bc(o);return oh(a),a})}function ql(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function dn(o){return o[ms]||null}function ui(o){return o[Ii]||null}function gr(o){return o[Ka]||null}function xo(o){const a=dn(o)||ui(o)||gr(o);return null!==a&&a.standalone}function _r(o,a){const d=o[Nd]||null;if(!d&&!0===a)throw new Error(`Type ${z(o)} does not have '\u0275mod' property.`);return d}function Bc(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||pr,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||cn,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wo(o.inputs,a),outputs:wo(o.outputs)}}function oh(o){o.features?.forEach(a=>a(o))}function Xa(o,a){if(!o)return null;const d=a?gr:Lc;return()=>("function"==typeof o?o():o).map(u=>d(u)).filter($l)}const Qn=0,ct=1,Pt=2,Dn=3,vr=4,Co=5,hi=6,Ja=7,_n=8,Ws=9,$o=10,Mt=11,Hi=12,Eo=13,yr=14,Xn=15,Vc=16,qo=17,Ri=18,Ys=19,Ks=20,Io=21,br=22,Aa=23,Do=24,Qt=25,Wo=1,Wl=2,bi=7,Di=9,wi=11;function Si(o){return Array.isArray(o)&&"object"==typeof o[Wo]}function ji(o){return Array.isArray(o)&&!0===o[Wo]}function el(o){return 0!=(4&o.flags)}function To(o){return o.componentOffset>-1}function Nr(o){return 1==(1&o.flags)}function wr(o){return!!o.template}function Yo(o){return 0!=(512&o[Pt])}function Qo(o,a){return o.hasOwnProperty(Ds)?o[Ds]:null}let Ti=null,Xo=!1;function xr(o){const a=Ti;return Ti=o,a}const Jo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function sl(o){if(!ta(o)||o.dirty){if(!o.producerMustRecompute(o)&&!Gc(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function ka(o){o.dirty=!0,function jd(o){if(void 0===o.liveConsumerNode)return;const a=Xo;Xo=!0;try{for(const d of o.liveConsumerNode)d.dirty||ka(d)}finally{Xo=a}}(o),o.consumerMarkedDirty?.(o)}function zd(o){return o&&(o.nextProducerIndex=0),xr(o)}function Oi(o,a){if(xr(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(ta(o))for(let d=o.nextProducerIndex;d<o.producerNode.length;d++)al(o.producerNode[d],o.producerIndexOfThis[d]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Gc(o){Ao(o);for(let a=0;a<o.producerNode.length;a++){const d=o.producerNode[a],u=o.producerLastReadVersion[a];if(u!==d.version||(sl(d),u!==d.version))return!0}return!1}function Ql(o){if(Ao(o),ta(o))for(let a=0;a<o.producerNode.length;a++)al(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function al(o,a){if(function ll(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Ao(o),1===o.liveConsumerNode.length)for(let u=0;u<o.producerNode.length;u++)al(o.producerNode[u],o.producerIndexOfThis[u]);const d=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[d],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[d],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[a],f=o.liveConsumerNode[a];Ao(f),f.producerIndexOfThis[u]=a}}function ta(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Ao(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let $d=null;function Wc(o){const a=xr(null);try{return o()}finally{xr(a)}}const Yc=()=>{},As=(()=>({...Jo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Yc}))();class fi{constructor(a,d,u){this.previousValue=a,this.currentValue=d,this.firstChange=u}isFirstChange(){return this.firstChange}}function nc(){return ul}function ul(o){return o.type.prototype.ngOnChanges&&(o.setInput=ia),uh}function uh(){const o=ra(this),a=o?.current;if(a){const d=o.previous;if(d===pr)o.previous=a;else for(let u in a)d[u]=a[u];o.current=null,this.ngOnChanges(a)}}function ia(o,a,d,u){const f=this.declaredInputs[d],g=ra(o)||function Yd(o,a){return o[ks]=a}(o,{previous:pr,current:null}),y=g.current||(g.current={}),C=g.previous,D=C[f];y[f]=new fi(D&&D.currentValue,a,C===pr),o[u]=a}nc.ngInherit=!0;const ks="__ngSimpleChanges__";function ra(o){return o[ks]||null}const S=function(o,a,d){},F="svg";function ge(o){for(;Array.isArray(o);)o=o[Qn];return o}function un(o,a){return ge(a[o])}function Jt(o,a){return ge(a[o.index])}function Mo(o,a){return o.data[a]}function Zs(o,a){return o[a]}function Cr(o,a){const d=a[o];return Si(d)?d:d[Qn]}function ts(o,a){return null==a?null:o[a]}function Ip(o){o[qo]=0}function hh(o){1024&o[Pt]||(o[Pt]|=1024,U_(o,1))}function Kd(o){1024&o[Pt]&&(o[Pt]&=-1025,U_(o,-1))}function U_(o,a){let d=o[Dn];if(null===d)return;d[Co]+=a;let u=d;for(d=d[Dn];null!==d&&(1===a&&1===u[Co]||-1===a&&0===u[Co]);)d[Co]+=a,u=d,d=d[Dn]}const Ht={lFrame:ml(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Er(){return Ht.bindingsEnabled}function Ro(){return null!==Ht.skipHydrationRootTNode}function Ue(){return Ht.lFrame.lView}function vn(){return Ht.lFrame.tView}function Qs(o){return Ht.lFrame.contextLView=o,o[_n]}function eu(o){return Ht.lFrame.contextLView=null,o}function rr(){let o=tu();for(;null!==o&&64===o.type;)o=o.parent;return o}function tu(){return Ht.lFrame.currentTNode}function Pa(o,a){const d=Ht.lFrame;d.currentTNode=o,d.isParent=a}function hl(){return Ht.lFrame.isParent}function mh(){Ht.lFrame.isParent=!1}function ns(){const o=Ht.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function fl(){return Ht.lFrame.bindingIndex++}function nu(o,a){const d=Ht.lFrame;d.bindingIndex=d.bindingRootIndex=o,iu(a)}function iu(o){Ht.lFrame.currentDirectiveIndex=o}function zf(o){const a=Ht.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function ru(){return Ht.lFrame.currentQueryIndex}function Gf(o){Ht.lFrame.currentQueryIndex=o}function $f(o){const a=o[ct];return 2===a.type?a.declTNode:1===a.type?o[hi]:null}function Sp(o,a,d){if(d&xt.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||d&xt.Host||(f=$f(g),null===f||(g=g[yr],10&f.type))););if(null===f)return!1;a=f,o=g}const u=Ht.lFrame=gs();return u.currentTNode=a,u.lView=o,!0}function li(o){const a=gs(),d=o[ct];Ht.lFrame=a,a.currentTNode=d.firstChild,a.lView=o,a.tView=d,a.contextLView=o,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function gs(){const o=Ht.lFrame,a=null===o?null:o.child;return null===a?ml(o):a}function ml(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Hn(){const o=Ht.lFrame;return Ht.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const pt=Hn;function sr(){const o=Hn();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ir(){return Ht.lFrame.selectedIndex}function sa(o){Ht.lFrame.selectedIndex=o}function ei(){const o=Ht.lFrame;return Mo(o.tView,o.selectedIndex)}function Fa(){Ht.lFrame.currentNamespace=F}function ht(){!function qf(){Ht.lFrame.currentNamespace=null}()}let pl=!0;function Rs(){return pl}function Js(o){pl=o}function sc(o,a){for(let d=a.directiveStart,u=a.directiveEnd;d<u;d++){const g=o.data[d].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:R,ngOnDestroy:N}=g;y&&(o.contentHooks??=[]).push(-d,y),C&&((o.contentHooks??=[]).push(d,C),(o.contentCheckHooks??=[]).push(d,C)),D&&(o.viewHooks??=[]).push(-d,D),R&&((o.viewHooks??=[]).push(d,R),(o.viewCheckHooks??=[]).push(d,R)),null!=N&&(o.destroyHooks??=[]).push(d,N)}}function Na(o,a,d){Tp(o,a,3,d)}function ou(o,a,d,u){(3&o[Pt])===d&&Tp(o,a,d,u)}function oc(o,a){let d=o[Pt];(3&d)===a&&(d&=8191,d+=1,o[Pt]=d)}function Tp(o,a,d,u){const g=u??-1,y=a.length-1;let C=0;for(let D=void 0!==u?65535&o[qo]:0;D<y;D++)if("number"==typeof a[D+1]){if(C=a[D],null!=u&&C>=u)break}else a[D]<0&&(o[qo]+=65536),(C<g||-1==g)&&(_l(o,d,a,D),o[qo]=(4294901760&o[qo])+D+2),D++}function gl(o,a){S(4,o,a);const d=xr(null);try{a.call(o)}finally{xr(d),S(5,o,a)}}function _l(o,a,d,u){const f=d[u]<0,g=d[u+1],C=o[f?-d[u]:d[u]];f?o[Pt]>>13<o[qo]>>16&&(3&o[Pt])===a&&(o[Pt]+=8192,gl(C,g)):gl(C,g)}const La=-1;class Os{constructor(a,d,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=u}}function yl(o){return o!==La}function Lt(o){return 32767&o}function ti(o,a){let d=function mi(o){return o>>16}(o),u=a;for(;d>0;)u=u[yr],d--;return u}let Lr=!0;function An(o){const a=Lr;return Lr=o,a}const Zc=255,Yf=5;let bh=0;const Dr={};function qn(o,a){const d=Qc(o,a);if(-1!==d)return d;const u=a[ct];u.firstCreatePass&&(o.injectorIndex=a.length,Ps(u.data,o),Ps(a,null),Ps(u.blueprint,null));const f=_s(o,a),g=o.injectorIndex;if(yl(f)){const y=Lt(f),C=ti(f,a),D=C[ct].data;for(let R=0;R<8;R++)a[g+R]=C[y+R]|D[y+R]}return a[g+8]=f,g}function Ps(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Qc(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function _s(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,u=null,f=a;for(;null!==f;){if(u=Ch(f),null===u)return La;if(d++,f=f[yr],-1!==u.injectorIndex)return u.injectorIndex|d<<16}return La}function bl(o,a,d){!function aa(o,a,d){let u;"string"==typeof d?u=d.charCodeAt(0)||0:d.hasOwnProperty(jo)&&(u=d[jo]),null==u&&(u=d[jo]=bh++);const f=u&Zc;a.data[o+(f>>Yf)]|=1<<f}(o,a,d)}function Ba(o,a,d){if(d&xt.Optional||void 0!==o)return o;qe()}function Va(o,a,d,u){if(d&xt.Optional&&void 0===u&&(u=null),!(d&(xt.Self|xt.Host))){const f=o[Ws],g=Yt(void 0);try{return f?f.get(a,u,d&xt.Optional):on(a,u,d&xt.Optional)}finally{Yt(g)}}return Ba(u,0,d)}function lc(o,a,d,u=xt.Default,f){if(null!==o){if(2048&a[Pt]&&!(u&xt.Self)){const y=function Ap(o,a,d,u,f){let g=o,y=a;for(;null!==g&&null!==y&&2048&y[Pt]&&!(512&y[Pt]);){const C=an(g,y,d,u|xt.Self,Dr);if(C!==Dr)return C;let D=g.parent;if(!D){const R=y[Ks];if(R){const N=R.get(d,Dr,u);if(N!==Dr)return N}D=Ch(y),y=y[yr]}g=D}return f}(o,a,d,u,Dr);if(y!==Dr)return y}const g=an(o,a,d,u,Dr);if(g!==Dr)return g}return Va(a,d,u,f)}function an(o,a,d,u,f){const g=function cc(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(jo)?o[jo]:void 0;return"number"==typeof a?a>=0?a&Zc:to:a}(d);if("function"==typeof g){if(!Sp(a,o,u))return u&xt.Host?Ba(f,0,u):Va(a,d,u,f);try{let y;if(y=g(u),null!=y||u&xt.Optional)return y;qe()}finally{pt()}}else if("number"==typeof g){let y=null,C=Qc(o,a),D=La,R=u&xt.Host?a[Xn][hi]:null;for((-1===C||u&xt.SkipSelf)&&(D=-1===C?_s(o,a):a[C+8],D!==La&&wh(u,!1)?(y=a[ct],C=Lt(D),a=ti(D,a)):C=-1);-1!==C;){const N=a[ct];if(la(g,C,N.data)){const G=en(C,a,d,y,u,R);if(G!==Dr)return G}D=a[C+8],D!==La&&wh(u,a[ct].data[C+8]===R)&&la(g,C,a)?(y=N,C=Lt(D),a=ti(D,a)):C=-1}}return f}function en(o,a,d,u,f,g){const y=a[ct],C=y.data[o+8],N=wl(C,y,d,null==u?To(C)&&Lr:u!=y&&0!=(3&C.type),f&xt.Host&&g===C);return null!==N?xl(a,y,N,C):Dr}function wl(o,a,d,u,f){const g=o.providerIndexes,y=a.data,C=1048575&g,D=o.directiveStart,N=g>>20,te=f?C+N:o.directiveEnd;for(let ce=u?C:C+N;ce<te;ce++){const Pe=y[ce];if(ce<D&&d===Pe||ce>=D&&Pe.type===d)return ce}if(f){const ce=y[D];if(ce&&wr(ce)&&ce.type===d)return D}return null}function xl(o,a,d,u){let f=o[d];const g=a.data;if(function vl(o){return o instanceof Os}(f)){const y=f;y.resolving&&function je(o,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new _e(-200,`Circular dependency in DI detected for ${o}${d}`)}(function Me(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ue(o)}(g[d]));const C=An(y.canSeeViewProviders);y.resolving=!0;const R=y.injectImpl?Yt(y.injectImpl):null;Sp(o,u,xt.Default);try{f=o[d]=y.factory(void 0,g,o,u),a.firstCreatePass&&d>=u.directiveStart&&function Bn(o,a,d){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(u){const y=ul(a);(d.preOrderHooks??=[]).push(o,y),(d.preOrderCheckHooks??=[]).push(o,y)}f&&(d.preOrderHooks??=[]).push(0-o,f),g&&((d.preOrderHooks??=[]).push(o,g),(d.preOrderCheckHooks??=[]).push(o,g))}(d,g[d],a)}finally{null!==R&&Yt(R),An(C),y.resolving=!1,pt()}}return f}function la(o,a,d){return!!(d[a+(o>>Yf)]&1<<o)}function wh(o,a){return!(o&xt.Self||o&xt.Host&&a)}class xi{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,u){return lc(this._tNode,this._lView,a,vi(u),d)}}function to(){return new xi(rr(),Ue())}function Ua(o){return Is(()=>{const a=o.prototype.constructor,d=a[Ds]||cu(a),u=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==u;){const g=f[Ds]||cu(f);if(g&&g!==d)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function cu(o){return Ye(o)?()=>{const a=cu(He(o));return a&&a()}:Qo(o)}function Ch(o){const a=o[ct],d=a.type;return 2===d?a.declTNode:1===d?o[hi]:null}function du(o){return function lu(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const d=o.attrs;if(d){const u=d.length;let f=0;for(;f<u;){const g=d[f];if(Hl(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof d[f];)f++;else{if(g===a)return d[f+1];f+=2}}}return null}(rr(),o)}const uc="__parameters__";function U(o,a,d){return Is(()=>{const u=function P(o){return function(...d){if(o){const u=o(...d);for(const f in u)this[f]=u[f]}}}(a);function f(...g){if(this instanceof f)return u.apply(this,g),this;const y=new f(...g);return C.annotation=y,C;function C(D,R,N){const G=D.hasOwnProperty(uc)?D[uc]:Object.defineProperty(D,uc,{value:[]})[uc];for(;G.length<=N;)G.push(null);return(G[N]=G[N]||[]).push(y),D}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function hc(o,a){o.forEach(d=>Array.isArray(d)?hc(d,a):a(d))}function G_(o,a,d){a>=o.length?o.push(d):o.splice(a,0,d)}function kp(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Cl(o,a){const d=[];for(let u=0;u<o;u++)d.push(a);return d}function no(o,a,d){let u=uu(o,a);return u>=0?o[1|u]=d:(u=~u,function q_(o,a,d,u){let f=o.length;if(f==a)o.push(d,u);else if(1===f)o.push(u,o[0]),o[0]=d;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=d,o[a+1]=u}}(o,u,a,d)),u}function Rp(o,a){const d=uu(o,a);if(d>=0)return o[1|d]}function uu(o,a){return function Op(o,a,d){let u=0,f=o.length>>d;for(;f!==u;){const g=u+(f-u>>1),y=o[g<<d];if(a===y)return g<<d;y>a?f=g:u=g+1}return~(f<<d)}(o,a,1)}const Eh=Ui(U("Optional"),8),Il=Ui(U("SkipSelf"),4);function yu(o){return 128==(128&o.flags)}var bu=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(bu||{});const Bp=/^>|^->|<!--|-->|--!>|<!-$/g,Sl=/(<|>)/g,em="\u200b$1\u200b";const wu=new Map;let lw=0;const Oh="__ngContext__";function ss(o,a){Si(a)?(o[Oh]=a[Ys],function ys(o){wu.set(o[Ys],o)}(a)):o[Oh]=a}let X;function ae(o,a){return X(o,a)}function Je(o){const a=o[Dn];return ji(a)?a[Dn]:a}function Ci(o){return pc(o[Hi])}function io(o){return pc(o[vr])}function pc(o){for(;null!==o&&!ji(o);)o=o[vr];return o}function ad(o,a,d,u,f){if(null!=u){let g,y=!1;ji(u)?g=u:Si(u)&&(y=!0,u=u[Qn]);const C=ge(u);0===o&&null!==d?null==f?NE(a,d,C):Fh(a,d,C,f||null,!0):1===o&&null!==d?Fh(a,d,C,f||null,!0):2===o?function sv(o,a,d){const u=rv(o,a);u&&function gM(o,a,d,u){o.removeChild(a,d,u)}(o,u,a,d)}(a,C,y):3===o&&a.destroyNode(C),null!=g&&function vM(o,a,d,u,f){const g=d[bi];g!==ge(d)&&ad(a,o,u,g,f);for(let C=wi;C<d.length;C++){const D=d[C];Gp(D[ct],D,o,a,u,g)}}(a,o,g,d,f)}}function _c(o,a){return o.createComment(function tm(o){return o.replace(Bp,a=>a.replace(Sl,em))}(a))}function Cu(o,a,d){return o.createElement(a,d)}function nv(o,a){const d=o[Di],u=d.indexOf(a);Kd(a),d.splice(u,1)}function iv(o,a){if(o.length<=wi)return;const d=wi+a,u=o[d];if(u){const f=u[Vc];null!==f&&f!==o&&nv(f,u),a>0&&(o[d-1][vr]=u[vr]);const g=kp(o,wi+a);!function ev(o,a){Gp(o,a,a[Mt],2,null,null),a[Qn]=null,a[hi]=null}(u[ct],u);const y=g[Ri];null!==y&&y.detachView(g[ct]),u[Dn]=null,u[vr]=null,u[Pt]&=-129}return u}function hw(o,a){if(!(256&a[Pt])){const d=a[Mt];a[Aa]&&Ql(a[Aa]),a[Do]&&Ql(a[Do]),d.destroyNode&&Gp(o,a,d,3,null,null),function tv(o){let a=o[Hi];if(!a)return PE(o[ct],o);for(;a;){let d=null;if(Si(a))d=a[Hi];else{const u=a[wi];u&&(d=u)}if(!d){for(;a&&!a[vr]&&a!==o;)Si(a)&&PE(a[ct],a),a=a[Dn];null===a&&(a=o),Si(a)&&PE(a[ct],a),d=a&&a[vr]}a=d}}(a)}}function PE(o,a){if(!(256&a[Pt])){a[Pt]&=-129,a[Pt]|=256,function FE(o,a){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let u=0;u<d.length;u+=2){const f=a[d[u]];if(!(f instanceof Os)){const g=d[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const C=f[g[y]],D=g[y+1];S(4,C,D);try{D.call(C)}finally{S(5,C,D)}}else{S(4,f,g);try{g.call(f)}finally{S(5,f,g)}}}}}(o,a),function pM(o,a){const d=o.cleanup,u=a[Ja];if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const y=d[g+3];y>=0?u[y]():u[-y].unsubscribe(),g+=2}else d[g].call(u[d[g+1]]);null!==u&&(a[Ja]=null);const f=a[Io];if(null!==f){a[Io]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(o,a),1===a[ct].type&&a[Mt].destroy();const d=a[Vc];if(null!==d&&ji(a[Dn])){d!==a[Dn]&&nv(d,a);const u=a[Ri];null!==u&&u.detachView(o)}!function od(o){wu.delete(o[Ys])}(a)}}function rm(o,a,d){return function Ph(o,a,d){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return d[Qn];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=o.data[u.directiveStart+f];if(g===Gr.None||g===Gr.Emulated)return null}return Jt(u,d)}}(o,a.parent,d)}function Fh(o,a,d,u,f){o.insertBefore(a,d,u,f)}function NE(o,a,d){o.appendChild(a,d)}function LE(o,a,d,u,f){null!==u?Fh(o,a,d,u,f):NE(o,a,d)}function rv(o,a){return o.parentNode(a)}function BE(o,a,d){return fw(o,a,d)}let mw,ov,zE,av,fw=function VE(o,a,d){return 40&o.type?Jt(o,d):null};function jp(o,a,d,u){const f=rm(o,u,a),g=a[Mt],C=BE(u.parent||a[hi],u,a);if(null!=f)if(Array.isArray(d))for(let D=0;D<d.length;D++)LE(g,f,d[D],C,!1);else LE(g,f,d,C,!1);void 0!==mw&&mw(g,u,a,d,f)}function vc(o,a){if(null!==a){const d=a.type;if(3&d)return Jt(a,o);if(4&d)return gw(-1,o[a.index]);if(8&d){const u=a.child;if(null!==u)return vc(o,u);{const f=o[a.index];return ji(f)?gw(-1,f):ge(f)}}if(32&d)return ae(a,o)()||ge(o[a.index]);{const u=pw(o,a);return null!==u?Array.isArray(u)?u[0]:vc(Je(o[Xn]),u):vc(o,a.next)}}return null}function pw(o,a){return null!==a?o[Xn][hi].projection[a.projection]:null}function gw(o,a){const d=wi+o+1;if(d<a.length){const u=a[d],f=u[ct].firstChild;if(null!==f)return vc(u,f)}return a[bi]}function zp(o,a,d,u,f,g,y){for(;null!=d;){const C=u[d.index],D=d.type;if(y&&0===a&&(C&&ss(ge(C),u),d.flags|=2),32!=(32&d.flags))if(8&D)zp(o,a,d.child,u,f,g,!1),ad(a,o,f,C,g);else if(32&D){const R=ae(d,u);let N;for(;N=R();)ad(a,o,f,N,g);ad(a,o,f,C,g)}else 16&D?vw(o,a,u,d,f,g):ad(a,o,f,C,g);d=y?d.projectionNext:d.next}}function Gp(o,a,d,u,f,g){zp(d,u,o.firstChild,a,f,g,!1)}function vw(o,a,d,u,f,g){const y=d[Xn],D=y[hi].projection[u.projection];if(Array.isArray(D))for(let R=0;R<D.length;R++)ad(a,o,f,D[R],g);else{let R=D;const N=y[Dn];yu(u)&&(R.flags|=128),zp(o,a,R,N,f,g,!0)}}function HE(o,a,d){""===d?o.removeAttribute(a,"class"):o.setAttribute(a,"class",d)}function $p(o,a,d){const{mergedAttrs:u,classes:f,styles:g}=d;null!==u&&vo(o,a,u),null!==f&&HE(o,a,f),null!==g&&function bM(o,a,d){o.setAttribute(a,"style",d)}(o,a,g)}function sm(o){return function yw(){if(void 0===ov&&(ov=null,wn.trustedTypes))try{ov=wn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ov}()?.createHTML(o)||o}function GE(o){zE=o}function WE(o){return function bw(){if(void 0===av&&(av=null,wn.trustedTypes))try{av=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return av}()?.createScriptURL(o)||o}class Lh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Et})`}}class YE extends Lh{getTypeName(){return"HTML"}}class ww extends Lh{getTypeName(){return"Style"}}class om extends Lh{getTypeName(){return"Script"}}class xw extends Lh{getTypeName(){return"URL"}}class CM extends Lh{getTypeName(){return"ResourceURL"}}function cd(o){return o instanceof Lh?o.changingThisBreaksApplicationSecurity:o}function Bh(o,a){const d=function lv(o){return o instanceof Lh&&o.getTypeName()||null}(o);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${Et})`)}return d===a}function KE(o){return new YE(o)}function ZE(o){return new ww(o)}function EM(o){return new om(o)}function IM(o){return new xw(o)}function DM(o){return new CM(o)}class cv{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(sm(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class SM{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=sm(a),d}}const qp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wp(o){return(o=String(o)).match(qp)?o:"unsafe:"+o}function dd(o){const a={};for(const d of o.split(","))a[d]=!0;return a}function Yp(...o){const a={};for(const d of o)for(const u in d)d.hasOwnProperty(u)&&(a[u]=!0);return a}const XE=dd("area,br,col,hr,img,wbr"),JE=dd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ha=dd("rp,rt"),dv=Yp(XE,Yp(JE,dd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yp(ha,dd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yp(ha,JE)),Ew=dd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MM=Yp(Ew,dd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),RM=dd("script,style,template");class Iw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,u=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?u=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,u&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!dv.hasOwnProperty(d))return this.sanitizedSomething=!0,!RM.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const u=a.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),y=g.name,C=y.toLowerCase();if(!MM.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=g.value;Ew[C]&&(D=Wp(D)),this.buf.push(" ",y,'="',Dw(D),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();dv.hasOwnProperty(d)&&!XE.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(Dw(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const eI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cV=/([^\#-~ |!])/g;function Dw(o){return o.replace(/&/g,"&amp;").replace(eI,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(cV,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ha;function tI(o,a){let d=null;try{Ha=Ha||function QE(o){const a=new SM(o);return function TM(){try{return!!(new window.DOMParser).parseFromString(sm(""),"text/html")}catch{return!1}}()?new cv(a):a}(o);let u=a?String(a):"";d=Ha.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=d.innerHTML,d=Ha.getInertBodyElement(u)}while(u!==g);return sm((new Iw).sanitizeChildren(nI(d)||d))}finally{if(d){const u=nI(d)||d;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function nI(o){return"content"in o&&function dV(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var am=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(am||{});function uv(o){const a=Kp();return a?a.sanitize(am.URL,o)||"":Bh(o,"URL")?cd(o):Wp(ue(o))}function sI(o){const a=Kp();if(a)return WE(a.sanitize(am.RESOURCE_URL,o)||"");if(Bh(o,"ResourceURL"))return WE(cd(o));throw new _e(904,!1)}function FM(o,a,d){return function PM(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?sI:uv}(a,d)(o)}function Kp(){const o=Ue();return o&&o[$o].sanitizer}class ni{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=yt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lm=new ni("ENVIRONMENT_INITIALIZER"),aI=new ni("INJECTOR",-1),lI=new ni("INJECTOR_DEF_TYPES");class hv{get(a,d=et){if(d===et){const u=new Error(`NullInjectorError: No provider for ${z(a)}!`);throw u.name="NullInjectorError",u}return d}}function NM(...o){return{\u0275providers:dI(0,o),\u0275fromNgModule:!0}}function dI(o,...a){const d=[],u=new Set;let f;const g=y=>{d.push(y)};return hc(a,y=>{const C=y;fv(C,g,[],u)&&(f||=[],f.push(C))}),void 0!==f&&uI(f,g),d}function uI(o,a){for(let d=0;d<o.length;d++){const{ngModule:u,providers:f}=o[d];Sw(f,g=>{a(g,u)})}}function fv(o,a,d,u){if(!(o=He(o)))return!1;let f=null,g=$n(o);const y=!g&&dn(o);if(g||y){if(y&&!y.standalone)return!1;f=o}else{const D=o.ngModule;if(g=$n(D),!g)return!1;f=D}const C=u.has(f);if(y){if(C)return!1;if(u.add(f),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const R of D)fv(R,a,d,u)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let R;u.add(f);try{hc(g.imports,N=>{fv(N,a,d,u)&&(R||=[],R.push(N))})}finally{}void 0!==R&&uI(R,a)}if(!C){const R=Qo(f)||(()=>new f);a({provide:f,useFactory:R,deps:cn},f),a({provide:lI,useValue:f,multi:!0},f),a({provide:lm,useValue:()=>Ut(f),multi:!0},f)}const D=g.providers;if(null!=D&&!C){const R=o;Sw(D,N=>{a(N,R)})}}}return f!==o&&void 0!==o.providers}function Sw(o,a){for(let d of o)Be(d)&&(d=d.\u0275providers),Array.isArray(d)?Sw(d,a):a(d)}const hV=q({provide:String,useValue:q});function hI(o){return null!==o&&"object"==typeof o&&hV in o}function cm(o){return"function"==typeof o}const jt=new ni("Set Injector scope."),Al={},UM={};let dm;function Gi(){return void 0===dm&&(dm=new hv),dm}class Ns{}class Tw extends Ns{get destroyed(){return this._destroyed}constructor(a,d,u,f){super(),this.parent=d,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mI(a,y=>this.processProvider(y)),this.records.set(aI,Ei(void 0,this)),f.has("environment")&&this.records.set(Ns,Ei(void 0,this));const g=this.records.get(jt);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(lI.multi,cn,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const d=ut(this),u=Yt(void 0);try{return a()}finally{ut(d),Yt(u)}}get(a,d=et,u=xt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Da))return a[Da](this);u=vi(u);const g=ut(this),y=Yt(void 0);try{if(!(u&xt.SkipSelf)){let D=this.records.get(a);if(void 0===D){const R=function fI(o){return"function"==typeof o||"object"==typeof o&&o instanceof ni}(a)&&ai(a);D=R&&this.injectableDefInScope(R)?Ei(mv(a),Al):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(u&xt.Self?Gi():this.parent).get(a,d=u&xt.Optional&&d===et?null:d)}catch(C){if("NullInjectorError"===C.name){if((C[Tt]=C[Tt]||[]).unshift(z(a)),g)throw C;return function Ia(o,a,d,u){const f=o[Tt];throw a[ie]&&f.unshift(a[ie]),o.message=function Oc(o,a,d,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=z(a);if(Array.isArray(a))f=a.map(z).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let C=a[y];g.push(y+":"+("string"==typeof C?JSON.stringify(C):z(C)))}f=`{${g.join(", ")}}`}return`${d}${u?"("+u+")":""}[${f}]: ${o.replace(K,"\n  ")}`}("\n"+o.message,f,d,u),o.ngTokenPath=f,o[Tt]=null,o}(C,a,"R3InjectorError",this.source)}throw C}finally{Yt(y),ut(g)}}resolveInjectorInitializers(){const a=ut(this),d=Yt(void 0);try{const f=this.get(lm.multi,cn,xt.Self);for(const g of f)g()}finally{ut(a),Yt(d)}}toString(){const a=[],d=this.records;for(const u of d.keys())a.push(z(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(a){let d=cm(a=He(a))?a:He(a&&a.provide);const u=function Zp(o){return hI(o)?Ei(void 0,o.useValue):Ei(pv(o),Al)}(a);if(cm(a)||!0!==a.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Ei(void 0,Al,!0),f.factory=()=>At(f.multi),this.records.set(d,f)),d=a,f.multi.push(a)}this.records.set(d,u)}hydrate(a,d){return d.value===Al&&(d.value=UM,d.value=d.factory()),"object"==typeof d.value&&d.value&&function hm(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=He(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(a){const d=this._onDestroyHooks.indexOf(a);-1!==d&&this._onDestroyHooks.splice(d,1)}}function mv(o){const a=ai(o),d=null!==a?a.factory:Qo(o);if(null!==d)return d;if(o instanceof ni)throw new _e(204,!1);if(o instanceof Function)return function um(o){const a=o.length;if(a>0)throw Cl(a,"?"),new _e(204,!1);const d=function mr(o){return o&&(o[Zn]||o[hs])||null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new _e(204,!1)}function pv(o,a,d){let u;if(cm(o)){const f=He(o);return Qo(f)||mv(f)}if(hI(o))u=()=>He(o.useValue);else if(function VM(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...At(o.deps||[]));else if(function BM(o){return!(!o||!o.useExisting)}(o))u=()=>Ut(He(o.useExisting));else{const f=He(o&&(o.useClass||o.provide));if(!function mV(o){return!!o.deps}(o))return Qo(f)||mv(f);u=()=>new f(...At(o.deps))}return u}function Ei(o,a,d=!1){return{factory:o,value:a,multi:d?[]:void 0}}function mI(o,a){for(const d of o)Array.isArray(d)?mI(d,a):d&&Be(d)?mI(d.\u0275providers,a):a(d)}const fm=new ni("AppId",{providedIn:"root",factory:()=>HM}),HM="ng",Vh=new ni("Platform Initializer"),mm=new ni("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pI=new ni("AnimationModuleType"),Qp=new ni("CSP nonce",{providedIn:"root",factory:()=>function Nh(){if(void 0!==zE)return zE;if(typeof document<"u")return document;throw new _e(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let bv=(o,a,d)=>null;function Du(o,a,d=!1){return bv(o,a,d)}class Pw{}class Fw{}class wV{resolveComponentFactory(a){throw function Nw(o){const a=Error(`No component factory found for ${z(o)}.`);return a.ngComponent=o,a}(a)}}let xv=(()=>{class o{static#e=this.NULL=new wV}return o})();function $M(){return _m(rr(),Ue())}function _m(o,a){return new Cv(Jt(o,a))}let Cv=(()=>{class o{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=$M}return o})();function xV(o){return o instanceof Cv?o.nativeElement:o}class qM{}let CV=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function EV(){const o=Ue(),d=Cr(rr().index,o);return(Si(d)?d:o)[Mt]}()}return o})(),IV=(()=>{class o{static#e=this.\u0275prov=yt({token:o,providedIn:"root",factory:()=>null})}return o})();class WM{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const YM=new WM("16.2.10"),Bw={};function XM(o,a=null,d=null,u){const f=JM(o,a,d,u);return f.resolveInjectorInitializers(),f}function JM(o,a=null,d=null,u,f=new Set){const g=[d||cn,NM(o)];return u=u||("object"==typeof o?void 0:z(o)),new Tw(g,a||Gi(),u||null,f)}let yc=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=et;static#t=this.NULL=new hv;static create(d,u){if(Array.isArray(d))return XM({name:""},u,d,"");{const f=d.name??"";return XM({name:f},d.parent,d.providers,f)}}static#n=this.\u0275prov=yt({token:o,providedIn:"any",factory:()=>Ut(aI)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function wI(o){return o.ngOriginalError}class zh{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&wI(a);for(;d&&wI(d);)d=wI(d);return d||null}}function CI(o){return a=>{setTimeout(o,void 0,a)}}const hd=class MV extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,u){let f=a,g=d||(()=>null),y=u;if(a&&"object"==typeof a){const D=a;f=D.next?.bind(D),g=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(g=CI(g),f&&(f=CI(f)),y&&(y=CI(y)));const C=super.subscribe({next:f,error:g,complete:y});return a instanceof se.w0&&a.add(C),C}};function tR(...o){}class bs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hd(!1),this.onMicrotaskEmpty=new hd(!1),this.onStable=new hd(!1),this.onError=new hd(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&d,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function RV(){const o="function"==typeof wn.requestAnimationFrame;let a=wn[o?"requestAnimationFrame":"setTimeout"],d=wn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&d){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=d[Zone.__symbol__("OriginalDelegate")];f&&(d=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function PV(o){const a=()=>{!function nR(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(wn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,EI(o),o.isCheckStableRunning=!0,Vw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),EI(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,u,f,g,y,C)=>{if(function NV(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(C))return d.invokeTask(f,g,y,C);try{return iR(o),d.invokeTask(f,g,y,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),rR(o)}},onInvoke:(d,u,f,g,y,C,D)=>{try{return iR(o),d.invoke(f,g,y,C,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),rR(o)}},onHasTask:(d,u,f,g)=>{d.hasTask(f,g),u===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,EI(o),Vw(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,u,f,g)=>(d.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bs.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(bs.isInAngularZone())throw new _e(909,!1)}run(a,d,u){return this._inner.run(a,d,u)}runTask(a,d,u,f){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+f,a,OV,tR,tR);try{return g.runTask(y,d,u)}finally{g.cancelTask(y)}}runGuarded(a,d,u){return this._inner.runGuarded(a,d,u)}runOutsideAngular(a){return this._outer.run(a)}}const OV={};function Vw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function EI(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function iR(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function rR(o){o._nesting--,Vw(o)}class FV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hd,this.onMicrotaskEmpty=new hd,this.onStable=new hd,this.onError=new hd}run(a,d,u){return a.apply(d,u)}runGuarded(a,d,u){return a.apply(d,u)}runOutsideAngular(a){return a()}runTask(a,d,u,f){return a.apply(d,u)}}const sR=new ni("",{providedIn:"root",factory:oR});function oR(){const o=Kt(bs);let a=!0;const d=new j.y(f=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(a),f.complete()})}),u=new j.y(f=>{let g;o.runOutsideAngular(()=>{g=o.onStable.subscribe(()=>{bs.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const y=o.onUnstable.subscribe(()=>{bs.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});return(0,oe.T)(d,u.pipe((0,he.B)()))}function aR(o){return o.ownerDocument.defaultView}function Su(o){return o instanceof Function?o():o}let II=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=yt({token:o,providedIn:"root",factory:()=>new o})}return o})();function Ev(o){for(;o;){o[Pt]|=64;const a=Je(o);if(Yo(o)&&!a)return o;o=a}return null}const hR=new ni("",{providedIn:"root",factory:()=>!1});let Hw=null;function gR(o,a){return o[a]??yR()}function _R(o,a){const d=yR();d.producerNode?.length&&(o[a]=Hw,d.lView=o,Hw=vR())}const $V={...Jo,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Ev(o.lView)},lView:null};function vR(){return Object.create($V)}function yR(){return Hw??=vR(),Hw}const hn={};function bR(o){wR(vn(),Ue(),Ir()+o,!1)}function wR(o,a,d,u){if(!u)if(3==(3&a[Pt])){const g=o.preOrderCheckHooks;null!==g&&Na(a,g,d)}else{const g=o.preOrderHooks;null!==g&&ou(a,g,0,d)}sa(d)}function rg(o,a=xt.Default){const d=Ue();return null===d?Ut(o,a):lc(rr(),d,He(o),a)}function xR(){throw new Error("invalid")}function jw(o,a,d,u,f,g,y,C,D,R,N){const G=a.blueprint.slice();return G[Qn]=f,G[Pt]=140|u,(null!==R||o&&2048&o[Pt])&&(G[Pt]|=2048),Ip(G),G[Dn]=G[yr]=o,G[_n]=d,G[$o]=y||o&&o[$o],G[Mt]=C||o&&o[Mt],G[Ws]=D||o&&o[Ws]||null,G[hi]=g,G[Ys]=function Rh(){return lw++}(),G[br]=N,G[Ks]=R,G[Xn]=2==a.type?o[Xn]:G,G}function sg(o,a,d,u,f){let g=o.data[a];if(null===g)g=function DI(o,a,d,u,f){const g=tu(),y=hl(),D=o.data[a]=function KV(o,a,d,u,f,g){let y=a?a.injectorIndex:-1,C=0;return Ro()&&(C|=128),{type:d,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,d,a,u,f);return null===o.firstChild&&(o.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(o,a,d,u,f),function gh(){return Ht.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=d,g.value=u,g.attrs=f;const y=function rc(){const o=Ht.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Pa(g,!0),g}function Iv(o,a,d,u){if(0===d)return-1;const f=a.length;for(let g=0;g<d;g++)a.push(u),o.blueprint.push(u),o.data.push(null);return f}function CR(o,a,d,u,f){const g=gR(a,Aa),y=Ir(),C=2&u;try{sa(-1),C&&a.length>Qt&&wR(o,a,Qt,!1),S(C?2:0,f);const R=C?g:null,N=zd(R);try{null!==R&&(R.dirty=!1),d(u,f)}finally{Oi(R,N)}}finally{C&&null===a[Aa]&&_R(a,Aa),sa(y),S(C?3:1,f)}}function SI(o,a,d){if(el(a)){const u=xr(null);try{const g=a.directiveEnd;for(let y=a.directiveStart;y<g;y++){const C=o.data[y];C.contentQueries&&C.contentQueries(1,d[y],y)}}finally{xr(u)}}}function zw(o,a,d){Er()&&(function kR(o,a,d,u){const f=d.directiveStart,g=d.directiveEnd;To(d)&&function FR(o,a,d){const u=Jt(a,o),f=og(d);let y=16;d.signals?y=4096:d.onPush&&(y=64);const C=Yw(o,jw(o,f,null,y,u,a,null,o[$o].rendererFactory.createRenderer(u,d),null,null,null));o[a.index]=C}(a,d,o.data[f+d.componentOffset]),o.firstCreatePass||qn(d,a),ss(u,a);const y=d.initialInputs;for(let C=f;C<g;C++){const D=o.data[C],R=xl(a,o,C,d);ss(R,a),null!==y&&NR(0,C-f,R,D,0,y),wr(D)&&(Cr(d.index,a)[_n]=xl(a,o,C,d))}}(o,a,d,Jt(d,a)),64==(64&d.flags)&&RI(o,a,d))}function Tu(o,a,d=Jt){const u=a.localNames;if(null!==u){let f=a.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],C=-1===y?d(a,o):o[y];o[f++]=C}}}function og(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Dv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function Dv(o,a,d,u,f,g,y,C,D,R,N){const G=Qt+u,te=G+f,ce=function ER(o,a){const d=[];for(let u=0;u<a;u++)d.push(u<o?null:hn);return d}(G,te),Pe="function"==typeof R?R():R;return ce[ct]={type:o,blueprint:ce,template:d,queries:null,viewQuery:C,declTNode:a,data:ce.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Pe,incompleteFirstPass:!1,ssrId:N}}let $w=o=>null;function kI(o,a,d,u){for(let f in o)if(o.hasOwnProperty(f)){d=null===d?{}:d;const g=o[f];null===u?IR(d,a,f,g):u.hasOwnProperty(f)&&IR(d,a,u[f],g)}return d}function IR(o,a,d,u){o.hasOwnProperty(d)?o[d].push(a,u):o[d]=[a,u]}function ja(o,a,d,u,f,g,y,C){const D=Jt(a,d);let N,R=a.inputs;!C&&null!=R&&(N=R[u])?(Au(o,d,N,u,f),To(a)&&function QV(o,a){const d=Cr(a,o);16&d[Pt]||(d[Pt]|=64)}(d,a.index)):3&a.type&&(u=function ZV(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),f=null!=y?y(f,a.value||"",u):f,g.setProperty(D,u,f))}function ag(o,a,d,u){if(Er()){const f=null===u?null:{"":-1},g=function RR(o,a){const d=o.directiveRegistry;let u=null,f=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];if(jl(a,y.selectors,!1))if(u||(u=[]),wr(y))if(null!==y.findHostDirectiveDefs){const C=[];f=f||new Map,y.findHostDirectiveDefs(y,C,f),u.unshift(...C,y),qw(o,a,C.length)}else u.unshift(y),qw(o,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,u,f),u.push(y)}return null===u?null:[u,f]}(o,d);let y,C;null===g?y=C=null:[y,C]=g,null!==y&&TR(o,a,d,y,f,C),f&&function OR(o,a,d){if(a){const u=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=d[a[f+1]];if(null==g)throw new _e(-301,!1);u.push(a[f],g)}}}(d,u,f)}d.mergedAttrs=yo(d.mergedAttrs,d.attrs)}function TR(o,a,d,u,f,g){for(let R=0;R<u.length;R++)bl(qn(d,a),o,u[R].type);!function PI(o,a,d){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+d,o.providerIndexes=a}(d,o.data.length,u.length);for(let R=0;R<u.length;R++){const N=u[R];N.providersResolver&&N.providersResolver(N)}let y=!1,C=!1,D=Iv(o,a,u.length,null);for(let R=0;R<u.length;R++){const N=u[R];d.mergedAttrs=yo(d.mergedAttrs,N.hostAttrs),PR(o,d,a,D,N),OI(D,N,f),null!==N.contentQueries&&(d.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(d.flags|=64);const G=N.type.prototype;!y&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((o.preOrderHooks??=[]).push(d.index),y=!0),!C&&(G.ngOnChanges||G.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(d.index),C=!0),D++}!function DR(o,a,d){const f=a.directiveEnd,g=o.data,y=a.attrs,C=[];let D=null,R=null;for(let N=a.directiveStart;N<f;N++){const G=g[N],te=d?d.get(G):null,Pe=te?te.outputs:null;D=kI(G.inputs,N,D,te?te.inputs:null),R=kI(G.outputs,N,R,Pe);const Ke=null===D||null===y||Pr(a)?null:XV(D,N,y);C.push(Ke)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=8),D.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=D,a.outputs=R}(o,d,g)}function RI(o,a,d){const u=d.directiveStart,f=d.directiveEnd,g=d.index,y=function z_(){return Ht.lFrame.currentDirectiveIndex}();try{sa(g);for(let C=u;C<f;C++){const D=o.data[C],R=a[C];iu(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&MR(D,R)}}finally{sa(-1),iu(y)}}function MR(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function qw(o,a,d){a.componentOffset=d,(o.components??=[]).push(a.index)}function OI(o,a,d){if(d){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)d[a.exportAs[u]]=o;wr(a)&&(d[""]=o)}}function PR(o,a,d,u,f){o.data[u]=f;const g=f.factory||(f.factory=Qo(f.type)),y=new Os(g,wr(f),rg);o.blueprint[u]=y,d[u]=y,function MI(o,a,d,u,f){const g=f.hostBindings;if(g){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const C=~a.index;(function AR(o){let a=o.length;for(;a>0;){const d=o[--a];if("number"==typeof d&&d<0)return d}return 0})(y)!=C&&y.push(C),y.push(d,u,g)}}(o,a,u,Iv(o,d,f.hostVars,hn),f)}function bc(o,a,d,u,f,g){const y=Jt(o,a);!function Ww(o,a,d,u,f,g,y){if(null==g)o.removeAttribute(a,f,d);else{const C=null==y?ue(g):y(g,u||"",f);o.setAttribute(a,f,C,d)}}(a[Mt],y,g,o.value,d,u,f)}function NR(o,a,d,u,f,g){const y=g[a];if(null!==y)for(let C=0;C<y.length;)LR(u,d,y[C++],y[C++],y[C++])}function LR(o,a,d,u,f){const g=xr(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(f=y[u].call(a,f)),null!==o.setInput?o.setInput(a,f,d,u):a[u]=f}finally{xr(g)}}function XV(o,a,d){let u=null,f=0;for(;f<d.length;){const g=d[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===u&&(u=[]);const y=o[g];for(let C=0;C<y.length;C+=2)if(y[C]===a){u.push(g,y[C+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function BR(o,a,d,u){return[o,!0,!1,a,null,0,u,d,null,null,null]}function VR(o,a){const d=o.contentQueries;if(null!==d)for(let u=0;u<d.length;u+=2){const g=d[u+1];if(-1!==g){const y=o.data[g];Gf(d[u]),y.contentQueries(2,a[g],g)}}}function Yw(o,a){return o[Hi]?o[Eo][vr]=a:o[Hi]=a,o[Eo]=a,a}function FI(o,a,d){Gf(0);const u=xr(null);try{a(o,d)}finally{xr(u)}}function Sv(o){return o[Ja]||(o[Ja]=[])}function LI(o){return o.cleanup||(o.cleanup=[])}function BI(o,a,d){return(null===o||wr(o))&&(d=function _t(o){for(;Array.isArray(o);){if("object"==typeof o[Wo])return o;o=o[Qn]}return null}(d[a.index])),d[Mt]}function Kw(o,a){const d=o[Ws],u=d?d.get(zh,null):null;u&&u.handleError(a)}function Au(o,a,d,u,f){for(let g=0;g<d.length;){const y=d[g++],C=d[g++];LR(o.data[y],a[y],u,C,f)}}function JV(o,a){const d=Cr(a,o),u=d[ct];!function UR(o,a){for(let d=a.length;d<o.blueprint.length;d++)a.push(o.blueprint[d])}(u,d);const f=d[Qn];null!==f&&null===d[br]&&(d[br]=Du(f,d[Ws])),VI(u,d,d[_n])}function VI(o,a,d){li(a);try{const u=o.viewQuery;null!==u&&FI(1,u,d);const f=o.template;null!==f&&CR(o,a,f,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&VR(o,a),o.staticViewQueries&&FI(2,o.viewQuery,d);const g=o.components;null!==g&&function eU(o,a){for(let d=0;d<a.length;d++)JV(o,a[d])}(a,g)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Pt]&=-5,sr()}}let HR=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(d,u,f){const g=typeof Zone>"u"?null:Zone.current,y=function Bf(o,a,d){const u=Object.create(As);d&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=a;const f=y=>{u.cleanupFn=y};return u.ref={notify:()=>ka(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Gc(u))return;u.hasRun=!0;const y=zd(u);try{u.cleanupFn(),u.cleanupFn=Yc,u.fn(f)}finally{Oi(u,y)}},cleanup:()=>u.cleanupFn()},u.ref}(d,R=>{this.all.has(R)&&this.queue.set(R,g)},f);let C;this.all.add(y),y.notify();const D=()=>{y.cleanup(),C?.(),this.all.delete(y),this.queue.delete(y)};return C=u?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[d,u]of this.queue)this.queue.delete(d),u?u.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=yt({token:o,providedIn:"root",factory:()=>new o})}return o})();function Tv(o,a,d){let u=d?o.styles:null,f=d?o.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const C=a[y];"number"==typeof C?g=C:1==g?f=We(f,C):2==g&&(u=We(u,C+": "+a[++y]+";"))}d?o.styles=u:o.stylesWithoutHost=u,d?o.classes=f:o.classesWithoutHost=f}function ku(o,a,d,u,f=!1){for(;null!==d;){const g=a[d.index];null!==g&&u.push(ge(g)),ji(g)&&Gh(g,u);const y=d.type;if(8&y)ku(o,a,d.child,u);else if(32&y){const C=ae(d,a);let D;for(;D=C();)u.push(D)}else if(16&y){const C=pw(a,d);if(Array.isArray(C))u.push(...C);else{const D=Je(a[Xn]);ku(D[ct],D,C,u,!0)}}d=f?d.projectionNext:d.next}return u}function Gh(o,a){for(let d=wi;d<o.length;d++){const u=o[d],f=u[ct].firstChild;null!==f&&ku(u[ct],u,f,a)}o[bi]!==o[Qn]&&a.push(o[bi])}function Zw(o,a,d,u=!0){const f=a[$o],g=f.rendererFactory,y=f.afterRenderEventManager;g.begin?.(),y?.begin();try{Av(o,a,o.template,d)}catch(D){throw u&&Kw(a,D),D}finally{g.end?.(),f.effectManager?.flush(),y?.end()}}function Av(o,a,d,u){const f=a[Pt];if(256!=(256&f)){a[$o].effectManager?.flush(),li(a);try{Ip(a),function jf(o){return Ht.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&CR(o,a,d,2,u);const y=3==(3&f);if(y){const R=o.preOrderCheckHooks;null!==R&&Na(a,R,null)}else{const R=o.preOrderHooks;null!==R&&ou(a,R,0,null),oc(a,0)}if(function zR(o){for(let a=Ci(o);null!==a;a=io(a)){if(!a[Wl])continue;const d=a[Di];for(let u=0;u<d.length;u++){hh(d[u])}}}(a),Qw(a,2),null!==o.contentQueries&&VR(o,a),y){const R=o.contentCheckHooks;null!==R&&Na(a,R)}else{const R=o.contentHooks;null!==R&&ou(a,R,1),oc(a,1)}!function qV(o,a){const d=o.hostBindingOpCodes;if(null===d)return;const u=gR(a,Do);try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)sa(~g);else{const y=g,C=d[++f],D=d[++f];nu(C,y),u.dirty=!1;const R=zd(u);try{D(2,a[y])}finally{Oi(u,R)}}}}finally{null===a[Do]&&_R(a,Do),sa(-1)}}(o,a);const C=o.components;null!==C&&jI(a,C,0);const D=o.viewQuery;if(null!==D&&FI(2,D,u),y){const R=o.viewCheckHooks;null!==R&&Na(a,R)}else{const R=o.viewHooks;null!==R&&ou(a,R,2),oc(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Pt]&=-73,Kd(a)}finally{sr()}}}function Qw(o,a){for(let d=Ci(o);null!==d;d=io(d))for(let u=wi;u<d.length;u++)HI(d[u],a)}function GR(o,a,d){HI(Cr(a,o),d)}function HI(o,a){if(!function ic(o){return 128==(128&o[Pt])}(o))return;const d=o[ct],u=o[Pt];if(80&u&&0===a||1024&u||2===a)Av(d,o,d.template,o[_n]);else if(o[Co]>0){Qw(o,1);const f=d.components;null!==f&&jI(o,f,1)}}function jI(o,a,d){for(let u=0;u<a.length;u++)GR(o,a[u],d)}class lg{get rootNodes(){const a=this._lView,d=a[ct];return ku(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(a){this._lView[_n]=a}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Dn];if(ji(a)){const d=a[8],u=d?d.indexOf(this):-1;u>-1&&(iv(a,u),kp(d,u))}this._attachedToViewContainer=!1}hw(this._lView[ct],this._lView)}onDestroy(a){!function si(o,a){if(256==(256&o[Pt]))throw new _e(911,!1);null===o[Io]&&(o[Io]=[]),o[Io].push(a)}(this._lView,a)}markForCheck(){Ev(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){Zw(this._lView[ct],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ld(o,a){Gp(o,a,a[Mt],2,null,null)}(this._lView[ct],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=a}}class md extends lg{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Zw(a[ct],a,a[_n],!1)}checkNoChanges(){}get context(){return null}}class $R extends xv{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=dn(a);return new kv(d,this.ngModule)}}function $h(o){const a=[];for(let d in o)o.hasOwnProperty(d)&&a.push({propName:o[d],templateName:d});return a}class nU{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,u){u=vi(u);const f=this.injector.get(a,Bw,u);return f!==Bw||d===Bw?f:this.parentInjector.get(a,d,u)}}class kv extends Fw{get inputs(){const a=this.componentDef,d=a.inputTransforms,u=$h(a.inputs);if(null!==d)for(const f of u)d.hasOwnProperty(f.propName)&&(f.transform=d[f.propName]);return u}get outputs(){return $h(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function zl(o){return o.map(Qa).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,u,f){let g=(f=f||this.ngModule)instanceof Ns?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new nU(a,g):a,C=y.get(qM,null);if(null===C)throw new _e(407,!1);const G={rendererFactory:C,sanitizer:y.get(IV,null),effectManager:y.get(HR,null),afterRenderEventManager:y.get(II,null)},te=C.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",Pe=u?function TI(o,a,d,u){const g=u.get(hR,!1)||d===Gr.ShadowDom,y=o.selectRootElement(a,g);return function Gw(o){$w(o)}(y),y}(te,u,this.componentDef.encapsulation,y):Cu(te,ce,function zI(o){const a=o.toLowerCase();return"svg"===a?F:"math"===a?"math":null}(ce)),Rt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ze=null;null!==Pe&&(ze=Du(Pe,y,!0));const Xt=Dv(0,null,null,1,0,null,null,null,null,null,null),yn=jw(null,Xt,null,Rt,null,null,G,te,y,null,ze);let oi,ds;li(yn);try{const Ec=this.componentDef;let Id,df=null;Ec.findHostDirectiveDefs?(Id=[],df=new Map,Ec.findHostDirectiveDefs(Ec,Id,df),Id.push(Ec)):Id=[Ec];const uf=function rU(o,a){const d=o[ct],u=Qt;return o[u]=a,sg(d,u,2,"#host",null)}(yn,Pe),Lx=function sU(o,a,d,u,f,g,y){const C=f[ct];!function oU(o,a,d,u){for(const f of o)a.mergedAttrs=yo(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Tv(a,a.mergedAttrs,!0),null!==d&&$p(u,d,a))}(u,o,a,y);let D=null;null!==a&&(D=Du(a,f[Ws]));const R=g.rendererFactory.createRenderer(a,d);let N=16;d.signals?N=4096:d.onPush&&(N=64);const G=jw(f,og(d),null,N,f[o.index],o,g,R,null,null,D);return C.firstCreatePass&&qw(C,o,u.length-1),Yw(f,G),f[o.index]=G}(uf,Pe,Ec,Id,yn,G,te);ds=Mo(Xt,Qt),Pe&&function lU(o,a,d,u){if(u)vo(o,d,["ng-version",YM.full]);else{const{attrs:f,classes:g}=function $r(o){const a=[],d=[];let u=1,f=2;for(;u<o.length;){let g=o[u];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++u]):8===f&&d.push(g);else{if(!Fr(f))break;f=g}u++}return{attrs:a,classes:d}}(a.selectors[0]);f&&vo(o,d,f),g&&g.length>0&&HE(o,d,g.join(" "))}}(te,Ec,Pe,u),void 0!==d&&function GI(o,a,d){const u=o.projection=[];for(let f=0;f<a.length;f++){const g=d[f];u.push(null!=g?Array.from(g):null)}}(ds,this.ngContentSelectors,d),oi=function aU(o,a,d,u,f,g){const y=rr(),C=f[ct],D=Jt(y,f);TR(C,f,y,d,null,u);for(let N=0;N<d.length;N++)ss(xl(f,C,y.directiveStart+N,y),f);RI(C,f,y),D&&ss(D,f);const R=xl(f,C,y.directiveStart+y.componentOffset,y);if(o[_n]=f[_n]=R,null!==g)for(const N of g)N(R,a);return SI(C,y,o),R}(Lx,Ec,Id,df,yn,[qR]),VI(Xt,yn,null)}finally{sr()}return new iU(this.componentType,oi,_m(ds,yn),yn,ds)}}class iU extends Pw{constructor(a,d,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new md(f),this.componentType=a}setInput(a,d){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),d))return;const g=this._rootLView;Au(g[ct],g,f,a,d),this.previousInputValues.set(a,d),Ev(Cr(this._tNode.index,g))}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function qR(){const o=rr();sc(Ue()[ct],o)}function Xw(o){let a=function $I(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const u=[o];for(;a;){let f;if(wr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new _e(903,!1);f=a.\u0275dir}if(f){if(d){u.push(f);const y=o;y.inputs=In(o.inputs),y.inputTransforms=In(o.inputTransforms),y.declaredInputs=In(o.declaredInputs),y.outputs=In(o.outputs);const C=f.hostBindings;C&&uU(o,C);const D=f.viewQuery,R=f.contentQueries;if(D&&cU(o,D),R&&dU(o,R),Q(o.inputs,f.inputs),Q(o.declaredInputs,f.declaredInputs),Q(o.outputs,f.outputs),null!==f.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Q(y.inputTransforms,f.inputTransforms)),wr(f)&&f.data.animation){const N=o.data;N.animation=(N.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let y=0;y<g.length;y++){const C=g[y];C&&C.ngInherit&&C(o),C===Xw&&(d=!1)}}a=Object.getPrototypeOf(a)}!function WR(o){let a=0,d=null;for(let u=o.length-1;u>=0;u--){const f=o[u];f.hostVars=a+=f.hostVars,f.hostAttrs=yo(f.hostAttrs,d=yo(d,f.hostAttrs))}}(u)}function In(o){return o===pr?{}:o===cn?[]:o}function cU(o,a){const d=o.viewQuery;o.viewQuery=d?(u,f)=>{a(u,f),d(u,f)}:a}function dU(o,a){const d=o.contentQueries;o.contentQueries=d?(u,f,g)=>{a(u,f,g),d(u,f,g)}:a}function uU(o,a){const d=o.hostBindings;o.hostBindings=d?(u,f)=>{a(u,f),d(u,f)}:a}function ZR(o){const a=o.inputConfig,d={};for(const u in a)if(a.hasOwnProperty(u)){const f=a[u];Array.isArray(f)&&f[2]&&(d[u]=f[2])}o.inputTransforms=d}function n0(o){return!!WI(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function WI(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function pd(o,a,d){return o[a]=d}function ro(o,a,d){return!Object.is(o[a],d)&&(o[a]=d,!0)}function r0(o,a,d,u){const f=Ue();return ro(f,fl(),a)&&(vn(),bc(ei(),f,o,a,d,u)),r0}function eD(o,a,d,u,f,g,y,C){const D=Ue(),R=vn(),N=o+Qt,G=R.firstCreatePass?function DU(o,a,d,u,f,g,y,C,D){const R=a.consts,N=sg(a,o,4,y||null,ts(R,C));ag(a,d,N,ts(R,D)),sc(a,N);const G=N.tView=Dv(2,N,u,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,R,null);return null!==a.queries&&(a.queries.template(a,N),G.queries=a.queries.embeddedTView(N)),N}(N,R,D,a,d,u,f,g,y):R.data[N];Pa(G,!1);const te=tD(R,D,G,o);Rs()&&jp(R,D,te,G),ss(te,D),Yw(D,D[N]=BR(te,D,te,G)),Nr(G)&&zw(R,D,G),null!=y&&Tu(D,G,C)}let tD=function Ov(o,a,d,u){return Js(!0),a[Mt].createComment("")};function nD(o){return Zs(function Dp(){return Ht.lFrame.contextLView}(),Qt+o)}function iD(o,a,d){const u=Ue();return ro(u,fl(),a)&&ja(vn(),ei(),u,o,a,u[Mt],d,!1),iD}function d0(o,a,d,u,f){const y=f?"class":"style";Au(o,d,a.inputs[y],y,u)}function mg(o,a,d,u){const f=Ue(),g=vn(),y=Qt+o,C=f[Mt],D=g.firstCreatePass?function rD(o,a,d,u,f,g){const y=a.consts,D=sg(a,o,2,u,ts(y,f));return ag(a,d,D,ts(y,g)),null!==D.attrs&&Tv(D,D.attrs,!1),null!==D.mergedAttrs&&Tv(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(y,g,f,a,d,u):g.data[y],R=d1(g,f,D,C,a,o);f[y]=R;const N=Nr(D);return Pa(D,!0),$p(C,R,D),32!=(32&D.flags)&&Rs()&&jp(g,f,R,D),0===function Zd(){return Ht.lFrame.elementDepthCount}()&&ss(R,f),function ir(){Ht.lFrame.elementDepthCount++}(),N&&(zw(g,f,D),SI(g,D,f)),null!==u&&Tu(f,D),mg}function u0(){let o=rr();hl()?mh():(o=o.parent,Pa(o,!1));const a=o;(function Qd(o){return Ht.skipHydrationRootTNode===o})(a)&&function fh(){Ht.skipHydrationRootTNode=null}(),function Hf(){Ht.lFrame.elementDepthCount--}();const d=vn();return d.firstCreatePass&&(sc(d,o),el(o)&&d.queries.elementEnd(o)),null!=a.classesWithoutHost&&function oa(o){return 0!=(8&o.flags)}(a)&&d0(d,a,Ue(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function eo(o){return 0!=(16&o.flags)}(a)&&d0(d,a,Ue(),a.stylesWithoutHost,!1),u0}function h0(o,a,d,u){return mg(o,a,d,u),u0(),h0}let d1=(o,a,d,u,f,g)=>(Js(!0),Cu(u,f,function vh(){return Ht.lFrame.currentNamespace}()));function f0(o,a,d){const u=Ue(),f=vn(),g=o+Qt,y=f.firstCreatePass?function sD(o,a,d,u,f){const g=a.consts,y=ts(g,u),C=sg(a,o,8,"ng-container",y);return null!==y&&Tv(C,y,!0),ag(a,d,C,ts(g,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,f,u,a,d):f.data[g];Pa(y,!0);const C=oD(f,u,y,o);return u[g]=C,Rs()&&jp(f,u,C,y),ss(C,u),Nr(y)&&(zw(f,u,y),SI(f,y,u)),null!=d&&Tu(u,y),f0}function pg(){let o=rr();const a=vn();return hl()?mh():(o=o.parent,Pa(o,!1)),a.firstCreatePass&&(sc(a,o),el(o)&&a.queries.elementEnd(o)),pg}function m0(o,a,d){return f0(o,a,d),pg(),m0}let oD=(o,a,d,u)=>(Js(!0),_c(a[Mt],""));function Dm(){return Ue()}function Pv(o){return!!o&&"function"==typeof o.then}function aD(o){return!!o&&"function"==typeof o.subscribe}function p0(o,a,d,u){const f=Ue(),g=vn(),y=rr();return Sm(g,f,f[Mt],y,o,a,u),p0}function g0(o,a){const d=rr(),u=Ue(),f=vn();return Sm(f,u,BI(zf(f.data),d,u),d,o,a),g0}function Sm(o,a,d,u,f,g,y){const C=Nr(u),R=o.firstCreatePass&&LI(o),N=a[_n],G=Sv(a);let te=!0;if(3&u.type||y){const Ke=Jt(u,a),dt=y?y(Ke):Ke,Rt=G.length,ze=y?yn=>y(ge(yn[u.index])):u.index;let Xt=null;if(!y&&C&&(Xt=function lD(o,a,d,u){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const y=f[g];if(y===d&&f[g+1]===u){const C=a[Ja],D=f[g+2];return C.length>D?C[D]:null}"string"==typeof y&&(g+=2)}return null}(o,a,f,u.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=g,Xt.__ngLastListenerFn__=g,te=!1;else{g=_0(u,a,N,g,!1);const yn=d.listen(dt,f,g);G.push(g,yn),R&&R.push(f,ze,Rt,Rt+1)}}else g=_0(u,a,N,g,!1);const ce=u.outputs;let Pe;if(te&&null!==ce&&(Pe=ce[f])){const Ke=Pe.length;if(Ke)for(let dt=0;dt<Ke;dt+=2){const oi=a[Pe[dt]][Pe[dt+1]].subscribe(g),ds=G.length;G.push(g,oi),R&&R.push(f,u.index,ds,-(ds+1))}}}function cD(o,a,d,u){try{return S(6,a,d),!1!==d(u)}catch(f){return Kw(o,f),!1}finally{S(7,a,d)}}function _0(o,a,d,u,f){return function g(y){if(y===Function)return u;Ev(o.componentOffset>-1?Cr(o.index,a):a);let D=cD(a,d,u,y),R=g.__ngNextListenerFn__;for(;R;)D=cD(a,d,R,y)&&D,R=R.__ngNextListenerFn__;return f&&!1===D&&y.preventDefault(),D}}function dD(o=1){return function su(o){return(Ht.lFrame.contextLView=function Kc(o,a){for(;o>0;)a=a[yr],o--;return a}(o,Ht.lFrame.contextLView))[_n]}(o)}function f1(o,a){let d=null;const u=function Nc(o){const a=o.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===u?jl(o,g,!0):Go(u,g))return f}else d=f}return d}function m1(o){const a=Ue()[Xn][hi];if(!a.projection){const u=a.projection=Cl(o?o.length:1,null),f=u.slice();let g=a.child;for(;null!==g;){const y=o?f1(g,o):0;null!==y&&(f[y]?f[y].projectionNext=g:u[y]=g,f[y]=g),g=g.next}}}function uD(o,a=0,d){const u=Ue(),f=vn(),g=sg(f,Qt+o,16,null,d||null);null===g.projection&&(g.projection=a),mh(),(!u[br]||Ro())&&32!=(32&g.flags)&&function _w(o,a,d){vw(a[Mt],0,a,d,rm(o,d,a),BE(d.parent||a[hi],d,a))}(f,u,g)}function Am(o,a){return o<<17|a<<2}function Qh(o){return o>>17&32767}function y0(o){return 2|o}function Ou(o){return(131068&o)>>2}function Nv(o,a){return-131069&o|a<<2}function _D(o){return 1|o}function vD(o,a,d,u,f){const g=o[d+1],y=null===a;let C=u?Qh(g):Ou(g),D=!1;for(;0!==C&&(!1===D||y);){const N=o[C+1];Lv(o[C],a)&&(D=!0,o[C+1]=u?_D(N):y0(N)),C=u?Qh(N):Ou(N)}D&&(o[d+1]=u?y0(g):_D(g))}function Lv(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&uu(o,a)>=0}function Uv(o,a,d){return za(o,a,d,!1),Uv}function b0(o,a){return za(o,a,null,!0),b0}function za(o,a,d,u){const f=Ue(),g=vn(),y=function Ms(o){const a=Ht.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,d}(2);g.firstUpdatePass&&function vg(o,a,d,u){const f=o.data;if(null===f[d+1]){const g=f[Ir()],y=function Sr(o,a){return a>=o.expandoStartIndex}(o,d);(function CD(o,a){return 0!=(o.flags&(a?8:16))})(g,u)&&null===a&&!y&&(a=!1),a=function Tr(o,a,d,u){const f=zf(o);let g=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(d=jv(d=Hv(null,o,a,d,u),a.attrs,u),g=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(d=Hv(f,o,a,d,u),null===g){let D=function BU(o,a,d){const u=d?a.classBindings:a.styleBindings;if(0!==Ou(u))return o[Qh(u)]}(o,a,u);void 0!==D&&Array.isArray(D)&&(D=Hv(null,o,a,D[1],u),D=jv(D,a.attrs,u),function bD(o,a,d,u){o[Qh(d?a.classBindings:a.styleBindings)]=u}(o,a,u,D))}else g=function VU(o,a,d){let u;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)u=jv(u,o[g].hostAttrs,d);return jv(u,a.attrs,d)}(o,a,u)}return void 0!==g&&(u?a.residualClasses=g:a.residualStyles=g),d}(f,g,a,u),function RU(o,a,d,u,f,g){let y=g?a.classBindings:a.styleBindings,C=Qh(y),D=Ou(y);o[u]=d;let N,R=!1;if(Array.isArray(d)?(N=d[1],(null===N||uu(d,N)>0)&&(R=!0)):N=d,f)if(0!==D){const te=Qh(o[C+1]);o[u+1]=Am(te,C),0!==te&&(o[te+1]=Nv(o[te+1],u)),o[C+1]=function _1(o,a){return 131071&o|a<<17}(o[C+1],u)}else o[u+1]=Am(C,0),0!==C&&(o[C+1]=Nv(o[C+1],u)),C=u;else o[u+1]=Am(D,0),0===C?C=u:o[D+1]=Nv(o[D+1],u),D=u;R&&(o[u+1]=y0(o[u+1])),vD(o,N,u,!0),vD(o,N,u,!1),function OU(o,a,d,u,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&uu(g,a)>=0&&(d[u+1]=_D(d[u+1]))}(a,N,o,u,g),y=Am(C,D),g?a.classBindings=y:a.styleBindings=y}(f,g,a,d,y,u)}}(g,o,y,u),a!==hn&&ro(f,y,a)&&function wD(o,a,d,u,f,g,y,C){if(!(3&a.type))return;const D=o.data,R=D[C+1],N=function MU(o){return 1==(1&o)}(R)?xD(D,a,d,f,Ou(R),y):void 0;Gv(N)||(Gv(g)||function g1(o){return 2==(2&o)}(R)&&(g=xD(D,null,d,f,C,y)),function yM(o,a,d,u,f){if(a)f?o.addClass(d,u):o.removeClass(d,u);else{let g=-1===u.indexOf("-")?void 0:bu.DashCase;null==f?o.removeStyle(d,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=bu.Important),o.setStyle(d,u,f,g))}}(u,y,un(Ir(),d),f,g))}(g,g.data[Ir()],f,f[Mt],o,f[y+1]=function x1(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=z(cd(o)))),o}(a,d),u,y)}function Hv(o,a,d,u,f){let g=null;const y=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<y&&(g=a[C],u=jv(u,g.hostAttrs,f),g!==o);)C++;return null!==o&&(d.directiveStylingLast=C),u}function jv(o,a,d){const u=d?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?f=y:f===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),no(o,y,!!d||a[++g]))}return void 0===o?null:o}function xD(o,a,d,u,f,g){const y=null===a;let C;for(;f>0;){const D=o[f],R=Array.isArray(D),N=R?D[1]:D,G=null===N;let te=d[f+1];te===hn&&(te=G?cn:void 0);let ce=G?Rp(te,u):N===u?te:void 0;if(R&&!Gv(ce)&&(ce=Rp(D,u)),Gv(ce)&&(C=ce,y))return C;const Pe=o[f+1];f=y?Qh(Pe):Ou(Pe)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(C=Rp(D,u))}return C}function Gv(o){return void 0!==o}function ED(o,a=""){const d=Ue(),u=vn(),f=o+Qt,g=u.firstCreatePass?sg(u,f,1,a,null):u.data[f],y=ID(u,d,g,a,o);d[f]=y,Rs()&&jp(u,d,y,g),Pa(g,!1)}let ID=(o,a,d,u,f)=>(Js(!0),function xu(o,a){return o.createText(a)}(a[Mt],u));function C0(o){return bg("",o,""),C0}function bg(o,a,d){const u=Ue(),f=function bm(o,a,d,u){return ro(o,fl(),d)?a+ue(d)+u:hn}(u,o,a,d);return f!==hn&&function fd(o,a,d){const u=un(a,o);!function gc(o,a,d){o.setValue(a,d)}(o[Mt],u,d)}(u,Ir(),f),bg}function PD(o,a,d){const u=Ue();return ro(u,fl(),a)&&ja(vn(),ei(),u,o,a,u[Mt],d,!0),PD}function xg(o,a,d){const u=Ue();if(ro(u,fl(),a)){const g=vn(),y=ei();ja(g,y,u,o,a,BI(zf(g.data),y,u),d,!0)}return xg}const vd=void 0;var O1=["en",[["a","p"],["AM","PM"],vd],[["AM","PM"],vd,vd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vd,"{1} 'at' {0}",vd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jU(o){const d=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===u?1:5}];let Cg={};function FD(o){const a=function L1(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=ND(a);if(d)return d;const u=a.split("-")[0];if(d=ND(u),d)return d;if("en"===u)return O1;throw new _e(701,!1)}function N1(o){return FD(o)[Eg.PluralCase]}function ND(o){return o in Cg||(Cg[o]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[o]),Cg[o]}var Eg=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Eg||{});const Rm="en-US";let V1=Rm;function ty(o,a,d,u,f){if(o=He(o),Array.isArray(o))for(let g=0;g<o.length;g++)ty(o[g],a,d,u,f);else{const g=vn(),y=Ue(),C=rr();let D=cm(o)?o:He(o.provide);const R=pv(o),N=1048575&C.providerIndexes,G=C.directiveStart,te=C.providerIndexes>>20;if(cm(o)||!o.multi){const ce=new Os(R,f,rg),Pe=U0(D,a,f?N:N+te,G);-1===Pe?(bl(qn(C,y),g,D),as(g,o,a.length),a.push(D),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),d.push(ce),y.push(ce)):(d[Pe]=ce,y[Pe]=ce)}else{const ce=U0(D,a,N+te,G),Pe=U0(D,a,N,N+te),dt=Pe>=0&&d[Pe];if(f&&!dt||!f&&!(ce>=0&&d[ce])){bl(qn(C,y),g,D);const Rt=function aS(o,a,d,u,f){const g=new Os(o,d,rg);return g.multi=[],g.index=a,g.componentProviders=0,yd(g,f,u&&!d),g}(f?oS:aO,d.length,f,u,R);!f&&dt&&(d[Pe].providerFactory=Rt),as(g,o,a.length,0),a.push(D),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),d.push(Rt),y.push(Rt)}else as(g,o,ce>-1?ce:Pe,yd(d[f?Pe:ce],R,!f&&u));!f&&u&&dt&&d[Pe].componentProviders++}}}function as(o,a,d,u){const f=cm(a),g=function fV(o){return!!o.useClass}(a);if(f||g){const D=(g?He(a.useClass):a).prototype.ngOnDestroy;if(D){const R=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const N=R.indexOf(d);-1===N?R.push(d,[u,D]):R[N+1].push(u,D)}else R.push(d,D)}}}function yd(o,a,d){return d&&o.componentProviders++,o.multi.push(a)-1}function U0(o,a,d,u){for(let f=d;f<u;f++)if(a[f]===o)return f;return-1}function aO(o,a,d,u){return ny(this.multi,[])}function oS(o,a,d,u){const f=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=xl(d,d[ct],this.providerFactory.index,u);g=C.slice(0,y),ny(f,g);for(let D=y;D<C.length;D++)g.push(C[D])}else g=[],ny(f,g);return g}function ny(o,a){for(let d=0;d<o.length;d++)a.push((0,o[d])());return a}function H0(o,a=[]){return d=>{d.providersResolver=(u,f)=>function Nu(o,a,d){const u=vn();if(u.firstCreatePass){const f=wr(o);ty(d,u.data,u.blueprint,f,!0),ty(a,u.data,u.blueprint,f,!1)}}(u,f?f(o):o,a)}}class Lu{}class j0{}function lS(o,a){return new Om(o,a??null,[])}class Om extends Lu{constructor(a,d,u){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $R(this);const f=_r(a);this._bootstrapComponents=Su(f.bootstrap),this._r3Injector=JM(a,d,[{provide:Lu,useValue:this},{provide:xv,useValue:this.componentFactoryResolver},...u],z(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class iy extends j0{constructor(a){super(),this.moduleType=a}create(a){return new Om(this.moduleType,a,[])}}class z0 extends Lu{constructor(a){super(),this.componentFactoryResolver=new $R(this),this.instance=null;const d=new Tw([...a.providers,{provide:Lu,useValue:this},{provide:xv,useValue:this.componentFactoryResolver}],a.parent||Gi(),a.debugName,new Set(["environment"]));this.injector=d,a.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function G0(o,a,d=null){return new z0({providers:o,parent:a,debugName:d,runEnvironmentInitializers:!0}).injector}let cO=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const u=dI(0,d.type),f=u.length>0?G0([u],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,f)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yt({token:o,providedIn:"environment",factory:()=>new o(Ut(Ns))})}return o})();function $0(o){o.getStandaloneInjector=a=>a.get(cO).getOrCreateStandaloneInjector(o)}function hS(o,a,d){const u=ns()+o,f=Ue();return f[u]===hn?pd(f,u,d?a.call(d):a()):function vm(o,a){return o[a]}(f,u)}function pO(o,a,d,u,f,g){const y=a+d;return ro(o,y,f)?pd(o,y+1,g?u.call(g,f):u(f)):function cy(o,a){const d=o[a];return d===hn?void 0:d}(o,y+1)}function vO(o,a){const d=vn();let u;const f=o+Qt;d.firstCreatePass?(u=function dH(o,a){if(a)for(let d=a.length-1;d>=0;d--){const u=a[d];if(o===u.name)return u}}(a,d.pipeRegistry),d.data[f]=u,u.onDestroy&&(d.destroyHooks??=[]).push(f,u.onDestroy)):u=d.data[f];const g=u.factory||(u.factory=Qo(u.type)),C=Yt(rg);try{const D=An(!1),R=g();return An(D),function TU(o,a,d,u){d>=o.data.length&&(o.data[d]=null,o.blueprint[d]=null),a[d]=u}(d,Ue(),f,R),R}finally{Yt(C)}}function Mg(o,a,d){const u=o+Qt,f=Ue(),g=Zs(f,u);return function tf(o,a){return o[ct].data[a].pure}(f,u)?pO(f,ns(),a,g.transform,d,g):g.transform(d)}function bO(){return this._results[Symbol.iterator]()}class nf{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new hd)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=nf.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=bO)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const u=this;u.dirty=!1;const f=function rs(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Oo(o,a,d){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],g=a[u];if(d&&(f=d(f),g=d(g)),g!==f)return!1}return!0}(u._results,f,d))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function pS(o,a,d,u=!0){const f=a[ct];if(function uw(o,a,d,u){const f=wi+u,g=d.length;u>0&&(d[f-1][vr]=a),u<g-wi?(a[vr]=d[f],G_(d,wi+u,a)):(d.push(a),a[vr]=null),a[Dn]=d;const y=a[Vc];null!==y&&d!==y&&function Up(o,a){const d=o[Di];a[Xn]!==a[Dn][Dn][Xn]&&(o[Wl]=!0),null===d?o[Di]=[a]:d.push(a)}(y,a);const C=a[Ri];null!==C&&C.insertView(o),a[Pt]|=128}(f,a,o,d),u){const g=gw(d,o),y=a[Mt],C=rv(y,o[bi]);null!==C&&function Eu(o,a,d,u,f,g){u[Qn]=f,u[hi]=a,Gp(o,u,d,1,f,g)}(f,o[hi],y,a,C,g)}}let uy=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=hH}return o})();const uH=uy,xO=class extends uH{constructor(a,d,u){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,d){return this.createEmbeddedViewImpl(a,d)}createEmbeddedViewImpl(a,d,u){const f=function mS(o,a,d,u){const f=a.tView,C=jw(o,f,d,4096&o[Pt]?4096:16,null,a,null,null,null,u?.injector??null,u?.hydrationInfo??null);C[Vc]=o[a.index];const R=o[Ri];return null!==R&&(C[Ri]=R.createEmbeddedView(f)),VI(f,C,d),C}(this._declarationLView,this._declarationTContainer,a,{injector:d,hydrationInfo:u});return new lg(f)}};function hH(){return Bu(rr(),Ue())}function Bu(o,a){return 4&o.type?new xO(a,o,_m(o,a)):null}let Og=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=IO}return o})();function IO(){return _y(rr(),Ue())}const vS=Og,yS=class extends vS{constructor(a,d,u){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=u}get element(){return _m(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){const a=_s(this._hostTNode,this._hostLView);if(yl(a)){const d=ti(a,this._hostLView),u=Lt(a);return new xi(d[ct].data[u+8],d)}return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=DO(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-wi}createEmbeddedView(a,d,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const C=a.createEmbeddedViewImpl(d||{},g,null);return this.insertImpl(C,f,false),C}createComponent(a,d,u,f,g){const y=a&&!function ar(o){return"function"==typeof o}(a);let C;if(y)C=d;else{const Ke=d||{};C=Ke.index,u=Ke.injector,f=Ke.projectableNodes,g=Ke.environmentInjector||Ke.ngModuleRef}const D=y?a:new kv(dn(a)),R=u||this.parentInjector;if(!g&&null==D.ngModule){const dt=(y?R:this.parentInjector).get(Ns,null);dt&&(g=dt)}dn(D.componentType??{});const ce=D.create(R,f,null,g);return this.insertImpl(ce.hostView,C,false),ce}insert(a,d){return this.insertImpl(a,d,!1)}insertImpl(a,d,u){const f=a._lView;if(function Ep(o){return ji(o[Dn])}(f)){const D=this.indexOf(a);if(-1!==D)this.detach(D);else{const R=f[Dn],N=new yS(R,R[hi],R[Dn]);N.detach(N.indexOf(a))}}const y=this._adjustIndex(d),C=this._lContainer;return pS(C,f,y,!u),a.attachToViewContainerRef(),G_(tx(C),y,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=DO(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),u=iv(this._lContainer,d);u&&(kp(tx(this._lContainer),d),hw(u[ct],u))}detach(a){const d=this._adjustIndex(a,-1),u=iv(this._lContainer,d);return u&&null!=kp(tx(this._lContainer),d)?new lg(u):null}_adjustIndex(a,d=0){return a??this.length+d}};function DO(o){return o[8]}function tx(o){return o[8]||(o[8]=[])}function _y(o,a){let d;const u=a[o.index];return ji(u)?d=u:(d=BR(u,a,null,o),a[o.index]=d,Yw(a,d)),SO(d,a,o,u),new yS(d,o,a)}let SO=function vy(o,a,d,u){if(o[bi])return;let f;f=8&d.type?ge(u):function fH(o,a){const d=o[Mt],u=d.createComment(""),f=Jt(a,o);return Fh(d,rv(d,f),u,function _M(o,a){return o.nextSibling(a)}(d,f),!1),u}(a,d),o[bi]=f};class Pg{constructor(a){this.queryList=a,this.matches=null}clone(){return new Pg(this.queryList)}setDirty(){this.queryList.setDirty()}}class nx{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const u=null!==a.contentQueries?a.contentQueries[0]:d.length,f=[];for(let g=0;g<u;g++){const y=d.getByIndex(g);f.push(this.queries[y.indexInDeclarationView].clone())}return new nx(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==ax(a,d).matches&&this.queries[d].setDirty()}}class AO{constructor(a,d,u=null){this.predicate=a,this.flags=d,this.read=u}}class ix{constructor(a=[]){this.queries=a}elementStart(a,d){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let u=0;u<this.length;u++){const f=null!==d?d.length:0,g=this.getByIndex(u).embeddedTView(a,f);g&&(g.indexInDeclarationView=u,null!==d?d.push(g):d=[g])}return null!==d?new ix(d):null}template(a,d){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class sf{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new sf(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==d;)u=u.parent;return d===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(a,d,yy(d,g)),this.matchTNodeWithReadOption(a,d,wl(d,a,g,!1,!1))}else u===uy?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,wl(d,a,u,!1,!1))}matchTNodeWithReadOption(a,d,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Cv||f===Og||f===uy&&4&d.type)this.addMatch(d.index,-2);else{const g=wl(d,a,f,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,u)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function yy(o,a){const d=o.localNames;if(null!==d)for(let u=0;u<d.length;u+=2)if(d[u]===a)return d[u+1];return null}function xS(o,a,d,u){return-1===d?function wS(o,a){return 11&o.type?_m(o,a):4&o.type?Bu(o,a):null}(a,o):-2===d?function CS(o,a,d){return d===Cv?_m(a,o):d===uy?Bu(a,o):d===Og?_y(a,o):void 0}(o,a,u):xl(o,o[ct],d,a)}function kO(o,a,d,u){const f=a[Ri].queries[u];if(null===f.matches){const g=o.data,y=d.matches,C=[];for(let D=0;D<y.length;D+=2){const R=y[D];C.push(R<0?null:xS(a,g[R],y[D+1],d.metadata.read))}f.matches=C}return f.matches}function rx(o,a,d,u){const f=o.queries.getByIndex(d),g=f.matches;if(null!==g){const y=kO(o,a,f,d);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)u.push(y[C/2]);else{const R=g[C+1],N=a[-D];for(let G=wi;G<N.length;G++){const te=N[G];te[Vc]===te[Dn]&&rx(te[ct],te,R,u)}if(null!==N[Di]){const G=N[Di];for(let te=0;te<G.length;te++){const ce=G[te];rx(ce[ct],ce,R,u)}}}}}return u}function sx(o){const a=Ue(),d=vn(),u=ru();Gf(u+1);const f=ax(d,u);if(o.dirty&&function Cp(o){return 4==(4&o[Pt])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?rx(d,a,u,[]):kO(d,a,f,u);o.reset(g,xV),o.notifyOnChanges()}return!0}return!1}function MO(o,a,d){const u=vn();u.firstCreatePass&&(ox(u,new AO(o,a,d),-1),2==(2&a)&&(u.staticViewQueries=!0)),ES(u,Ue(),a)}function RO(o,a,d,u){const f=vn();if(f.firstCreatePass){const g=rr();ox(f,new AO(a,d,u),g.index),function PO(o,a){const d=o.contentQueries||(o.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,a)}(f,o),2==(2&d)&&(f.staticContentQueries=!0)}ES(f,Ue(),d)}function OO(){return function mH(o,a){return o[Ri].queries[a].queryList}(Ue(),ru())}function ES(o,a,d){const u=new nf(4==(4&d));(function AI(o,a,d,u){const f=Sv(a);f.push(d),o.firstCreatePass&&LI(o).push(u,f.length-1)})(o,a,u,u.destroy),null===a[Ri]&&(a[Ri]=new nx),a[Ri].queries.push(new Pg(u))}function ox(o,a,d){null===o.queries&&(o.queries=new ix),o.queries.track(new sf(a,d))}function ax(o,a){return o.queries.getByIndex(a)}function lx(o,a){return Bu(o,a)}function by(o){return!!_r(o)}const YO=new ni("Application Initializer");let US=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,u)=>{this.resolve=d,this.reject=u}),this.appInits=Kt(YO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const f of this.appInits){const g=f();if(Pv(g))d.push(g);else if(aD(g)){const y=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});d.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{u()}).catch(f=>{this.reject(f)}),0===d.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Sy=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const Lg=new ni("LocaleId",{providedIn:"root",factory:()=>Kt(Lg,xt.Optional|xt.SkipSelf)||function gx(){return typeof $localize<"u"&&$localize.locale||Rm}()}),KO=new ni("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let HS=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class QO{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let XO=(()=>{class o{compileModuleSync(d){return new iy(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const u=this.compileModuleSync(d),g=Su(_r(d).declarations).reduce((y,C)=>{const D=dn(C);return D&&y.push(new kv(D)),y},[]);return new QO(u,g)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const WS=new ni(""),mP=new ni("");let vx,DH=(()=>{class o{constructor(d,u,f){this._ngZone=d,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vx||(function pP(o){vx=o}(f),f.addToWindow(u)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(d)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),d(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:f})}whenStable(d,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,u,f){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(Ut(bs),Ut(YS),Ut(mP))};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac})}return o})(),YS=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,u){this._applications.set(d,u)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,u=!0){return vx?.findTestabilityInTree(this,d,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),Vu=null;const KS=new ni("AllowMultipleToken"),yx=new ni("PlatformDestroyListeners"),bx=new ni("appBootstrapListener");class SH{constructor(a,d){this.name=a,this.token=d}}function va(o,a,d=[]){const u=`Platform: ${a}`,f=new ni(u);return(g=[])=>{let y=ft();if(!y||y.injector.get(KS,!1)){const C=[...d,...g,{provide:f,useValue:!0}];o?o(C):function ZS(o){if(Vu&&!Vu.get(KS,!1))throw new _e(400,!1);(function Ay(){!function dh(o){$d=o}(()=>{throw new _e(600,!1)})})(),Vu=o;const a=o.get(ky);(function xd(o){o.get(Vh,null)?.forEach(d=>d())})(o)}(function QS(o=[],a){return yc.create({name:a,providers:[{provide:jt,useValue:"platform"},{provide:yx,useValue:new Set([()=>Vu=null])},...o]})}(C,u))}return function H(o){const a=ft();if(!a)throw new _e(401,!1);return a}()}}function ft(){return Vu?.get(ky)??null}let ky=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,u){const f=function My(o="zone.js",a){return"noop"===o?new FV:"zone.js"===o?new bs(a):o}(u?.ngZone,function rn(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function cS(o,a,d){return new Om(o,a,d)}(d.moduleType,this.injector,function Cd(o){return[{provide:bs,useFactory:o},{provide:lm,multi:!0,useFactory:()=>{const a=Kt(Oy,{optional:!0});return()=>a.initialize()}},{provide:eT,useFactory:Ls},{provide:sR,useFactory:oR}]}(()=>f)),y=g.injector.get(zh,null);return f.runOutsideAngular(()=>{const C=f.onError.subscribe({next:D=>{y.handleError(D)}});g.onDestroy(()=>{Ry(this._modules,g),C.unsubscribe()})}),function Lm(o,a,d){try{const u=d();return Pv(u)?u.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(y,f,()=>{const C=g.injector.get(US);return C.runInitializers(),C.donePromise.then(()=>(function U1(o){st(o,"Expected localeId to be defined"),"string"==typeof o&&(V1=o.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Lg,Rm)||Rm),this._moduleDoBootstrap(g),g))})})}bootstrapModule(d,u=[]){const f=XS({},u);return function gP(o,a,d){const u=new iy(d);return Promise.resolve(u)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(d){const u=d.injector.get(Uu);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new _e(-403,!1);d.instance.ngDoBootstrap(u)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const d=this._injector.get(yx,null);d&&(d.forEach(u=>u()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||o)(Ut(yc))};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function XS(o,a){return Array.isArray(a)?a.reduce(XS,o):{...o,...a}}let Uu=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(eT),this.zoneIsStable=Kt(sR),this.componentTypes=[],this.components=[],this.isStable=Kt(HS).hasPendingTasks.pipe((0,Ve.w)(d=>d?(0,de.of)(!1):this.zoneIsStable),(0,we.x)(),(0,he.B)()),this._injector=Kt(Ns)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,u){const f=d instanceof Fw;if(!this._injector.get(US).done)throw!f&&xo(d),new _e(405,!1);let y;y=f?d:this._injector.get(xv).resolveComponentFactory(d),this.componentTypes.push(y.componentType);const C=function Yr(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Lu),R=y.create(yc.NULL,[],u||y.selector,C),N=R.location.nativeElement,G=R.injector.get(WS,null);return G?.registerApplication(N),R.onDestroy(()=>{this.detachView(R.hostView),Ry(this.components,R),G?.unregisterApplication(N)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const u=d;this._views.push(u),u.attachToAppRef(this)}detachView(d){const u=d;Ry(this._views,u),u.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const u=this._injector.get(bx,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Ry(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new _e(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Ry(o,a){const d=o.indexOf(a);d>-1&&o.splice(d,1)}const eT=new ni("",{providedIn:"root",factory:()=>Kt(zh).handleError.bind(void 0)});function Ls(){const o=Kt(bs),a=Kt(zh);return d=>o.runOutsideAngular(()=>a.handleError(d))}let Oy=(()=>{class o{constructor(){this.zone=Kt(bs),this.applicationRef=Kt(Uu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function tT(){return!1}let Ug=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Py}return o})();function Py(o){return function Cc(o,a,d){if(To(o)&&!d){const u=Cr(o.index,a);return new lg(u,u)}return 47&o.type?new lg(a[Xn],a):null}(rr(),Ue(),16==(16&o))}class $g{constructor(){}supports(a){return n0(a)}create(a){return new wP(a)}}const Cx=(o,a)=>a;class wP{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Cx}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,u=this._removalsHead,f=0,g=null;for(;d||u;){const y=!u||d&&d.currentIndex<qg(u,f,g)?d:u,C=qg(y,f,g),D=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(d=d._next,null==y.previousIndex)f++;else{g||(g=[]);const R=C-f,N=D-f;if(R!=N){for(let te=0;te<R;te++){const ce=te<g.length?g[te]:g[te]=0,Pe=ce+te;N<=Pe&&Pe<R&&(g[te]=ce+1)}g[y.previousIndex]=N-R}}C!==D&&a(y,C,D)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!n0(a))throw new _e(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,y,d=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],y=this._trackByFn(C,g),null!==d&&Object.is(d.trackById,y)?(u&&(d=this._verifyReinsertion(d,g,y,C)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,y,C),u=!0),d=d._next}else f=0,function pU(o,a){if(Array.isArray(o))for(let d=0;d<o.length;d++)a(o[d]);else{const d=o[Symbol.iterator]();let u;for(;!(u=d.next()).done;)a(u.value)}}(a,C=>{y=this._trackByFn(f,C),null!==d&&Object.is(d.trackById,y)?(u&&(d=this._verifyReinsertion(d,C,y,f)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,y,f),u=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,u,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,g,f)):a=this._addAfter(new aT(d,u),g,f),a}_verifyReinsertion(a,d,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,d,u),this._addToMoves(a,u),a}_moveAfter(a,d,u){return this._unlink(a),this._insertAfter(a,d,u),this._addToMoves(a,u),a}_addAfter(a,d,u){return this._insertAfter(a,d,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,u){const f=null===d?this._itHead:d._next;return a._next=f,a._prev=d,null===f?this._itTail=a:f._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,u=a._next;return null===d?this._itHead=u:d._next=u,null===u?this._itTail=d:u._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class aT{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===d||d<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const d=a._prevDup,u=a._nextDup;return null===d?this._head=u:d._nextDup=u,null===u?this._tail=d:u._prevDup=d,null===this._head}}class Ex{constructor(){this.map=new Map}put(a){const d=a.trackById;let u=this.map.get(d);u||(u=new lT,this.map.set(d,u)),u.add(a)}get(a,d){const f=this.map.get(a);return f?f.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qg(o,a,d){const u=o.previousIndex;if(null===u)return u;let f=0;return d&&u<d.length&&(f=d[u]),u+a+f}class Vy{constructor(){}supports(a){return a instanceof Map||WI(a)}create(){return new Ix}}class Ix{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||WI(a)))throw new _e(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,u),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(f,u);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let u=d;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const u=a._prev;return d._next=a,d._prev=u,a._prev=d,u&&(u._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,d);const g=f._prev,y=f._next;return g&&(g._next=y),y&&(y._prev=g),f._next=null,f._prev=null,f}const u=new Dx(a);return this._records.set(a,u),u.currentValue=d,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(u=>d(a[u],u))}}class Dx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Uy(){return new Hy([new $g])}let Hy=(()=>{class o{static#e=this.\u0275prov=yt({token:o,providedIn:"root",factory:Uy});constructor(d){this.factories=d}static create(d,u){if(null!=u){const f=u.factories.slice();d=d.concat(f)}return new o(d)}static extend(d){return{provide:o,useFactory:u=>o.create(d,u||Uy()),deps:[[o,new Il,new Eh]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(null!=u)return u;throw new _e(901,!1)}}return o})();function cT(){return new jy([new Vy])}let jy=(()=>{class o{static#e=this.\u0275prov=yt({token:o,providedIn:"root",factory:cT});constructor(d){this.factories=d}static create(d,u){if(u){const f=u.factories.slice();d=d.concat(f)}return new o(d)}static extend(d){return{provide:o,useFactory:u=>o.create(d,u||cT()),deps:[[o,new Il,new Eh]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(u)return u;throw new _e(901,!1)}}return o})();const Tx=va(null,"core",[]);let Ax=(()=>{class o{constructor(d){}static#e=this.\u0275fac=function(u){return new(u||o)(Ut(Uu))};static#t=this.\u0275mod=Sa({type:o});static#n=this.\u0275inj=Mn({})}return o})();function bT(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function wT(o){const a=dn(o);if(!a)return null;const d=new kv(a);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(wt,ke,V)=>{"use strict";V.d(ke,{Z:()=>rt});var c=V(9058),se=V(4537),j=V(7592),oe=V(7879);class me{constructor(Ye,Be){this._delegate=Ye,this.firebase=Be,(0,j._addComponent)(Ye,new se.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Ye,Be=j._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Ye);return!Et.isInitialized()&&"EXPLICIT"===(null===(Ct=Et.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Be})}_removeServiceInstance(Ye,Be=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Be)}_addComponent(Ye){(0,j._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,j._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function we(){const He=function Ve(He){const Ye={},Be={__esModule:!0,initializeApp:function _e(je,fe={}){const ne=j.initializeApp(je,fe);if((0,c.r3)(Ye,ne.name))return Ye[ne.name];const qe=new He(ne,Be);return Ye[ne.name]=qe,qe},app:Et,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function ue(je){const fe=je.name,ne=fe.replace("-compat","");if(j._registerComponent(je)&&"PUBLIC"===je.type){const qe=(tt=Et())=>{if("function"!=typeof tt[ne])throw he.create("invalid-app-argument",{appName:fe});return tt[ne]()};void 0!==je.serviceProps&&(0,c.ZB)(qe,je.serviceProps),Be[ne]=qe,He.prototype[ne]=function(...tt){return this._getService.bind(this,fe).apply(this,je.multipleInstances?tt:[])}}return"PUBLIC"===je.type?Be[ne]:null},removeApp:function Ct(je){delete Ye[je]},useAsService:function Me(je,fe){return"serverAuth"===fe?null:fe},modularAPIs:j}};function Et(je){if(!(0,c.r3)(Ye,je=je||j._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:je});return Ye[je]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function Te(){return Object.keys(Ye).map(je=>Ye[je])}}),Et.App=He,Be}(me);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Ye(Be){(0,c.ZB)(He,Be)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),He}(),Q=new oe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=q;!function Le(He){(0,j.registerVersion)("@firebase/app-compat","0.2.13",He)}()},7592:(wt,ke,V)=>{"use strict";V.r(ke),V.d(ke,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Mn,_DEFAULT_ENTRY_NAME:()=>pe,_addComponent:()=>Oe,_addOrOverwriteComponent:()=>Ne,_apps:()=>xe,_clearComponents:()=>St,_components:()=>Ie,_getProvider:()=>nt,_registerComponent:()=>st,_removeServiceInstance:()=>Ln,deleteApp:()=>mr,getApp:()=>Wt,getApps:()=>Un,initializeApp:()=>ai,onLog:()=>Xi,registerVersion:()=>Zn,setLogLevel:()=>hs});var c=V(5861),se=V(4537),j=V(7879),oe=V(9058),me=V(1878);class de{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function he(Se){const J=Se.getComponent();return"VERSION"===J?.type}(De)){const et=De.getImmediate();return`${et.library}/${et.version}`}return null}).filter(De=>De).join(" ")}}const Ve="@firebase/app",q=new j.Yd("@firebase/app"),pe="[DEFAULT]",be={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xe=new Map,Ie=new Map;function Oe(Se,J){try{Se.container.addComponent(J)}catch(De){q.debug(`Component ${J.name} failed to register with FirebaseApp ${Se.name}`,De)}}function Ne(Se,J){Se.container.addOrOverwriteComponent(J)}function st(Se){const J=Se.name;if(Ie.has(J))return q.debug(`There were multiple attempts to register component ${J}.`),!1;Ie.set(J,Se);for(const De of xe.values())Oe(De,Se);return!0}function nt(Se,J){const De=Se.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),Se.container.getProvider(J)}function Ln(Se,J,De=pe){nt(Se,J).clearInstance(De)}function St(){Ie.clear()}const yt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(J,De,et){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const Mn="9.23.0";function ai(Se,J={}){let De=Se;"object"!=typeof J&&(J={name:J});const et=Object.assign({name:pe,automaticDataCollectionEnabled:!1},J),at=et.name;if("string"!=typeof at||!at)throw yt.create("bad-app-name",{appName:String(at)});if(De||(De=(0,oe.aH)()),!De)throw yt.create("no-options");const Tt=xe.get(at);if(Tt){if((0,oe.vZ)(De,Tt.options)&&(0,oe.vZ)(et,Tt.config))return Tt;throw yt.create("duplicate-app",{appName:at})}const En=new se.H0(at);for(const Y of Ie.values())En.addComponent(Y);const K=new On(De,et,En);return xe.set(at,K),K}function Wt(Se=pe){const J=xe.get(Se);if(!J&&Se===pe&&(0,oe.aH)())return ai();if(!J)throw yt.create("no-app",{appName:Se});return J}function Un(){return Array.from(xe.values())}function mr(Se){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(Se){const J=Se.name;xe.has(J)&&(xe.delete(J),yield Promise.all(Se.container.getProviders().map(De=>De.delete())),Se.isDeleted=!0)})).apply(this,arguments)}function Zn(Se,J,De){var et;let at=null!==(et=be[Se])&&void 0!==et?et:Se;De&&(at+=`-${De}`);const Tt=at.match(/\s|\//),En=J.match(/\s|\//);if(Tt||En){const K=[`Unable to register library "${at}" with version "${J}":`];return Tt&&K.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Tt&&En&&K.push("and"),En&&K.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void q.warn(K.join(" "))}st(new se.wA(`${at}-version`,()=>({library:at,version:J}),"VERSION"))}function Xi(Se,J){if(null!==Se&&"function"!=typeof Se)throw yt.create("invalid-log-argument");(0,j.Am)(Se,J)}function hs(Se){(0,j.Ub)(Se)}const sn="firebase-heartbeat-database",xt=1,kt="firebase-heartbeat-store";let Nt=null;function Yt(){return Nt||(Nt=(0,me.X3)(sn,xt,{upgrade:(Se,J)=>{0===J&&Se.createObjectStore(kt)}}).catch(Se=>{throw yt.create("idb-open",{originalErrorMessage:Se.message})})),Nt}function di(){return(di=(0,c.Z)(function*(Se){try{return yield(yield Yt()).transaction(kt).objectStore(kt).get(Es(Se))}catch(J){if(J instanceof oe.ZR)q.warn(J.message);else{const De=yt.create("idb-get",{originalErrorMessage:J?.message});q.warn(De.message)}}})).apply(this,arguments)}function wn(Se,J){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(Se,J){try{const et=(yield Yt()).transaction(kt,"readwrite");yield et.objectStore(kt).put(J,Es(Se)),yield et.done}catch(De){if(De instanceof oe.ZR)q.warn(De.message);else{const et=yt.create("idb-set",{originalErrorMessage:De?.message});q.warn(et.message)}}})).apply(this,arguments)}function Es(Se){return`${Se.name}!${Se.options.appId}`}class pn{constructor(J){this.container=J,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new Gs(De),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var J=this;return(0,c.Z)(function*(){const et=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=Or();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==at&&!J._heartbeatsCache.heartbeats.some(Tt=>Tt.date===at))return J._heartbeatsCache.heartbeats.push({date:at,agent:et}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Tt=>{const En=new Date(Tt.date).valueOf();return Date.now()-En<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,c.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const De=Or(),{heartbeatsToSend:et,unsentEntries:at}=function fs(Se,J=1024){const De=[];let et=Se.slice();for(const at of Se){const Tt=De.find(En=>En.agent===at.agent);if(Tt){if(Tt.dates.push(at.date),Ji(De)>J){Tt.dates.pop();break}}else if(De.push({agent:at.agent,dates:[at.date]}),Ji(De)>J){De.pop();break}et=et.slice(1)}return{heartbeatsToSend:De,unsentEntries:et}}(J._heartbeatsCache.heartbeats),Tt=(0,oe.L)(JSON.stringify({version:2,heartbeats:et}));return J._heartbeatsCache.lastSentHeartbeatDate=De,at.length>0?(J._heartbeatsCache.heartbeats=at,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Tt})()}}function Or(){return(new Date).toISOString().substring(0,10)}class Gs{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,c.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function on(Se){return di.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var De=this;return(0,c.Z)(function*(){var et;if(yield De._canUseIndexedDBPromise){const Tt=yield De.read();return wn(De.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Tt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var De=this;return(0,c.Z)(function*(){var et;if(yield De._canUseIndexedDBPromise){const Tt=yield De.read();return wn(De.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...J.heartbeats]})}})()}}function Ji(Se){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Se})).length}!function er(Se){st(new se.wA("platform-logger",J=>new de(J),"PRIVATE")),st(new se.wA("heartbeat",J=>new pn(J),"PRIVATE")),Zn(Ve,"0.9.13",Se),Zn(Ve,"0.9.13","esm2017"),Zn("fire-js","")}("")},4097:(wt,ke,V)=>{"use strict";V.d(ke,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=V(7592);(0,c.registerVersion)("firebase","9.23.0","app")},120:(wt,ke,V)=>{"use strict";V.d(ke,{Z:()=>c.Z});var c=V(3399);c.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(wt,ke,V)=>{"use strict";V.r(ke);var c=V(5861),se=V(3399),j=V(9058),oe=V(7592),me=V(7582),de=V(7879),he=V(4537);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const rt=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},He=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new de.Yd("@firebase/auth");function _e(b,...p){Ct.logLevel<=de.in.ERROR&&Ct.error(`Auth (${oe.SDK_VERSION}): ${b}`,...p)}function Te(b,...p){throw fe(b,...p)}function ue(b,...p){return fe(b,...p)}function Me(b,p,_){const x=Object.assign(Object.assign({},He()),{[p]:_});return new j.LL("auth","Firebase",x).create(p,{appName:b.name})}function je(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Te(b,"argument-error"),Me(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fe(b,...p){if("string"!=typeof b){const _=p[0],x=[...p.slice(1)];return x[0]&&(x[0].appName=b.name),b._errorFactory.create(_,...x)}return Ye.create(b,...p)}function ne(b,p,..._){if(!b)throw fe(p,..._)}function qe(b){const p="INTERNAL ASSERTION FAILED: "+b;throw _e(p),new Error(p)}function tt(b,p){b||qe(p)}function fn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Vn(){return"http:"===Nn()||"https:"===Nn()}function Nn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class _i{constructor(p,_){this.shortDelay=p,this.longDelay=_,tt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vn()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pe(b,p){tt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class be{static initialize(p,_,x){this.fetchImpl=p,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new _i(3e4,6e4);function Oe(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Ne(b,p,_,x){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(b,p,_,x,M={}){return nt(b,M,(0,c.Z)(function*(){let L={},X={};x&&("GET"===p?X=x:L={body:JSON.stringify(x)});const ae=(0,j.xO)(Object.assign({key:b.config.apiKey},X)).slice(1),$e=yield b._getAdditionalHeaders();return $e["Content-Type"]="application/json",b.languageCode&&($e["X-Firebase-Locale"]=b.languageCode),be.fetch()(yt(b,b.config.apiHost,_,ae),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function nt(b,p,_){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(b,p,_){b._canInitEmulator=!1;const x=Object.assign(Object.assign({},xe),p);try{const M=new On(b),L=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const X=yield L.json();if("needConfirmation"in X)throw Mn(b,"account-exists-with-different-credential",X);if(L.ok&&!("errorMessage"in X))return X;{const ae=L.ok?X.errorMessage:X.error.message,[$e,Je]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw Mn(b,"credential-already-in-use",X);if("EMAIL_EXISTS"===$e)throw Mn(b,"email-already-in-use",X);if("USER_DISABLED"===$e)throw Mn(b,"user-disabled",X);const vt=x[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw Me(b,vt,Je);Te(b,vt)}}catch(M){if(M instanceof j.ZR)throw M;Te(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function St(b,p,_,x){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(b,p,_,x,M={}){const L=yield Ne(b,p,_,x,M);return"mfaPendingCredential"in L&&Te(b,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function yt(b,p,_,x){const M=`${p}${_}?${x}`;return b.config.emulator?pe(b.config,M):`${b.config.apiScheme}://${M}`}class On{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(ue(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(b,p,_){const x={appName:b.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const M=ue(b,p,x);return M.customData._tokenResponse=_,M}function Wt(){return(Wt=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Xi(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function xt(){return(xt=(0,c.Z)(function*(b,p=!1){const _=(0,j.m9)(b),x=yield _.getIdToken(p),M=Nt(x);ne(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,X=L?.sign_in_provider;return{claims:M,token:x,authTime:Xi(kt(M.auth_time)),issuedAtTime:Xi(kt(M.iat)),expirationTime:Xi(kt(M.exp)),signInProvider:X||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function kt(b){return 1e3*Number(b)}function Nt(b){const[p,_,x]=b.split(".");if(void 0===p||void 0===_||void 0===x)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(_e("Failed to decode base64 JWT payload"),null)}catch(M){return _e("Caught error parsing JWT payload as JSON",M?.toString()),null}}function on(b,p){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(x){throw x instanceof j.ZR&&function wn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(x)&&b.auth.currentUser===b&&(yield b.auth.signOut()),x}})).apply(this,arguments)}class xn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),x)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Es{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xi(this.lastLoginAt),this.creationTime=Xi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mn(b){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,c.Z)(function*(b){var p;const _=b.auth,x=yield b.getIdToken(),M=yield on(b,function $n(b,p){return Zn.apply(this,arguments)}(_,{idToken:x}));ne(M?.users.length,_,"internal-error");const L=M.users[0];b._notifyReloadListener(L);const X=null!==(p=L.providerUserInfo)&&void 0!==p&&p.length?function Gs(b){return b.map(p=>{var{providerId:_}=p,x=(0,me._T)(p,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(L.providerUserInfo):[],ae=function fs(b,p){return[...b.filter(x=>!p.some(M=>M.providerId===x.providerId)),...p]}(b.providerData,X),vt=!!b.isAnonymous&&!(b.email&&L.passwordHash||ae?.length),bt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ae,metadata:new Es(L.createdAt,L.lastLoginAt),isAnonymous:vt};Object.assign(b,bt)}),Vi.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(b){const p=(0,j.m9)(b);yield mn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(b,p){const _=yield nt(b,{},(0,c.Z)(function*(){const x=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:L}=b.config,X=yt(b,M,"/v1/token",`key=${L}`),ae=yield b._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",be.fetch()(X,{method:"POST",headers:ae,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ne(p.idToken,"internal-error"),ne(typeof p.idToken<"u","internal-error"),ne(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Yt(b){const p=Nt(b);return ne(p,"internal-error"),ne(typeof p.exp<"u","internal-error"),ne(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var x=this;return(0,c.Z)(function*(){return ne(!x.accessToken||x.refreshToken,p,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(p,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var x=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:X}=yield function Ji(b,p){return er.apply(this,arguments)}(p,_);x.updateTokensAndExpiration(M,L,Number(X))})()}updateTokensAndExpiration(p,_,x){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(p,_){const{refreshToken:x,accessToken:M,expirationTime:L}=_,X=new Se;return x&&(ne("string"==typeof x,"internal-error",{appName:p}),X.refreshToken=x),M&&(ne("string"==typeof M,"internal-error",{appName:p}),X.accessToken=M),L&&(ne("number"==typeof L,"internal-error",{appName:p}),X.expirationTime=L),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return qe("not implemented")}}function J(b,p){ne("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class De{constructor(p){var{uid:_,auth:x,stsTokenManager:M}=p,L=(0,me._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Es(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,c.Z)(function*(){const x=yield on(_,_.stsTokenManager.getToken(_.auth,p));return ne(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(p){return function sn(b){return xt.apply(this,arguments)}(this,p)}reload(){return function pn(b){return Or.apply(this,arguments)}(this)}_assign(p){this!==p&&(ne(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new De(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var x=this;return(0,c.Z)(function*(){let M=!1;p.idToken&&p.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield mn(x)),yield x.auth._persistUserIfCurrent(x),M&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var p=this;return(0,c.Z)(function*(){const _=yield p.getIdToken();return yield on(p,function ai(b,p){return Wt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var x,M,L,X,ae,$e,Je,vt;const bt=null!==(x=_.displayName)&&void 0!==x?x:void 0,Ci=null!==(M=_.email)&&void 0!==M?M:void 0,io=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,pc=null!==(X=_.photoURL)&&void 0!==X?X:void 0,ad=null!==(ae=_.tenantId)&&void 0!==ae?ae:void 0,xu=null!==($e=_._redirectEventId)&&void 0!==$e?$e:void 0,gc=null!==(Je=_.createdAt)&&void 0!==Je?Je:void 0,_c=null!==(vt=_.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Cu,emailVerified:ev,isAnonymous:Eu,providerData:ld,stsTokenManager:tv}=_;ne(Cu&&tv,p,"internal-error");const uw=Se.fromJSON(this.name,tv);ne("string"==typeof Cu,p,"internal-error"),J(bt,p.name),J(Ci,p.name),ne("boolean"==typeof ev,p,"internal-error"),ne("boolean"==typeof Eu,p,"internal-error"),J(io,p.name),J(pc,p.name),J(ad,p.name),J(xu,p.name),J(gc,p.name),J(_c,p.name);const Up=new De({uid:Cu,auth:p,email:Ci,emailVerified:ev,displayName:bt,isAnonymous:Eu,photoURL:pc,phoneNumber:io,tenantId:ad,stsTokenManager:uw,createdAt:gc,lastLoginAt:_c});return ld&&Array.isArray(ld)&&(Up.providerData=ld.map(nv=>Object.assign({},nv))),xu&&(Up._redirectEventId=xu),Up}static _fromIdTokenResponse(p,_,x=!1){return(0,c.Z)(function*(){const M=new Se;M.updateFromServerResponse(_);const L=new De({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:x});return yield mn(L),L})()}}const et=new Map;function at(b){tt(b instanceof Function,"Expected a class definition");let p=et.get(b);return p?(tt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,et.set(b,p),p)}const En=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,x){var M=this;return(0,c.Z)(function*(){M.storage[_]=x})()}_get(_){var x=this;return(0,c.Z)(function*(){const M=x.storage[_];return void 0===M?null:M})()}_remove(_){var x=this;return(0,c.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return b.type="NONE",b})();function K(b,p,_){return`firebase:${b}:${p}:${_}`}class Y{constructor(p,_,x){this.persistence=p,this.auth=_,this.userKey=x;const{config:M,name:L}=this.auth;this.fullUserKey=K(this.userKey,M.apiKey,L),this.fullPersistenceKey=K("persistence",M.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?De._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,c.Z)(function*(){if(_.persistence===p)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,x="authUser"){return(0,c.Z)(function*(){if(!_.length)return new Y(at(En),p,x);const M=(yield Promise.all(_.map(function(){var Je=(0,c.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let L=M[0]||at(En);const X=K(x,p.config.apiKey,p.name);let ae=null;for(const Je of _)try{const vt=yield Je._get(X);if(vt){const bt=De._fromJSON(p,vt);Je!==L&&(ae=bt),L=Je;break}}catch{}const $e=M.filter(Je=>Je._shouldAllowMigration);return L._shouldAllowMigration&&$e.length?(L=$e[0],ae&&(yield L._set(X,ae.toJSON())),yield Promise.all(_.map(function(){var Je=(0,c.Z)(function*(vt){if(vt!==L)try{yield vt._remove(X)}catch{}});return function(vt){return Je.apply(this,arguments)}}())),new Y(L,p,x)):new Y(L,p,x)})()}}function ie(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(qt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Fe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(tr(p))return"Blackberry";if(Kt(p))return"Webos";if(ye(p))return"Safari";if((p.includes("chrome/")||ut(p))&&!p.includes("edge/"))return"Chrome";if(Ut(p))return"Android";{const x=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function Fe(b=(0,j.z$)()){return/firefox\//i.test(b)}function ye(b=(0,j.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ut(b=(0,j.z$)()){return/crios\//i.test(b)}function qt(b=(0,j.z$)()){return/iemobile/i.test(b)}function Ut(b=(0,j.z$)()){return/android/i.test(b)}function tr(b=(0,j.z$)()){return/blackberry/i.test(b)}function Kt(b=(0,j.z$)()){return/webos/i.test(b)}function vi(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ia(b=(0,j.z$)()){return vi(b)||Ut(b)||Kt(b)||tr(b)||/windows phone/i.test(b)||qt(b)}function Is(b,p=[]){let _;switch(b){case"Browser":_=ie((0,j.z$)());break;case"Worker":_=`${ie((0,j.z$)())}-${b}`;break;default:_=b}const x=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${oe.SDK_VERSION}/${x}`}function Gr(){return(Gr=(0,c.Z)(function*(b){return(yield Ne(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pr(b,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(b,p){return Ne(b,"GET","/v2/recaptchaConfig",Oe(b,p))})).apply(this,arguments)}function ms(b){return void 0!==b&&void 0!==b.getResponse}function Ii(b){return void 0!==b&&void 0!==b.enterprise}class Ka{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Ds(b){return new Promise((p,_)=>{const x=document.createElement("script");x.setAttribute("src",b),x.onload=p,x.onerror=M=>{const L=ue("internal-error");L.customData=M,_(L)},x.type="text/javascript",x.charset="UTF-8",function Nd(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(x)})}function jo(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Hl{constructor(p){this.type="recaptcha-enterprise",this.auth=yi(p)}verify(p="verify",_=!1){var x=this;return(0,c.Z)(function*(){function L(){return L=(0,c.Z)(function*(ae){if(!_){if(null==ae.tenantId&&null!=ae._agentRecaptchaConfig)return ae._agentRecaptchaConfig.siteKey;if(null!=ae.tenantId&&void 0!==ae._tenantRecaptchaConfigs[ae.tenantId])return ae._tenantRecaptchaConfigs[ae.tenantId].siteKey}return new Promise(function(){var $e=(0,c.Z)(function*(Je,vt){pr(ae,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(bt=>{if(void 0!==bt.recaptchaKey){const Ci=new Ka(bt);return null==ae.tenantId?ae._agentRecaptchaConfig=Ci:ae._tenantRecaptchaConfigs[ae.tenantId]=Ci,Je(Ci.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(bt=>{vt(bt)})});return function(Je,vt){return $e.apply(this,arguments)}}())}),L.apply(this,arguments)}function X(ae,$e,Je){const vt=window.grecaptcha;Ii(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(ae,{action:p}).then(bt=>{$e(bt)}).catch(()=>{$e("NO_RECAPTCHA")})}):Je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ae,$e)=>{(function M(ae){return L.apply(this,arguments)})(x.auth).then(Je=>{if(!_&&Ii(window.grecaptcha))X(Je,ae,$e);else{if(typeof window>"u")return void $e(new Error("RecaptchaVerifier is only supported in browser"));Ds("https://www.google.com/recaptcha/enterprise.js?render="+Je).then(()=>{X(Je,ae,$e)}).catch(vt=>{$e(vt)})}}).catch(Je=>{$e(Je)})})})()}}function Xr(b,p,_){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(b,p,_,x=!1){const M=new Hl(b);let L;try{L=yield M.verify(_)}catch{L=yield M.verify(_,!0)}const X=Object.assign({},p);return Object.assign(X,x?{captchaResp:L}:{captchaResponse:L}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}class Za{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const x=L=>new Promise((X,ae)=>{try{X(p(L))}catch($e){ae($e)}});x.onAbort=_,this.queue.push(x);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===p)return;const x=[];try{for(const M of _.queue)yield M(p),M.onAbort&&x.push(M.onAbort)}catch(M){x.reverse();for(const L of x)try{L()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Fc{constructor(p,_,x,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=x,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pr(this),this.idTokenSubscription=new Pr(this),this.beforeStateQueue=new Za(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var x=this;return _&&(this._popupRedirectResolver=at(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,L;if(!x._deleted&&(x.persistenceManager=yield Y.create(x,p),!x._deleted)){if(null!==(M=x._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(L=x.currentUser)||void 0===L?void 0:L.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,c.Z)(function*(){var x;const M=yield _.assertedPersistence.getCurrentUser();let L=M,X=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ae=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,$e=L?._redirectEventId,Je=yield _.tryRedirectSignIn(p);(!ae||ae===$e)&&Je?.user&&(L=Je.user,X=!0)}if(!L)return _.directlySetCurrentUser(null);if(!L._redirectEventId){if(X)try{yield _.beforeStateQueue.runMiddleware(L)}catch(ae){L=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ae))}return L?_.reloadAndSetCurrentUserOrClear(L):_.directlySetCurrentUser(null)}return ne(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===L._redirectEventId?_.directlySetCurrentUser(L):_.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(p){var _=this;return(0,c.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,c.Z)(function*(){try{yield mn(p)}catch(x){if("auth/network-request-failed"!==x?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Gn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,c.Z)(function*(){const x=p?(0,j.m9)(p):null;return x&&ne(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(p,_=!1){var x=this;return(0,c.Z)(function*(){if(!x._deleted)return p&&ne(x.tenantId===p.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(p)),x.queue((0,c.Z)(function*(){yield x.directlySetCurrentUser(p),x.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(at(p))}))}initializeRecaptchaConfig(){var p=this;return(0,c.Z)(function*(){const _=yield pr(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new Ka(_);null==p.tenantId?p._agentRecaptchaConfig=x:p._tenantRecaptchaConfigs[p.tenantId]=x,x.emailPasswordEnabled&&new Hl(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,x){return this.registerStateListener(this.authStateSubscription,p,_,x)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,x){return this.registerStateListener(this.idTokenSubscription,p,_,x)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var x=this;return(0,c.Z)(function*(){const M=yield x.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const x=p&&at(p)||_._popupRedirectResolver;ne(x,_,"argument-error"),_.redirectPersistenceManager=yield Y.create(_,[at(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,c.Z)(function*(){var x,M;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,c.Z)(function*(){if(p===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,x,M){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(X,this,"internal-error"),X.then(()=>L(this.currentUser)),"function"==typeof _?p.addObserver(_,x,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Is(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var _;const x={"X-Client-Version":p.clientVersion};p.app.options.appId&&(x["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(x["X-Firebase-Client"]=M);const L=yield p._getAppCheckToken();return L&&(x["X-Firebase-AppCheck"]=L),x})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var _;const x=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return x?.error&&function Et(b,...p){Ct.logLevel<=de.in.WARN&&Ct.warn(`Auth (${oe.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function yi(b){return(0,j.m9)(b)}class Pr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bo(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Nc(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class zo{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return qe("not implemented")}_getIdTokenResponse(p){return qe("not implemented")}_linkToIdToken(p,_){return qe("not implemented")}_getReauthenticationResolver(p){return qe("not implemented")}}function Go(b,p){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:resetPassword",Oe(b,p))})).apply(this,arguments)}function Qa(b,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:update",Oe(b,p))})).apply(this,arguments)}function nr(b,p){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithPassword",Oe(b,p))})).apply(this,arguments)}function $l(b,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:sendOobCode",Oe(b,p))})).apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(b,p){return $l(b,p)})).apply(this,arguments)}function Ta(b,p){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(b,p){return $l(b,p)})).apply(this,arguments)}function dn(b,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(b,p){return $l(b,p)})).apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(b,p){return $l(b,p)})).apply(this,arguments)}function Bc(){return(Bc=(0,c.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithEmailLink",Oe(b,p))})).apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithEmailLink",Oe(b,p))})).apply(this,arguments)}class qs extends zo{constructor(p,_,x,M=null){super("password",x),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new qs(p,_,"password")}static _fromEmailAndCode(p,_,x=null){return new qs(p,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,c.Z)(function*(){var x;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=p._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const L=yield Xr(p,M,"signInWithPassword");return nr(p,L)}return nr(p,M).catch(function(){var L=(0,c.Z)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ae=yield Xr(p,M,"signInWithPassword");return nr(p,ae)}return Promise.reject(X)});return function(X){return L.apply(this,arguments)}}());case"emailLink":return function _r(b,p){return Bc.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,_){var x=this;return(0,c.Z)(function*(){switch(x.signInMethod){case"password":return Qa(p,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function oh(b,p){return Xa.apply(this,arguments)}(p,{idToken:_,email:x._email,oobCode:x._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Jr(b,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithIdp",Oe(b,p))})).apply(this,arguments)}class Pt extends zo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Pt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:M}=_,L=(0,me._T)(_,["providerId","signInMethod"]);if(!x||!M)return null;const X=new Pt(x,M);return X.idToken=L.idToken||void 0,X.accessToken=L.accessToken||void 0,X.secret=L.secret,X.nonce=L.nonce,X.pendingToken=L.pendingToken||null,X}_getIdTokenResponse(p){return Jr(p,this.buildRequest())}_linkToIdToken(p,_){const x=this.buildRequest();return x.idToken=_,Jr(p,x)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Jr(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function vr(){return(vr=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:sendVerificationCode",Oe(b,p))})).apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithPhoneNumber",Oe(b,p))})).apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(b,p){const _=yield St(b,"POST","/v1/accounts:signInWithPhoneNumber",Oe(b,p));if(_.temporaryProof)throw Mn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ws={USER_NOT_FOUND:"user-not-found"};function Mt(){return(Mt=(0,c.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithPhoneNumber",Oe(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ws)})).apply(this,arguments)}class Hi extends zo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Hi({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Hi({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Co(b,p){return hi.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Ja(b,p){return _n.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function $o(b,p){return Mt.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:x,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:x,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:x,phoneNumber:M,temporaryProof:L}=p;return x||_||M||L?new Hi({verificationId:_,verificationCode:x,phoneNumber:M,temporaryProof:L}):null}}class Xn{constructor(p){var _,x,M,L,X,ae;const $e=(0,j.zd)((0,j.pd)(p)),Je=null!==(_=$e.apiKey)&&void 0!==_?_:null,vt=null!==(x=$e.oobCode)&&void 0!==x?x:null,bt=function Eo(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=$e.mode)&&void 0!==M?M:null);ne(Je&&vt&&bt,"argument-error"),this.apiKey=Je,this.operation=bt,this.code=vt,this.continueUrl=null!==(L=$e.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(X=$e.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(ae=$e.tenantId)&&void 0!==ae?ae:null}static parseLink(p){const _=function yr(b){const p=(0,j.zd)((0,j.pd)(b)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,x=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(x?(0,j.zd)((0,j.pd)(x)).link:null)||x||_||p||b}(p);try{return new Xn(_)}catch{return null}}}let qo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,x){return qs._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const M=Xn.parseLink(x);return ne(M,"argument-error"),qs._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ri{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ys extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ks extends Ys{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ne("providerId"in _&&"signInMethod"in _,"argument-error"),Pt._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ne(p.idToken||p.accessToken,"argument-error"),Pt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ks.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ks.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:M,pendingToken:L,nonce:X,providerId:ae}=p;if(!x&&!M&&!_&&!L||!ae)return null;try{return new Ks(ae)._credential({idToken:_,accessToken:x,nonce:X,pendingToken:L})}catch{return null}}}let Io=(()=>{class b extends Ys{constructor(){super("facebook.com")}static credential(_){return Pt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),br=(()=>{class b extends Ys{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return Pt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:M}=_;if(!x&&!M)return null;try{return b.credential(x,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Aa=(()=>{class b extends Ys{constructor(){super("github.com")}static credential(_){return Pt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Qt extends zo{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Jr(p,this.buildRequest())}_linkToIdToken(p,_){const x=this.buildRequest();return x.idToken=_,Jr(p,x)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Jr(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:M,pendingToken:L}=_;return x&&M&&L&&x===M?new Qt(x,L):null}static _create(p,_){return new Qt(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wo extends Ri{constructor(p){ne(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Qt.fromJSON(p);return ne(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:x}=p;if(!_||!x)return null;try{return Qt._create(x,_)}catch{return null}}}let Wl=(()=>{class b extends Ys{constructor(){super("twitter.com")}static credential(_,x){return Pt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:M}=_;if(!x||!M)return null;try{return b.credential(x,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function bi(b,p){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signUp",Oe(b,p))})).apply(this,arguments)}class Di{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,x,M=!1){return(0,c.Z)(function*(){const L=yield De._fromIdTokenResponse(p,x,M),X=Ss(x);return new Di({user:L,providerId:X,_tokenResponse:x,operationType:_})})()}static _forOperation(p,_,x){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(x,!0);const M=Ss(x);return new Di({user:p,providerId:M,_tokenResponse:x,operationType:_})})()}}function Ss(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ah(){return(ah=(0,c.Z)(function*(b){var p;const _=yi(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Di({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield bi(_,{returnSecureToken:!0}),M=yield Di._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Si extends j.ZR{constructor(p,_,x,M){var L;super(_.code,_.message),this.operationType=x,this.user=M,Object.setPrototypeOf(this,Si.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(p,_,x,M){return new Si(p,_,x,M)}}function ji(b,p,_,x){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Si._fromErrorAndOperation(b,L,p,x):L})}function el(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Nr(){return Nr=(0,c.Z)(function*(b,p){const _=(0,j.m9)(b);yield Ko(!0,_,p);const{providerUserInfo:x}=yield function Un(b,p){return mr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=el(x||[]);return _.providerData=_.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Nr.apply(this,arguments)}function wr(b,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(b,p,_=!1){const x=yield on(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Di._forOperation(b,"link",x)})).apply(this,arguments)}function Ko(b,p,_){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(b,p,_){yield mn(p);const M=!1===b?"provider-already-linked":"no-such-provider";ne(el(p.providerData).has(_)===b,p.auth,M)})).apply(this,arguments)}function tl(b,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(b,p,_=!1){const{auth:x}=b,M="reauthenticate";try{const L=yield on(b,ji(x,M,p,b),_);ne(L.idToken,x,"internal-error");const X=Nt(L.idToken);ne(X,x,"internal-error");const{sub:ae}=X;return ne(b.uid===ae,x,"user-mismatch"),Di._forOperation(b,M,L)}catch(L){throw"auth/user-not-found"===L?.code&&Te(x,"user-mismatch"),L}})).apply(this,arguments)}function Uc(b,p){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,c.Z)(function*(b,p,_=!1){const x="signIn",M=yield ji(b,x,p),L=yield Di._fromIdTokenResponse(b,x,M);return _||(yield b._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Zl(b,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,c.Z)(function*(b,p){return Uc(yi(b),p)})).apply(this,arguments)}function lh(b,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(b,p){const _=(0,j.m9)(b);return yield Ko(!1,_,p.providerId),wr(_,p)})).apply(this,arguments)}function Ff(b,p){return ch.apply(this,arguments)}function ch(){return(ch=(0,c.Z)(function*(b,p){return tl((0,j.m9)(b),p)})).apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(b,p){return St(b,"POST","/v1/accounts:signInWithCustomToken",Oe(b,p))})).apply(this,arguments)}function Ts(){return Ts=(0,c.Z)(function*(b,p){const _=yi(b),x=yield function wp(b,p){return Vd.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),M=yield Di._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(M.user),M}),Ts.apply(this,arguments)}class jc{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Zo._fromServerResponse(p,_):"totpInfo"in _?nl._fromServerResponse(p,_):Te(p,"internal-error")}}class Zo extends jc{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Zo(_)}}class nl extends jc{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new nl(_)}}function il(b,p,_){var x;ne((null===(x=_.url)||void 0===x?void 0:x.length)>0,b,"invalid-continue-uri"),ne(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ne(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ne(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function rl(){return rl=(0,c.Z)(function*(b,p,_){var x;const M=yi(b),L={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const X=yield Xr(M,L,"getOobCode",!0);_&&il(M,X,_),yield Ta(M,X)}else _&&il(M,L,_),yield Ta(M,L).catch(function(){var X=(0,c.Z)(function*(ae){if("auth/missing-recaptcha-token"!==ae.code)return Promise.reject(ae);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $e=yield Xr(M,L,"getOobCode",!0);_&&il(M,$e,_),yield Ta(M,$e)}});return function(ae){return X.apply(this,arguments)}}())}),rl.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(b,p,_){yield Go((0,j.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function es(){return es=(0,c.Z)(function*(b,p){yield function $r(b,p){return Gl.apply(this,arguments)}((0,j.m9)(b),{oobCode:p})}),es.apply(this,arguments)}function Ti(b,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(b,p){const _=(0,j.m9)(b),x=yield Go(_,{oobCode:p}),M=x.requestType;switch(ne(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(x.mfaInfo,_,"internal-error");default:ne(x.email,_,"internal-error")}let L=null;return x.mfaInfo&&(L=jc._fromServerResponse(yi(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(b,p){const{data:_}=yield Ti((0,j.m9)(b),p);return _.email})).apply(this,arguments)}function sl(){return sl=(0,c.Z)(function*(b,p,_){var x;const M=yi(b),L={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let X;if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Je=yield Xr(M,L,"signUpPassword");X=bi(M,Je)}else X=bi(M,L).catch(function(){var Je=(0,c.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const bt=yield Xr(M,L,"signUpPassword");return bi(M,bt)}return Promise.reject(vt)});return function(vt){return Je.apply(this,arguments)}}());const ae=yield X.catch(Je=>Promise.reject(Je)),$e=yield Di._fromIdTokenResponse(M,"signIn",ae);return yield M._updateCurrentUser($e.user),$e}),sl.apply(this,arguments)}function ka(){return ka=(0,c.Z)(function*(b,p,_){var x;const M=yi(b),L={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function X(ae,$e){ne($e.handleCodeInApp,M,"argument-error"),$e&&il(M,ae,$e)}if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const ae=yield Xr(M,L,"getOobCode",!0);X(ae,_),yield dn(M,ae)}else X(L,_),yield dn(M,L).catch(function(){var ae=(0,c.Z)(function*($e){if("auth/missing-recaptcha-token"!==$e.code)return Promise.reject($e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield Xr(M,L,"getOobCode",!0);X(Je,_),yield dn(M,Je)}});return function($e){return ae.apply(this,arguments)}}())}),ka.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(b,p,_){const x=(0,j.m9)(b),M=qo.credentialWithLink(p,_||fn());return ne(M._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Zl(x,M)})).apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:createAuthUri",Oe(b,p))})).apply(this,arguments)}function ta(){return ta=(0,c.Z)(function*(b,p){const x={identifier:p,continueUri:Vn()?fn():"http://localhost"},{signinMethods:M}=yield function Ql(b,p){return ol.apply(this,arguments)}((0,j.m9)(b),x);return M||[]}),ta.apply(this,arguments)}function ll(){return ll=(0,c.Z)(function*(b,p){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&il(_.auth,M,p);const{email:L}=yield function Ld(b,p){return wo.apply(this,arguments)}(_.auth,M);L!==b.email&&(yield b.reload())}),ll.apply(this,arguments)}function Xl(){return Xl=(0,c.Z)(function*(b,p,_){const x=(0,j.m9)(b),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&il(x.auth,L,_);const{email:X}=yield function gr(b,p){return xo.apply(this,arguments)}(x.auth,L);X!==b.email&&(yield b.reload())}),Xl.apply(this,arguments)}function Gd(){return(Gd=(0,c.Z)(function*(b,p){return Ne(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qc(){return qc=(0,c.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const x=(0,j.m9)(b),L={idToken:yield x.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},X=yield on(x,function Nf(b,p){return Gd.apply(this,arguments)}(x.auth,L));x.displayName=X.displayName||null,x.photoURL=X.photoUrl||null;const ae=x.providerData.find(({providerId:$e})=>"password"===$e);ae&&(ae.displayName=x.displayName,ae.photoURL=x.photoURL),yield x._updateTokensIfNecessary(X)}),qc.apply(this,arguments)}function dh(b,p,_){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(b,p,_){const{auth:x}=b,L={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(L.email=p),_&&(L.password=_);const X=yield on(b,Qa(x,L));yield b._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class na{constructor(p,_,x={}){this.isNewUser=p,this.providerId=_,this.profile=x}}class cl extends na{constructor(p,_,x,M){super(p,_,x),this.username=M}}class ec extends na{constructor(p,_){super(p,"facebook.com",_)}}class qd extends cl{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class tc extends na{constructor(p,_){super(p,"google.com",_)}}class dl extends cl{constructor(p,_,x){super(p,"twitter.com",_,x)}}function Wd(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ra(b){var p,_;if(!b)return null;const{providerId:x}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},L=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!x&&b?.idToken){const X=null===(_=null===(p=Nt(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new na(L,"anonymous"!==X&&"custom"!==X?X:null)}if(!x)return null;switch(x){case"facebook.com":return new ec(L,M);case"github.com":return new qd(L,M);case"google.com":return new tc(L,M);case"twitter.com":return new dl(L,M,b.screenName||null);case"custom":case"anonymous":return new na(L,null);default:return new na(L,x,M)}}(_)}class ks{constructor(p,_,x){this.type=p,this.credential=_,this.auth=x}static _fromIdtoken(p,_){return new ks("enroll",p,_)}static _fromMfaPendingCredential(p){return new ks("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,x;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ks._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(x=p.multiFactorSession)&&void 0!==x&&x.idToken)return ks._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ra{constructor(p,_,x){this.session=p,this.hints=_,this.signInResolver=x}static _fromError(p,_){const x=yi(p),M=_.customData._serverResponse,L=(M.mfaInfo||[]).map(ae=>jc._fromServerResponse(x,ae));ne(M.mfaPendingCredential,x,"internal-error");const X=ks._fromMfaPendingCredential(M.mfaPendingCredential);return new ra(X,L,function(){var ae=(0,c.Z)(function*($e){const Je=yield $e._process(x,X);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(_.operationType){case"signIn":const bt=yield Di._fromIdTokenResponse(x,_.operationType,vt);return yield x._updateCurrentUser(bt.user),bt;case"reauthenticate":return ne(_.user,x,"internal-error"),Di._forOperation(_.user,_.operationType,vt);default:Te(x,"internal-error")}});return function($e){return ae.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,c.Z)(function*(){return _.signInResolver(p)})()}}class ge{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>jc._fromServerResponse(p.auth,x)))})}static _fromUser(p){return new ge(p)}getSession(){var p=this;return(0,c.Z)(function*(){return ks._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var x=this;return(0,c.Z)(function*(){const M=p,L=yield x.getSession(),X=yield on(x.user,M._process(x.user.auth,L,_));return yield x.user._updateTokensIfNecessary(X),x.user.reload()})()}unenroll(p){var _=this;return(0,c.Z)(function*(){const x="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const L=yield on(_.user,function W(b,p){return Ne(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Oe(b,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==x),yield _.user._updateTokensIfNecessary(L),yield _.user.reload()}catch(L){throw L}})()}}const _t=new WeakMap,Jt="__sak";class ri{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Jt,"1"),this.storage.removeItem(Jt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ic=(()=>{class b extends ri{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mo(){const b=(0,j.z$)();return ye(b)||vi(b)}()&&function Oc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ia(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const M=this.storage.getItem(x),L=this.localCache[x];M!==L&&_(x,L,M)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((ae,$e,Je)=>{this.notifyListeners(ae,Je)});const M=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(M);if(_.newValue!==ae)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!x)return}const L=()=>{const ae=this.storage.getItem(M);!x&&this.localCache[M]===ae||this.notifyListeners(M,ae)},X=this.storage.getItem(M);!function go(){return(0,j.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?L():setTimeout(L,10)}notifyListeners(_,x){this.localCache[_]=x;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var M=()=>super._set,L=this;return(0,c.Z)(function*(){yield M().call(L,_,x),L.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,M=this;return(0,c.Z)(function*(){const L=yield x().call(M,_);return M.localCache[_]=JSON.stringify(L),L})()}_remove(_){var x=()=>super._remove,M=this;return(0,c.Z)(function*(){yield x().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),ts=(()=>{class b extends ri{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return b.type="SESSION",b})();let hh=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(L=>L.isListeningto(_));if(x)return x;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,c.Z)(function*(){const M=_,{eventId:L,eventType:X,data:ae}=M.data,$e=x.handlersMap[X];if(!$e?.size)return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:X});const Je=Array.from($e).map(function(){var bt=(0,c.Z)(function*(Ci){return Ci(M.origin,ae)});return function(Ci){return bt.apply(this,arguments)}}()),vt=yield function Ip(b){return Promise.all(b.map(function(){var p=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return p.apply(this,arguments)}}()))}(Je);M.ports[0].postMessage({status:"done",eventId:L,eventType:X,response:vt})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Kd(b="",p=10){let _="";for(let x=0;x<p;x++)_+=Math.floor(10*Math.random());return b+_}class U_{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,x=50){var M=this;return(0,c.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let X,ae;return new Promise(($e,Je)=>{const vt=Kd("",20);L.port1.start();const bt=setTimeout(()=>{Je(new Error("unsupported_event"))},x);ae={messageChannel:L,onMessage(Ci){const io=Ci;if(io.data.eventId===vt)switch(io.data.status){case"ack":clearTimeout(bt),X=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),$e(io.data.response);break;default:clearTimeout(bt),clearTimeout(X),Je(new Error("invalid_response"))}}},M.handlers.add(ae),L.port1.addEventListener("message",ae.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:_},[L.port2])}).finally(()=>{ae&&M.removeMessageHandler(ae)})})()}}function si(){return window}function Ht(){return typeof si().WorkerGlobalScope<"u"&&"function"==typeof si().importScripts}function Uf(){return(Uf=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hf="firebaseLocalStorageDb",Ro="firebaseLocalStorage",Qd="fbase_key";class Xd{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Jd(b,p){return b.transaction([Ro],p?"readwrite":"readonly").objectStore(Ro)}function fh(){const b=indexedDB.open(Hf,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const x=b.result;try{x.createObjectStore(Ro,{keyPath:Qd})}catch(M){_(M)}}),b.addEventListener("success",(0,c.Z)(function*(){const x=b.result;x.objectStoreNames.contains(Ro)?p(x):(x.close(),yield function j_(){const b=indexedDB.deleteDatabase(Hf);return new Xd(b).toPromise()}(),p(yield fh()))}))})}function Ue(b,p,_){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(b,p,_){const x=Jd(b,!0).put({[Qd]:p,value:_});return new Xd(x).toPromise()})).apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(b,p){const _=Jd(b,!1).get(p),x=yield new Xd(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function rr(b,p){const _=Jd(b,!0).delete(p);return new Xd(_).toPromise()}const hl=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield fh()),_.db})()}_withRetries(_){var x=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const L=yield x._openDb();return yield _(L)}catch(L){if(M++>3)throw L;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Ht()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=hh._getInstance(function ir(){return Ht()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,c.Z)(function*(M,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(M,L){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,c.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var x,M;if(_.activeServiceWorker=yield function Vf(){return Uf.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new U_(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);L&&null!==(x=L[0])&&void 0!==x&&x.fulfilled&&null!==(M=L[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,c.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Zd(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield fh();return yield Ue(_,Jt,"1"),yield rr(_,Jt),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,c.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(L=>Ue(L,_,x)),M.localCache[_]=x,M.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,c.Z)(function*(){const M=yield x._withRetries(L=>function Qs(b,p){return eu.apply(this,arguments)}(L,_));return x.localCache[_]=M,M})()}_remove(_){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(M=>rr(M,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const x=yield _._withRetries(X=>{const ae=Jd(X,!1).getAll();return new Xd(ae).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:X,value:ae}of x)L.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(ae)&&(_.notifyListeners(X,ae),M.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!L.has(X)&&(_.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(_,x){this.localCache[_]=x;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),ps=1e12;class jf{constructor(p){this.auth=p,this.counter=ps,this._widgets=new Map}render(p,_){const x=this.counter;return this._widgets.set(x,new fl(p,this.auth.name,_||{})),this.counter++,x}reset(p){var _;const x=p||ps;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(p){var _;return(null===(_=this._widgets.get(p||ps))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,c.Z)(function*(){var x;return null===(x=_._widgets.get(p||ps))||void 0===x||x.execute(),""})()}}class fl{constructor(p,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;ne(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ms(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<b;x++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gh=jo("rcb"),_h=new _i(3e4,6e4);class z_{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=si().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return ne(function iu(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&ms(si().grecaptcha)?Promise.resolve(si().grecaptcha):new Promise((x,M)=>{const L=si().setTimeout(()=>{M(ue(p,"network-request-failed"))},_h.get());si()[gh]=()=>{si().clearTimeout(L),delete si()[gh];const ae=si().grecaptcha;if(!ae||!ms(ae))return void M(ue(p,"internal-error"));const $e=ae.render;ae.render=(Je,vt)=>{const bt=$e(Je,vt);return this.counter++,bt},this.hostLanguage=_,x(ae)},Ds(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:gh,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),M(ue(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=si().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zf{load(p){return(0,c.Z)(function*(){return new jf(p)})()}clearedOneInstance(){}}const ru="recaptcha",Gf={theme:"light",type:"image"};class $f{constructor(p,_=Object.assign({},Gf),x){this.parameters=_,this.type=ru,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yi(x),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;ne(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zf:new z_,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),x=p.getAssertedRecaptcha();return x.getResponse(_)||new Promise(L=>{const X=ae=>{ae&&(p.tokenChangeListeners.delete(X),L(ae))};p.tokenChangeListeners.add(X),p.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof p)p(_);else if("string"==typeof p){const x=si()[p];"function"==typeof x&&x(_)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ne(Vn()&&!Ht(),p.auth,"internal-error"),yield function Sp(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function _o(b){return Gr.apply(this,arguments)}(p.auth);ne(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class li{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Hi._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ml(){return(ml=(0,c.Z)(function*(b,p,_){const x=yi(b),M=yield Kc(x,p,(0,j.m9)(_));return new li(M,L=>Zl(x,L))})).apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(b,p,_){const x=(0,j.m9)(b);yield Ko(!1,x,"phone");const M=yield Kc(x.auth,p,(0,j.m9)(_));return new li(M,L=>lh(x,L))})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(b,p,_){const x=(0,j.m9)(b),M=yield Kc(x.auth,p,(0,j.m9)(_));return new li(M,L=>Ff(x,L))})).apply(this,arguments)}function Kc(b,p,_){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,c.Z)(function*(b,p,_){var x;const M=yield _.verify();try{let L;if(ne("string"==typeof M,b,"argument-error"),ne(_.type===ru,b,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const X=L.session;if("phoneNumber"in L)return ne("enroll"===X.type,b,"internal-error"),(yield function ko(b,p){return Ne(b,"POST","/v2/accounts/mfaEnrollment:start",Oe(b,p))}(b,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ne("signin"===X.type,b,"internal-error");const ae=(null===(x=L.multiFactorHint)||void 0===x?void 0:x.uid)||L.multiFactorUid;return ne(ae,b,"missing-multi-factor-info"),(yield function mh(b,p){return Ne(b,"POST","/v2/accounts/mfaSignIn:start",Oe(b,p))}(b,{mfaPendingCredential:X.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function Dn(b,p){return vr.apply(this,arguments)}(b,{phoneNumber:L.phoneNumber,recaptchaToken:M});return X}}finally{_._reset()}}),Ir.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(b,p){yield wr((0,j.m9)(b),p)})).apply(this,arguments)}let Fa=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=yi(_)}verifyPhoneNumber(_,x){return Kc(this.auth,_,(0,j.m9)(x))}static credential(_,x){return Hi._fromVerification(_,x)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:M}=_;return x&&M?Hi._fromTokenResponse(x,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Xs(b,p){return p?at(p):(ne(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ht extends zo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Jr(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Jr(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Jr(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function qf(b){return Uc(b.auth,new ht(b),b.bypassAuthState)}function vh(b){const{auth:p,user:_}=b;return ne(_,p,"internal-error"),tl(_,new ht(b),b.bypassAuthState)}function pl(b){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(b){const{auth:p,user:_}=b;return ne(_,p,"internal-error"),wr(_,new ht(b),b.bypassAuthState)})).apply(this,arguments)}class Js{constructor(p,_,x,M,L=!1){this.auth=p,this.resolver=x,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,c.Z)(function*(x,M){p.pendingPromise={resolve:x,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(x,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,c.Z)(function*(){const{urlResponse:x,sessionId:M,postBody:L,tenantId:X,error:ae,type:$e}=p;if(ae)return void _.reject(ae);const Je={auth:_.auth,requestUri:x,sessionId:M,tenantId:X||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask($e)(Je))}catch(vt){_.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return qf;case"linkViaPopup":case"linkViaRedirect":return pl;case"reauthViaPopup":case"reauthViaRedirect":return vh;default:Te(this.auth,"internal-error")}}resolve(p){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bn=new _i(2e3,1e4);function Na(){return(Na=(0,c.Z)(function*(b,p,_){const x=yi(b);je(b,p,Ri);const M=Xs(x,_);return new _l(x,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function oc(){return(oc=(0,c.Z)(function*(b,p,_){const x=(0,j.m9)(b);je(x.auth,p,Ri);const M=Xs(x.auth,_);return new _l(x.auth,"reauthViaPopup",p,M,x).executeNotNull()})).apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(b,p,_){const x=(0,j.m9)(b);je(x.auth,p,Ri);const M=Xs(x.auth,_);return new _l(x.auth,"linkViaPopup",p,M,x).executeNotNull()})).apply(this,arguments)}let _l=(()=>{class b extends Js{constructor(_,x,M,L,X){super(_,x,L,X),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const x=yield _.execute();return ne(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,c.Z)(function*(){tt(1===_.filter.length,"Popup operations only handle one event");const x=Kd();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(ue(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,M;this.pollId=null!==(M=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Bn.get())};_()}}return b.currentPopupAction=null,b})();const La="pendingRedirect",Os=new Map;class vl extends Js{constructor(p,_,x=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,c.Z)(function*(){let x=Os.get(_.auth._key());if(!x){try{const L=(yield function yh(b,p){return au.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;x=()=>Promise.resolve(L)}catch(M){x=()=>Promise.reject(M)}Os.set(_.auth._key(),x)}return _.bypassAuthState||Os.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,x=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(x,p);if("unknown"!==p.type){if(p.eventId){const M=yield x.auth._redirectUserForId(p.eventId);if(M)return x.user=M,_().call(x,p);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function au(){return(au=(0,c.Z)(function*(b,p){const _=yl(p),x=Wf(b);if(!(yield x._isAvailable()))return!1;const M="true"===(yield x._get(_));return yield x._remove(_),M})).apply(this,arguments)}function ac(b,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(b,p){return Wf(b)._set(yl(p),"true")})).apply(this,arguments)}function zi(b,p){Os.set(b._key(),p)}function Wf(b){return at(b._redirectPersistence)}function yl(b){return K(La,b.config.apiKey,b.name)}function Lt(b,p,_){return function mi(b,p,_){return ti.apply(this,arguments)}(b,p,_)}function ti(){return(ti=(0,c.Z)(function*(b,p,_){const x=yi(b);je(b,p,Ri),yield x._initializationPromise;const M=Xs(x,_);return yield ac(M,x),M._openRedirect(x,p,"signInViaRedirect")})).apply(this,arguments)}function Lr(b,p,_){return function An(b,p,_){return or.apply(this,arguments)}(b,p,_)}function or(){return(or=(0,c.Z)(function*(b,p,_){const x=(0,j.m9)(b);je(x.auth,p,Ri),yield x.auth._initializationPromise;const M=Xs(x.auth,_);yield ac(M,x.auth);const L=yield Qc(x);return M._openRedirect(x.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function Zc(b,p,_){return function Yf(b,p,_){return bh.apply(this,arguments)}(b,p,_)}function bh(){return(bh=(0,c.Z)(function*(b,p,_){const x=(0,j.m9)(b);je(x.auth,p,Ri),yield x.auth._initializationPromise;const M=Xs(x.auth,_);yield Ko(!1,x,p.providerId),yield ac(M,x.auth);const L=yield Qc(x);return M._openRedirect(x.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(b,p){return yield yi(b)._initializationPromise,qn(b,p,!1)})).apply(this,arguments)}function qn(b,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(b,p,_=!1){const x=yi(b),M=Xs(x,p),X=yield new vl(x,M,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield x._persistUserIfCurrent(X.user),yield x._setRedirectUser(null,p)),X})).apply(this,arguments)}function Qc(b){return _s.apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(b){const p=Kd(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class lu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(p,x)&&(_=!0,this.sendToConsumer(p,x),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function lc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Va(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var x;if(p.error&&!Va(p)){const M=(null===(x=p.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(ue(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const x=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&x}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ba(p))}saveEventToCache(p){this.cachedEventUids.add(Ba(p)),this.lastProcessedEventTime=Date.now()}}function Ba(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Va({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function an(b){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(b,p={}){return Ne(b,"GET","/v1/projects",p)})).apply(this,arguments)}const wl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xl=/^https?/;function la(){return(la=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield an(b);for(const _ of p)try{if(wh(_))return}catch{}Te(b,"unauthorized-domain")})).apply(this,arguments)}function wh(b){const p=fn(),{protocol:_,hostname:x}=new URL(p);if(b.startsWith("chrome-extension://")){const X=new URL(b);return""===X.hostname&&""===x?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===x}if(!xl.test(_))return!1;if(wl.test(b))return x===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(x)}const is=new _i(3e4,6e4);function xh(){const b=si().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let to=null;const cu=new _i(5e3,15e3),Ap="__/auth/iframe",Ch="emulator/auth/iframe",du={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uc(b){const p=b.config;ne(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?pe(p,Ch):`https://${b.config.authDomain}/${Ap}`,x={apiKey:p.apiKey,appName:b.name,v:oe.SDK_VERSION},M=dc.get(b.config.apiHost);M&&(x.eid=M);const L=b._getFrameworks();return L.length&&(x.fw=L.join(",")),`${_}?${(0,j.xO)(x).slice(1)}`}function k(){return k=(0,c.Z)(function*(b){const p=yield function Ua(b){return to=to||function xi(b){return new Promise((p,_)=>{var x,M,L;function X(){xh(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xh(),_(ue(b,"network-request-failed"))},timeout:is.get()})}if(null!==(M=null===(x=si().gapi)||void 0===x?void 0:x.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(L=si().gapi)||void 0===L||!L.load){const ae=jo("iframefcb");return si()[ae]=()=>{gapi.load?X():_(ue(b,"network-request-failed"))},Ds(`https://apis.google.com/js/api.js?onload=${ae}`).catch($e=>_($e))}X()}}).catch(p=>{throw to=null,p})}(b),to}(b),_=si().gapi;return ne(_,b,"internal-error"),p.open({where:document.body,url:uc(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:du,dontclear:!0},x=>new Promise(function(){var M=(0,c.Z)(function*(L,X){yield x.restyle({setHideOnLeave:!1});const ae=ue(b,"network-request-failed"),$e=si().setTimeout(()=>{X(ae)},cu.get());function Je(){si().clearTimeout($e),L(x)}x.ping(Je).then(Je,()=>{X(ae)})});return function(L,X){return M.apply(this,arguments)}}()))}),k.apply(this,arguments)}const P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lt{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zt="__/auth/handler",Gt="emulator/auth/handler",Ai=encodeURIComponent("fac");function Pi(b,p,_,x,M,L){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(b,p,_,x,M,L){ne(b.config.authDomain,b,"auth-domain-config-required"),ne(b.config.apiKey,b,"invalid-api-key");const X={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:x,v:oe.SDK_VERSION,eventId:M};if(p instanceof Ri){p.setDefaultLanguage(b.languageCode),X.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[vt,bt]of Object.entries(L||{}))X[vt]=bt}if(p instanceof Ys){const vt=p.getScopes().filter(bt=>""!==bt);vt.length>0&&(X.scopes=vt.join(","))}b.tenantId&&(X.tid=b.tenantId);const ae=X;for(const vt of Object.keys(ae))void 0===ae[vt]&&delete ae[vt];const $e=yield b._getAppCheckToken(),Je=$e?`#${Ai}=${encodeURIComponent($e)}`:"";return`${function ki({config:b}){return b.emulator?pe(b,Gt):`https://${b.authDomain}/${Zt}`}(b)}?${(0,j.xO)(ae).slice(1)}${Je}`})).apply(this,arguments)}const da="webStorageSupport",Oo=class ar{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ts,this._completeRedirectFn=qn,this._overrideRedirectResult=zi}_openPopup(p,_,x,M){var L=this;return(0,c.Z)(function*(){var X;tt(null===(X=L.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const ae=yield Pi(p,_,x,fn(),M);return function it(b,p,_,x=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-x)/2,0).toString();let ae="";const $e=Object.assign(Object.assign({},P),{width:x.toString(),height:M.toString(),top:L,left:X}),Je=(0,j.z$)().toLowerCase();_&&(ae=ut(Je)?"_blank":_),Fe(Je)&&(p=p||"http://localhost",$e.scrollbars="yes");const vt=Object.entries($e).reduce((Ci,[io,pc])=>`${Ci}${io}=${pc},`,"");if(function Ui(b=(0,j.z$)()){var p;return vi(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Je)&&"_self"!==ae)return function It(b,p){const _=document.createElement("a");_.href=b,_.target=p;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(p||"",ae),new lt(null);const bt=window.open(p||"",ae,vt);ne(bt,b,"popup-blocked");try{bt.focus()}catch{}return new lt(bt)}(p,ae,Kd())})()}_openRedirect(p,_,x,M){var L=this;return(0,c.Z)(function*(){return yield L._originValidation(p),function H_(b){si().location.href=b}(yield Pi(p,_,x,fn(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:L}=this.eventManagers[_];return M?Promise.resolve(M):(tt(L,"If manager is not set, promise should be"),L)}const x=this.initAndGetManager(p);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(p){var _=this;return(0,c.Z)(function*(){const x=yield function E(b){return k.apply(this,arguments)}(p),M=new lu(p);return x.register("authEvent",L=>(ne(L?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=x,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(da,{type:da},M=>{var L;const X=null===(L=M?.[0])||void 0===L?void 0:L[da];void 0!==X&&_(!!X),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function cc(b){return la.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ia()||ye()||vi()}};class rs{constructor(p){this.factorId=p}_process(p,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,x);case"signin":return this._finalizeSignIn(p,_.credential);default:return qe("unexpected MultiFactorSessionType")}}}class hc extends rs{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new hc(p)}_finalizeEnroll(p,_,x){return function I(b,p){return Ne(b,"POST","/v2/accounts/mfaEnrollment:finalize",Oe(b,p))}(p,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Dp(b,p){return Ne(b,"POST","/v2/accounts/mfaSignIn:finalize",Oe(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let G_=(()=>{class b{constructor(){}static assertion(_){return hc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var q_="@firebase/auth";class no{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(x=>{p(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fc(){return window}(0,j.Pz)("authIdTokenMaxAge"),function uu(b){(0,oe._registerComponent)(new he.wA("auth",(p,{options:_})=>{const x=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),L=p.getProvider("app-check-internal"),{apiKey:X,authDomain:ae}=x.options;ne(X&&!X.includes(":"),"invalid-api-key",{appName:x.name});const $e={apiKey:X,authDomain:ae,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Is(b)},Je=new Fc(x,M,L,$e);return function sh(b,p){const _=p?.persistence||[],x=(Array.isArray(_)?_:[_]).map(at);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(x,p?.popupRedirectResolver)}(Je,_),Je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,x)=>{p.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new he.wA("auth-internal",p=>{const _=yi(p.getProvider("auth").getImmediate());return new no(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(q_,"0.23.2",function Rp(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,oe.registerVersion)(q_,"0.23.2","esm2017")}("Browser");function El(){return El=(0,c.Z)(function*(b,p,_){var x;const{BuildInfo:M}=fc();tt(p.sessionId,"AuthEvent did not contain a session ID");const L=yield function K_(b){return Ih.apply(this,arguments)}(p.sessionId),X={};return vi()?X.ibi=M.packageName:Ut()?X.apn=M.packageName:Te(b,"operation-not-supported-in-this-environment"),M.displayName&&(X.appDisplayName=M.displayName),X.sessionId=L,Pi(b,_,p.type,void 0,null!==(x=p.eventId)&&void 0!==x?x:void 0,X)}),El.apply(this,arguments)}function Zf(){return(Zf=(0,c.Z)(function*(b){const{BuildInfo:p}=fc(),_={};vi()?_.iosBundleId=p.packageName:Ut()?_.androidPackageName=p.packageName:Te(b,"operation-not-supported-in-this-environment"),yield an(b,_)})).apply(this,arguments)}function Il(){return(Il=(0,c.Z)(function*(b,p,_){const{cordova:x}=fc();let M=()=>{};try{yield new Promise((L,X)=>{let ae=null;function $e(){var bt;L();const Ci=null===(bt=x.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof Ci&&Ci(),"function"==typeof _?.close&&_.close()}function Je(){ae||(ae=window.setTimeout(()=>{X(ue(b,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===document?.visibilityState&&Je()}p.addPassiveListener($e),document.addEventListener("resume",Je,!1),Ut()&&document.addEventListener("visibilitychange",vt,!1),M=()=>{p.removePassiveListener($e),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",vt,!1),ae&&window.clearTimeout(ae)}})}finally{M()}})).apply(this,arguments)}function Ih(){return(Ih=(0,c.Z)(function*(b){const p=function Dh(b){if(tt(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const p=new ArrayBuffer(b.length),_=new Uint8Array(p);for(let x=0;x<b.length;x++)_[x]=b.charCodeAt(x);return _}(b),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class nw extends lu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function Jc(b){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,c.Z)(function*(b){const p=yield pu()._get(Dl(b));return p&&(yield pu()._remove(Dl(b))),p})).apply(this,arguments)}function ua(){const b=[];for(let _=0;_<20;_++){const x=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(x))}return b.join("")}function pu(){return at(ic)}function Dl(b){return K("authEvent",b.config.apiKey,b.name)}function ed(b){if(!b?.includes("?"))return{};const[p,..._]=b.split("?");return(0,j.zd)(_.join("?"))}const iw=class Z_{constructor(){this._redirectPersistence=ts,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qn,this._overrideRedirectResult=zi}_initialize(p){var _=this;return(0,c.Z)(function*(){const x=p._key();let M=_.eventManagers.get(x);return M||(M=new nw(p),_.eventManagers.set(x,M),_.attachCallbackListeners(p,M)),M})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,x,M){var L=this;return(0,c.Z)(function*(){!function tw(b){var p,_,x,M,L,X,ae,$e,Je,vt;const bt=fc();ne("function"==typeof(null===(p=bt?.universalLinks)||void 0===p?void 0:p.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof(null===(_=bt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(L=null===(M=null===(x=bt?.cordova)||void 0===x?void 0:x.plugins)||void 0===M?void 0:M.browsertab)||void 0===L?void 0:L.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===($e=null===(ae=null===(X=bt?.cordova)||void 0===X?void 0:X.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===$e?void 0:$e.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(vt=null===(Je=bt?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===vt?void 0:vt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const X=yield L._initialize(p);yield X.initialized(),X.resetRedirect(),function eo(){Os.clear()}(),yield L._originValidation(p);const ae=function Pp(b,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:ua(),postBody:null,tenantId:b.tenantId,error:ue(b,"no-auth-event")}}(p,x,M);yield function mu(b,p){return pu()._set(Dl(b),p)}(p,ae);const $e=yield function Kf(b,p,_){return El.apply(this,arguments)}(p,ae,_),Je=yield function Eh(b){const{cordova:p}=fc();return new Promise(_=>{p.plugins.browsertab.isAvailable(x=>{let M=null;x?p.plugins.browsertab.openUrl(b):M=p.InAppBrowser.open(b,function At(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(M)})})}($e);return function ew(b,p,_){return Il.apply(this,arguments)}(p,X,Je)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function hu(b){return Zf.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:x,handleOpenURL:M,BuildInfo:L}=fc(),X=setTimeout((0,c.Z)(function*(){yield Jc(p),_.onEvent(Fp())}),500),ae=function(){var vt=(0,c.Z)(function*(bt){clearTimeout(X);const Ci=yield Jc(p);let io=null;Ci&&bt?.url&&(io=function Xf(b,p){var _,x;const M=function gu(b){const p=ed(b),_=p.link?decodeURIComponent(p.link):void 0,x=ed(_).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ed(M).link||M||x||_||b}(p);if(M.includes("/__/auth/callback")){const L=ed(M),X=L.firebaseError?function Sh(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,ae=null===(x=null===(_=X?.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],$e=ae?ue(ae):null;return $e?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:M,postBody:null}}return null}(Ci,bt.url)),_.onEvent(io||Fp())});return function(Ci){return vt.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,ae);const $e=M,Je=`${L.packageName.toLowerCase()}://`;fc().handleOpenURL=function(){var vt=(0,c.Z)(function*(bt){if(bt.toLowerCase().startsWith(Je)&&ae({url:bt}),"function"==typeof $e)try{$e(bt)}catch(Ci){console.error(Ci)}});return function(bt){return vt.apply(this,arguments)}}()}};function Fp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ue("no-auth-event")}}function Ah(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function sw(b=(0,j.z$)()){return!("file:"!==Ah()&&"ionic:"!==Ah()&&"capacitor:"!==Ah()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function aw(){try{const b=self.localStorage,p=Kd();if(b)return b.setItem(p,"1"),b.removeItem(p),!function mM(b=(0,j.z$)()){return function kh(){return(0,j.w1)()&&11===document?.documentMode}()||function X_(b=(0,j.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,j.hl)()}catch{return _u()&&(0,j.hl)()}return!1}function _u(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lp(){return(function Np(){return"http:"===Ah()||"https:"===Ah()}()||(0,j.ru)()||sw())&&!function ow(){return(0,j.b$)()||(0,j.UG)()}()&&aw()&&!_u()}function Jf(){return sw()&&typeof document<"u"}function Fs(){return(Fs=(0,c.Z)(function*(){return!!Jf()&&new Promise(b=>{const p=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),b(!0)})})})).apply(this,arguments)}const vs={LOCAL:"local",NONE:"none",SESSION:"session"},nd=ne,id="persistence";function Mh(b){return yu.apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(b){yield b._initializationPromise;const p=bu(),_=K(id,b.config.apiKey,b.name);p&&p.setItem(_,b._getPersistence())})).apply(this,arguments)}function bu(){var b;try{return(null===(b=function td(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Bp=ne;class Sl{constructor(){this.browserResolver=at(Oo),this.cordovaResolver=at(iw),this.underlyingResolver=null,this._redirectPersistence=ts,this._completeRedirectFn=qn,this._overrideRedirectResult=zi}_initialize(p){var _=this;return(0,c.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,x,M){var L=this;return(0,c.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(p,_,x,M)})()}_openRedirect(p,_,x,M){var L=this;return(0,c.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(p,_,x,M)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Jf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const _=yield function vu(){return Fs.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function em(b){return b.unwrap()}function wu(b){return Rh(b)}function Rh(b){const{_tokenResponse:p}=b instanceof j.ZR?b.customData:b;if(!p)return null;if(!(b instanceof j.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Fa.credentialFromResult(b);const _=p.providerId;if(!_||_===we.PASSWORD)return null;let x;switch(_){case we.GOOGLE:x=br;break;case we.FACEBOOK:x=Io;break;case we.GITHUB:x=Aa;break;case we.TWITTER:x=Wl;break;default:const{oauthIdToken:M,oauthAccessToken:L,oauthTokenSecret:X,pendingToken:ae,nonce:$e}=p;return L||X||M||ae?ae?_.startsWith("saml.")?Qt._create(_,ae):Pt._fromParams({providerId:_,signInMethod:_,pendingToken:ae,idToken:M,accessToken:L}):new Ks(_).credential({idToken:M,accessToken:L,rawNonce:$e}):null}return b instanceof j.ZR?x.credentialFromError(b):x.credentialFromResult(b)}function ys(b,p){return p.catch(_=>{throw _ instanceof j.ZR&&function lw(b,p){var _;const x=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new cw(b,function Yd(b,p){var _;const x=(0,j.m9)(b),M=p;return ne(p.customData.operationType,x,"argument-error"),ne(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),ra._fromError(x,M)}(b,p));else if(x){const M=Rh(p),L=p;M&&(L.credential=M,L.tenantId=x.tenantId||void 0,L.email=x.email||void 0,L.phoneNumber=x.phoneNumber||void 0)}}(b,_),_}).then(_=>{const M=_.user;return{operationType:_.operationType,credential:wu(_),additionalUserInfo:Wd(_),user:Fi.getOrCreate(M)}})}function nm(b,p){return od.apply(this,arguments)}function od(){return(od=(0,c.Z)(function*(b,p){const _=yield p;return{verificationId:_.verificationId,confirm:x=>ys(b,_.confirm(x))}})).apply(this,arguments)}class cw{constructor(p,_){this.resolver=_,this.auth=function tm(b){return b.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ys(em(this.auth),this.resolver.resolveSignIn(p))}}class Fi{constructor(p){this._delegate=p,this.multiFactor=function un(b){const p=(0,j.m9)(b);return _t.has(p)||_t.set(p,ge._fromUser(p)),_t.get(p)}(p)}static getOrCreate(p){return Fi.USER_MAP.has(p)||Fi.USER_MAP.set(p,new Fi(p)),Fi.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,c.Z)(function*(){return ys(_.auth,lh(_._delegate,p))})()}linkWithPhoneNumber(p,_){var x=this;return(0,c.Z)(function*(){return nm(x.auth,function Hn(b,p,_){return pt.apply(this,arguments)}(x._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,c.Z)(function*(){return ys(_.auth,function Tp(b,p,_){return gl.apply(this,arguments)}(_._delegate,p,Sl))})()}linkWithRedirect(p){var _=this;return(0,c.Z)(function*(){return yield Mh(yi(_.auth)),Zc(_._delegate,p,Sl)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,c.Z)(function*(){return ys(_.auth,Ff(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return nm(this.auth,function sr(b,p,_){return su.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return ys(this.auth,function ou(b,p,_){return oc.apply(this,arguments)}(this._delegate,p,Sl))}reauthenticateWithRedirect(p){var _=this;return(0,c.Z)(function*(){return yield Mh(yi(_.auth)),Lr(_._delegate,p,Sl)})()}sendEmailVerification(p){return function Ao(b,p){return ll.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,c.Z)(function*(){return yield function To(b,p){return Nr.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function $d(b,p){return dh((0,j.m9)(b),p,null)}(this._delegate,p)}updatePassword(p){return function Jl(b,p){return dh((0,j.m9)(b),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function sa(b,p){return ei.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Lf(b,p){return qc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function $c(b,p,_){return Xl.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fi.USER_MAP=new WeakMap;const Tl=ne;let im=(()=>{class b{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=_.options;Tl(M,"invalid-api-key",{appName:_.name}),Tl(M,"invalid-api-key",{appName:_.name});const L=typeof window<"u"?Sl:void 0;this._delegate=x.initialize({options:{persistence:ss(M,_.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function Fr(b,p,_){const x=yi(b);ne(x._canInitEmulator,x,"emulator-config-failed"),ne(/^https?:\/\//.test(p),x,"invalid-emulator-scheme");const M=!!_?.disableWarnings,L=bo(p),{host:X,port:ae}=function jl(b){const p=bo(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(x);if(M){const L=M[1];return{host:L,port:Nc(x.substr(L.length+1))}}{const[L,X]=x.split(":");return{host:L,port:Nc(X)}}}(p);x.config.emulator={url:`${L}//${X}${null===ae?"":`:${ae}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:X,port:ae,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Of(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,x)}applyActionCode(_){return function Hd(b,p){return es.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Ti(this._delegate,_)}confirmPasswordReset(_,x){return function Qo(b,p,_){return qr.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var M=this;return(0,c.Z)(function*(){return ys(M._delegate,function zc(b,p,_){return sl.apply(this,arguments)}(M._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function al(b,p){return ta.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function zd(b,p){const _=Xn.parseLink(p);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,c.Z)(function*(){Tl(Lp(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function Dr(b,p){return aa.apply(this,arguments)}(_._delegate,Sl);return x?ys(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function ME(b,p){yi(b)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,x,M){const{next:L,error:X,complete:ae}=Oh(_,x,M);return this._delegate.onAuthStateChanged(L,X,ae)}onIdTokenChanged(_,x,M){const{next:L,error:X,complete:ae}=Oh(_,x,M);return this._delegate.onIdTokenChanged(L,X,ae)}sendSignInLinkToEmail(_,x){return function ea(b,p,_){return ka.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function xp(b,p,_){return rl.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,c.Z)(function*(){let M;switch(function rd(b,p){nd(Object.values(vs).includes(p),b,"invalid-persistence-type"),(0,j.b$)()?nd(p!==vs.SESSION,b,"unsupported-persistence-type"):(0,j.UG)()?nd(p===vs.NONE,b,"unsupported-persistence-type"):_u()?nd(p===vs.NONE||p===vs.LOCAL&&(0,j.hl)(),b,"unsupported-persistence-type"):nd(p===vs.NONE||aw(),b,"unsupported-persistence-type")}(x._delegate,_),_){case vs.SESSION:M=ts;break;case vs.LOCAL:M=(yield at(hl)._isAvailable())?hl:ic;break;case vs.NONE:M=En;break;default:return Te("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return ys(this._delegate,function wi(b){return ah.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return ys(this._delegate,Zl(this._delegate,_))}signInWithCustomToken(_){return ys(this._delegate,function Ud(b,p){return Ts.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return ys(this._delegate,function jd(b,p,_){return Zl((0,j.m9)(b),qo.credential(p,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return ys(this._delegate,function Oi(b,p,_){return Gc.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return nm(this._delegate,function gs(b,p,_){return ml.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,c.Z)(function*(){return Tl(Lp(),x._delegate,"operation-not-supported-in-this-environment"),ys(x._delegate,function sc(b,p,_){return Na.apply(this,arguments)}(x._delegate,_,Sl))})()}signInWithRedirect(_){var x=this;return(0,c.Z)(function*(){return Tl(Lp(),x._delegate,"operation-not-supported-in-this-environment"),yield Mh(x._delegate),Lt(x._delegate,_,Sl)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function xr(b,p){return Jo.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=vs,b})();function Oh(b,p,_){let x=b;"function"!=typeof b&&({next:x,error:p,complete:_}=b);const M=x;return{next:X=>M(X&&Fi.getOrCreate(X)),error:p,complete:_}}function ss(b,p){const _=function sd(b,p){const _=bu();if(!_)return[];const x=K(id,b,p);switch(_.getItem(x)){case vs.NONE:return[En];case vs.LOCAL:return[hl,ts];case vs.SESSION:return[ts];default:return[]}}(b,p);if(typeof self<"u"&&!_.includes(hl)&&_.push(hl),typeof window<"u")for(const x of[ic,ts])_.includes(x)||_.push(x);return _.includes(En)||_.push(En),_}class mc{constructor(){this.providerId="phone",this._delegate=new Fa(em(se.Z.auth()))}static credential(p,_){return Fa.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}mc.PHONE_SIGN_IN_METHOD=Fa.PHONE_SIGN_IN_METHOD,mc.PROVIDER_ID=Fa.PROVIDER_ID;const Vp=ne;class J_{constructor(p,_,x=se.Z.app()){var M;Vp(null===(M=x.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new $f(p,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dw(b){b.INTERNAL.registerComponent(new he.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),x=p.getProvider("auth");return new im(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:qo,FacebookAuthProvider:Io,GithubAuthProvider:Aa,GoogleAuthProvider:br,OAuthProvider:Ks,SAMLAuthProvider:Wo,PhoneAuthProvider:mc,PhoneMultiFactorGenerator:G_,RecaptchaVerifier:J_,TwitterAuthProvider:Wl,Auth:im,AuthCredential:zo,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(se.Z)},4303:(wt,ke,V)=>{"use strict";V.r(ke),V.d(ke,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Mn,_DEFAULT_ENTRY_NAME:()=>pe,_addComponent:()=>Oe,_addOrOverwriteComponent:()=>Ne,_apps:()=>xe,_clearComponents:()=>St,_components:()=>Ie,_getProvider:()=>nt,_registerComponent:()=>st,_removeServiceInstance:()=>Ln,deleteApp:()=>mr,getApp:()=>Wt,getApps:()=>Un,initializeApp:()=>ai,onLog:()=>Xi,registerVersion:()=>Zn,setLogLevel:()=>hs});var c=V(5861),se=V(4537),j=V(7879),oe=V(9058),me=V(1878);class de{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function he(Se){const J=Se.getComponent();return"VERSION"===J?.type}(De)){const et=De.getImmediate();return`${et.library}/${et.version}`}return null}).filter(De=>De).join(" ")}}const Ve="@firebase/app",q=new j.Yd("@firebase/app"),pe="[DEFAULT]",be={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xe=new Map,Ie=new Map;function Oe(Se,J){try{Se.container.addComponent(J)}catch(De){q.debug(`Component ${J.name} failed to register with FirebaseApp ${Se.name}`,De)}}function Ne(Se,J){Se.container.addOrOverwriteComponent(J)}function st(Se){const J=Se.name;if(Ie.has(J))return q.debug(`There were multiple attempts to register component ${J}.`),!1;Ie.set(J,Se);for(const De of xe.values())Oe(De,Se);return!0}function nt(Se,J){const De=Se.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),Se.container.getProvider(J)}function Ln(Se,J,De=pe){nt(Se,J).clearInstance(De)}function St(){Ie.clear()}const yt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(J,De,et){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const Mn="10.5.0";function ai(Se,J={}){let De=Se;"object"!=typeof J&&(J={name:J});const et=Object.assign({name:pe,automaticDataCollectionEnabled:!1},J),at=et.name;if("string"!=typeof at||!at)throw yt.create("bad-app-name",{appName:String(at)});if(De||(De=(0,oe.aH)()),!De)throw yt.create("no-options");const Tt=xe.get(at);if(Tt){if((0,oe.vZ)(De,Tt.options)&&(0,oe.vZ)(et,Tt.config))return Tt;throw yt.create("duplicate-app",{appName:at})}const En=new se.H0(at);for(const Y of Ie.values())En.addComponent(Y);const K=new On(De,et,En);return xe.set(at,K),K}function Wt(Se=pe){const J=xe.get(Se);if(!J&&Se===pe&&(0,oe.aH)())return ai();if(!J)throw yt.create("no-app",{appName:Se});return J}function Un(){return Array.from(xe.values())}function mr(Se){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(Se){const J=Se.name;xe.has(J)&&(xe.delete(J),yield Promise.all(Se.container.getProviders().map(De=>De.delete())),Se.isDeleted=!0)})).apply(this,arguments)}function Zn(Se,J,De){var et;let at=null!==(et=be[Se])&&void 0!==et?et:Se;De&&(at+=`-${De}`);const Tt=at.match(/\s|\//),En=J.match(/\s|\//);if(Tt||En){const K=[`Unable to register library "${at}" with version "${J}":`];return Tt&&K.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Tt&&En&&K.push("and"),En&&K.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void q.warn(K.join(" "))}st(new se.wA(`${at}-version`,()=>({library:at,version:J}),"VERSION"))}function Xi(Se,J){if(null!==Se&&"function"!=typeof Se)throw yt.create("invalid-log-argument");(0,j.Am)(Se,J)}function hs(Se){(0,j.Ub)(Se)}const sn="firebase-heartbeat-database",xt=1,kt="firebase-heartbeat-store";let Nt=null;function Yt(){return Nt||(Nt=(0,me.X3)(sn,xt,{upgrade:(Se,J)=>{0===J&&Se.createObjectStore(kt)}}).catch(Se=>{throw yt.create("idb-open",{originalErrorMessage:Se.message})})),Nt}function di(){return(di=(0,c.Z)(function*(Se){try{return yield(yield Yt()).transaction(kt).objectStore(kt).get(Es(Se))}catch(J){if(J instanceof oe.ZR)q.warn(J.message);else{const De=yt.create("idb-get",{originalErrorMessage:J?.message});q.warn(De.message)}}})).apply(this,arguments)}function wn(Se,J){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(Se,J){try{const et=(yield Yt()).transaction(kt,"readwrite");yield et.objectStore(kt).put(J,Es(Se)),yield et.done}catch(De){if(De instanceof oe.ZR)q.warn(De.message);else{const et=yt.create("idb-set",{originalErrorMessage:De?.message});q.warn(et.message)}}})).apply(this,arguments)}function Es(Se){return`${Se.name}!${Se.options.appId}`}class pn{constructor(J){this.container=J,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new Gs(De),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var J=this;return(0,c.Z)(function*(){const et=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=Or();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==at&&!J._heartbeatsCache.heartbeats.some(Tt=>Tt.date===at))return J._heartbeatsCache.heartbeats.push({date:at,agent:et}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Tt=>{const En=new Date(Tt.date).valueOf();return Date.now()-En<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,c.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const De=Or(),{heartbeatsToSend:et,unsentEntries:at}=function fs(Se,J=1024){const De=[];let et=Se.slice();for(const at of Se){const Tt=De.find(En=>En.agent===at.agent);if(Tt){if(Tt.dates.push(at.date),Ji(De)>J){Tt.dates.pop();break}}else if(De.push({agent:at.agent,dates:[at.date]}),Ji(De)>J){De.pop();break}et=et.slice(1)}return{heartbeatsToSend:De,unsentEntries:et}}(J._heartbeatsCache.heartbeats),Tt=(0,oe.L)(JSON.stringify({version:2,heartbeats:et}));return J._heartbeatsCache.lastSentHeartbeatDate=De,at.length>0?(J._heartbeatsCache.heartbeats=at,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Tt})()}}function Or(){return(new Date).toISOString().substring(0,10)}class Gs{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,c.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function on(Se){return di.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var De=this;return(0,c.Z)(function*(){var et;if(yield De._canUseIndexedDBPromise){const Tt=yield De.read();return wn(De.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Tt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var De=this;return(0,c.Z)(function*(){var et;if(yield De._canUseIndexedDBPromise){const Tt=yield De.read();return wn(De.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...J.heartbeats]})}})()}}function Ji(Se){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Se})).length}!function er(Se){st(new se.wA("platform-logger",J=>new de(J),"PRIVATE")),st(new se.wA("heartbeat",J=>new pn(J),"PRIVATE")),Zn(Ve,"0.9.20",Se),Zn(Ve,"0.9.20","esm2017"),Zn("fire-js","")}("")},4537:(wt,ke,V)=>{"use strict";V.d(ke,{H0:()=>Ve,wA:()=>j,zt:()=>me});var c=V(5861),se=V(9058);class j{constructor(q,Q,z){this.name=q,this.instanceFactory=Q,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const oe="[DEFAULT]";class me{constructor(q,Q){this.name=q,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Q=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Q)){const z=new se.BH;if(this.instancesDeferred.set(Q,z),this.isInitialized(Q)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:Q});We&&z.resolve(We)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(q){var Q;const z=this.normalizeInstanceIdentifier(q?.identifier),We=null!==(Q=q?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(Le){if(We)return null;throw Le}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function he(we){return"EAGER"===we.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[Q,z]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(Q);try{const Le=this.getOrInitializeService({instanceIdentifier:We});z.resolve(Le)}catch{}}}}clearInstance(q=oe){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,c.Z)(function*(){const Q=Array.from(q.instances.values());yield Promise.all([...Q.filter(z=>"INTERNAL"in z).map(z=>z.INTERNAL.delete()),...Q.filter(z=>"_delete"in z).map(z=>z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=oe){return this.instances.has(q)}getOptions(q=oe){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Q={}}=q,z=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:z,options:Q});for(const[Le,rt]of this.instancesDeferred.entries())z===this.normalizeInstanceIdentifier(Le)&&rt.resolve(We);return We}onInit(q,Q){var z;const We=this.normalizeInstanceIdentifier(Q),Le=null!==(z=this.onInitCallbacks.get(We))&&void 0!==z?z:new Set;Le.add(q),this.onInitCallbacks.set(We,Le);const rt=this.instances.get(We);return rt&&q(rt,We),()=>{Le.delete(q)}}invokeOnInitCallbacks(q,Q){const z=this.onInitCallbacks.get(Q);if(z)for(const We of z)try{We(q,Q)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Q={}}){let z=this.instances.get(q);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(we=q,we===oe?void 0:we),options:Q}),this.instances.set(q,z),this.instancesOptions.set(q,Q),this.invokeOnInitCallbacks(z,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,z)}catch{}var we;return z||null}normalizeInstanceIdentifier(q=oe){return this.component?this.component.multipleInstances?q:oe:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Q=this.getProvider(q.name);if(Q.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Q.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Q=new me(q,this);return this.providers.set(q,Q),Q}getProviders(){return Array.from(this.providers.values())}}},7879:(wt,ke,V)=>{"use strict";V.d(ke,{Am:()=>we,Ub:()=>Ve,Yd:()=>he,in:()=>se});const c=[];var se=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(se||{});const j={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},oe=se.INFO,me={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},de=(q,Q,...z)=>{if(Q<q.logLevel)return;const We=(new Date).toISOString(),Le=me[Q];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Le](`[${We}]  ${q.name}:`,...z)};class he{constructor(Q){this.name=Q,this._logLevel=oe,this._logHandler=de,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in se))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?j[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...Q),this._logHandler(this,se.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...Q),this._logHandler(this,se.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,se.INFO,...Q),this._logHandler(this,se.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,se.WARN,...Q),this._logHandler(this,se.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...Q),this._logHandler(this,se.ERROR,...Q)}}function Ve(q){c.forEach(Q=>{Q.setLogLevel(q)})}function we(q,Q){for(const z of c){let We=null;Q&&Q.level&&(We=j[Q.level]),z.userLogHandler=null===q?null:(Le,rt,...He)=>{const Ye=He.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch{return null}}).filter(Be=>Be).join(" ");rt>=(We??Le.logLevel)&&q({level:se[rt].toLowerCase(),message:Ye,args:He,type:Le.name})}}}},1878:(wt,ke,V)=>{"use strict";V.d(ke,{X3:()=>Et});var c=V(5861);const se=(fe,ne)=>ne.some(qe=>fe instanceof qe);let j,oe;const he=new WeakMap,Ve=new WeakMap,we=new WeakMap,q=new WeakMap,Q=new WeakMap;let Le={get(fe,ne,qe){if(fe instanceof IDBTransaction){if("done"===ne)return Ve.get(fe);if("objectStoreNames"===ne)return fe.objectStoreNames||we.get(fe);if("store"===ne)return qe.objectStoreNames[1]?void 0:qe.objectStore(qe.objectStoreNames[0])}return Be(fe[ne])},set:(fe,ne,qe)=>(fe[ne]=qe,!0),has:(fe,ne)=>fe instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in fe};function Ye(fe){return"function"==typeof fe?function He(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...ne){return fe.apply(Ct(this),ne),Be(he.get(this))}:function(...ne){return Be(fe.apply(Ct(this),ne))}:function(ne,...qe){const tt=fe.call(Ct(this),ne,...qe);return we.set(tt,ne.sort?ne.sort():[ne]),Be(tt)}}(fe):(fe instanceof IDBTransaction&&function We(fe){if(Ve.has(fe))return;const ne=new Promise((qe,tt)=>{const fn=()=>{fe.removeEventListener("complete",Vn),fe.removeEventListener("error",Nn),fe.removeEventListener("abort",Nn)},Vn=()=>{qe(),fn()},Nn=()=>{tt(fe.error||new DOMException("AbortError","AbortError")),fn()};fe.addEventListener("complete",Vn),fe.addEventListener("error",Nn),fe.addEventListener("abort",Nn)});Ve.set(fe,ne)}(fe),se(fe,function me(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Le):fe)}function Be(fe){if(fe instanceof IDBRequest)return function z(fe){const ne=new Promise((qe,tt)=>{const fn=()=>{fe.removeEventListener("success",Vn),fe.removeEventListener("error",Nn)},Vn=()=>{qe(Be(fe.result)),fn()},Nn=()=>{tt(fe.error),fn()};fe.addEventListener("success",Vn),fe.addEventListener("error",Nn)});return ne.then(qe=>{qe instanceof IDBCursor&&he.set(qe,fe)}).catch(()=>{}),Q.set(ne,fe),ne}(fe);if(q.has(fe))return q.get(fe);const ne=Ye(fe);return ne!==fe&&(q.set(fe,ne),Q.set(ne,fe)),ne}const Ct=fe=>Q.get(fe);function Et(fe,ne,{blocked:qe,upgrade:tt,blocking:fn,terminated:Vn}={}){const Nn=indexedDB.open(fe,ne),Kn=Be(Nn);return tt&&Nn.addEventListener("upgradeneeded",Gn=>{tt(Be(Nn.result),Gn.oldVersion,Gn.newVersion,Be(Nn.transaction),Gn)}),qe&&Nn.addEventListener("blocked",Gn=>qe(Gn.oldVersion,Gn.newVersion,Gn)),Kn.then(Gn=>{Vn&&Gn.addEventListener("close",()=>Vn()),fn&&Gn.addEventListener("versionchange",_i=>fn(_i.oldVersion,_i.newVersion,_i))}).catch(()=>{}),Kn}const Te=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Me=new Map;function je(fe,ne){if(!(fe instanceof IDBDatabase)||ne in fe||"string"!=typeof ne)return;if(Me.get(ne))return Me.get(ne);const qe=ne.replace(/FromIndex$/,""),tt=ne!==qe,fn=ue.includes(qe);if(!(qe in(tt?IDBIndex:IDBObjectStore).prototype)||!fn&&!Te.includes(qe))return;const Vn=function(){var Nn=(0,c.Z)(function*(Kn,...Gn){const _i=this.transaction(Kn,fn?"readwrite":"readonly");let pe=_i.store;return tt&&(pe=pe.index(Gn.shift())),(yield Promise.all([pe[qe](...Gn),fn&&_i.done]))[0]});return function(Gn){return Nn.apply(this,arguments)}}();return Me.set(ne,Vn),Vn}!function rt(fe){Le=fe(Le)}(fe=>({...fe,get:(ne,qe,tt)=>je(ne,qe)||fe.get(ne,qe,tt),has:(ne,qe)=>!!je(ne,qe)||fe.has(ne,qe)}))},5861:(wt,ke,V)=>{"use strict";function c(j,oe,me,de,he,Ve,we){try{var q=j[Ve](we),Q=q.value}catch(z){return void me(z)}q.done?oe(Q):Promise.resolve(Q).then(de,he)}function se(j){return function(){var oe=this,me=arguments;return new Promise(function(de,he){var Ve=j.apply(oe,me);function we(Q){c(Ve,de,he,we,q,"next",Q)}function q(Q){c(Ve,de,he,we,q,"throw",Q)}we(void 0)})}}V.d(ke,{Z:()=>se})},7582:(wt,ke,V)=>{"use strict";function oe(pe,be){var xe={};for(var Ie in pe)Object.prototype.hasOwnProperty.call(pe,Ie)&&be.indexOf(Ie)<0&&(xe[Ie]=pe[Ie]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(Ie=Object.getOwnPropertySymbols(pe);Oe<Ie.length;Oe++)be.indexOf(Ie[Oe])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ie[Oe])&&(xe[Ie[Oe]]=pe[Ie[Oe]])}return xe}function z(pe,be,xe,Ie){return new(xe||(xe=Promise))(function(Ne,st){function nt(gn){try{St(Ie.next(gn))}catch(yt){st(yt)}}function Ln(gn){try{St(Ie.throw(gn))}catch(yt){st(yt)}}function St(gn){gn.done?Ne(gn.value):function Oe(Ne){return Ne instanceof xe?Ne:new xe(function(st){st(Ne)})}(gn.value).then(nt,Ln)}St((Ie=Ie.apply(pe,be||[])).next())})}function _e(pe){return this instanceof _e?(this.v=pe,this):new _e(pe)}function Te(pe,be,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Ie=xe.apply(pe,be||[]),Ne=[];return Oe={},st("next"),st("throw"),st("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function st(On){Ie[On]&&(Oe[On]=function(Mn){return new Promise(function(ai,Wt){Ne.push([On,Mn,ai,Wt])>1||nt(On,Mn)})})}function nt(On,Mn){try{!function Ln(On){On.value instanceof _e?Promise.resolve(On.value.v).then(St,gn):yt(Ne[0][2],On)}(Ie[On](Mn))}catch(ai){yt(Ne[0][3],ai)}}function St(On){nt("next",On)}function gn(On){nt("throw",On)}function yt(On,Mn){On(Mn),Ne.shift(),Ne.length&&nt(Ne[0][0],Ne[0][1])}}function Me(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,be=pe[Symbol.asyncIterator];return be?be.call(pe):(pe=function He(pe){var be="function"==typeof Symbol&&Symbol.iterator,xe=be&&pe[be],Ie=0;if(xe)return xe.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Ie>=pe.length&&(pe=void 0),{value:pe&&pe[Ie++],done:!pe}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),xe={},Ie("next"),Ie("throw"),Ie("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Ie(Ne){xe[Ne]=pe[Ne]&&function(st){return new Promise(function(nt,Ln){!function Oe(Ne,st,nt,Ln){Promise.resolve(Ln).then(function(St){Ne({value:St,done:nt})},st)}(nt,Ln,(st=pe[Ne](st)).done,st.value)})}}}V.d(ke,{FC:()=>Te,KL:()=>Me,_T:()=>oe,mG:()=>z,qq:()=>_e}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=872)}]);